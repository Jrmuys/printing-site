(window.mmsWebpackJsonp=window.mmsWebpackJsonp||[]).push([[24,11,44],{1001:
/*!************************************************************************!*\
  !*** ./project/nds/clusters/services/liveImportService.js + 1 modules ***!
  \************************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/groupIdFromPath.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/jqueryErrorHandler.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/models/LiveImport.js because of ./project/nds/clusters/router.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/backbone/backbone.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/jquery/dist/jquery-exposed.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/underscore/underscore.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(2),o=n.n(r),i=n(10),a=n.n(i),s=n(7),l=n.n(s),c=n(1170),u=l.a.Collection.extend({model:c.a}),d=n(38),p=n(46),f={};function h(e){if(!f[e]){var t=new u;t.url="/".concat(e,"/liveImport"),f[e]=t}return f[e]}function m(e){var t=h(e);return t.fetch().then((function(){return t}),p.a)}t.a={getLiveImports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a();return h(e)},loadLiveImports:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.a();return m(e)},startLiveImport:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.a();return a.a.ajax({url:"/".concat(t,"/liveImport"),method:"POST",contentType:"application/json",data:JSON.stringify(e)}).then(o.a.identity,p.a)},validateLiveImport:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.a();return a.a.ajax({url:"/".concat(t,"/liveImport/validate"),method:"POST",contentType:"application/json",data:JSON.stringify(e)}).then(o.a.identity,p.a)},checkLiveImportValidationJob:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.a();return a.a.ajax({url:"/".concat(t,"/liveImport/validationStatus/").concat(e),method:"GET"}).then(o.a.identity,p.a)},updateLiveImport:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.a();return a.a.ajax({url:"/".concat(t,"/liveImport/").concat(e.get("_id")),method:"PATCH",contentType:"application/json",data:JSON.stringify(e.toJSON())}).then(o.a.identity,p.a)},stopLiveImport:function(e){var t=e.id,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.a();return a.a.ajax({url:"/".concat(n,"/liveImport/").concat(t),method:"DELETE"}).then(o.a.identity,p.a)},restartLiveImportForShard:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a();return a.a.ajax({url:"/".concat(n,"/liveImport/").concat(e.get("_id"),"/").concat(t),method:"PATCH"}).then(o.a.identity,p.a)},getLiveImportWhitelistIPsForCluster:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.a();return a.a.ajax({url:"/".concat(t,"/liveImport/").concat(e,"/whitelistIps"),method:"GET"}).then(o.a.identity,p.a)}}},1003:
/*!*************************************************************!*\
  !*** ./project/nds/clusters/util/loadSampleDatasetUtils.js ***!
  \*************************************************************/
/*! exports provided: createLoadSampleDatasetStatusPoller, findLoadSampleDatasetStatusForCluster, isLoadSampleDatasetStatusExpired, loadSampleDatasetStatusPollerInterval */
/*! exports used: createLoadSampleDatasetStatusPoller, findLoadSampleDatasetStatusForCluster, isLoadSampleDatasetStatusExpired, loadSampleDatasetStatusPollerInterval */function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c}));var r=n(/*! moment */54),o=n.n(r),i=n(/*! js/project/common/util/servicePoller */76);function a(e){var t=e.loadSampleDatasetStatusCollection,n=e.visibilityAPI,r=void 0===n?document:n,o=i.a.create((function(){t.fetch(),t.any((function(e){return"WORKING"===e.get("state")}))||o.stop()}),r);return o}function s(e,t){var n=o()(t.get("createDate")),r=t.get("name");return e.models?e.find((function(e){var t=o()(e.get("createDate"));return e.get("clusterName")===r&&n.isBefore(t)})):e.find((function(e){var t=o()(e.createDate);return e.clusterName===r&&n.isBefore(t)}))}function l(e){var t=e.cid?e.attributes:e;if("WORKING"===t.state)return!1;return Date.parse(t.completeDate)+108e5<Date.now()}var c=5e3},1004:
/*!***************************************************!*\
  !*** ../node_modules/d3-format/dist/d3-format.js ***!
  \***************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e){"use strict";function t(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function n(e){return(e=t(Math.abs(e)))?e[1]:NaN}var r,o=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(e){if(!(t=o.exec(e)))throw new Error("invalid format: "+e);var t;return new a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function a(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function s(e,n){var r=t(e,n);if(!r)return e+"";var o=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}i.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var l={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return s(100*e,t)},r:s,s:function(e,n){var o=t(e,n);if(!o)return e+"";var i=o[0],a=o[1],s=a-(r=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=i.length;return s===l?i:s>l?i+new Array(s-l+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+t(e,Math.max(0,n+s-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function c(e){return e}var u,d=Array.prototype.map,p=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function f(e){var t,o,a=void 0===e.grouping||void 0===e.thousands?c:(t=d.call(e.grouping,Number),o=e.thousands+"",function(e,n){for(var r=e.length,i=[],a=0,s=t[0],l=0;r>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),i.push(e.substring(r-=s,r+s)),!((l+=s+1)>n));)s=t[a=(a+1)%t.length];return i.reverse().join(o)}),s=void 0===e.currency?"":e.currency[0]+"",u=void 0===e.currency?"":e.currency[1]+"",f=void 0===e.decimal?".":e.decimal+"",h=void 0===e.numerals?c:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(d.call(e.numerals,String)),m=void 0===e.percent?"%":e.percent+"",g=void 0===e.minus?"-":e.minus+"",b=void 0===e.nan?"NaN":e.nan+"";function v(e){var t=(e=i(e)).fill,n=e.align,o=e.sign,c=e.symbol,d=e.zero,v=e.width,y=e.comma,O=e.precision,x=e.trim,j=e.type;"n"===j?(y=!0,j="g"):l[j]||(void 0===O&&(O=12),x=!0,j="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var E="$"===c?s:"#"===c&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S="$"===c?u:/[%p]/.test(j)?m:"",C=l[j],_=/[defgprs%]/.test(j);function A(e){var i,s,l,c=E,u=S;if("c"===j)u=C(e)+u,e="";else{var m=(e=+e)<0||1/e<0;if(e=isNaN(e)?b:C(Math.abs(e),O),x&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),m&&0==+e&&"+"!==o&&(m=!1),c=(m?"("===o?o:g:"-"===o||"("===o?"":o)+c,u=("s"===j?p[8+r/3]:"")+u+(m&&"("===o?")":""),_)for(i=-1,s=e.length;++i<s;)if(48>(l=e.charCodeAt(i))||l>57){u=(46===l?f+e.slice(i+1):e.slice(i))+u,e=e.slice(0,i);break}}y&&!d&&(e=a(e,1/0));var A=c.length+e.length+u.length,N=A<v?new Array(v-A+1).join(t):"";switch(y&&d&&(e=a(N+e,N.length?v-u.length:1/0),N=""),n){case"<":e=c+e+u+N;break;case"=":e=c+N+e+u;break;case"^":e=N.slice(0,A=N.length>>1)+c+e+u+N.slice(A);break;default:e=N+c+e+u}return h(e)}return O=void 0===O?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O)),A.toString=function(){return e+""},A}return{format:v,formatPrefix:function(e,t){var r=v(((e=i(e)).type="f",e)),o=3*Math.max(-8,Math.min(8,Math.floor(n(t)/3))),a=Math.pow(10,-o),s=p[8+o/3];return function(e){return r(a*e)+s}}}}function h(t){return u=f(t),e.format=u.format,e.formatPrefix=u.formatPrefix,u}h({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),e.FormatSpecifier=a,e.formatDefaultLocale=h,e.formatLocale=f,e.formatSpecifier=i,e.precisionFixed=function(e){return Math.max(0,-n(Math.abs(e)))},e.precisionPrefix=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(t)/3)))-n(Math.abs(e)))},e.precisionRound=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,n(t)-n(e))+1},Object.defineProperty(e,"__esModule",{value:!0})}(t)},1005:
/*!*************************************************!*\
  !*** ../node_modules/d3-shape/dist/d3-shape.js ***!
  \*************************************************/
/*! no static exports found */
/*! exports used: area, curveBasis, line */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e,t){"use strict";function n(e){return function(){return e}}var r=Math.abs,o=Math.atan2,i=Math.cos,a=Math.max,s=Math.min,l=Math.sin,c=Math.sqrt,u=Math.PI,d=u/2,p=2*u;function f(e){return e>1?0:e<-1?u:Math.acos(e)}function h(e){return e>=1?d:e<=-1?-d:Math.asin(e)}function m(e){return e.innerRadius}function g(e){return e.outerRadius}function b(e){return e.startAngle}function v(e){return e.endAngle}function y(e){return e&&e.padAngle}function O(e,t,n,r,o,i,a,s){var l=n-e,c=r-t,u=a-o,d=s-i,p=d*l-u*c;if(!(p*p<1e-12))return[e+(p=(u*(t-i)-d*(e-o))/p)*l,t+p*c]}function x(e,t,n,r,o,i,s){var l=e-n,u=t-r,d=(s?i:-i)/c(l*l+u*u),p=d*u,f=-d*l,h=e+p,m=t+f,g=n+p,b=r+f,v=(h+g)/2,y=(m+b)/2,O=g-h,x=b-m,j=O*O+x*x,E=o-i,S=h*b-g*m,C=(x<0?-1:1)*c(a(0,E*E*j-S*S)),_=(S*x-O*C)/j,A=(-S*O-x*C)/j,N=(S*x+O*C)/j,T=(-S*O+x*C)/j,w=_-v,P=A-y,R=N-v,I=T-y;return w*w+P*P>R*R+I*I&&(_=N,A=T),{cx:_,cy:A,x01:-p,y01:-f,x11:_*(o/E-1),y11:A*(o/E-1)}}function j(e){this._context=e}function E(e){return new j(e)}function S(e){return e[0]}function C(e){return e[1]}function _(){var e=S,r=C,o=n(!0),i=null,a=E,s=null;function l(n){var l,c,u,d=n.length,p=!1;for(null==i&&(s=a(u=t.path())),l=0;l<=d;++l)!(l<d&&o(c=n[l],l,n))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+e(c,l,n),+r(c,l,n));if(u)return s=null,u+""||null}return l.x=function(t){return arguments.length?(e="function"==typeof t?t:n(+t),l):e},l.y=function(e){return arguments.length?(r="function"==typeof e?e:n(+e),l):r},l.defined=function(e){return arguments.length?(o="function"==typeof e?e:n(!!e),l):o},l.curve=function(e){return arguments.length?(a=e,null!=i&&(s=a(i)),l):a},l.context=function(e){return arguments.length?(null==e?i=s=null:s=a(i=e),l):i},l}function A(){var e=S,r=null,o=n(0),i=C,a=n(!0),s=null,l=E,c=null;function u(n){var u,d,p,f,h,m=n.length,g=!1,b=new Array(m),v=new Array(m);for(null==s&&(c=l(h=t.path())),u=0;u<=m;++u){if(!(u<m&&a(f=n[u],u,n))===g)if(g=!g)d=u,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),p=u-1;p>=d;--p)c.point(b[p],v[p]);c.lineEnd(),c.areaEnd()}g&&(b[u]=+e(f,u,n),v[u]=+o(f,u,n),c.point(r?+r(f,u,n):b[u],i?+i(f,u,n):v[u]))}if(h)return c=null,h+""||null}function d(){return _().defined(a).curve(l).context(s)}return u.x=function(t){return arguments.length?(e="function"==typeof t?t:n(+t),r=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:n(+t),u):e},u.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:n(+e),u):r},u.y=function(e){return arguments.length?(o="function"==typeof e?e:n(+e),i=null,u):o},u.y0=function(e){return arguments.length?(o="function"==typeof e?e:n(+e),u):o},u.y1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:n(+e),u):i},u.lineX0=u.lineY0=function(){return d().x(e).y(o)},u.lineY1=function(){return d().x(e).y(i)},u.lineX1=function(){return d().x(r).y(o)},u.defined=function(e){return arguments.length?(a="function"==typeof e?e:n(!!e),u):a},u.curve=function(e){return arguments.length?(l=e,null!=s&&(c=l(s)),u):l},u.context=function(e){return arguments.length?(null==e?s=c=null:c=l(s=e),u):s},u}function N(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function T(e){return e}j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var w=R(E);function P(e){this._curve=e}function R(e){function t(t){return new P(e(t))}return t._curve=e,t}function I(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(R(e)):t()._curve},e}function D(){return I(_().curve(w))}function k(){var e=A().curve(w),t=e.curve,n=e.lineX0,r=e.lineX1,o=e.lineY0,i=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return I(n())},delete e.lineX0,e.lineEndAngle=function(){return I(r())},delete e.lineX1,e.lineInnerRadius=function(){return I(o())},delete e.lineY0,e.lineOuterRadius=function(){return I(i())},delete e.lineY1,e.curve=function(e){return arguments.length?t(R(e)):t()._curve},e}function M(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}P.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var L=Array.prototype.slice;function U(e){return e.source}function F(e){return e.target}function B(e){var r=U,o=F,i=S,a=C,s=null;function l(){var n,l=L.call(arguments),c=r.apply(this,l),u=o.apply(this,l);if(s||(s=n=t.path()),e(s,+i.apply(this,(l[0]=c,l)),+a.apply(this,l),+i.apply(this,(l[0]=u,l)),+a.apply(this,l)),n)return s=null,n+""||null}return l.source=function(e){return arguments.length?(r=e,l):r},l.target=function(e){return arguments.length?(o=e,l):o},l.x=function(e){return arguments.length?(i="function"==typeof e?e:n(+e),l):i},l.y=function(e){return arguments.length?(a="function"==typeof e?e:n(+e),l):a},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}function z(e,t,n,r,o){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,o,r,o)}function V(e,t,n,r,o){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+o)/2,r,n,r,o)}function q(e,t,n,r,o){var i=M(t,n),a=M(t,n=(n+o)/2),s=M(r,n),l=M(r,o);e.moveTo(i[0],i[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1])}var G={draw:function(e,t){var n=Math.sqrt(t/u);e.moveTo(n,0),e.arc(0,0,n,0,p)}},H={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},W=Math.sqrt(1/3),Y=2*W,K={draw:function(e,t){var n=Math.sqrt(t/Y),r=n*W;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Z=Math.sin(u/10)/Math.sin(7*u/10),$=Math.sin(p/10)*Z,X=-Math.cos(p/10)*Z,J={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=$*n,o=X*n;e.moveTo(0,-n),e.lineTo(r,o);for(var i=1;i<5;++i){var a=p*i/5,s=Math.cos(a),l=Math.sin(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*o,l*r+s*o)}e.closePath()}},Q={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},ee=Math.sqrt(3),te={draw:function(e,t){var n=-Math.sqrt(t/(3*ee));e.moveTo(0,2*n),e.lineTo(-ee*n,-n),e.lineTo(ee*n,-n),e.closePath()}},ne=-.5,re=Math.sqrt(3)/2,oe=1/Math.sqrt(12),ie=3*(oe/2+1),ae={draw:function(e,t){var n=Math.sqrt(t/ie),r=n/2,o=n*oe,i=r,a=n*oe+n,s=-i,l=a;e.moveTo(r,o),e.lineTo(i,a),e.lineTo(s,l),e.lineTo(ne*r-re*o,re*r+ne*o),e.lineTo(ne*i-re*a,re*i+ne*a),e.lineTo(ne*s-re*l,re*s+ne*l),e.lineTo(ne*r+re*o,ne*o-re*r),e.lineTo(ne*i+re*a,ne*a-re*i),e.lineTo(ne*s+re*l,ne*l-re*s),e.closePath()}},se=[G,H,K,Q,J,te,ae];function le(){}function ce(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ue(e){this._context=e}function de(e){this._context=e}function pe(e){this._context=e}function fe(e,t){this._basis=new ue(e),this._beta=t}ue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ce(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ce(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},de.prototype={areaStart:le,areaEnd:le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ce(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},pe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ce(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},fe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,o=e[0],i=t[0],a=e[n]-o,s=t[n]-i,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(o+r*a),this._beta*t[l]+(1-this._beta)*(i+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var he=function e(t){function n(e){return 1===t?new ue(e):new fe(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function me(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function ge(e,t){this._context=e,this._k=(1-t)/6}ge.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:me(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:me(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var be=function e(t){function n(e){return new ge(e,t)}return n.tension=function(t){return e(+t)},n}(0);function ve(e,t){this._context=e,this._k=(1-t)/6}ve.prototype={areaStart:le,areaEnd:le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:me(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ye=function e(t){function n(e){return new ve(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Oe(e,t){this._context=e,this._k=(1-t)/6}Oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:me(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var xe=function e(t){function n(e){return new Oe(e,t)}return n.tension=function(t){return e(+t)},n}(0);function je(e,t,n){var r=e._x1,o=e._y1,i=e._x2,a=e._y2;if(e._l01_a>1e-12){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,o=(o*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>1e-12){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*c+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,o,i,a,e._x2,e._y2)}function Ee(e,t){this._context=e,this._alpha=t}Ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:je(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Se=function e(t){function n(e){return t?new Ee(e,t):new ge(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ce(e,t){this._context=e,this._alpha=t}Ce.prototype={areaStart:le,areaEnd:le,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:je(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var _e=function e(t){function n(e){return t?new Ce(e,t):new ve(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ae(e,t){this._context=e,this._alpha=t}Ae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:je(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ne=function e(t){function n(e){return t?new Ae(e,t):new Oe(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Te(e){this._context=e}function we(e){return e<0?-1:1}function Pe(e,t,n){var r=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(r||o<0&&-0),a=(n-e._y1)/(o||r<0&&-0),s=(i*o+a*r)/(r+o);return(we(i)+we(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(s))||0}function Re(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ie(e,t,n){var r=e._x0,o=e._y0,i=e._x1,a=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,o+s*t,i-s,a-s*n,i,a)}function De(e){this._context=e}function ke(e){this._context=new Me(e)}function Me(e){this._context=e}function Le(e){this._context=e}function Ue(e){var t,n,r=e.length-1,o=new Array(r),i=new Array(r),a=new Array(r);for(o[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,i[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/i[t-1],i[t]-=n,a[t]-=n*a[t-1];for(o[r-1]=a[r-1]/i[r-1],t=r-2;t>=0;--t)o[t]=(a[t]-o[t+1])/i[t];for(i[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-o[t+1];return[o,i]}function Fe(e,t){this._context=e,this._t=t}function Be(e,t){if((o=e.length)>1)for(var n,r,o,i=1,a=e[t[0]],s=a.length;i<o;++i)for(r=a,a=e[t[i]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function ze(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Ve(e,t){return e[t]}function qe(e){var t=e.map(Ge);return ze(e).sort((function(e,n){return t[e]-t[n]}))}function Ge(e){for(var t,n=-1,r=0,o=e.length,i=-1/0;++n<o;)(t=+e[n][1])>i&&(i=t,r=n);return r}function He(e){var t=e.map(We);return ze(e).sort((function(e,n){return t[e]-t[n]}))}function We(e){for(var t,n=0,r=-1,o=e.length;++r<o;)(t=+e[r][1])&&(n+=t);return n}Te.prototype={areaStart:le,areaEnd:le,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},De.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ie(this,this._t0,Re(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ie(this,Re(this,n=Pe(this,e,t)),n);break;default:Ie(this,this._t0,n=Pe(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(ke.prototype=Object.create(De.prototype)).point=function(e,t){De.prototype.point.call(this,t,e)},Me.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}},Le.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Ue(e),o=Ue(t),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],o[0][i],r[1][i],o[1][i],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Fe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}},e.arc=function(){var e=m,a=g,j=n(0),E=null,S=b,C=v,_=y,A=null;function N(){var n,m,g=+e.apply(this,arguments),b=+a.apply(this,arguments),v=S.apply(this,arguments)-d,y=C.apply(this,arguments)-d,N=r(y-v),T=y>v;if(A||(A=n=t.path()),b<g&&(m=b,b=g,g=m),b>1e-12)if(N>p-1e-12)A.moveTo(b*i(v),b*l(v)),A.arc(0,0,b,v,y,!T),g>1e-12&&(A.moveTo(g*i(y),g*l(y)),A.arc(0,0,g,y,v,T));else{var w,P,R=v,I=y,D=v,k=y,M=N,L=N,U=_.apply(this,arguments)/2,F=U>1e-12&&(E?+E.apply(this,arguments):c(g*g+b*b)),B=s(r(b-g)/2,+j.apply(this,arguments)),z=B,V=B;if(F>1e-12){var q=h(F/g*l(U)),G=h(F/b*l(U));(M-=2*q)>1e-12?(D+=q*=T?1:-1,k-=q):(M=0,D=k=(v+y)/2),(L-=2*G)>1e-12?(R+=G*=T?1:-1,I-=G):(L=0,R=I=(v+y)/2)}var H=b*i(R),W=b*l(R),Y=g*i(k),K=g*l(k);if(B>1e-12){var Z,$=b*i(I),X=b*l(I),J=g*i(D),Q=g*l(D);if(N<u&&(Z=O(H,W,J,Q,$,X,Y,K))){var ee=H-Z[0],te=W-Z[1],ne=$-Z[0],re=X-Z[1],oe=1/l(f((ee*ne+te*re)/(c(ee*ee+te*te)*c(ne*ne+re*re)))/2),ie=c(Z[0]*Z[0]+Z[1]*Z[1]);z=s(B,(g-ie)/(oe-1)),V=s(B,(b-ie)/(oe+1))}}L>1e-12?V>1e-12?(w=x(J,Q,H,W,b,V,T),P=x($,X,Y,K,b,V,T),A.moveTo(w.cx+w.x01,w.cy+w.y01),V<B?A.arc(w.cx,w.cy,V,o(w.y01,w.x01),o(P.y01,P.x01),!T):(A.arc(w.cx,w.cy,V,o(w.y01,w.x01),o(w.y11,w.x11),!T),A.arc(0,0,b,o(w.cy+w.y11,w.cx+w.x11),o(P.cy+P.y11,P.cx+P.x11),!T),A.arc(P.cx,P.cy,V,o(P.y11,P.x11),o(P.y01,P.x01),!T))):(A.moveTo(H,W),A.arc(0,0,b,R,I,!T)):A.moveTo(H,W),g>1e-12&&M>1e-12?z>1e-12?(w=x(Y,K,$,X,g,-z,T),P=x(H,W,J,Q,g,-z,T),A.lineTo(w.cx+w.x01,w.cy+w.y01),z<B?A.arc(w.cx,w.cy,z,o(w.y01,w.x01),o(P.y01,P.x01),!T):(A.arc(w.cx,w.cy,z,o(w.y01,w.x01),o(w.y11,w.x11),!T),A.arc(0,0,g,o(w.cy+w.y11,w.cx+w.x11),o(P.cy+P.y11,P.cx+P.x11),T),A.arc(P.cx,P.cy,z,o(P.y11,P.x11),o(P.y01,P.x01),!T))):A.arc(0,0,g,k,D,T):A.lineTo(Y,K)}else A.moveTo(0,0);if(A.closePath(),n)return A=null,n+""||null}return N.centroid=function(){var t=(+e.apply(this,arguments)+ +a.apply(this,arguments))/2,n=(+S.apply(this,arguments)+ +C.apply(this,arguments))/2-u/2;return[i(n)*t,l(n)*t]},N.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:n(+t),N):e},N.outerRadius=function(e){return arguments.length?(a="function"==typeof e?e:n(+e),N):a},N.cornerRadius=function(e){return arguments.length?(j="function"==typeof e?e:n(+e),N):j},N.padRadius=function(e){return arguments.length?(E=null==e?null:"function"==typeof e?e:n(+e),N):E},N.startAngle=function(e){return arguments.length?(S="function"==typeof e?e:n(+e),N):S},N.endAngle=function(e){return arguments.length?(C="function"==typeof e?e:n(+e),N):C},N.padAngle=function(e){return arguments.length?(_="function"==typeof e?e:n(+e),N):_},N.context=function(e){return arguments.length?(A=null==e?null:e,N):A},N},e.area=A,e.line=_,e.pie=function(){var e=T,t=N,r=null,o=n(0),i=n(p),a=n(0);function s(n){var s,l,c,u,d,f=n.length,h=0,m=new Array(f),g=new Array(f),b=+o.apply(this,arguments),v=Math.min(p,Math.max(-p,i.apply(this,arguments)-b)),y=Math.min(Math.abs(v)/f,a.apply(this,arguments)),O=y*(v<0?-1:1);for(s=0;s<f;++s)(d=g[m[s]=s]=+e(n[s],s,n))>0&&(h+=d);for(null!=t?m.sort((function(e,n){return t(g[e],g[n])})):null!=r&&m.sort((function(e,t){return r(n[e],n[t])})),s=0,c=h?(v-f*O)/h:0;s<f;++s,b=u)l=m[s],u=b+((d=g[l])>0?d*c:0)+O,g[l]={data:n[l],index:s,value:d,startAngle:b,endAngle:u,padAngle:y};return g}return s.value=function(t){return arguments.length?(e="function"==typeof t?t:n(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,r=null,s):t},s.sort=function(e){return arguments.length?(r=e,t=null,s):r},s.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:n(+e),s):o},s.endAngle=function(e){return arguments.length?(i="function"==typeof e?e:n(+e),s):i},s.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:n(+e),s):a},s},e.areaRadial=k,e.radialArea=k,e.lineRadial=D,e.radialLine=D,e.pointRadial=M,e.linkHorizontal=function(){return B(z)},e.linkVertical=function(){return B(V)},e.linkRadial=function(){var e=B(q);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e},e.symbol=function(){var e=n(G),r=n(64),o=null;function i(){var n;if(o||(o=n=t.path()),e.apply(this,arguments).draw(o,+r.apply(this,arguments)),n)return o=null,n+""||null}return i.type=function(t){return arguments.length?(e="function"==typeof t?t:n(t),i):e},i.size=function(e){return arguments.length?(r="function"==typeof e?e:n(+e),i):r},i.context=function(e){return arguments.length?(o=null==e?null:e,i):o},i},e.symbols=se,e.symbolCircle=G,e.symbolCross=H,e.symbolDiamond=K,e.symbolSquare=Q,e.symbolStar=J,e.symbolTriangle=te,e.symbolWye=ae,e.curveBasisClosed=function(e){return new de(e)},e.curveBasisOpen=function(e){return new pe(e)},e.curveBasis=function(e){return new ue(e)},e.curveBundle=he,e.curveCardinalClosed=ye,e.curveCardinalOpen=xe,e.curveCardinal=be,e.curveCatmullRomClosed=_e,e.curveCatmullRomOpen=Ne,e.curveCatmullRom=Se,e.curveLinearClosed=function(e){return new Te(e)},e.curveLinear=E,e.curveMonotoneX=function(e){return new De(e)},e.curveMonotoneY=function(e){return new ke(e)},e.curveNatural=function(e){return new Le(e)},e.curveStep=function(e){return new Fe(e,.5)},e.curveStepAfter=function(e){return new Fe(e,1)},e.curveStepBefore=function(e){return new Fe(e,0)},e.stack=function(){var e=n([]),t=ze,r=Be,o=Ve;function i(n){var i,a,s=e.apply(this,arguments),l=n.length,c=s.length,u=new Array(c);for(i=0;i<c;++i){for(var d,p=s[i],f=u[i]=new Array(l),h=0;h<l;++h)f[h]=d=[0,+o(n[h],p,h,n)],d.data=n[h];f.key=p}for(i=0,a=t(u);i<c;++i)u[a[i]].index=i;return r(u,a),u}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:n(L.call(t)),i):e},i.value=function(e){return arguments.length?(o="function"==typeof e?e:n(+e),i):o},i.order=function(e){return arguments.length?(t=null==e?ze:"function"==typeof e?e:n(L.call(e)),i):t},i.offset=function(e){return arguments.length?(r=null==e?Be:e,i):r},i},e.stackOffsetExpand=function(e,t){if((r=e.length)>0){for(var n,r,o,i=0,a=e[0].length;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Be(e,t)}},e.stackOffsetDiverging=function(e,t){if((s=e.length)>0)for(var n,r,o,i,a,s,l=0,c=e[t[0]].length;l<c;++l)for(i=a=0,n=0;n<s;++n)(o=(r=e[t[n]][l])[1]-r[0])>=0?(r[0]=i,r[1]=i+=o):o<0?(r[1]=a,r[0]=a+=o):r[0]=i},e.stackOffsetNone=Be,e.stackOffsetSilhouette=function(e,t){if((n=e.length)>0){for(var n,r=0,o=e[t[0]],i=o.length;r<i;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;o[r][1]+=o[r][0]=-s/2}Be(e,t)}},e.stackOffsetWiggle=function(e,t){if((o=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,o,i=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],d=u[a][1]||0,p=(d-(u[a-1][1]||0))/2,f=0;f<s;++f){var h=e[t[f]];p+=(h[a][1]||0)-(h[a-1][1]||0)}l+=d,c+=p*d}n[a-1][1]+=n[a-1][0]=i,l&&(i-=c/l)}n[a-1][1]+=n[a-1][0]=i,Be(e,t)}},e.stackOrderAppearance=qe,e.stackOrderAscending=He,e.stackOrderDescending=function(e){return He(e).reverse()},e.stackOrderInsideOut=function(e){var t,n,r=e.length,o=e.map(We),i=qe(e),a=0,s=0,l=[],c=[];for(t=0;t<r;++t)n=i[t],a<s?(a+=o[n],l.push(n)):(s+=o[n],c.push(n));return c.reverse().concat(l)},e.stackOrderNone=ze,e.stackOrderReverse=function(e){return ze(e).reverse()},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(/*! d3-path */1173))},1006:
/*!************************************************************!*\
  !*** ./project/common/extensions/mixins/clipboardMixin.js ***!
  \************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! clipboard */916),o=n.n(r),i=n(/*! jquery */10),a=n.n(i),s=n(/*! js/project/common/util/mixinBeforeExtension */100);t.a=Object(s.a)({initialize:function(){var e=this;this.on("render",(function(){e._destroyCopyableCommands(),e._initializeCopyableCommands()})),this.on("destroy remove",(function(){e._destroyCopyableCommands()}))},events:function(){return{"mouseleave [data-clipboard-mixin]":"_onClipboardMouseleave"}},_initializeCopyableCommands:function(){var e=this,t=this.el.querySelectorAll("[data-clipboard-mixin]");t.length&&(this.copyableCommands=new o.a(t),this.copyableCommands.on("success",(function(e){window.getSelection().removeAllRanges(),a()(e.trigger).attr("data-original-title","Copied!").tooltip("show")})),this.copyableCommands.on("error",(function(t){e.$(t.trigger).attr("data-original-title","Copying failed!").tooltip("show")})))},_destroyCopyableCommands:function(){this.copyableCommands&&this.copyableCommands.destroy(),this.copyableCommands=null},_onClipboardMouseleave:function(e){this.$(e.target).tooltip("hide").attr("data-original-title","Click to copy")}})},1007:
/*!*********************************************!*\
  !*** ./common/components/styles/tooltip.ts ***!
  \*********************************************/
/*! exports provided: TooltipIcon, TooltipContent */
/*! exports used: TooltipContent, TooltipIcon */function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(/*! @emotion/styled-base */30),o=n.n(r),i=n(/*! @leafygreen-ui/palette */26);var a=o()("span",{target:"e1skb2xe0"})({display:"inline-block",width:20,height:20,background:i.uiColors.gray.light2,borderRadius:"100%",textAlign:"center","& > span":{fontSize:12}},""),s=o()("div",{target:"e1skb2xe1"})({name:"5v0tmo",styles:"max-width:175px;font-weight:normal;text-align:left;"})},1008:
/*!*************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/icon/dist/Checkmark.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(/*! react */8)),a=(o=n(/*! prop-types */3))&&o.__esModule?o:{default:o},s=n(/*! @leafygreen-ui/emotion */39);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        color: ",";\n      "]);return u=function(){return e},e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f={small:14,default:16,large:20,xlarge:24};function h(e,t){if(!1!==t){if(null==t||!0===t){for(var n="".concat(e.replace(/([A-Z][a-z])/g," $1")," Icon");" "===n.charAt(0);)n=n.substr(1);return n}return t}}var m=function(e){var t=e.className,n=e.size,r=void 0===n?16:n,o=e.title,a=e.customTitleId,l=e.fill,m=d(e,["className","size","title","customTitleId","fill"]),g=i.useMemo((function(){return a||"Checkmark-"+Math.floor(1e6*Math.random())}),[a]).current,b=(0,s.css)(u(),l);return i.createElement("svg",p({className:(0,s.cx)(c({},b,null!=l),t),title:h("Checkmark",o),height:"number"==typeof r?r:f[r],width:"number"==typeof r?r:f[r]},m,{viewBox:"0 0 16 16",role:"img","aria-labelledby":g}),void 0===o?i.createElement("title",{id:g},"Glyphs / Checkmark"):o?i.createElement("title",null,o):null,i.createElement("desc",null,"Created with Sketch."),i.createElement("g",{id:"Glyphs-/-Checkmark",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M6.94974747,10.363961 L13.3137085,4 L14.7279221,5.41421356 L8.36396103,11.7781746 L6.94974747,13.1923882 L2,8.24264069 L3.41421356,6.82842712 L6.94974747,10.363961 Z",fill:"currentColor"})))};m.displayName="Checkmark",m.isGlyph=!0,m.propTypes={fill:a.default.string,size:a.default.oneOfType([a.default.number,a.default.string]),className:a.default.string};var g=m;t.default=g},1022:
/*!****************************************************************************!*\
  !*** ./project/nds/security/services/peerConnectionService.js + 2 modules ***!
  \****************************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/handlers/isAuthExpired.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/services/groupStatusService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/groupIdFromPath.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/jqueryErrorHandler.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/models/Container.js because of ./project/nds/security/views/AddAWSPeeringConnectionModal.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/models/PeerConnectionCollection.js because of ./project/nds/clusters/components/CommandLineToolsPage/CommandLineToolsPage.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/backbone/backbone.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/jquery/dist/jquery-exposed.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(10),o=n.n(r),i=n(7),a=n.n(i),s=n(1035),l=a.a.Collection.extend({model:s.a,byProvider:function(e){var t=this.where({"@provider":e});return new l(t)}}),c=l,u=a.a.Model.extend({defaults:function(){return{atlasCidrBlock:null,regions:null}},getAtlasCidrBlock:function(){return this.get("atlasCidrBlock")},getRegions:function(){return this.get("regions").map((function(e){return e.name}))}}),d=n(968),p=n(125),f=n(46),h=n(38),m=n(926);t.a={getPeerConnections:function(){return o.a.ajax({url:"/nds/".concat(h.a(),"/peers/AWS"),method:"GET"}).then((function(e){return new d.a(e,{parse:!0})}),f.a)},getContainers:function(){return o.a.ajax({url:"/nds/".concat(h.a(),"/containers"),method:"GET"}).then((function(e){return new c(e,{parse:!0})}),f.a)},getAWSContainerDefaults:function(){return o.a.ajax({url:"/nds/".concat(h.a(),"/containers/aws/defaults"),method:"GET"}).then((function(e){return new u(e,{parse:!0})}),f.a)},getAzureContainerDefaults:function(){return o.a.ajax({url:"/nds/".concat(h.a(),"/containers/azure/defaults"),method:"GET"})},putContainer:function(e){return o.a.ajax({url:"/nds/".concat(h.a(),"/containers"),method:"PUT",data:JSON.stringify(e),processData:!1,contentType:"application/json",dataType:"json"})},patchContainer:function(e){return o.a.ajax({url:"/nds/".concat(h.a(),"/containers/").concat(e.get("id")),method:"PATCH",data:JSON.stringify(e),processData:!1,contentType:"application/json",dataType:"json"})},updateCidrBlock:function(e){var t=e.peerId,n=e.cidrBlock;return o.a.ajax({url:"/nds/".concat(h.a(),"/peers"),method:"PATCH",data:JSON.stringify({routeTableCidrBlock:n,"@provider":"AWS",id:t}),contentType:"application/json"}).then((function(){p.a.enableFastPolling()}),f.a)},updatePeeringConnection:function(e){return o.a.ajax({url:"/nds/".concat(h.a(),"/peers"),method:"PATCH",data:JSON.stringify({id:e.get("id"),awsAccountId:e.get("awsAccountId"),vpcId:e.get("vpcId"),routeTableCidrBlock:e.get("routeTableCidrBlock"),"@provider":"AWS"}),contentType:"application/json"}).then((function(){p.a.enableFastPolling()}))},putPeeringConnection:function(e){var t=e.attributes;return t["@provider"]="AWS",o.a.ajax({method:"PUT",url:"/nds/".concat(h.a(),"/peers"),data:JSON.stringify(t),processData:!1,contentType:"application/json",dataType:"json"}).then((function(){p.a.enableFastPolling()}))},terminatePeer:function(e){return o.a.ajax({url:"/nds/".concat(h.a(),"/peers/").concat(e),method:"DELETE"}).then((function(){p.a.enableFastPolling()}),m.a)}}},1024:
/*!**********************************************************!*\
  !*** ./organization/services/errorHelper.js + 1 modules ***!
  \**********************************************************/
/*! exports provided: errorCodesToMessage, exceptionToMessage */
/*! exports used: errorCodesToMessage, exceptionToMessage */function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r={DUPLICATE_USERNAME:"User already added.",USER_ALREADY_IN_ORG:"User already exists in the organization.",USER_ALREADY_IN_GROUP:"User already exists in the project.",USER_ALREADY_IN_TEAM:"User already exists in the team.",USER_DOES_NOT_EXIST:"User does not exist in this organization.",USER_NOT_ORG_MEMBER:"User is not yet an organization member",INVALID_USERNAME:"Email address is not valid. Please re-try with valid email address.",CANNOT_DELETE_LAST_USER:"Cannot remove a user if they are the last user in the organization or project.",NO_ROLES_IN_ASSIGNMENT:"Cannot select no roles for a team. Please select at least one role.",CANNOT_DELETE_LAST_OWNER:"Cannot remove a user if they are the last project owner.",CANNOT_DELETE_LAST_ORG_OWNER:"Cannot remove a user if they are the last organization owner.",GROUP_NAME_NOT_AVAILABLE:"There's already a project in this organization with that name. Please choose a different one.",INVALID_GROUP_NAME:"Please provide a valid group name. The group name length must not exceed 64 characters and can only contain letters, numbers, spaces, dashes, and underscores.",INVALID_ORG_NAME:"Organization name is not valid. Please try a different name.",CANNOT_DELETE_LAST_ADMIN:"The organization or project needs to have at least one owner.",CANNOT_DEMOTE_LAST_PROJECT_OWNER:"The project needs to have at least one Project Owner.",CANNOT_REMOVE_ALL_USER_ROLES:"Cannot remove all roles from a user. Please select at least one role.",USERNAME_NOT_FOUND:"You are trying to edit or remove a user that does not exist. Please refresh the page.",NO_ROLES_ADDED:"You must set at least one role for a user.",DEFAULT:"A server error occurred. Please try again in a minute.",INVALID_EMAIL_ADDR:"We're sorry, this email address appears to be invalid.",NO_INTERNATIONAL_CALLS:"We are unable to send SMS messages to this number.",INVALID_PHONE_NUMBER:"The number is not a valid mobile number.",INVALID_MOBILE_NUMBER:"The number is not a valid mobile number.",INVALID_USER_AUTH:"Please provide your correct current password.",INVALID_PASSWORD:"Please enter a new password.",FORBIDDEN:"You do not have the necessary permission to perform this operation.",PASSWORDS_DO_NOT_MATCH:"New password does not match confirmation.",INVALID_PASSWORD_TOO_SHORT_ONPREM:"Your password must be at least eight (8) characters long and contain at least one letter, one digit and one of the following special characters: (".concat("~!@#$%^&*()-_=+[]{}|;:,\\.<>/?",")"),INVALID_PASSWORD_TOO_SHORT:"Your password must have at least 8 characters, and it cannot contain your email address, and it has to be different than your last 4 passwords.",SERVER_ERROR:"The request contained invalid data.",REPEATED_PASSWORD:"This password was used recently, please choose a different password.",ORG_HAS_LINKED_ORGS:"Organization is a paying organization of one or more other organizations. Please delete all linked organizations first.",ORG_NOT_EMPTY:"has active projects. All projects need to be deleted before an organization can be deleted.",CANNOT_DELETE_ORG_FAILED_PAYMENTS:"has unpaid bills. All outstanding billing needs to be settled before an organization can be deleted.",CANNOT_CLOSE_GROUP_ACTIVE_BACKUP:"has running backups. All backups need to be terminated before the project can be deleted.",CANNOT_CLOSE_GROUP_ACTIVE_NDS_CLUSTERS:"has running Atlas clusters. All Atlas clusters need to be terminated before the project can be deleted.",ACTIVATION_CODE_ALREADY_USED:"The activation code you entered has already been used.",CANNOT_CLOSE_GROUP_ACTIVE_NDS_DATA_LAKES:"has running Atlas data lakes. All Atlas data lakes need to be terminated before the project can be deleted.",COUPON_ALREADY_USED:"The coupon code you entered has already been used.",COUPON_CONFLICT:"The coupon code you entered cannot be used together with another coupon already in use.",MAX_COUPON_APPLICATIONS_EXCEEDED:"Sorry, it looks like the code you entered has run out of available uses. Please enter a different code.",TEAM_NAME_NOT_AVAILABLE:"There's already a team in this organization with that name. Please choose a different one.",INVALID_TEAM_NAME:"Please provide a valid team name. Team names can't contain special characters.",LEAVE_TEAM_TEAM_NEEDS_ONE_USER:"Sorry! This user cannot be removed from this team at this time, because a team must have at least one user assigned to it. First, add another a user to your team and then you can remove this user.",LEAVE_ORG_TEAM_NEEDS_ONE_USER:"Sorry! You cannot leave this organization because you are the only member of your team currently. First, add another user to your team, then continue with leaving.",DELETE_ORG_USER_TEAM_NEEDS_ONE_USER:"Sorry! You cannot delete this user from your organization currently. First, add another user to their team and then continue with deleting them from your organization.",CANNOT_CREATE_EMPTY_TEAM:"A team must contain at least one user. Add a user to your team to continue.",CANNOT_DELETE_TEAM_ASSIGNED_TO_PROJECT:"You cannot delete a team that is assigned to at least one project. Make sure to remove the team from all projects first.",FAILED_TO_DELETE_ORG_IP_WHITELISTS:"The IP whitelists for the following projects could not be deleted: ",INVALID_NETWORK_PERMISSIONS_DELETION_DATE_FOR_CLUSTER_DELETION:"The organization's network permission lists were deleted too recently.",INVALID_NETWORK_PERMISSIONS_FOR_CLUSTER_DELETION:"The organization has non-empty permission lists.",FAILED_TO_ADMIN_SUSPEND_ORG:"This organization could not be suspended",RATE_LIMITED_IP:"Sorry, we are unable to process your request right now. Try again later.",INVALID_INVITATION:"You are trying to accept or decline an invitation that no longer exists. Please refresh the page.",MULTI_FACTOR_AUTH_EXPIRED:null,PASSWORD_AUTH_EXPIRED:null,API_KEY_NOT_FOUND:"You are trying to edit or remove an API key that does not exist. Please refresh the page.",CANNOT_REMOVE_ALL_API_KEY_ROLES:"Cannot remove all roles from an API key. Please select at least one role.",API_KEY_ALREADY_IN_GROUP:"You are trying to add an API key that already exists in the group.",DUPLICATE_POLICY_NAME:"A policy with the same name already exists",CANT_EDIT_MANAGED_POLICIES:"This is a managed policy and cannot be edited. Please select another policy to edit, or create a new policy",MAX_CUSTOM_POLICIES_PER_ORG_EXCEEDED:"Your organization has hit the maximum number of custom policies. Please delete existing organizations and then try again.",POLICY_NAME_OVER_LENGTH:"The policy name is over the maximum length",POLICY_DESCRIPTION_OVER_LENGTH:"The policy description is over the maximum length",MALFORMED_JSON:"The policy document is not valid JSON",MOVE_CREDIT_MISSING_ACTIVATION_CODE:"The credit that you tried to move does not have an activation code.",MOVE_CREDIT_ORG_IDS_ARE_EQ:"The target org cannot be the same as the source org.",CANNOT_DELETE_LAST_FEDERATED_ORG:"Sorry, You cannot delete because it is the last organization connected to the Identity Provider configuration. To delete this organization, first, connect another organization to the Identity Provider configuration or delete the Identity Provider configuration.",DOMAIN_NOT_IN_ALLOW_LIST:"Sorry! User could not be invited because the domain in the User's username is not included in the Organization's Domain Allow List.",USER_ORGS_RESTRICTED:"We are unable to add this user to your organization. This user belongs to a company that restricts organization membership.",ORG_BILL_NOT_UPTO_DATE:"The Organization's bill is not up to date.",INVALID_COUPON_CODE:"<b>Invalid code.</b><div>Please check for spelling errors and try again.</div>"},o=function(e){return e in r?r[e]:r.DEFAULT},i=function(e){var t=e.errorCode,n=e.message;return t&&r[t]||n}},1027:
/*!******************************************!*\
  !*** ../node_modules/numeral/numeral.js ***!
  \******************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o;
/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */void 0===(o="function"==typeof(r=function(){var e,t,n,r,o,i={},a={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},l={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function c(e,t){this._input=e,this._value=t}return(e=function(n){var r,o,a,s;if(e.isNumeral(n))r=n.value();else if(0===n||void 0===n)r=0;else if(null===n||t.isNaN(n))r=null;else if("string"==typeof n)if(l.zeroFormat&&n===l.zeroFormat)r=0;else if(l.nullFormat&&n===l.nullFormat||!n.replace(/[^0-9]+/g,"").length)r=null;else{for(o in i)if((s="function"==typeof i[o].regexps.unformat?i[o].regexps.unformat():i[o].regexps.unformat)&&n.match(s)){a=i[o].unformat;break}r=(a=a||e._.stringToNumber)(n)}else r=Number(n)||null;return new c(n,r)}).version="2.0.6",e.isNumeral=function(e){return e instanceof c},e._=t={numberToFormat:function(t,n,r){var o,i,s,l,c,u,d,p,f=a[e.options.currentLocale],h=!1,m=!1,g="",b="",v=!1;if(t=t||0,s=Math.abs(t),e._.includes(n,"(")?(h=!0,n=n.replace(/[\(|\)]/g,"")):(e._.includes(n,"+")||e._.includes(n,"-"))&&(u=e._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),e._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],e._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),s>=1e12&&!i||"t"===i?(g+=f.abbreviations.trillion,t/=1e12):s<1e12&&s>=1e9&&!i||"b"===i?(g+=f.abbreviations.billion,t/=1e9):s<1e9&&s>=1e6&&!i||"m"===i?(g+=f.abbreviations.million,t/=1e6):(s<1e6&&s>=1e3&&!i||"k"===i)&&(g+=f.abbreviations.thousand,t/=1e3)),e._.includes(n,"[.]")&&(m=!0,n=n.replace("[.]",".")),l=t.toString().split(".")[0],c=n.split(".")[1],d=n.indexOf(","),o=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,c?(e._.includes(c,"[")?(c=(c=c.replace("]","")).split("["),b=e._.toFixed(t,c[0].length+c[1].length,r,c[1].length)):b=e._.toFixed(t,c.length,r),l=b.split(".")[0],b=e._.includes(b,".")?f.delimiters.decimal+b.split(".")[1]:"",m&&0===Number(b.slice(1))&&(b="")):l=e._.toFixed(t,0,r),g&&!i&&Number(l)>=1e3&&g!==f.abbreviations.trillion)switch(l=String(Number(l)/1e3),g){case f.abbreviations.thousand:g=f.abbreviations.million;break;case f.abbreviations.million:g=f.abbreviations.billion;break;case f.abbreviations.billion:g=f.abbreviations.trillion}if(e._.includes(l,"-")&&(l=l.slice(1),v=!0),l.length<o)for(var y=o-l.length;y>0;y--)l="0"+l;return d>-1&&(l=l.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),0===n.indexOf(".")&&(l=""),p=l+b+(g||""),h?p=(h&&v?"(":"")+p+(h&&v?")":""):u>=0?p=0===u?(v?"-":"+")+p:p+(v?"-":"+"):v&&(p="-"+p),p},stringToNumber:function(e){var t,n,r,o=a[l.currentLocale],i=e,s={thousand:3,million:6,billion:9,trillion:12};if(l.zeroFormat&&e===l.zeroFormat)n=0;else if(l.nullFormat&&e===l.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==o.delimiters.decimal&&(e=e.replace(/\./g,"").replace(o.delimiters.decimal,".")),s)if(r=new RegExp("[^a-zA-Z]"+o.abbreviations[t]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),i.match(r)){n*=Math.pow(10,s[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,r=Object(e),o=r.length>>>0,i=0;if(3===arguments.length)n=arguments[2];else{for(;i<o&&!(i in r);)i++;if(i>=o)throw new TypeError("Reduce of empty array with no initial value");n=r[i++]}for(;i<o;i++)i in r&&(n=t(n,r[i],i,r));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce((function(e,n){var r=t.multiplier(n);return e>r?e:r}),1)},toFixed:function(e,t,n,r){var o,i,a,s,l=e.toString().split("."),c=t-(r||0);return o=2===l.length?Math.min(Math.max(l[1].length,c),t):c,a=Math.pow(10,o),s=(n(e+"e+"+o)/a).toFixed(o),r>t-o&&(i=new RegExp("\\.?0{1,"+(r-(t-o))+"}$"),s=s.replace(i,"")),s}},e.options=l,e.formats=i,e.locales=a,e.locale=function(e){return e&&(l.currentLocale=e.toLowerCase()),l.currentLocale},e.localeData=function(e){if(!e)return a[l.currentLocale];if(e=e.toLowerCase(),!a[e])throw new Error("Unknown locale : "+e);return a[e]},e.reset=function(){for(var e in s)l[e]=s[e]},e.zeroFormat=function(e){l.zeroFormat="string"==typeof e?e:null},e.nullFormat=function(e){l.nullFormat="string"==typeof e?e:null},e.defaultFormat=function(e){l.defaultFormat="string"==typeof e?e:"0.0"},e.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},e.validate=function(t,n){var r,o,i,a,s,l,c,u;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{c=e.localeData(n)}catch(t){c=e.localeData(e.locale())}return i=c.currency.symbol,s=c.abbreviations,r=c.delimiters.decimal,o="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,!(null!==(u=t.match(/^[^\d]+/))&&(t=t.substr(1),u[0]!==i)||null!==(u=t.match(/[^\d]+$/))&&(t=t.slice(0,-1),u[0]!==s.thousand&&u[0]!==s.million&&u[0]!==s.billion&&u[0]!==s.trillion)||(l=new RegExp(o+"{2}"),t.match(/[^\d.,]/g)||(a=t.split(r)).length>2||(a.length<2?!a[0].match(/^\d+.*\d$/)||a[0].match(l):1===a[0].length?!a[0].match(/^\d+$/)||a[0].match(l)||!a[1].match(/^\d+$/):!a[0].match(/^\d+.*\d$/)||a[0].match(l)||!a[1].match(/^\d+$/))))},e.fn=c.prototype={clone:function(){return e(this)},format:function(t,n){var r,o,a,s=this._value,c=t||l.defaultFormat;if(n=n||Math.round,0===s&&null!==l.zeroFormat)o=l.zeroFormat;else if(null===s&&null!==l.nullFormat)o=l.nullFormat;else{for(r in i)if(c.match(i[r].regexps.format)){a=i[r].format;break}o=(a=a||e._.numberToFormat)(s,c,n)}return o},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var n=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([this._value,e],(function(e,t,r,o){return e+Math.round(n*t)}),0)/n,this},subtract:function(e){var n=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([e],(function(e,t,r,o){return e-Math.round(n*t)}),Math.round(this._value*n))/n,this},multiply:function(e){return this._value=t.reduce([this._value,e],(function(e,n,r,o){var i=t.correctionFactor(e,n);return Math.round(e*i)*Math.round(n*i)/Math.round(i*i)}),1),this},divide:function(e){return this._value=t.reduce([this._value,e],(function(e,n,r,o){var i=t.correctionFactor(e,n);return Math.round(e*i)/Math.round(n*i)})),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,r){var o,i=e._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),o=e._.numberToFormat(t,n,r),e._.includes(o,")")?((o=o.split("")).splice(-1,0,i+"BPS"),o=o.join("")):o=o+i+"BPS",o},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},o="("+(o=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(r.suffixes.filter((function(e){return n.suffixes.indexOf(e)<0}))).join("|")).replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(o)},format:function(t,o,i){var a,s,l,c=e._.includes(o,"ib")?r:n,u=e._.includes(o," b")||e._.includes(o," ib")?" ":"";for(o=o.replace(/\s?i?b/,""),a=0;a<=c.suffixes.length;a++)if(s=Math.pow(c.base,a),l=Math.pow(c.base,a+1),null===t||0===t||t>=s&&t<l){u+=c.suffixes[a],s>0&&(t/=s);break}return e._.numberToFormat(t,o,i)+u},unformat:function(t){var o,i,a=e._.stringToNumber(t);if(a){for(o=n.suffixes.length-1;o>=0;o--){if(e._.includes(t,n.suffixes[o])){i=Math.pow(n.base,o);break}if(e._.includes(t,r.suffixes[o])){i=Math.pow(r.base,o);break}}a*=i||1}return a}}),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,r){var o,i,a=e.locales[e.options.currentLocale],s={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),o=e._.numberToFormat(t,n,r),t>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(s.before,"-")&&!e._.includes(s.before,"(")&&(s.before="-"+s.before),i=0;i<s.before.length;i++)switch(s.before[i]){case"$":o=e._.insert(o,a.currency.symbol,i);break;case" ":o=e._.insert(o," ",i+a.currency.symbol.length-1)}for(i=s.after.length-1;i>=0;i--)switch(s.after[i]){case"$":o=i===s.after.length-1?o+a.currency.symbol:e._.insert(o,a.currency.symbol,-(s.after.length-(1+i)));break;case" ":o=i===s.after.length-1?o+" ":e._.insert(o," ",-(s.after.length-(1+i)+a.currency.symbol.length-1))}return o}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,r){var o=("number"!=typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(o[0]),n,r)+"e"+o[1]},unformat:function(t){var n=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(n[0]),o=Number(n[1]);return o=e._.includes(t,"e-")?o*=-1:o,e._.reduce([r,Math.pow(10,o)],(function(t,n,r,o){var i=e._.correctionFactor(t,n);return t*i*(n*i)/(i*i)}),1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,r){var o=e.locales[e.options.currentLocale],i=e._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),i+=o.ordinal(t),e._.numberToFormat(t,n,r)+i}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,r){var o,i=e._.includes(n," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),o=e._.numberToFormat(t,n,r),e._.includes(o,")")?((o=o.split("")).splice(-1,0,i+"%"),o=o.join("")):o=o+i+"%",o},unformat:function(t){var n=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*n:n}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var r=Math.floor(e/60/60),o=Math.floor((e-60*r*60)/60),i=Math.round(e-60*r*60-60*o);return r+":"+(o<10?"0"+o:o)+":"+(i<10?"0"+i:i)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}}),e})?r.call(t,n,t,e):r)||(e.exports=o)},1028:
/*!********************************************!*\
  !*** ./project/common/views/TimePicker.js ***!
  \********************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! jquery */10),o=n.n(r),i=n(/*! underscore */2),a=n.n(i),s=n(/*! backbone.marionette */25),l=n(/*! moment */54),c=n.n(l),u=n(/*! ./timePicker.hbs */1029),d=n.n(u),p=n(/*! ./timePickerOption.hbs */1030),f=n.n(p),h=s.View.extend({template:d.a,templateContext:function(){return{displayValue:c.a.unix(this.model.get("timeInSeconds")).utc().format("hh:mma"),isValid:this.isValid,isInvalid:this.isInvalid}},modelEvents:{"change:timeInSeconds":"render"},events:{"focus .datetime-picker-input":"onFocus","click .datetime-picker-timeoption":"onSelectOption","click .datetime-picker-input":function(e){return e.stopPropagation()},"click .datetime-picker-timepicker":function(e){return e.stopPropagation()},"keyup .datetime-picker-input":"updateOnEnter"},onFocus:function(){this._appendTimePickerOptions(),o()(window).one("click.closeTimePicker",this._updateValidInput.bind(this))},_clearValidation:function(){this.isValid=!1,this.isInvalid=!1},_updateValidInput:function(){this.$(".datetime-picker-timepicker").empty().attr("hidden",!0);var e=c.a.utc(this.$(".datetime-picker-input").val(),"h:mma",!0);e.set("year",1970).set("month",0).set("date",1);var t=e.isValid();t&&this.model.get("timeInSeconds")===e.toDate().getTime()/1e3||(this._clearValidation(),t?(this.isValid=!0,this.model.set("timeInSeconds",e.toDate().getTime()/1e3),this.trigger("userSelect")):this.isInvalid=!0,this.render())},_appendTimePickerOptions:function(){var e=this,t=this.$(".datetime-picker-timepicker");t.empty().attr("hidden",!1);var n=this.model.get("timeInSeconds");a.a.range(48).forEach((function(n){var r=e._getOptionTemplateData(n);t.append(f()(r))}));var r=Math.floor(n/30/60)-2;t.scrollTop(23*r)},_getOptionTemplateData:function(e){var t=c.a.unix(1800*e).utc();return{value:t.toDate().getTime()/1e3,displayText:t.format("hh:mma")}},onSelectOption:function(e){this._clearValidation(),o()(window).off("click.closeTimePicker"),this.model.set("timeInSeconds",this.$(e.currentTarget).data("value")),this.trigger("userSelect"),this.render()},updateOnEnter:function(e){13===e.keyCode&&this._updateValidInput()}});t.a=h},1029:
/*!*********************************************!*\
  !*** ./project/common/views/timePicker.hbs ***!
  \*********************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return" datetime-picker-input-is-valid"},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isInvalid"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:85},end:{line:2,column:139}}}))?i:""},4:function(e,t,n,r,o){return" datetime-picker-input-is-invalid"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="datetime-picker datetime-picker-is-time">\n    <input class="datetime-picker-input'+(null!=(i=l(n,"if").call(s,null!=t?l(t,"isValid"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:2,column:39},end:{line:2,column:146}}}))?i:"")+'" value="'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"displayValue")||(null!=t?l(t,"displayValue"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"displayValue",hash:{},data:o,loc:{start:{line:2,column:155},end:{line:2,column:171}}}):a)+'" />\n    <div class="datetime-picker-timepicker" hidden>\n</div>\n'},useData:!0})},1030:
/*!***************************************************!*\
  !*** ./project/common/views/timePickerOption.hbs ***!
  \***************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="datetime-picker-timeoption" data-value='+l("function"==typeof(i=null!=(i=c(n,"value")||(null!=t?c(t,"value"):t))?i:s)?i.call(a,{name:"value",hash:{},data:o,loc:{start:{line:1,column:51},end:{line:1,column:60}}}):i)+">"+l("function"==typeof(i=null!=(i=c(n,"displayText")||(null!=t?c(t,"displayText"):t))?i:s)?i.call(a,{name:"displayText",hash:{},data:o,loc:{start:{line:1,column:61},end:{line:1,column:76}}}):i)+"</div>\n"},useData:!0})},1031:
/*!**************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/badge/dist/index.web.js ***!
  \**************************************************************/
/*! no static exports found */
/*! exports used: Variant, default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a;window,e.exports=(r=n(/*! react */8),o=n(/*! prop-types */3),i=n(/*! @leafygreen-ui/palette */26),a=n(/*! @leafygreen-ui/emotion */39),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Variant",{enumerable:!0,get:function(){return o.Variant}}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(1)),i=o.default;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.badgeVariants=t.baseStyle=t.Variant=void 0;var r,o=l(n(2)),i=l(n(3)),a=n(4),s=n(5);function l(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){var e=v(["\n    background-color: ",";\n    border-color: ",";\n    color: ",";\n  "]);return d=function(){return e},e}function p(){var e=v(["\n    background-color: ",";\n    border-color: ",";\n    color: ",";\n  "]);return p=function(){return e},e}function f(){var e=v(["\n    background-color: ",";\n    border-color: ",";\n    color: ",";\n  "]);return f=function(){return e},e}function h(){var e=v(["\n    background-color: ",";\n    border-color: ",";\n    color: ",";\n  "]);return h=function(){return e},e}function m(){var e=v(["\n    background-color: ",";\n    border-color: ",";\n    color: ",";\n  "]);return m=function(){return e},e}function g(){var e=v(["\n    background-color: ",";\n    border-color: ",";\n    color: ",";\n  "]);return g=function(){return e},e}function b(){var e=v(["\n  display: inline-flex;\n  align-items: center;\n  font-weight: bold;\n  font-size: 11px;\n  line-height: 20px;\n  border-radius: 50px;\n  height: 20px;\n  padding-left: 9px;\n  padding-right: 9px;\n  text-transform: uppercase;\n  border: 1px solid;\n"]);return b=function(){return e},e}function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y={DarkGray:"darkgray",LightGray:"lightgray",Red:"red",Yellow:"yellow",Blue:"blue",Green:"green"};t.Variant=y;var O=(0,s.css)(b());t.baseStyle=O;var x=(u(r={},y.LightGray,(0,s.css)(g(),a.uiColors.gray.light3,a.uiColors.gray.light2,a.uiColors.gray.dark1)),u(r,y.DarkGray,(0,s.css)(m(),a.uiColors.gray.dark2,a.uiColors.gray.dark3,a.uiColors.white)),u(r,y.Red,(0,s.css)(h(),a.uiColors.red.light3,a.uiColors.red.light2,a.uiColors.red.dark2)),u(r,y.Yellow,(0,s.css)(f(),a.uiColors.yellow.light3,a.uiColors.yellow.light2,a.uiColors.yellow.dark2)),u(r,y.Blue,(0,s.css)(p(),a.uiColors.blue.light3,a.uiColors.blue.light2,a.uiColors.blue.dark2)),u(r,y.Green,(0,s.css)(d(),a.uiColors.green.light3,a.uiColors.green.light2,a.uiColors.green.dark2)),r);function j(e){var t=e.children,n=e.variant,r=void 0===n?y.LightGray:n,i=e.className,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","variant","className"]);return o.default.createElement("div",c({},a,{className:(0,s.cx)(O,x[r],i)}),t)}t.badgeVariants=x,j.displayName="Badge",j.propTypes={className:i.default.string,children:i.default.node,variant:i.default.oneOf(Object.values(y))};var E=j;t.default=E},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a}]))},1032:
/*!*************************************************************!*\
  !*** ../node_modules/d3-time-format/dist/d3-time-format.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e,t){"use strict";function n(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function r(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function i(e){var i=e.dateTime,a=e.date,l=e.time,c=e.periods,u=e.days,d=e.shortDays,p=e.months,be=e.shortMonths,ve=f(c),ye=h(c),Oe=f(u),xe=h(u),je=f(d),Ee=h(d),Se=f(p),Ce=h(p),_e=f(be),Ae=h(be),Ne={a:function(e){return d[e.getDay()]},A:function(e){return u[e.getDay()]},b:function(e){return be[e.getMonth()]},B:function(e){return p[e.getMonth()]},c:null,d:D,e:D,f:F,H:k,I:M,j:L,L:U,m:B,M:z,p:function(e){return c[+(e.getHours()>=12)]},Q:me,s:ge,S:V,u:q,U:G,V:H,w:W,W:Y,x:null,X:null,y:K,Y:Z,Z:$,"%":he},Te={a:function(e){return d[e.getUTCDay()]},A:function(e){return u[e.getUTCDay()]},b:function(e){return be[e.getUTCMonth()]},B:function(e){return p[e.getUTCMonth()]},c:null,d:X,e:X,f:ne,H:J,I:Q,j:ee,L:te,m:re,M:oe,p:function(e){return c[+(e.getUTCHours()>=12)]},Q:me,s:ge,S:ie,u:ae,U:se,V:le,w:ce,W:ue,x:null,X:null,y:de,Y:pe,Z:fe,"%":he},we={a:function(e,t,n){var r=je.exec(t.slice(n));return r?(e.w=Ee[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=Oe.exec(t.slice(n));return r?(e.w=xe[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=_e.exec(t.slice(n));return r?(e.m=Ae[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=Se.exec(t.slice(n));return r?(e.m=Ce[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,t,n){return Ie(e,i,t,n)},d:S,e:S,f:w,H:_,I:_,j:C,L:T,m:E,M:A,p:function(e,t,n){var r=ve.exec(t.slice(n));return r?(e.p=ye[r[0].toLowerCase()],n+r[0].length):-1},Q:R,s:I,S:N,u:g,U:b,V:v,w:m,W:y,x:function(e,t,n){return Ie(e,a,t,n)},X:function(e,t,n){return Ie(e,l,t,n)},y:x,Y:O,Z:j,"%":P};function Pe(e,t){return function(n){var r,o,i,a=[],l=-1,c=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++l<u;)37===e.charCodeAt(l)&&(a.push(e.slice(c,l)),null!=(o=s[r=e.charAt(++l)])?r=e.charAt(++l):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),c=l+1);return a.push(e.slice(c,l)),a.join("")}}function Re(e,n){return function(i){var a,s,l=o(1900);if(Ie(l,e,i+="",0)!=i.length)return null;if("Q"in l)return new Date(l.Q);if("p"in l&&(l.H=l.H%12+12*l.p),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(s=(a=r(o(l.y))).getUTCDay(),a=s>4||0===s?t.utcMonday.ceil(a):t.utcMonday(a),a=t.utcDay.offset(a,7*(l.V-1)),l.y=a.getUTCFullYear(),l.m=a.getUTCMonth(),l.d=a.getUTCDate()+(l.w+6)%7):(s=(a=n(o(l.y))).getDay(),a=s>4||0===s?t.timeMonday.ceil(a):t.timeMonday(a),a=t.timeDay.offset(a,7*(l.V-1)),l.y=a.getFullYear(),l.m=a.getMonth(),l.d=a.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),s="Z"in l?r(o(l.y)).getUTCDay():n(o(l.y)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(s+5)%7:l.w+7*l.U-(s+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,r(l)):n(l)}}function Ie(e,t,n,r){for(var o,i,a=0,l=t.length,c=n.length;a<l;){if(r>=c)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=we[o in s?t.charAt(a++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return Ne.x=Pe(a,Ne),Ne.X=Pe(l,Ne),Ne.c=Pe(i,Ne),Te.x=Pe(a,Te),Te.X=Pe(l,Te),Te.c=Pe(i,Te),{format:function(e){var t=Pe(e+="",Ne);return t.toString=function(){return e},t},parse:function(e){var t=Re(e+="",n);return t.toString=function(){return e},t},utcFormat:function(e){var t=Pe(e+="",Te);return t.toString=function(){return e},t},utcParse:function(e){var t=Re(e,r);return t.toString=function(){return e},t}}}var a,s={"-":"",_:" ",0:"0"},l=/^\s*\d+/,c=/^%/,u=/[\\^$*+?|[\]().{}]/g;function d(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function p(e){return e.replace(u,"\\$&")}function f(e){return new RegExp("^(?:"+e.map(p).join("|")+")","i")}function h(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function m(e,t,n){var r=l.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function g(e,t,n){var r=l.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function b(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function v(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function y(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function O(e,t,n){var r=l.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function x(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function j(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function E(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function S(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function C(e,t,n){var r=l.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function _(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function A(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function N(e,t,n){var r=l.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function T(e,t,n){var r=l.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function w(e,t,n){var r=l.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function P(e,t,n){var r=c.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function R(e,t,n){var r=l.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function I(e,t,n){var r=l.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function D(e,t){return d(e.getDate(),t,2)}function k(e,t){return d(e.getHours(),t,2)}function M(e,t){return d(e.getHours()%12||12,t,2)}function L(e,n){return d(1+t.timeDay.count(t.timeYear(e),e),n,3)}function U(e,t){return d(e.getMilliseconds(),t,3)}function F(e,t){return U(e,t)+"000"}function B(e,t){return d(e.getMonth()+1,t,2)}function z(e,t){return d(e.getMinutes(),t,2)}function V(e,t){return d(e.getSeconds(),t,2)}function q(e){var t=e.getDay();return 0===t?7:t}function G(e,n){return d(t.timeSunday.count(t.timeYear(e),e),n,2)}function H(e,n){var r=e.getDay();return e=r>=4||0===r?t.timeThursday(e):t.timeThursday.ceil(e),d(t.timeThursday.count(t.timeYear(e),e)+(4===t.timeYear(e).getDay()),n,2)}function W(e){return e.getDay()}function Y(e,n){return d(t.timeMonday.count(t.timeYear(e),e),n,2)}function K(e,t){return d(e.getFullYear()%100,t,2)}function Z(e,t){return d(e.getFullYear()%1e4,t,4)}function $(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+d(t/60|0,"0",2)+d(t%60,"0",2)}function X(e,t){return d(e.getUTCDate(),t,2)}function J(e,t){return d(e.getUTCHours(),t,2)}function Q(e,t){return d(e.getUTCHours()%12||12,t,2)}function ee(e,n){return d(1+t.utcDay.count(t.utcYear(e),e),n,3)}function te(e,t){return d(e.getUTCMilliseconds(),t,3)}function ne(e,t){return te(e,t)+"000"}function re(e,t){return d(e.getUTCMonth()+1,t,2)}function oe(e,t){return d(e.getUTCMinutes(),t,2)}function ie(e,t){return d(e.getUTCSeconds(),t,2)}function ae(e){var t=e.getUTCDay();return 0===t?7:t}function se(e,n){return d(t.utcSunday.count(t.utcYear(e),e),n,2)}function le(e,n){var r=e.getUTCDay();return e=r>=4||0===r?t.utcThursday(e):t.utcThursday.ceil(e),d(t.utcThursday.count(t.utcYear(e),e)+(4===t.utcYear(e).getUTCDay()),n,2)}function ce(e){return e.getUTCDay()}function ue(e,n){return d(t.utcMonday.count(t.utcYear(e),e),n,2)}function de(e,t){return d(e.getUTCFullYear()%100,t,2)}function pe(e,t){return d(e.getUTCFullYear()%1e4,t,4)}function fe(){return"+0000"}function he(){return"%"}function me(e){return+e}function ge(e){return Math.floor(+e/1e3)}function be(t){return a=i(t),e.timeFormat=a.format,e.timeParse=a.parse,e.utcFormat=a.utcFormat,e.utcParse=a.utcParse,a}be({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ve=Date.prototype.toISOString?function(e){return e.toISOString()}:e.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),ye=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:e.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");e.timeFormatDefaultLocale=be,e.timeFormatLocale=i,e.isoFormat=ve,e.isoParse=ye,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(/*! d3-time */980))},1033:
/*!**************************************************************!*\
  !*** ./common/components/SectionHeader/SectionHeaderTabs.js ***!
  \**************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @babel/runtime/helpers/extends */75),o=n.n(r),i=(n(/*! react */8),n(/*! prop-types */3)),a=n.n(i),s=n(/*! classnames */22),l=n.n(s),c=n(/*! react-router-dom */1117),u=n(/*! @emotion/core */1);function d(e){var t=e.children,n=e.active,r=e.href,o=e.linkText;return Object(u.jsx)("li",{className:l()("section-header-tab",{"section-header-tab-is-active":n})},t||Object(u.jsx)("a",{href:r,className:"section-header-tab-link"},o))}function p(e){var t=e.href,n=e.exact,r=e.linkText;return Object(u.jsx)(c.Route,{path:t,exact:n},(function(n){var i=n.match;return Object(u.jsx)(d,o()({},e,{active:null!==i}),Object(u.jsx)(c.Link,{to:t,className:"section-header-tab-link"},r))}))}function f(e){var t=e.children;return Object(u.jsx)("ul",{className:"section-header-tabs"},t)}d.propTypes={children:a.a.node,active:a.a.bool,href:a.a.string,linkText:a.a.string},d.defaultProps={children:null,active:!1,href:"",linkText:""},p.propTypes={exact:a.a.bool,href:a.a.string,linkText:a.a.string.isRequired},p.defaultProps={exact:!1,href:""},f.propTypes={children:a.a.node.isRequired},f.Tab=d,f.RRTab=p,t.a=f},1035:
/*!**************************************************!*\
  !*** ./project/nds/security/models/Container.js ***!
  \**************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! backbone-parentmodel */16),o=n.n(r),i=n(/*! js/project/nds/security/models/PeerConnectionCollection */968);t.a=o.a.extend({defaults:{atlasCidrBlock:null,vpcId:null,"@provider":null,region:null,id:null,isProvisioned:!1},childCollections:{peers:i.a},getId:function(){return this.get("id")},getAtlasCidrBlock:function(){return this.get("atlasCidrBlock")},getRegion:function(){return this.get("region")},isProvisioned:function(){return this.get("isProvisioned")},getProvider:function(){return this.get("@provider")}})},1036:
/*!***********************************************************!*\
  !*** ../node_modules/@leafygreen-ui/icon/dist/Warning.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(/*! react */8)),a=(o=n(/*! prop-types */3))&&o.__esModule?o:{default:o},s=n(/*! @leafygreen-ui/emotion */39);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        color: ",";\n      "]);return u=function(){return e},e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f={small:14,default:16,large:20,xlarge:24};function h(e,t){if(!1!==t){if(null==t||!0===t){for(var n="".concat(e.replace(/([A-Z][a-z])/g," $1")," Icon");" "===n.charAt(0);)n=n.substr(1);return n}return t}}var m=function(e){var t=e.className,n=e.size,r=void 0===n?16:n,o=e.title,a=e.customTitleId,l=e.fill,m=d(e,["className","size","title","customTitleId","fill"]),g=i.useMemo((function(){return a||"Warning-"+Math.floor(1e6*Math.random())}),[a]).current,b=(0,s.css)(u(),l);return i.createElement("svg",p({className:(0,s.cx)(c({},b,null!=l),t),title:h("Warning",o),height:"number"==typeof r?r:f[r],width:"number"==typeof r?r:f[r]},m,{viewBox:"0 0 16 16",role:"img","aria-labelledby":g}),void 0===o?i.createElement("title",{id:g},"Glyphs / Warning"):o?i.createElement("title",null,o):null,i.createElement("desc",null,"Created with Sketch."),i.createElement("g",{id:"Glyphs-/-Warning",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M9.30723029,0.76487417 L15.7424591,12.2052809 C16.1486048,12.9273177 15.8925244,13.8418903 15.1704876,14.248036 C14.9459652,14.3743299 14.692701,14.4406727 14.4350958,14.4406727 L1.56463821,14.4406727 C0.736211087,14.4406727 0.0646382121,13.7690999 0.0646382121,12.9406727 C0.0646382121,12.6830675 0.130981021,12.4298033 0.257274906,12.2052809 L6.69250368,0.76487417 C7.09864939,0.0428373535 8.01322203,-0.213242986 8.73525884,0.192902723 C8.97469558,0.327585886 9.17254713,0.525437435 9.30723029,0.76487417 Z M6.74986699,4.36840711 L6.99986699,9.36840711 L8.99986699,9.36840711 L9.24986699,4.36840711 L6.74986699,4.36840711 Z M7.99986699,12.8684071 C8.69022292,12.8684071 9.24986699,12.308763 9.24986699,11.6184071 C9.24986699,10.9280512 8.69022292,10.3684071 7.99986699,10.3684071 C7.30951105,10.3684071 6.74986699,10.9280512 6.74986699,11.6184071 C6.74986699,12.308763 7.30951105,12.8684071 7.99986699,12.8684071 Z",fill:"currentColor"})))};m.displayName="Warning",m.isGlyph=!0,m.propTypes={fill:a.default.string,size:a.default.oneOfType([a.default.number,a.default.string]),className:a.default.string};var g=m;t.default=g},1037:
/*!************************************************************************!*\
  !*** ../node_modules/react-stripe-elements/lib/components/Elements.js ***!
  \************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementContextTypes=t.injectContextTypes=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(/*! react */8)),i=s(n(/*! prop-types */3)),a=n(/*! ./Provider */1090);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var u=t.injectContextTypes={getRegisteredElements:i.default.func.isRequired,elements:i.default.object},d=t.elementContextTypes={addElementsLoadListener:i.default.func.isRequired,registerElement:i.default.func.isRequired,unregisterElement:i.default.func.isRequired},p=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));i._elements=null,i.handleRegisterElement=function(e,t,n,o){i.setState((function(i){return{registeredElements:[].concat(c(i.registeredElements),[r({element:e},t?{impliedTokenType:t}:{},n?{impliedSourceType:n}:{},o?{impliedPaymentMethodType:o}:{})])}}))},i.handleUnregisterElement=function(e){i.setState((function(t){return{registeredElements:t.registeredElements.filter((function(t){return t.element!==e}))}}))};var a=i.props,s=(a.children,l(a,["children"]));return"sync"===i.context.tag&&(i._elements=i.context.stripe.elements(s)),i.state={registeredElements:[]},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){var e=this;return{addElementsLoadListener:function(t){if("sync"===e.context.tag){if(!e._elements)throw new Error("Expected elements to be instantiated but it was not.");t(e._elements)}else e.context.addStripeLoadListener((function(n){if(e._elements)t(e._elements);else{var r=e.props,o=(r.children,l(r,["children"]));e._elements=n.elements(o),t(e._elements)}}))},registerElement:this.handleRegisterElement,unregisterElement:this.handleUnregisterElement,getRegisteredElements:function(){return e.state.registeredElements},elements:this._elements}},t.prototype.render=function(){return o.default.Children.only(this.props.children)},t}(o.default.Component);p.childContextTypes=r({},u,d),p.contextTypes=a.providerContextTypes,p.defaultProps={children:null},t.default=p},1046:
/*!**************************************************************!*\
  !*** ./organization/components/MlabAccount/MlabPropTypes.js ***!
  \**************************************************************/
/*! exports provided: MigrationStatus, AccountPropType, CloudPropType, DeploymentPropType, MigrationPropType, TaskPropType, DeploymentStatsPropType, ClusterDomainPropType */
/*! exports used: AccountPropType, MigrationPropType, MigrationStatus */function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}));var r=n(/*! prop-types */3),o=n.n(r),i={COMPLETED:"COMPLETED",CANCELLED:"CANCELLED",READY_FOR_POST_MIGRATION:"READY_FOR_POST_MIGRATION",READY_FOR_CUTOVER:"READY_FOR_CUTOVER",MIGRATING_DATA:"MIGRATING_DATA",READY_TO_MIGRATE:"READY_TO_MIGRATE",PREPARATION_STARTED:"PREPARATION_STARTED",NOT_STARTED:"NOT_STARTED"},a=o.a.shape({_id:o.a.string,name:o.a.string,displayName:o.a.string,createdDate:o.a.string,atlasSupportPlanInfo:o.a.shape({customAtlasUpliftPercentages:o.a.shape({lastUpdated:o.a.string}),totalMonthlyCosts:o.a.shape({lastUpdated:o.a.string,forPayDeploymentCount:o.a.number,mlab:o.a.number,estimatedAtlasUsage:o.a.number}),noAtlasSupportPlanTab:o.a.bool,doNotDiscourageAtlasSupport:o.a.bool})}),s=o.a.shape({provider:o.a.string.isRequired,region:o.a.string.isRequired}),l=(o.a.shape({_id:o.a.string,mongoVersion:o.a.string,sslDomain:o.a.string,environment:o.a.shape({_id:o.a.string,name:o.a.string,deployments:o.a.arrayOf(o.a.string),cloud:s,ipAddressSpace:o.a.string}),cloud:s,planType:o.a.string,name:o.a.string,mlabDisplayLabel:o.a.string,provisioner:o.a.string,provisioningStatus:o.a.shape({status:o.a.string,message:o.a.string,provisionedDate:o.a.string}),connectionInfo:o.a.shape({uriTemplate:o.a.string,uriComponents:o.a.shape({serverAddresses:o.a.arrayOf(o.a.string),database:o.a.string,replicaSet:o.a.string,ssl:o.a.bool})})}),o.a.shape({_id:o.a.string,targetProjectId:o.a.string,targetClusterName:o.a.string,targetClusterExists:o.a.bool,targetClusterReplicaSetName:o.a.string,targetDatabaseName:o.a.string,wasEverMigrated:o.a.bool,targetClusterHasPreviouslyActiveLiveImports:o.a.bool,migrationVersion:o.a.number,migrationStatus:o.a.string,taskStatus:o.a.objectOf(o.a.shape({ready:o.a.bool,started:o.a.string,completed:o.a.string,updated:o.a.string,status:o.a.string,error:o.a.string,warning:o.a.string,warnings:o.a.arrayOf(o.a.string),errorCodes:o.a.arrayOf(o.a.shape({errorCode:o.a.string,message:o.a.string})),dependsOn:o.a.arrayOf(o.a.string)}))}));o.a.shape({taskId:o.a.string,startTaskText:o.a.string,startTaskSecondaryText:o.a.string,modalTitle:o.a.string,isLongRunningTask:o.a.bool,started:o.a.string,completed:o.a.string,error:o.a.string,startButtonEnabled:o.a.bool,isStatic:o.a.bool}),o.a.shape({totalDataSizeInGB:o.a.number,totalIndexSizeInGB:o.a.number,sizeOnDiskInGB:o.a.number,oplogWindowInHours:o.a.number,storageEngine:o.a.string,plan:o.a.shape({name:o.a.string,type:o.a.string,allocatedDiskInGB:o.a.number,ramInGB:o.a.number,cpuCores:o.a.number}),recommendedAtlasClusterConfiguration:o.a.shape({instanceSize:o.a.string,provider:o.a.string,region:o.a.string,diskSizeGB:o.a.number,isNvme:o.a.bool,estimatedClusterCostPerMonth:o.a.number,estimatedBackupCostPerMonth:o.a.number,estimatedDataTransferCostPerMonth:o.a.number,estimatedUsageCostDescription:o.a.string})}),o.a.shape({awsDomain:o.a.string,gcpDomain:o.a.string,azureDomain:o.a.string})},1048:
/*!******************************************************!*\
  !*** ./project/nds/security/models/WhitelistedIp.js ***!
  \******************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! backbone */7),o=n.n(r),i=n(/*! ip */1077),a=n.n(i),s=n(/*! moment */54),l=n.n(s),c=n(/*! js/project/nds/security/util/tempEntityUtils */937),u=/^sg-[0-9a-z]+$/,d=o.a.Model.extend({idAttribute:"value",defaults:function(){return{deleteAfterDate:null,expirationInterval:c.a.TEMP_EXPIRATION_INTERVAL.NONE}},getIp:function(){return this.get("value")},getComment:function(){return this.get("comment")},getExpirationInterval:function(){return this.get("expirationInterval")},getDeleteAfterDate:function(){return this.get("deleteAfterDate")},isFailed:function(){var e=this.get("statusPerContainer");return Object.keys(e).length&&Object.keys(e).every((function(t){return"FAILED"===e[t]}))},isPartialActive:function(){var e=this.get("statusPerContainer"),t=Object.keys(e).filter((function(t){return"ACTIVE"===e[t]})).length;return t>0&&t!==Object.keys(e).length},isActive:function(){var e=this.get("statusPerContainer");return Object.keys(e).length&&Object.keys(e).every((function(t){return"ACTIVE"===e[t]}))},isPending:function(e){if(e&&0===e.length)return!1;var t=this.get("statusPerContainer");return 0===Object.keys(t).length},getStatus:function(){var e=this.get("statusPerContainer");if(!e)return"PENDING";var t=Object.keys(e),n=t.some((function(t){return"ACTIVE"===e[t]})),r=t.length&&t.every((function(t){return"FAILED"===e[t]}));return n?"ACTIVE":r?"FAILED":"PENDING"},isEditable:function(){return(void 0===this.get("isEditable")||this.get("isEditable"))&&(!this.getComment()||!(this.getComment().includes("For MongoDB Stitch")||this.getComment().includes("For MongoDB Realm")))},isExpired:function(){var e=this.getDeleteAfterDate();return!!e&&l()(e).isBefore(l()())},isNewTemporary:function(){return!this.getDeleteAfterDate()&&this.getExpirationInterval()!==c.a.TEMP_EXPIRATION_INTERVAL.NONE},isPrivateIP:function(){return u.test(this.getIp())||a.a.isPrivate(a.a.cidr(this.getIp()))}});t.a=d},1049:
/*!************************************************!*\
  !*** ../node_modules/os-browserify/browser.js ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},1050:
/*!*******************************************************!*\
  !*** ./project/nds/security/models/PeerConnection.js ***!
  \*******************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! backbone */7),o={INITIATING:"Pending",PENDING_ACCEPTANCE:"Waiting for Approval",FINALIZING:"Setting Up Routes",AVAILABLE:"Available",TERMINATING:"Terminating",FAILED:"Connection Failed"},i={EXPIRED:"The peering connection expired",REJECTED:"The peering connection was rejected by the owner of the remote VPC",INVALID_ARGUMENT:"One or more arguments provided are invalid.",OVERLAPPING_CIDR:"The VPC CIDR block overlaps with Atlas' CIDR block",OVERLAPPING_ROUTE_TABLE_CIDR:"The VPC CIDR block overlaps with another VPC's CIDR block"},a=n.n(r).a.Model.extend({defaults:function(){return{vpcId:null,connectionId:null,status:null,errorState:null,id:null,awsAccountId:null,containerId:null,routeTableCidrBlock:null,accepterRegionName:null}},isPending:function(){return"PENDING_ACCEPTANCE"===this.get("status")},isFailed:function(){return"FAILED"===this.get("status")},isExpired:function(){return"EXPIRED"===this.get("errorState")},isRejected:function(){return"REJECTED"===this.get("errorState")},hasInvalidArguments:function(){return"INVALID_ARGUMENT"===this.get("errorState")},hasOverlappingCidr:function(){return"OVERLAPPING_CIDR"===this.get("errorState")},hasOverlappingRouteTableCidr:function(){return"OVERLAPPING_ROUTE_TABLE_CIDR"===this.get("errorState")},getStatusString:function(){return o[this.get("status")]},getErrorString:function(){return null!==this.get("errorState")&&this.get("errorState")in i?i[this.get("errorState")]:""},getAwsAccountId:function(){return this.get("awsAccountId")},getRouteTableCidrBlock:function(){return this.get("routeTableCidrBlock")},getContainerId:function(){return this.get("containerId")},getVpcId:function(){return this.get("vpcId")},getAccepterRegionName:function(){return this.get("accepterRegionName")}},{ERROR_STRINGS:i,STATUS_STRINGS:o});t.a=a},1051:
/*!*****************************************************!*\
  !*** ./project/nds/security/models/UserSecurity.js ***!
  \*****************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! backbone */7),o=n.n(r).a.Model.extend({defaults:function(){return{ldap:{authenticationEnabled:!1,authorizationEnabled:!1,bindUsername:void 0,bindPassword:void 0,userToDNMapping:void 0,hostname:void 0,port:void 0,caCertificate:void 0},customerX509:{ca:null}}},getLDAP:function(){return this.get("ldap")},getCustomerX509:function(){return this.get("customerX509")},isCustomerX509Enabled:function(){return void 0!==this.get("customerX509")&&void 0!==this.getCustomerX509().cas&&null!==this.getCustomerX509().cas},isLDAPAuthenticationEnabled:function(){return this.getLDAP().authenticationEnabled},isLDAPAuthorizationEnabled:function(){return this.getLDAP().authorizationEnabled},hasUserToDNMapping:function(){return void 0!==this.getLDAP().userToDNMapping&&null!==this.getLDAP().userToDNMapping}});t.a=o},1052:
/*!******************************************!*\
  !*** ./common/components/ButtonGroup.js ***!
  \******************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";n(/*! react */8);var r=n(/*! prop-types */3),o=n.n(r),i=n(/*! classnames */22),a=n.n(i),s=n(/*! @emotion/core */1);function l(e){var t=e.options,n=e.buttonClassName,r=e.value,o=e.onChange,i=e.className;return Object(s.jsx)("div",{className:a()("button-group",i)},t.map((function(e){var t=e.label,i=e.iconClassName,l=e.value;return Object(s.jsx)("button",{key:l,onClick:function(){return o(l)},className:a()("button","button-group-button",n,{"button-is-active":l===r}),type:"button",name:l},i&&Object(s.jsx)("i",{className:a()(i,"button-left-icon"),"aria-hidden":!0}),t)})))}l.propTypes={options:o.a.arrayOf(o.a.shape({label:o.a.string,value:o.a.string.isRequired,iconClassName:o.a.string})).isRequired,buttonClassName:o.a.string,onChange:o.a.func.isRequired,value:o.a.string.isRequired,className:o.a.string},l.defaultProps={options:[],buttonClassName:"",className:void 0},t.a=l},1053:
/*!*******************************************************!*\
  !*** ./project/nds/common/components/RegionSelect.js ***!
  \*******************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @babel/runtime/helpers/defineProperty */4),o=n.n(r),i=n(/*! react */8),a=n.n(i),s=n(/*! prop-types */3),l=n.n(s),c=n(/*! underscore */2),u=n.n(c),d=n(/*! classnames */22),p=n.n(d),f=n(/*! ./regionSchema */896),h=n(/*! js/common/components/DropdownSelect */891),m=n(/*! js/common/components/Tooltip */143),g=n(/*! js/project/nds/clusters/views/regionFlagMappings */1122),b=n(/*! ../../clusters/util/clusterEditorUtils */892),v=n(/*! @emotion/core */1);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=e.placeholder,n=e.value,r=e.onChange,i=e.regions,s=e.className,l=e.isRegionDisabled,c=e.tooltipRenderer,d=e.omitRecommended,f=e.disabled,b=e.tabIndex,y=e.showGrouping,x=e.regionGroupingType,j=[],E=u.a.groupBy(i.map((function(e){return O(O({value:e.key,location:e.location,name:e.name,label:"".concat(e.location," (").concat(e.name,")")},!d&&{isRecommended:e.isRecommended}),{},{key:e.key,disabled:l(e.key),groupName:e[x]})})),(function(e){return e.groupName}));Object.keys(E).forEach((function(e){j.push({label:e,options:E[e]})}));var S=function(e){return g.a[e.key]?Object(v.jsx)("img",{src:"/static/images/".concat(g.a[e.key]),alt:"",className:p()("region-select-option-flag",{"region-select-option-flag-disabled":e.disabled&&e.key!==n})}):""};return Object(v.jsx)(h.a,{placeholder:t,className:p()("dropdown-select",o()({},s,!!s)),value:n,onChange:r,options:j,optionRenderer:function(e){var t=Object(v.jsx)("div",{className:"region-select-option"},Object(v.jsx)("div",null,S(e),"location"in e?Object(v.jsx)(a.a.Fragment,null,Object(v.jsx)("strong",null,e.location,y&&", ".concat(e.groupName))," ",!y&&" (".concat(e.name,")")):e.label),Object(v.jsx)("div",{className:"region-select-option-right-side"},function(e){return e.isRecommended?Object(v.jsx)("label",{className:p()("region-select-option-recommended",{"region-select-option-recommended-not-disabled":!e.disabled||n===e.value})},Object(v.jsx)("i",{className:"fa fa-star"})):""}(e)));return e.disabled&&c&&c(e.key)&&n!==e.value?Object(v.jsx)(m.a,{content:c(e.key),display:"block",effect:"solid",placement:"right"},t):t},valueRenderer:function(e){return Object(v.jsx)("div",null,S(e),Object(v.jsx)("strong",null,e.location,y&&", ".concat(e.groupName)),!y&&" (".concat(e.name,")"))},disabled:f,tabIndex:b})}x.propTypes={placeholder:l.a.oneOfType([l.a.string,l.a.number]),value:l.a.string.isRequired,regions:l.a.arrayOf(l.a.shape(f.a)).isRequired,onChange:l.a.func.isRequired,className:l.a.string,isRegionDisabled:l.a.func,tooltipRenderer:l.a.func,omitRecommended:l.a.bool,disabled:l.a.bool,showGrouping:l.a.bool,tabIndex:l.a.number,regionGroupingType:l.a.oneOf([b.a.CONTINENT,b.a.ENV])},x.defaultProps={placeholder:"",className:null,isRegionDisabled:function(){return!1},tooltipRenderer:void 0,omitRecommended:!1,disabled:!1,showGrouping:!1,regionGroupingType:b.a.CONTINENT},t.a=x},1054:
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/emotion/dist/index.js ***!
  \***********************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o;"undefined"!=typeof self&&self,e.exports=(r=n(/*! create-emotion */342),o=n(/*! create-emotion-server */553),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.renderStylesToNodeStream=t.renderStylesToString=t.extractCritical=t.cache=t.sheet=t.css=t.keyframes=t.injectGlobal=t.getRegisteredStyles=t.merge=t.cx=t.hydrate=t.flush=void 0;var r=i(n(1)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}var a=r.default.flush,s=r.default.hydrate,l=r.default.cx,c=r.default.merge,u=r.default.getRegisteredStyles,d=r.default.injectGlobal,p=r.default.keyframes,f=r.default.css,h=r.default.sheet,m=r.default.cache;t.cache=m,t.sheet=h,t.css=f,t.keyframes=p,t.injectGlobal=d,t.getRegisteredStyles=u,t.merge=c,t.cx=l,t.hydrate=s,t.flush=a;var g=(0,o.default)(m),b=g.extractCritical,v=g.renderStylesToString,y=g.renderStylesToNodeStream;t.renderStylesToNodeStream=y,t.renderStylesToString=v,t.extractCritical=b;var O=r.default;t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=function(){var e={key:"leafygreen-ui"};if("undefined"!=typeof window){e.container=document.createElement("div");var t=document.head;t.insertBefore(e.container,t.firstChild)}return(0,o.default)(e)}();t.default=i},function(e,t){e.exports=r},function(e,t){e.exports=o}]))},1070:
/*!*********************************************************************!*\
  !*** ./project/common/components/EditorLayout/index.ts + 4 modules ***!
  \*********************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/assertThisInitialized.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/classCallCheck.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/createClass.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/defineProperty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/getPrototypeOf.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/inherits.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@emotion/core/dist/core.browser.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Layout/LayoutContext.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(23),o=n.n(r),i=n(24),a=n.n(i),s=n(14),l=n.n(s),c=n(27),u=n.n(c),d=n(28),p=n.n(d),f=n(17),h=n.n(f),m=n(4),g=n.n(m),b=n(8),v=n(3),y=n.n(v),O=n(1);var x={name:"1x2ktk2",styles:"width:calc(100vw - 250px);min-width:870px;"};function j(e){var t=e.children,n=Object(b.useContext)(D);return Object(O.jsx)("header",{className:"editor-layout-header"},Object(O.jsx)("div",{className:"editor-layout-content",css:n?x:null},t))}j.propTypes={children:y.a.node.isRequired};var E=j;var S={name:"1x2ktk2",styles:"width:calc(100vw - 250px);min-width:870px;"};function C(e){var t=e.children,n=Object(b.useContext)(D);return Object(O.jsx)("div",{className:"editor-layout-body"},Object(O.jsx)("div",{className:"editor-layout-content",css:n?S:null},t))}C.propTypes={children:y.a.node.isRequired};var _=C,A=n(22),N=n.n(A);var T={info:"editor-layout-footer-alert-is-info",warn:"editor-layout-footer-alert-is-warn",error:"editor-layout-footer-alert-is-error"},w={name:"1wmrjaf",styles:"width:calc(100vw - 250px);min-width:870px;@media (max-width:870px){width:auto;min-width:0;}"};var P=n(77);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var I={hasGrayBackground:!0,isFullWidth:!0,isStickyHeader:!1,isHeaderBorderless:!0,showMinimalHeader:!0,showSideNav:!1,showFooter:!1,showHeaderControls:!1},D=Object(b.createContext)(!1),k=function(e){u()(n,e);var t=R(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"state",{didModifyLayout:!1}),e}return a()(n,[{key:"componentDidMount",value:function(){this.props.modifyApplicationLayout&&((0,this.context.modifyLayout)(I),this.setState({didModifyLayout:!0}))}},{key:"componentWillUnmount",value:function(){this.state.didModifyLayout&&((0,this.context.resetLayout)(),this.setState({didModifyLayout:!1}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.responsive;return Object(O.jsx)(D.Provider,{value:n},Object(O.jsx)("div",null,t))}}]),n}(b.Component);g()(k,"contextType",P.b),g()(k,"Header",E),g()(k,"Body",_),g()(k,"Footer",(function(e){var t=e.alertLevel,n=void 0===t?"info":t,r=e.alertContent,o=e.errorDocsText,i=e.children,a=e.contentClassName,s=e.sectionClassName,l=Object(b.useContext)(D),c=e.errorDocsUrl;return Object(O.jsx)(b.Fragment,null,Object(O.jsx)("div",{className:"editor-layout-footer-ensure-min-height"}),Object(O.jsx)("footer",{className:N()("editor-layout-footer",s)},r&&Object(O.jsx)("div",{className:"editor-layout-footer-alert ".concat(T[n])},Object(O.jsx)("span",null,r)," ",c&&Object(O.jsx)("a",{target:"_blank",className:"link link-is-for-banner",href:c},o)),Object(O.jsx)("div",{className:N()("editor-layout-footer-content",a),css:l?w:null},i)))})),g()(k,"propTypes",{modifyApplicationLayout:y.a.bool,children:y.a.node.isRequired,responsive:y.a.bool}),g()(k,"defaultProps",{modifyApplicationLayout:!1,responsive:!1})},1072:
/*!***************************************************************!*\
  !*** ./project/nds/common/components/MongoURI.js + 1 modules ***!
  \***************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@emotion/core/dist/core.browser.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/common/components/ConnectModal/AuthModeUtil.js because of ./project/nds/clusters/components/CommandLineToolsPage/CommandLineToolsPage.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(8),o=n.n(r),i={CLUSTER:{value:"CLUSTER",readPreferenceTags:null},ANALYTICS:{value:"ANALYTICS",readPreferenceTags:"nodeType:ANALYTICS"}},a=n(908),s=n(1);t.a=function(e){var t,n,r=e.users,l=e.hostnamePortDriver,c=e.replicaSetName,u=e.driverSupportsSRV,d=e.srvAddress,p=e.database,f=e.authMode,h=e.hasUserToDNMapping,m=e.isRetryWritesSupported,g=e.isAnalyticsNodesSupported,b=e.connectionReadPreferenceType,v=e.writeConcern,y=e.includeUserParam,O={},x=encodeURIComponent("$external");u?(t="mongodb+srv",n=d):(t="mongodb",n=l,O.ssl=!0,c&&(O.replicaSet=encodeURIComponent(c)),j||(O.authSource="admin"));var j=f===a.a.LDAP,E=f===a.a.X509,S=f===a.a.AWS_IAM;j?(O.authSource=x,O.authMechanism="PLAIN"):E?(O.authSource=x,O.authMechanism="MONGODB-X509"):S&&(O.authSource=x,O.authMechanism="MONGODB-AWS"),m&&(O.retryWrites=!0),g&&i[b].readPreferenceTags&&(O.readPreference="secondary",O.readPreferenceTags=i[b].readPreferenceTags),v&&(O.w=v);var C,_=Object.keys(O).map((function(e){return"".concat(e,"=").concat(O[e])})).join("&"),A=_?"?".concat(_):"",N=S?Object(s.jsx)(o.a.Fragment,null,"".concat(A,"&awsIamSessionToken="),Object(s.jsx)("strong",{className:"text-is-green"},"<session token (for AWS IAM Roles)>")):A,T=r.scram&&1===r.scram.count&&r.scram.first||"<username>",w=r.ldap&&1===r.ldap.count&&r.ldap.first||(h?"<mapped username>":"<user DN>"),P=r.x509&&1===r.x509.count&&("MANAGED"===r.x509.firstType?"CN=".concat(r.x509.first):r.x509.first)||"<username>";C=j?w:E?P:S?"<AWS access key>":T;var R=Object(s.jsx)("strong",{className:"text text-is-green text-is-code"},C),I=S?"<AWS secret key>":"<password>",D=p||"<dbname>",k=p?D:Object(s.jsx)("strong",{className:"text text-is-green text-is-code"},D),M=y?"".concat(C).concat(E?"":":".concat(I),"@"):"",L=y?Object(s.jsx)(o.a.Fragment,null,R,!E&&Object(s.jsx)(o.a.Fragment,null,Object(s.jsx)("span",null,":"),Object(s.jsx)("strong",{className:"text-is-green"},I)),"@"):Object(s.jsx)(o.a.Fragment,null);return{uriText:"".concat(t,"://").concat(M).concat(n,"/").concat(D).concat(A),uriMarkup:Object(s.jsx)(o.a.Fragment,null,t,"://",L,n,"/",k,N),userParam:C,userParamMarkup:R,hostname:n?n.split(",")[0].split(":")[0]:void 0}}},1073:
/*!****************************************************!*\
  !*** ./project/common/hbsHelpers/featureGuards.js ***!
  \****************************************************/
/*! exports provided: hasMonitoringAdmin, hasAutomationAdmin, hasGlobalBackupAdmin, hasGlobalReadOnly, hasGlobalOwner, hasActiveUI, hasAutomation, hasNDS, isGroupOwner, isNotGroupOwner, canChangeGroupSettings, isOnPremPlan, isFreeTrialExpired, isLocked, isSuspended, isAutomationDisabled */
/*! exports used: isGroupOwner */function(e,t,n){"use strict";function r(e){return function(t){return function(n){return e(t)?n.fn(this):n.inverse(this)}}}n.d(t,"a",(function(){return o}));r((function(e){return e.isMonitoringAdmin()})),r((function(e){return e.isAutomationAdmin()})),r((function(e){return e.isGlobalBackupAdmin()})),r((function(e){return e.hasGlobalReadOnly()})),r((function(e){return e.hasGlobalOwner()})),r((function(e){return e.hasActiveUI()})),r((function(e){return e.hasAutomation()})),r((function(e){return e.hasNDS()}));var o=r((function(e){return e.isGroupOwner()}));r((function(e){return!e.isGroupOwner()})),r((function(e){return e.hasActiveUI()||e.hasGlobalReadOnly()})),r((function(e){return e.isOnPremPlan()})),r((function(e){return e.isFreeTrialExpired()})),r((function(e){return e.isLocked()})),r((function(e){return e.isSuspended()})),r((function(e){return e.isFreeTrialExpired()}))},1074:
/*!************************************************************!*\
  !*** ./project/nds/clusters/models/AtlasConnectOptions.js ***!
  \************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @babel/runtime/helpers/defineProperty */4),o=n.n(r),i=n(/*! backbone */7),a=n.n(i),s=n(/*! ./BIConnectorSettings */344),l={DATA_LAKE_TENANT:"DATA_LAKE_TENANT",CLUSTER_DESCRIPTION:"CLUSTER_DESCRIPTION"},c="type",u="name",d="connectableName",p="isTenant",f="srvAddress",h="privateLinkSrvAddresses",m="privateSrvAddress",g="hostnamePortShell",b="privateLinkHostnamePortShell",v="privateHostnamePortShell",y="hostnamePortDriver",O="privateHostnamePortDriver",x="privateLinkHostnamePortDriver",j="replicaSetName",E="supportsRetryWrite",S="hasAnalyticsNodes",C="BIConnector",_="commandLineToolsUrl",A="connectableSupportsSRV",N="connectableSupportsIAMAuth",T="writeConcern",w="mongoDBMajorVersion",P=a.a.Model.extend({defaults:function(){var e;return e={},o()(e,c,l.CLUSTER_DESCRIPTION),o()(e,u,""),o()(e,d,"cluster"),o()(e,p,!1),o()(e,f,""),o()(e,h,""),o()(e,m,""),o()(e,g,""),o()(e,b,""),o()(e,v,""),o()(e,y,""),o()(e,O,""),o()(e,x,""),o()(e,j,null),o()(e,E,!1),o()(e,S,!1),o()(e,C,new s.a),o()(e,_,""),o()(e,A,!0),o()(e,N,!1),o()(e,T,"majority"),o()(e,w,""),e},getType:function(){return this.get(c)},getName:function(){return this.get(u)},getMongoDBMajorVersion:function(){return this.get(w)},getConnectableName:function(){return this.get(d)},getSRVAddress:function(){return this.get(f)},getPrivateSRVAddress:function(){return this.get(m)},getPrivateLinkSRVAddress:function(e){var t=this.get(h);return t&&Object.keys(t).length>0?t[e]:""},getHostNamePortShell:function(){return this.get(g)},getPrivateHostnamePortShell:function(){return this.get(v)},getPrivateLinkConnectHostnamePortShell:function(e){var t=this.get(b);return t&&Object.keys(t).length>0?t[e]:""},getHostNamePortDriver:function(){return this.get(y)},getPrivateConnectHostnamePortDriver:function(){return this.get(O)},getPrivateLinkConnectHostnamePortDriver:function(e){var t=this.get(x);return t&&Object.keys(t).length>0?t[e]:""},getReplicaSetName:function(){return this.get(j)},getSupportsRetryWrite:function(){return this.get(E)},getHasAnalyticsNodes:function(){return this.get(S)},getBIConnector:function(){return this.get(C)},getCommandLineToolsUrl:function(){return this.get(_)},getConnectableSupportsSRV:function(){return this.get(A)},getConnectableSupportsIAMAuth:function(){return this.get(N)},getWriteConcern:function(){return this.get(T)},isTenant:function(){return this.isTenantCluster()||this.isDataLakeTenant()},isTenantCluster:function(){return this.get(c)===l.CLUSTER_DESCRIPTION&&this.get(p)},isDataLakeTenant:function(){return this.get(c)===l.DATA_LAKE_TENANT}},{fromDataLakeTenant:function(e){var t,n=e.name,r=e.hostnames,i=r&&r[0]||"";return new P((t={},o()(t,c,l.DATA_LAKE_TENANT),o()(t,u,n),o()(t,p,!0),o()(t,f,i),o()(t,g,i),o()(t,y,i),o()(t,A,!1),o()(t,T,null),o()(t,d,"data lake"),t))},fromClusterDescription:function(e){var t;return new P((t={},o()(t,c,l.CLUSTER_DESCRIPTION),o()(t,u,e.getName()),o()(t,p,e.isTenant()),o()(t,f,e.get("srvAddress")),o()(t,h,e.getPrivateLinkSRVAddresses()),o()(t,m,e.getPrivateSRVAddress()),o()(t,g,e.getConnectHostnamePortShell()),o()(t,v,e.getPrivateConnectHostnamePortShell()),o()(t,b,e.getPrivateLinkConnectHostnamePortShell()),o()(t,y,e.getConnectHostnamePortDriver()),o()(t,O,e.getPrivateConnectHostnamePortDriver()),o()(t,x,e.getPrivateLinkConnectHostnamePortDriver()),o()(t,j,e.isShardedCluster()?null:e.getDeploymentItemName()),o()(t,E,e.supportsRetryWrite()),o()(t,N,e.supportsIAMAuth()),o()(t,S,e.hasAnalyticsNodes()),o()(t,C,e.getBIConnector()),o()(t,_,e.getCommandLineToolsUrl()),o()(t,w,e.getMongoDBMajorVersion()),t))},TYPES:l});t.a=P},1075:
/*!*********************************************************!*\
  !*** ./project/common/extensions/mixins/insertModal.js ***!
  \*********************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @babel/runtime/helpers/defineProperty */4),o=n.n(r),i=n(/*! js/project/common/util/mixinBeforeExtension */100);t.a=function(e){return Object(i.a)({insertModal:function(t,n){if(!("trackForRemoval"in this))throw new Error("This View must have removeViewOnDestroy mixed in to function");this.$(e).empty().html("<div></div>");var r=n(this.$("".concat(e," > *:first-child"))).render();return this.trackForRemoval(o()({},"".concat(t,"Modal"),r)),r},removeModal:function(){this.$(e).empty()}})}},1076:
/*!********************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/radio-group/dist/index.web.js ***!
  \********************************************************************/
/*! no static exports found */
/*! exports used: Radio, RadioGroup */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a;window,e.exports=(r=n(/*! react */8),o=n(/*! prop-types */3),i=n(/*! @leafygreen-ui/theme */551),a=n(/*! @leafygreen-ui/emotion */39),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={Default:"default",Light:"light"}},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Radio",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"RadioGroup",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Variant",{enumerable:!0,get:function(){return i.default}});var r=a(n(6)),o=a(n(7)),i=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(n(1)),o=l(n(2)),i=n(3),a=n(4),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){var e=E(["\n  line-height: 0.9em;\n"]);return v=function(){return e},e}function y(){var e=E(["\n    color: ",";\n    cursor: not-allowed;\n  "]);return y=function(){return e},e}function O(){var e=E(["\n    color: ",";\n    cursor: not-allowed;\n  "]);return O=function(){return e},e}function x(){var e=E(["\n  margin-right: 0.5em;\n  cursor: pointer;\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n"]);return x=function(){return e},e}function j(){var e=E(["\n  cursor: pointer;\n  margin-bottom: 5px;\n  display: block;\n"]);return j=function(){return e},e}function E(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S=(0,a.css)(j()),C=(0,a.css)(x()),_={default:(0,a.css)(O(),i.colors.gray[5]),light:(0,a.css)(y(),i.colors.gray[4])},A=(0,a.css)(v()),N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,o,i=(t=s,function(){var e,n=g(t);if(m()){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return h(this,e)});function s(){return d(this,s),i.apply(this,arguments)}return n=s,(o=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=e.onChange,i=e.value,s=e.checked,l=e.disabled,c=e.id,d=e.name,p=e.variant,f=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","className","onChange","value","checked","disabled","id","name","variant"]);return r.default.createElement("label",{htmlFor:c,className:(0,a.cx)(S,n)},r.default.createElement("input",u({},f,{id:c,name:d,type:"radio",className:C,onChange:o,value:i,checked:s,"aria-checked":s,disabled:l,"aria-disabled":l})),r.default.createElement("span",{className:(0,a.cx)(A,b({},_[p],l))},t))}}])&&p(n.prototype,o),s}(r.PureComponent);t.default=N,b(N,"displayName","Radio"),b(N,"propTypes",{checked:o.default.bool,disabled:o.default.bool,className:o.default.string,children:o.default.node,onChange:o.default.func,value:o.default.oneOfType([o.default.string,o.default.number]).isRequired,id:o.default.string,name:o.default.string,variant:o.default.oneOf(["default","light"]),default:o.default.bool}),b(N,"defaultProps",{checked:!1,disabled:!1,className:"",onChange:function(){},variant:s.default.Default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==v(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(n(1)),o=l(n(2)),i=n(3),a=n(4),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}function c(){var e=j(["\n            "," ","\n          "]);return c=function(){return e},e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){var e=j(["\n  padding: 5px;\n"]);return y=function(){return e},e}function O(){var e=j(["\n    color: ",";\n  "]);return O=function(){return e},e}function x(){var e=j(["\n    color: ",";\n  "]);return x=function(){return e},e}function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E={default:(0,a.css)(x(),i.colors.gray[2]),light:(0,a.css)(O(),i.colors.gray[6])},S=(0,a.css)(y()),C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,o,i=(t=s,function(){var e,n=g(t);if(m()){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return f(this,e)});function s(){var e;u(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(h(e=i.call.apply(i,[this].concat(n))),"state",{value:null}),b(h(e),"defaultName","radio-group-".concat(Math.floor(1e6*Math.random()))),b(h(e),"handleChange",(function(t){var n=e.props,r=n.onChange,o=n.value;r&&r(t),o||e.setState({value:t.target.value})})),e}return n=s,(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.children,o=t.name,i=void 0===o?this.defaultName:o,s=t.className,l=t.variant,u=t.value,d=void 0===u?this.state.value:u,p=r.default.Children.map(n,(function(t,n){if(null==(o=t)||"object"!==v(o)||!("type"in o)||"Radio"!==o.type.displayName)return t;var o,a=e.props.value===t.props.value||d?d===t.props.value:t.props.default;return r.default.cloneElement(t,{onChange:e.handleChange,id:t.props.id||"".concat(e.defaultName,"-button-").concat(n),checked:a,variant:l,name:i})})),f=E[l];return r.default.createElement("div",{className:(0,a.cx)((0,a.css)(c(),f,S),s),role:"group","aria-label":i},p)}}])&&d(n.prototype,o),s}(r.PureComponent);t.default=C,b(C,"displayName","RadioGroup"),b(C,"propTypes",{variant:o.default.oneOf(["default","light"]),className:o.default.string,value:o.default.oneOfType([o.default.string,o.default.number]),onChange:o.default.func,children:o.default.node,name:o.default.string}),b(C,"defaultProps",{variant:s.default.Default,className:"",onChange:function(){}})}]))},1077:
/*!************************************!*\
  !*** ../node_modules/ip/lib/ip.js ***!
  \************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r=t,o=n(/*! buffer */98).Buffer,i=n(/*! os */1049);r.toBuffer=function(e,t,n){var r;if(n=~~n,this.isV4Format(e))r=t||new o(n+4),e.split(/\./g).map((function(e){r[n++]=255&parseInt(e,10)}));else if(this.isV6Format(e)){var i,a=e.split(":",8);for(i=0;i<a.length;i++){var s;this.isV4Format(a[i])&&(s=this.toBuffer(a[i]),a[i]=s.slice(0,2).toString("hex")),s&&++i<8&&a.splice(i,0,s.slice(2,4).toString("hex"))}if(""===a[0])for(;a.length<8;)a.unshift("0");else if(""===a[a.length-1])for(;a.length<8;)a.push("0");else if(a.length<8){for(i=0;i<a.length&&""!==a[i];i++);var l=[i,1];for(i=9-a.length;i>0;i--)l.push("0");a.splice.apply(a,l)}for(r=t||new o(n+16),i=0;i<a.length;i++){var c=parseInt(a[i],16);r[n++]=c>>8&255,r[n++]=255&c}}if(!r)throw Error("Invalid ip address: "+e);return r},r.toString=function(e,t,n){t=~~t;var r=[];if(4===(n=n||e.length-t)){for(var o=0;o<n;o++)r.push(e[t+o]);r=r.join(".")}else if(16===n){for(o=0;o<n;o+=2)r.push(e.readUInt16BE(t+o).toString(16));r=(r=(r=r.join(":")).replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3")).replace(/:{3,4}/,"::")}return r};var a=/^(\d{1,3}\.){3,3}\d{1,3}$/,s=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;function l(e){return e?e.toLowerCase():"ipv4"}r.isV4Format=function(e){return a.test(e)},r.isV6Format=function(e){return s.test(e)},r.fromPrefixLen=function(e,t){var n=4;"ipv6"===(t=e>32?"ipv6":l(t))&&(n=16);for(var i=new o(n),a=0,s=i.length;a<s;++a){var c=8;e<8&&(c=e),e-=c,i[a]=255&~(255>>c)}return r.toString(i)},r.mask=function(e,t){e=r.toBuffer(e),t=r.toBuffer(t);var n=new o(Math.max(e.length,t.length)),i=0;if(e.length===t.length)for(i=0;i<e.length;i++)n[i]=e[i]&t[i];else if(4===t.length)for(i=0;i<t.length;i++)n[i]=e[e.length-4+i]&t[i];else{for(i=0;i<n.length-6;i++)n[i]=0;for(n[10]=255,n[11]=255,i=0;i<e.length;i++)n[i+12]=e[i]&t[i+12];i+=12}for(;i<n.length;i++)n[i]=0;return r.toString(n)},r.cidr=function(e){var t=e.split("/"),n=t[0];if(2!==t.length)throw new Error("invalid CIDR subnet: "+n);var o=r.fromPrefixLen(parseInt(t[1],10));return r.mask(n,o)},r.subnet=function(e,t){for(var n=r.toLong(r.mask(e,t)),o=r.toBuffer(t),i=0,a=0;a<o.length;a++)if(255===o[a])i+=8;else for(var s=255&o[a];s;)s=s<<1&255,i++;var l=Math.pow(2,32-i);return{networkAddress:r.fromLong(n),firstAddress:l<=2?r.fromLong(n):r.fromLong(n+1),lastAddress:l<=2?r.fromLong(n+l-1):r.fromLong(n+l-2),broadcastAddress:r.fromLong(n+l-1),subnetMask:t,subnetMaskLength:i,numHosts:l<=2?l:l-2,length:l,contains:function(e){return n===r.toLong(r.mask(e,t))}}},r.cidrSubnet=function(e){var t=e.split("/"),n=t[0];if(2!==t.length)throw new Error("invalid CIDR subnet: "+n);var o=r.fromPrefixLen(parseInt(t[1],10));return r.subnet(n,o)},r.not=function(e){for(var t=r.toBuffer(e),n=0;n<t.length;n++)t[n]=255^t[n];return r.toString(t)},r.or=function(e,t){if(e=r.toBuffer(e),t=r.toBuffer(t),e.length===t.length){for(var n=0;n<e.length;++n)e[n]|=t[n];return r.toString(e)}var o=e,i=t;t.length>e.length&&(o=t,i=e);var a=o.length-i.length;for(n=a;n<o.length;++n)o[n]|=i[n-a];return r.toString(o)},r.isEqual=function(e,t){if(e=r.toBuffer(e),t=r.toBuffer(t),e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if(4===t.length){var o=t;t=e,e=o}for(n=0;n<10;n++)if(0!==t[n])return!1;var i=t.readUInt16BE(10);if(0!==i&&65535!==i)return!1;for(n=0;n<4;n++)if(e[n]!==t[n+12])return!1;return!0},r.isPrivate=function(e){return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^f[cd][0-9a-f]{2}:/i.test(e)||/^fe80:/i.test(e)||/^::1$/.test(e)||/^::$/.test(e)},r.isPublic=function(e){return!r.isPrivate(e)},r.isLoopback=function(e){return/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(e)||/^fe80::1$/.test(e)||/^::1$/.test(e)||/^::$/.test(e)},r.loopback=function(e){if("ipv4"!==(e=l(e))&&"ipv6"!==e)throw new Error("family must be ipv4 or ipv6");return"ipv4"===e?"127.0.0.1":"fe80::1"},r.address=function(e,t){var n,o=i.networkInterfaces();if(t=l(t),e&&"private"!==e&&"public"!==e){var a=o[e].filter((function(e){return e.family.toLowerCase()===t}));if(0===a.length)return;return a[0].address}return(n=Object.keys(o).map((function(n){var i=o[n].filter((function(n){return n.family=n.family.toLowerCase(),n.family===t&&!r.isLoopback(n.address)&&(!e||("public"===e?r.isPrivate(n.address):r.isPublic(n.address)))}));return i.length?i[0].address:void 0})).filter(Boolean)).length?n[0]:r.loopback(t)},r.toLong=function(e){var t=0;return e.split(".").forEach((function(e){t<<=8,t+=parseInt(e)})),t>>>0},r.fromLong=function(e){return(e>>>24)+"."+(e>>16&255)+"."+(e>>8&255)+"."+(255&e)}},1078:
/*!***********************************************!*\
  !*** ./common/components/ObscurableInput.tsx ***!
  \***********************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @babel/runtime/helpers/slicedToArray */20),o=n.n(r),i=n(/*! react */8),a=n(/*! @emotion/core */1);var s={name:"79elbk",styles:"position:relative;"},l=function(e,t){var n=e.id,r=void 0===n?"":n,l=e.name,c=e.onChange,u=e.value,d=void 0===u?"":u,p=e.placeholder,f=void 0===p?"":p,h=e.inputClass,m=void 0===h?"form-control wizard-form-field-control obscurable-input-form":h,g=e.containerClass,b=void 0===g?"wizard-form-field-input-button-group":g,v=e.toggleClass,y=void 0===v?"obscurable-input-toggle":v,O=e.inputCss,x=void 0===O?{}:O,j=e.containerCss,E=void 0===j?s:j,S=e.toggleCss,C=void 0===S?{}:S,_=e.initialObscured,A=void 0===_||_,N=e.disabled,T=void 0!==N&&N,w=Object(i.useState)(A),P=o()(w,2),R=P[0],I=P[1],D=Object(i.useRef)(null);Object(i.useImperativeHandle)(t,(function(){return{focus:function(){D.current&&D.current.focus()}}}));var k=R?"password":"text",M=R?"Show":"Hide";return Object(a.jsx)("div",{className:b,css:E},Object(a.jsx)("input",{id:r||l,css:x,type:k,placeholder:f,name:l,className:m,autoComplete:"new-password",onChange:c,value:d,ref:D,disabled:T}),Object(a.jsx)("button",{type:"button",css:C,name:"".concat(l,"-toggle"),className:y,onClick:function(e){e.preventDefault(),I(!R)}},M))};t.a=Object(i.forwardRef)(l)},1079:
/*!*****************************************!*\
  !*** ./common/utils/stringGenerator.js ***!
  \*****************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @babel/runtime/helpers/toConsumableArray */29),o=n.n(r);t.a={_pattern:/[a-zA-Z0-9]/,_getRandomByte:function(){var e;return window.crypto&&window.crypto.getRandomValues?(e=new Uint8Array(1),window.crypto.getRandomValues(e),e[0]):window.msCrypto&&window.msCrypto.getRandomValues?(e=new Uint8Array(1),window.msCrypto.getRandomValues(e),e[0]):Math.floor(256*Math.random())},getRandomString:function(e){var t=this;return Array.apply(void 0,o()(Array(e))).map((function(){for(var e;;)if(e=String.fromCharCode(t._getRandomByte()),t._pattern.test(e))return e})).join("")}}},1080:
/*!**************************************************************!*\
  !*** ./project/nds/security/services/userSecurityService.js ***!
  \**************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! jquery */10),o=n.n(r),i=n(/*! js/project/nds/security/models/UserSecurity */1051),a=n(/*! js/project/common/util/jqueryErrorHandler */46);t.a={getUserSecurity:function(e){return o.a.ajax({url:"/nds/".concat(e,"/userSecurity"),method:"GET"}).then((function(e){return new i.a(e,{parse:!0})}),a.a)}}},1081:
/*!*************************************************************************!*\
  !*** ./common/components/SpreadsheetPropagationForm/cellWithConfig.tsx ***!
  \*************************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(/*! @babel/runtime/helpers/extends */75),o=n.n(r),i=n(/*! react */8),a=n.n(i),s=n(/*! underscore */2),l=n.n(s),c=n(/*! @emotion/core */1),u=new Map;var d=new Map;function p(e,t){return a.a.isValidElement(t)?{__reactElement:!0,type:(r=t.type,"string"==typeof r?r:(u.has(r)||u.set(r,l.a.uniqueId(r.displayName||r.name||"Component")),u.get(r))),owner:(n=t._owner,d.has(n)||d.set(n,l.a.uniqueId("owner element")),d.get(n)),props:t.props}:"function"==typeof t?t.toString():t;var n,r}function f(e){var t={};return function(n){var r=JSON.stringify(n,p);return t[r]||(t[r]=function(t){return Object(c.jsx)(e,o()({},t,n))}),t[r]}}},1082:
/*!************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/@leafygreen-ui/popover/dist/index.js ***!
  \************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a,s,l;window,e.exports=(r=n(/*! react */8),o=n(/*! prop-types */3),i=n(/*! react-transition-group */1083),a=n(/*! @leafygreen-ui/portal */1088),s=n(/*! @leafygreen-ui/emotion */39),l=n(/*! @leafygreen-ui/hooks */988),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Justify=t.Align=void 0,t.Align={Top:"top",Bottom:"bottom",Left:"left",Right:"right",CenterVertical:"center-vertical",CenterHorizontal:"center-horizontal"},t.Justify={Start:"start",Middle:"middle",End:"end",Fit:"fit"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Align",{enumerable:!0,get:function(){return i.Align}}),Object.defineProperty(t,"Justify",{enumerable:!0,get:function(){return i.Justify}}),Object.defineProperty(t,"ElementPosition",{enumerable:!0,get:function(){return i.ElementPosition}}),Object.defineProperty(t,"PopoverProps",{enumerable:!0,get:function(){return i.PopoverProps}}),t.default=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(0),a=o.default;t.default=a},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(3)),i=p(n(4)),a=n(5),s=p(n(6)),l=n(7),c=n(8),u=n(0),d=n(9);function p(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(){var e=y(["\n              display: none;\n            "]);return h=function(){return e},e}function m(){var e=y(["\n    transform: translate3d(0, 0, 0) scale(1);\n    opacity: 1;\n    position: ",";\n    pointer-events: initial;\n  "]);return m=function(){return e},e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){var e=y(["\n  transition: transform 150ms ease-in-out, opacity 150ms ease-in-out;\n  position: absolute;\n  opacity: 0;\n"]);return v=function(){return e},e}function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O=(0,l.css)(v()),x={attributes:!0,characterData:!0,childList:!0,subtree:!0};function j(e){var t=e.active,n=void 0!==t&&t,r=e.usePortal,i=void 0===r||r,p=e.spacing,b=void 0===p?10:p,v=e.align,y=void 0===v?u.Align.Bottom:v,j=e.justify,E=void 0===j?u.Justify.Start:j,S=e.adjustOnMutation,C=void 0!==S&&S,_=e.children,A=e.className,N=e.portalClassName,T=e.refEl,w=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["active","usePortal","spacing","align","justify","adjustOnMutation","children","className","portalClassName","refEl"]),P=g((0,c.useElementNode)(),2),R=P[0],I=P[1],D=g((0,c.useElementNode)(),2),k=D[0],M=D[1],L=g((0,o.useState)(0),2),U=L[0],F=L[1],B=o.default.useRef(k);B.current=k;var z=null;if(T&&T.current)z=T.current;else if(R){var V=R.parentNode;V&&V instanceof HTMLElement&&(z=V)}var q=(0,c.useViewportSize)(),G=(0,c.useMutationObserver)(z,x,(function(){return Date.now()}),C),H=(0,c.useMutationObserver)(k,x,(function(){return Date.now()}),C),W=(0,d.getElementViewportPosition)(z),Y=(0,d.getElementViewportPosition)(k),K=(0,o.useMemo)((function(){return(0,d.getElementDocumentPosition)(z)}),[z,q,G,n,y,E,U]),Z=(0,o.useMemo)((function(){return(0,d.getElementDocumentPosition)(k)}),[k,q,H,n,y,E,U]),$=(0,o.useRef)(),X=(0,o.useRef)(),J=$.current,Q=X.current;(0,o.useEffect)((function(){$.current=E,X.current=y})),(0,o.useLayoutEffect)((function(){(J!==E&&(E===u.Justify.Fit||J===u.Justify.Fit)||Q!==y&&E===u.Justify.Fit)&&F((function(e){return e+1}))}));var ee=(0,d.calculatePosition)({useRelativePositioning:!i,spacing:b,align:y,justify:E,referenceElViewportPos:W,referenceElDocumentPos:K,contentElViewportPos:Y,contentElDocumentPos:Z}),te=ee.align,ne=ee.justify,re=ee.positionCSS,oe=(0,l.css)(m(),i?"":"absolute"),ie=i?s.default:o.Fragment,ae=i?{className:N}:{},se=_?"function"==typeof _?_({align:te,justify:ne,referenceElPos:K}):_:null;return o.default.createElement(a.Transition,{nodeRef:B,in:n,timeout:{exit:150},mountOnEnter:!0,unmountOnExit:!0},(function(e){return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{ref:I,className:(0,l.css)(h())}),o.default.createElement(ie,ae,o.default.createElement("div",f({},w,{ref:M,className:(0,l.cx)(O,(0,l.css)(re),(t={},n=oe,r="entered"===e,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t),A)}),se)));var t,n,r}))}j.displayName="Popover",j.propTypes={children:i.default.oneOfType([i.default.node,i.default.func]),active:i.default.bool,className:i.default.string,align:i.default.oneOf(Object.values(u.Align)),justify:i.default.oneOf(Object.values(u.Justify)),refEl:i.default.shape({current:"undefined"!=typeof window?i.default.instanceOf(Element):i.default.any}),usePortal:i.default.bool,portalClassName:i.default.string,spacing:i.default.number,adjustOnMutation:i.default.bool},j.defaultProps={children:void 0,align:u.Align.Bottom,justify:u.Justify.Start,active:!1,usePortal:!0,spacing:10,adjustOnMutation:!1};var E=j;t.default=E},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=s},function(e,t){e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculatePosition=function(e){var t=e.useRelativePositioning,n=e.spacing,r=e.align,o=e.justify,i=e.referenceElViewportPos,a=void 0===i?b:i,s=e.referenceElDocumentPos,l=void 0===s?b:s,c=e.contentElViewportPos,u=void 0===c?b:c,f=e.contentElDocumentPos,h=void 0===f?b:f,g=e.windowHeight,x=void 0===g?window.innerHeight:g,j=e.windowWidth,E=void 0===j?window.innerWidth:j,R={windowWidth:E,windowHeight:x,referenceElViewportPos:a,contentElViewportPos:u,spacing:n},I=function(e,t){var n=t.spacing,r=t.windowWidth,o=t.windowHeight,i=t.contentElViewportPos,a=t.referenceElViewportPos;return[e].concat(p(w[e])).find((function(e){return[d.Align.Top,d.Align.Bottom,d.Align.CenterVertical].includes(e)?T({top:_({align:e,contentElPos:i,referenceElPos:a,spacing:n}),windowHeight:o,contentHeight:i.height}):!![d.Align.Left,d.Align.Right,d.Align.CenterHorizontal].includes(e)&&N({left:A({align:e,contentElPos:i,referenceElPos:a,spacing:n}),windowWidth:r,contentWidth:i.width})}))||e}(r,R),D=function(e,t,n){var r,o,i=n.spacing,a=n.windowWidth,s=n.windowHeight,l=n.contentElViewportPos,c=n.referenceElViewportPos,u=[e].concat(p(P[e]));switch(t){case d.Align.Top:case d.Align.Bottom:case d.Align.CenterVertical:return null!==(r=u.find((function(e){return N({contentWidth:e===d.Justify.Fit?c.width:l.width,windowWidth:a,left:A({contentElPos:l,referenceElPos:c,spacing:i,align:t,justify:e})})})))&&void 0!==r?r:P[e][0];case d.Align.Left:case d.Align.Right:case d.Align.CenterHorizontal:return null!==(o=u.find((function(e){return T({contentHeight:e===d.Justify.Fit?c.height:l.height,windowHeight:s,top:_({contentElPos:l,referenceElPos:c,spacing:i,align:t,justify:e})})})))&&void 0!==o?o:P[e][0]}}(o,I,R),k=function(e){var t,n,r=e.justify,o=O[e.align],i=null!==(t=o.x)&&void 0!==t?t:y[r],a=null!==(n=o.y)&&void 0!==n?n:v[r];return"".concat(i," ").concat(a)}({align:I,justify:D}),M=function(e,t){switch(e){case d.Align.Top:return"translate3d(0, ".concat(t,"px, 0) scale(").concat(.8,")");case d.Align.Bottom:return"translate3d(0, -".concat(t,"px, 0) scale(").concat(.8,")");case d.Align.Left:return"translate3d(".concat(t,"px, 0, 0) scale(").concat(.8,")");case d.Align.Right:return"translate3d(-".concat(t,"px, 0, 0) scale(").concat(.8,")");case d.Align.CenterHorizontal:case d.Align.CenterVertical:return"scale(".concat(.8,")")}}(I,n);return t?{align:I,justify:D,positionCSS:m({},S({align:I,justify:D,referenceElDocumentPos:l,contentElDocumentPos:h,spacing:n}),{transformOrigin:k,transform:M})}:{align:I,justify:D,positionCSS:m({},C({align:I,justify:D,referenceElDocumentPos:l,contentElDocumentPos:h,spacing:n,windowHeight:x,windowWidth:E}),{transformOrigin:k,transform:M})}},t.getElementDocumentPosition=function(e){if(!e)return b;var t=e.getBoundingClientRect(),n=t.top,r=t.bottom,o=t.left,i=t.right,a=e.offsetHeight,s=e.offsetWidth,l=window,c=l.scrollX,u=l.scrollY;return{top:n+u,bottom:r+u,left:o+c,right:i+c,height:a,width:s}},t.getElementViewportPosition=function(e){if(!e)return b;var t=e.getBoundingClientRect();return{top:t.top,bottom:t.bottom,left:t.left,right:t.right,height:e.offsetHeight,width:e.offsetWidth}};var r,o,i,a,s,l,c,u,d=n(0);function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={top:0,bottom:0,left:0,right:0,height:0,width:0},v=(g(r={},d.Justify.Start,"top"),g(r,d.Justify.Middle,"center"),g(r,d.Justify.End,"bottom"),g(r,d.Justify.Fit,"center"),r),y=(g(o={},d.Justify.Start,"left"),g(o,d.Justify.Middle,"center"),g(o,d.Justify.End,"right"),g(o,d.Justify.Fit,"center"),o),O=(g(i={},d.Align.Left,{x:"right"}),g(i,d.Align.Right,{x:"left"}),g(i,d.Align.Top,{y:"bottom"}),g(i,d.Align.Bottom,{y:"top"}),g(i,d.Align.CenterHorizontal,{x:"center"}),g(i,d.Align.CenterVertical,{y:"center"}),i),x=(g(a={},d.Justify.Start,{top:0}),g(a,d.Justify.End,{bottom:0}),g(a,d.Justify.Middle,(function(e){var t=e.contentElDocumentPos,n=e.referenceElDocumentPos;return{top:"".concat(n.height/2-t.height/2,"px")}})),g(a,d.Justify.Fit,{top:0,bottom:0}),a),j=(g(s={},d.Justify.Start,{left:0}),g(s,d.Justify.End,{right:0}),g(s,d.Justify.Middle,(function(e){var t=e.contentElDocumentPos,n=e.referenceElDocumentPos;return{left:"".concat(n.width/2-t.width/2,"px")}})),g(s,d.Justify.Fit,{left:0,right:0}),s),E=(g(l={},d.Align.Top,{constant:function(e){var t=e.spacing;return{bottom:"calc(100% + ".concat(t,"px)")}},justifyPositions:j}),g(l,d.Align.Bottom,{constant:function(e){var t=e.spacing;return{top:"calc(100% + ".concat(t,"px)")}},justifyPositions:j}),g(l,d.Align.CenterVertical,{constant:function(e){var t=e.referenceElDocumentPos;return{top:"calc(".concat(t.height/2,"px - 50%)")}},justifyPositions:j}),g(l,d.Align.Left,{constant:function(e){var t=e.spacing;return{right:"calc(100% + ".concat(t,"px)")}},justifyPositions:x}),g(l,d.Align.Right,{constant:function(e){var t=e.spacing;return{left:"calc(100% + ".concat(t,"px)")}},justifyPositions:x}),g(l,d.Align.CenterHorizontal,{constant:function(e){var t=e.referenceElDocumentPos;return{left:"calc(".concat(t.width/2,"px - 50%)")}},justifyPositions:x}),l);function S(e){var t,n=e.align,r=e.justify,o=e.referenceElDocumentPos,i=e.contentElDocumentPos,a=e.spacing,s=E[n],l=s.justifyPositions[r],c={contentElDocumentPos:i,referenceElDocumentPos:o,spacing:a};return m({},null===(t=s.constant)||void 0===t?void 0:t.call(s,c),{},"function"==typeof l?l(c):l)}function C(e){var t=e.align,n=e.justify,r=e.referenceElDocumentPos,o=e.contentElDocumentPos,i=e.spacing,a=e.windowWidth,s=e.windowHeight,l="".concat(A({align:t,justify:n,referenceElPos:r,contentElPos:o,spacing:i}),"px"),c="".concat(_({align:t,justify:n,referenceElPos:r,contentElPos:o,spacing:i}),"px");return n!==d.Justify.Fit?{left:l,top:c}:[d.Align.Left,d.Align.Right,d.Align.CenterHorizontal].includes(t)?{left:l,top:c,bottom:"".concat(s-r.bottom,"px")}:{left:l,top:c,right:"".concat(a-r.right,"px")}}function _(e){var t=e.align,n=e.justify,r=e.contentElPos,o=e.referenceElPos,i=e.spacing;switch(t){case d.Align.Left:case d.Align.Right:case d.Align.CenterHorizontal:switch(n){case d.Justify.Start:case d.Justify.Fit:return o.top;case d.Justify.End:return o.top+o.height-r.height;case d.Justify.Middle:default:return o.top-(r.height-o.height)/2}case d.Align.CenterVertical:return o.top-(r.height-o.height)/2;case d.Align.Top:return o.top-r.height-i;case d.Align.Bottom:default:return o.top+o.height+i}}function A(e){var t=e.align,n=e.justify,r=e.contentElPos,o=e.referenceElPos,i=e.spacing;switch(t){case d.Align.Top:case d.Align.Bottom:case d.Align.CenterVertical:switch(n){case d.Justify.End:return o.left+o.width-r.width;case d.Justify.Middle:return o.left-(r.width-o.width)/2;case d.Justify.Start:case d.Justify.Fit:default:return o.left}case d.Align.Left:return o.left-r.width-i;case d.Align.Right:return o.left+o.width+i;case d.Align.CenterHorizontal:default:return o.left-(r.width-o.width)/2}}function N(e){var t=e.left,n=e.windowWidth,r=e.contentWidth;return t>=0&&!(t+r>n)}function T(e){var t=e.top,n=e.windowHeight,r=e.contentHeight;return t>=0&&!(t+r>n)}var w=(g(c={},d.Align.Top,[d.Align.Bottom]),g(c,d.Align.Bottom,[d.Align.Top]),g(c,d.Align.Left,[d.Align.Right]),g(c,d.Align.Right,[d.Align.Left]),g(c,d.Align.CenterHorizontal,[d.Align.Left,d.Align.Right]),g(c,d.Align.CenterVertical,[d.Align.Top,d.Align.Bottom]),c),P=(g(u={},d.Justify.Start,[d.Justify.End,d.Justify.Middle]),g(u,d.Justify.Middle,[d.Justify.End,d.Justify.Start]),g(u,d.Justify.End,[d.Justify.Start,d.Justify.Middle]),g(u,d.Justify.Fit,[d.Justify.Middle,d.Justify.Start,d.Justify.End]),u)}]))},1083:
/*!***********************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/react-transition-group/cjs/index.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.config=t.Transition=t.TransitionGroup=t.SwitchTransition=t.ReplaceTransition=t.CSSTransition=void 0;var r=c(n(/*! ./CSSTransition */1084));t.CSSTransition=r.default;var o=c(n(/*! ./ReplaceTransition */1085));t.ReplaceTransition=o.default;var i=c(n(/*! ./SwitchTransition */1087));t.SwitchTransition=i.default;var a=c(n(/*! ./TransitionGroup */987));t.TransitionGroup=a.default;var s=c(n(/*! ./Transition */943));t.Transition=s.default;var l=c(n(/*! ./config */985));function c(e){return e&&e.__esModule?e:{default:e}}t.config=l.default},1084:
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/react-transition-group/cjs/CSSTransition.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;s(n(/*! prop-types */3));var r=s(n(/*! dom-helpers/addClass */538)),o=s(n(/*! dom-helpers/removeClass */539)),i=s(n(/*! react */8)),a=s(n(/*! ./Transition */943));n(/*! ./utils/PropTypes */986);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,o.default)(e,t)}))},u=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.addClass(o,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.addClass=function(e,t,n){var o=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(o+=" "+i),"active"===n&&e&&e.scrollTop,o&&(this.appliedClasses[t][n]=o,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))}(e,o))},s.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,i=n.done;this.appliedClasses[t]={},r&&c(e,r),o&&c(e,o),i&&c(e,i)},s.render=function(){var e=this.props,t=(e.classNames,function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["classNames"]));return i.default.createElement(a.default,l({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},o}(i.default.Component);u.defaultProps={classNames:""},u.propTypes={};var d=u;t.default=d,e.exports=t.default},1085:
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/react-transition-group/cjs/ReplaceTransition.js ***!
  \***********************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;a(n(/*! prop-types */3));var r=a(n(/*! react */8)),o=a(n(/*! react-dom */99)),i=a(n(/*! ./TransitionGroup */987));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.handleLifecycle=function(e,t,n){var i,a=this.props.children,s=r.default.Children.toArray(a)[t];if(s.props[e]&&(i=s.props)[e].apply(i,n),this.props[e]){var l=s.props.nodeRef?void 0:o.default.findDOMNode(this);this.props[e](l)}},s.render=function(){var e=this.props,t=e.children,n=e.in,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["children","in"]),a=r.default.Children.toArray(t),s=a[0],l=a[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,r.default.createElement(i.default,o,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);s.propTypes={};var l=s;t.default=l,e.exports=t.default},1086:
/*!************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/react-transition-group/cjs/utils/ChildMapping.js ***!
  \************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=i,t.getInitialChildMapping=function(e,t){return o(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=o(e.children),l=i(t,s);return Object.keys(l).forEach((function(o){var i=l[o];if((0,r.isValidElement)(i)){var c=o in t,u=o in s,d=t[o],p=(0,r.isValidElement)(d)&&!d.props.in;!u||c&&!p?u||!c||p?u&&c&&(0,r.isValidElement)(d)&&(l[o]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:d.props.in,exit:a(i,"exit",e),enter:a(i,"enter",e)})):l[o]=(0,r.cloneElement)(i,{in:!1}):l[o]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:a(i,"exit",e),enter:a(i,"enter",e)})}})),l};var r=n(/*! react */8);function o(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function i(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];s[o[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},1087:
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/react-transition-group/cjs/SwitchTransition.js ***!
  \**********************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.default=t.modes=void 0;var r,o,i=l(n(/*! react */8)),a=(l(n(/*! prop-types */3)),n(/*! ./Transition */943)),s=l(n(/*! ./TransitionGroupContext */944));function l(e){return e&&e.__esModule?e:{default:e}}var c={out:"out-in",in:"in-out"};t.modes=c;var u=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},d=((r={})[c.out]=function(e){var t=e.current,n=e.changeState;return i.default.cloneElement(t,{in:!1,onExited:u(t,"onExited",(function(){n(a.ENTERING,null)}))})},r[c.in]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,i.default.cloneElement(r,{in:!0,onEntered:u(r,"onEntered",(function(){n(a.ENTERING)}))})]},r),p=((o={})[c.out]=function(e){var t=e.children,n=e.changeState;return i.default.cloneElement(t,{in:!0,onEntered:u(t,"onEntered",(function(){n(a.ENTERED,i.default.cloneElement(t,{in:!0}))}))})},o[c.in]=function(e){var t=e.current,n=e.children,r=e.changeState;return[i.default.cloneElement(t,{in:!1,onExited:u(t,"onExited",(function(){r(a.ENTERED,i.default.cloneElement(n,{in:!0}))}))}),i.default.cloneElement(n,{in:!0})]},o),f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={status:a.ENTERED,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.appeared=!0},r.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===a.ENTERING&&e.mode===c.in?{status:a.ENTERING}:!t.current||(n=t.current,r=e.children,n===r||i.default.isValidElement(n)&&i.default.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:i.default.cloneElement(e.children,{in:!0})}:{status:a.EXITING};var n,r},o.render=function(){var e,t=this.props,n=t.children,r=t.mode,o=this.state,l=o.status,c=o.current,u={children:n,current:c,changeState:this.changeState,status:l};switch(l){case a.ENTERING:e=p[r](u);break;case a.EXITING:e=d[r](u);break;case a.ENTERED:e=c}return i.default.createElement(s.default.Provider,{value:{isMounting:!this.appeared}},e)},r}(i.default.Component);f.propTypes={},f.defaultProps={mode:c.out};var h=f;t.default=h},1088:
/*!***********************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/@leafygreen-ui/portal/dist/index.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i;window,e.exports=(r=n(/*! react */8),o=n(/*! prop-types */3),i=n(/*! react-dom */99),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1))&&r.__esModule?r:{default:r}).default;t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(2),i=(r=n(3))&&r.__esModule?r:{default:r},a=n(4);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)(),2),n=t[0],r=t[1];return(0,o.useEffect)((function(){if(!e.container){var t=(n=document.createElement("div"),document.body.appendChild(n),n);return r(t),function(){t.remove()}}var n;r(e.container)}),[e.container]),(0,o.useEffect)((function(){var t;n&&!e.container&&(n.className=null!==(t=e.className)&&void 0!==t?t:"")}),[n,e.container,e.className]),n?(0,a.createPortal)(e.children,n):null}l.displayName="Portal",l.propTypes={children:i.default.node,className:i.default.string,container:i.default.oneOfType([i.default.node,i.default.object])};var c=l;t.default=c},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i}]))},1089:
/*!********************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/@leafygreen-ui/lib/dist/index.js ***!
  \********************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isComponentType=function(e,t){return null!=e&&"object"===s(e)&&"type"in e&&e.type.displayName===t},t.createDataProp=function(e){return{prop:a({},"data-leafygreen-ui",e),selector:"[".concat("data-leafygreen-ui",'="').concat(e,'"]')}},Object.defineProperty(t,"IdAllocator",{enumerable:!0,get:function(){return o.default}}),t.typeIs=t.AriaCurrentValue=t.keyMap=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(n(2));function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.typeIs=i,t.keyMap={ArrowUp:38,ArrowDown:40,ArrowLeft:37,ArrowRight:39,Enter:13,Escape:27,Space:32,Tab:9},t.AriaCurrentValue={Page:"page",Step:"step",Location:"location",Date:"date",Time:"time",True:"true",Unset:"false"}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"value",0),a(this,"prefix",void 0),this.prefix=t}var t,n,o;return t=e,o=[{key:"create",value:function(t){var n,r=null!==(n=this.registry.get(t))&&void 0!==n?n:new e(t);return e.registry.set(t,r),r}},{key:"snapshot",value:function(){var e={};return this.registry.forEach((function(t){e[t.prefix]=t.value})),e}},{key:"restore",value:function(e){var t=this;this.registry.forEach((function(t){e&&t.prefix in e||(t.value=0)})),e&&Object.entries(e).forEach((function(e){var n,o=r(e,2),i=o[0],a=o[1];(null!==(n=t.registry.get(i))&&void 0!==n?n:t.create(i)).value=a}))}}],(n=[{key:"generate",value:function(){return"".concat(this.prefix,"-").concat(this.value++)}}])&&i(t.prototype,n),o&&i(t,o),e}();t.default=s,a(s,"registry",new Map)},function(e,t,n){"use strict";function r(e){return null!=e&&e.nodeType===Node.ELEMENT_NODE}Object.defineProperty(t,"__esModule",{value:!0}),t.element=r,t.button=function(e){return r(e)&&"button"===e.tagName.toLowerCase()},t.input=function(e){return r(e)&&"input"===e.tagName.toLowerCase()},t.array=function(e){return null!=e&&e instanceof Array}}])},1090:
/*!************************************************************************!*\
  !*** ../node_modules/react-stripe-elements/lib/components/Provider.js ***!
  \************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.providerContextTypes=void 0;var r=i(n(/*! react */8)),o=i(n(/*! prop-types */3));function i(e){return e&&e.__esModule?e:{default:e}}var a=t.providerContextTypes={tag:o.default.string.isRequired,stripe:o.default.object,addStripeLoadListener:o.default.func},s=function(e,t){window.Stripe.__cachedInstances=window.Stripe.__cachedInstances||{};var n="key="+e+" options="+JSON.stringify(t),r=window.Stripe.__cachedInstances[n]||window.Stripe(e,t);return window.Stripe.__cachedInstances[n]=r,r},l=function(e){if(e&&e.elements&&e.createSource&&e.createToken&&e.createPaymentMethod&&e.handleCardPayment)return e;throw new Error("Please pass a valid Stripe object to StripeProvider. You can obtain a Stripe object by calling 'Stripe(...)' with your publishable key.")},c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));if(r.props.apiKey&&r.props.stripe)throw new Error("Please pass either 'apiKey' or 'stripe' to StripeProvider, not both.");if(r.props.apiKey){if(!window.Stripe)throw new Error("Please load Stripe.js (https://js.stripe.com/v3/) on this page to use react-stripe-elements. If Stripe.js isn't available yet (it's loading asynchronously, or you're using server-side rendering), see https://github.com/stripe/react-stripe-elements#advanced-integrations");var o=r.props,i=o.apiKey,a=(o.children,o.stripe,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(o,["apiKey","children","stripe"]));r._meta={tag:"sync",stripe:s(i,a)}}else if(r.props.stripe)r._meta={tag:"sync",stripe:l(r.props.stripe)};else{if(null!==r.props.stripe)throw new Error("Please pass either 'apiKey' or 'stripe' to StripeProvider. If you're using 'stripe' but don't have a Stripe instance yet, pass 'null' explicitly.");r._meta={tag:"async",stripe:null}}return r._didWarn=!1,r._didWakeUpListeners=!1,r._listeners=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){var e=this;return"sync"===this._meta.tag?{tag:"sync",stripe:this._meta.stripe}:{tag:"async",addStripeLoadListener:function(t){e._meta.stripe?t(e._meta.stripe):e._listeners.push(t)}}},t.prototype.componentDidUpdate=function(e){var t=this.props.apiKey&&e.apiKey&&this.props.apiKey!==e.apiKey,n=this.props.stripe&&e.stripe&&this.props.stripe!==e.stripe;if(!this._didWarn&&(t||n)&&window.console&&window.console.error)return this._didWarn=!0,void console.error("StripeProvider does not support changing the apiKey parameter.");if(!this._didWakeUpListeners&&this.props.stripe){this._didWakeUpListeners=!0;var r=l(this.props.stripe);this._meta.stripe=r,this._listeners.forEach((function(e){e(r)}))}},t.prototype.render=function(){return r.default.Children.only(this.props.children)},t}(r.default.Component);c.propTypes={apiKey:o.default.string,stripe:o.default.object,children:o.default.node},c.childContextTypes=a,c.defaultProps={apiKey:void 0,stripe:void 0,children:null},t.default=c},1111:
/*!******************************************************!*\
  !*** ./project/nds/clusters/models/ClusterDetail.js ***!
  \******************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! backbone */7),o=n.n(r),i=n(/*! js/legacy/activity/models/alert/Alerts */358),a=n(/*! js/project/nds/clusters/models/CapacityWarningCollection */1219),s=n(/*! js/project/nds/clusters/models/LiveImport */1170),l="Loading",c="Initializing",u="Enabled",d="Disabled",p="Recovering",f=o.a.Model.extend({defaults:function(){return{clusterDescription:null,deploymentItem:null,openAlerts:new i.a,capacityWarnings:new a.a,liveImport:new s.a}},getClusterDescription:function(){return this.get("clusterDescription")},getClusterInstances:function(){return this.get("clusterInstances")},getDeploymentItem:function(){return this.get("deploymentItem")},getLiveImport:function(){return this.get("liveImport")},setClusterInstances:function(e){this.set("clusterInstances",e)},setDeploymentItem:function(e){this.set("deploymentItem",e)},getOpenAlerts:function(){return this.get("openAlerts")},getCapacityWarnings:function(){return this.get("capacityWarnings")},updateWithOpenAlerts:function(e){var t=this;this.getOpenAlerts().set(e.filterUnacknowledged().filter((function(e){return f.isAlertForClusterDetail(t,e)})))},updateWithCapacityWarnings:function(e){var t=this.getClusterDescription().get("name");this.getCapacityWarnings().set(e.filterByClusterName(t).models)},updateWithLiveImport:function(e){var t=this.getClusterDescription().getName(),n=this.getClusterDescription().getCreateDate(),r=e.find((function(e){return e.getClusterName()===t&&e.getCreateDate()>n}));r&&this.set("liveImport",r)},updateWithEncryptionAtRest:function(e){var t=this.getClusterDescription();t&&t.updateWithEncryptionAtRest(e)},setDerivedBiConnectorState:function(e,t){var n,r=!!e.getBIConnector()&&e.getBIConnector().get("enabled"),o=t.getMongosqlds().getByName(e.getDeploymentItemName());if(e.get("isPaused"))n=r?u:d;else if(!r||o&&o.length)if(r&&o&&o.length){var i=o[0].get("state");n=(i?i.secondsSinceLastStatus:0)<180?u:p}else n=d;else n=c;this.set("derivedBiConnectorState",n)},getDerivedBiConnectorState:function(){if(this.has("derivedBiConnectorState"))return this.get("derivedBiConnectorState");var e=this.getClusterDescription();return!(!e||!e.getBIConnector())&&e.getBIConnector().get("enabled")?l:d}},{fromClusterDescription:function(e){return new f({id:e.id,clusterDescription:e})},isAlertForClusterDetail:function(e,t){var n=t.attributes,r=n.hid,o=n.rsId,i=n.clusterName,a=e.attributes,s=a.clusterDescription,l=a.deploymentItem,c=s.isShardedCluster()?i:o;return c===s.get("name")||(!(!s.isShardedCluster()||!new RegExp("^".concat(c,"-shard-(\\d+)$")).test(o))||!(!r||!l)&&l.getProcesses().find((function(e){var t=e.getState();if(t)return t.getHostId()===r})))}});t.a=f},1112:
/*!******************************************************************!*\
  !*** ./project/nds/clusters/services/clusterInstancesService.js ***!
  \******************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r,o=n(/*! js/project/common/util/Cache */88),i=n(/*! js/project/common/util/servicePoller */76),a=n(/*! js/project/nds/clusters/models/ClusterInstanceCollection */1113),s={},l={};function c(e,t){var n="".concat(e,".").concat(t);return l[n]||(l[n]=new o.a({load:function(){var r="/nds/clusters/".concat(e,"/").concat(t,"/instances");return s[n]||(s[n]=new a.a),s[n].fetch({url:r}).then((function(){return s[n]}))}})),l[n]}function u(e,t){return r||(r=i.a.create((function(){return c(e,t).refresh()}))),r}t.a={getClusterInstances:function(e,t){return s["".concat(e,".").concat(t)]},loadClusterInstances:function(e,t){return c(e,t).get()},startPolling:function(e,t){u(e,t).immediate().start((function(){return 3e4}))},stopPolling:function(){u().stop()}}},1113:
/*!******************************************************************!*\
  !*** ./project/nds/clusters/models/ClusterInstanceCollection.js ***!
  \******************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! backbone */7),o=n.n(r),i=n(/*! ./ClusterInstance */1114);t.a=o.a.Collection.extend({model:i.a,getHost:function(e){return this.find((function(t){return t.getHostnames().some((function(t){return t.hostname===e}))}))}})},1114:
/*!********************************************************!*\
  !*** ./project/nds/clusters/models/ClusterInstance.js ***!
  \********************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! backbone-parentmodel */16),o=n.n(r),i=n(/*! ./Region */243),a=n(/*! js/project/common/util/hostnameHelpers */932);t.a=o.a.extend({childModels:{region:i.a},url:function(){return"/nds/clusters/".concat(this.get("groupId"),"/instance/").concat(Object(a.c)(this.getHostnames()))},getHostnames:function(){return this.get("hostnames")},getZoneName:function(){return this.get("zoneName")},getRegion:function(){return this.get("region")},isElectable:function(){return"ELECTABLE"===this.get("nodeType")},isReadOnly:function(){return"READ_ONLY"===this.get("nodeType")},isAnalytics:function(){return"ANALYTICS"===this.get("nodeType")},getReadableNodeType:function(){return this.isElectable()?"Electable":this.isReadOnly()?"Read-only":this.isAnalytics()?"Analytics":void 0},getRegionPriority:function(){return this.get("regionPriority")},getReplicationSpecId:function(){return this.get("replicationSpecId")},setHostnames:function(e){this.set("hostnames",e)}})},1115:
/*!***********************************************!*\
  !*** ../node_modules/d3-axis/dist/d3-axis.js ***!
  \***********************************************/
/*! no static exports found */
/*! exports used: axisBottom, axisLeft, axisRight */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e){"use strict";var t=Array.prototype.slice;function n(e){return e}function r(e){return"translate("+(e+.5)+",0)"}function o(e){return"translate(0,"+(e+.5)+")"}function i(e){return function(t){return+e(t)}}function a(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function s(){return!this.__axis}function l(e,l){var c=[],u=null,d=null,p=6,f=6,h=3,m=1===e||4===e?-1:1,g=4===e||2===e?"x":"y",b=1===e||3===e?r:o;function v(t){var r=null==u?l.ticks?l.ticks.apply(l,c):l.domain():u,o=null==d?l.tickFormat?l.tickFormat.apply(l,c):n:d,v=Math.max(p,0)+h,y=l.range(),O=+y[0]+.5,x=+y[y.length-1]+.5,j=(l.bandwidth?a:i)(l.copy()),E=t.selection?t.selection():t,S=E.selectAll(".domain").data([null]),C=E.selectAll(".tick").data(r,l).order(),_=C.exit(),A=C.enter().append("g").attr("class","tick"),N=C.select("line"),T=C.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),C=C.merge(A),N=N.merge(A.append("line").attr("stroke","currentColor").attr(g+"2",m*p)),T=T.merge(A.append("text").attr("fill","currentColor").attr(g,m*v).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),t!==E&&(S=S.transition(t),C=C.transition(t),N=N.transition(t),T=T.transition(t),_=_.transition(t).attr("opacity",1e-6).attr("transform",(function(e){return isFinite(e=j(e))?b(e):this.getAttribute("transform")})),A.attr("opacity",1e-6).attr("transform",(function(e){var t=this.parentNode.__axis;return b(t&&isFinite(t=t(e))?t:j(e))}))),_.remove(),S.attr("d",4===e||2==e?f?"M"+m*f+","+O+"H0.5V"+x+"H"+m*f:"M0.5,"+O+"V"+x:f?"M"+O+","+m*f+"V0.5H"+x+"V"+m*f:"M"+O+",0.5H"+x),C.attr("opacity",1).attr("transform",(function(e){return b(j(e))})),N.attr(g+"2",m*p),T.attr(g,m*v).text(o),E.filter(s).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),E.each((function(){this.__axis=j}))}return v.scale=function(e){return arguments.length?(l=e,v):l},v.ticks=function(){return c=t.call(arguments),v},v.tickArguments=function(e){return arguments.length?(c=null==e?[]:t.call(e),v):c.slice()},v.tickValues=function(e){return arguments.length?(u=null==e?null:t.call(e),v):u&&u.slice()},v.tickFormat=function(e){return arguments.length?(d=e,v):d},v.tickSize=function(e){return arguments.length?(p=f=+e,v):p},v.tickSizeInner=function(e){return arguments.length?(p=+e,v):p},v.tickSizeOuter=function(e){return arguments.length?(f=+e,v):f},v.tickPadding=function(e){return arguments.length?(h=+e,v):h},v}e.axisTop=function(e){return l(1,e)},e.axisRight=function(e){return l(2,e)},e.axisBottom=function(e){return l(3,e)},e.axisLeft=function(e){return l(4,e)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},1116:
/*!**************************************************************************************!*\
  !*** ./project/nds/common/components/ConnectDriverMongoURI/ConnectDriverMongoURI.js ***!
  \**************************************************************************************/
/*! exports provided: default, ConnectDriverMongoURI, mapModelsToProps */
/*! exports used: ConnectDriverMongoURI, default */function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n(/*! react */8);var r=n(/*! prop-types */3),o=n.n(r),i=n(/*! connect-backbone-to-react */142),a=n(/*! js/common/components/CopyableCommand */890),s=n(/*! ../MongoURI */1072),l=n(/*! js/project/nds/common/components/ConnectModal/AuthModeUtil */908),c=n(/*! @emotion/core */1);function u(e){var t=e.users,n=e.hostnamePortDriver,r=e.replicaSetName,o=e.driverSupportsSRV,i=e.srvAddress,u=e.database,d=e.authMode,p=e.hasUserToDNMapping,f=e.isRetryWritesSupported,h=e.isAnalyticsNodesSupported,m=e.connectionReadPreferenceType,g=e.writeConcern,b=Object(s.a)({includeUserParam:d!==l.a.X509,users:t,hostnamePortDriver:n,replicaSetName:r,driverSupportsSRV:o,srvAddress:i,database:u,authMode:d,hasUserToDNMapping:p,isRetryWritesSupported:f,isAnalyticsNodesSupported:h,connectionReadPreferenceType:m,writeConcern:g}),v=b.uriText,y=b.uriMarkup;return Object(c.jsx)(a.a,{copyableText:v,commandClassName:"copy-command-is-full-width"},y)}u.propTypes={users:o.a.shape({scram:o.a.shape({first:o.a.string,count:o.a.number}),ldap:o.a.shape({first:o.a.string,count:o.a.number}),x509:o.a.shape({first:o.a.string,count:o.a.number}),awsIAM:o.a.shape({first:o.a.string,count:o.a.number})}),hostnamePortDriver:o.a.string,replicaSetName:o.a.string,driverSupportsSRV:o.a.bool,srvAddress:o.a.string,database:o.a.string,authMode:o.a.string,hasUserToDNMapping:o.a.bool,isRetryWritesSupported:o.a.bool,isAnalyticsNodesSupported:o.a.bool,connectionReadPreferenceType:o.a.string,writeConcern:o.a.string},u.defaultProps={users:{scram:{first:null,count:0},ldap:{first:null,count:0},x509:{first:null,count:0},awsIAM:{first:null,count:0}},writeConcern:"majority",hostnamePortDriver:null,replicaSetName:null,driverSupportsSRV:!1,srvAddress:null,database:null,authMode:null,hasUserToDNMapping:!1,isRetryWritesSupported:!1,isAnalyticsNodesSupported:!1,connectionReadPreferenceType:null},t.b=Object(i.connectBackboneToReact)((function(e){var t=e.uriParams;return{hostnamePortDriver:t.get("hostnamePortDriver"),replicaSetName:t.get("replicaSetName"),driverSupportsSRV:t.get("driverSupportsSRV"),srvAddress:t.get("srvAddress"),database:t.get("database"),authMode:t.get("authMode"),hasUserToDNMapping:t.get("hasUserToDNMapping"),isRetryWritesSupported:t.get("isRetryWritesSupported"),isAnalyticsNodesSupported:t.get("isAnalyticsNodesSupported"),connectionReadPreferenceType:t.get("connectionReadPreferenceType")}}))(u)},1118:
/*!********************************************************!*\
  !*** ./common/components/ExpirationCountdownBubble.js ***!
  \********************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @babel/runtime/helpers/classCallCheck */23),o=n.n(r),i=n(/*! @babel/runtime/helpers/createClass */24),a=n.n(i),s=n(/*! @babel/runtime/helpers/assertThisInitialized */14),l=n.n(s),c=n(/*! @babel/runtime/helpers/inherits */27),u=n.n(c),d=n(/*! @babel/runtime/helpers/possibleConstructorReturn */28),p=n.n(d),f=n(/*! @babel/runtime/helpers/getPrototypeOf */17),h=n.n(f),m=n(/*! @babel/runtime/helpers/defineProperty */4),g=n.n(m),b=n(/*! react */8),v=n.n(b),y=n(/*! prop-types */3),O=n.n(y),x=n(/*! moment */54),j=n.n(x),E=n(/*! classnames */22),S=n.n(E),C=n(/*! @emotion/core */1);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var A=function(e){u()(n,e);var t=_(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"getTimeRemainingText",(function(){var t=e.props.expirationDate,n=j()(),r=j.a.duration(j()(t).diff(n)),o=r.asYears(),i=r.subtract(Math.floor(o),"y").asMonths(),a=r.subtract(Math.floor(i),"M").asWeeks(),s=r.subtract(Math.floor(a),"w").asDays();if(o>=1||12===Math.round(i)){var l=Math.round(o);return"".concat(l," year").concat(l>1?"s":"")}if(i>=1){var c=Math.round(i);return"".concat(c," month").concat(c>1?"s":"")}if(a>=1||7===Math.round(s)){var u=Math.round(a);return"".concat(u," week").concat(u>1?"s":"")}var d=Math.floor(r.subtract(Math.floor(s),"d").asHours()),p=Math.ceil(r.subtract(Math.floor(d),"h").asMinutes());if(60===p&&(d++,p=0),s>=1||24===d){var f=Math.round(s);return"".concat(f," day").concat(f>1?"s":"")}return"".concat(String(d).padStart(2,"0"),":").concat(String(p).padStart(2,"0"))})),g()(l()(e),"isExpired",(function(){var t=e.props.expirationDate;return t&&j()(t).isBefore(j()())})),g()(l()(e),"isExpiring",(function(){var t=e.props.expirationDate;return t&&!e.isExpired()&&j.a.duration(j()(t).diff(j()())).asHours()<=1})),e}return a()(n,[{key:"render",value:function(){var e=this.props.expiredText,t=this.isExpired(),n=this.isExpiring(),r=t?e:this.getTimeRemainingText();return Object(C.jsx)("div",{className:S()("bubble-text",{"bubble-text-is-dark":!t&&!n,"bubble-text-is-warning":n,"bubble-text-is-alert":t})},!t&&Object(C.jsx)("span",null,Object(C.jsx)("i",{className:"fa fa-clock-o"})," "),Object(C.jsx)("span",null,r))}}]),n}(v.a.Component);g()(A,"propTypes",{expirationDate:O.a.string.isRequired,expiredText:O.a.string}),g()(A,"defaultProps",{expiredText:"Expired"}),t.a=A},1119:
/*!***********************************************************!*\
  !*** ./common/components/SectionHeader/SectionSubtabs.js ***!
  \***********************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";n(/*! react */8);var r=n(/*! prop-types */3),o=n.n(r),i=n(/*! classnames */22),a=n.n(i),s=n(/*! @emotion/core */1);function l(e){var t=e.active,n=e.children,r=e.href,o=e.linkText,i=e.backupRestore,l=e.onClick;return Object(s.jsx)("li",{className:a()("section-subtabs-tab",{"section-subtabs-tab-is-active":t})},Object(s.jsx)("a",{href:r,className:a()("section-subtabs-tab-link",{"section-subtabs-tab-link-backup-restore":i}),onClick:l},o,n))}function c(e){var t=e.children,n=e.biggerFont;return Object(s.jsx)("li",{className:a()("section-subtabs-right-item",{"section-subtabs-right-item-is-big":n})},t)}function u(e){var t=e.children;return Object(s.jsx)("ul",{className:"section-subtabs-right"},t)}function d(e){var t=e.children;return Object(s.jsx)("ul",{className:"section-subtabs"},t)}l.propTypes={active:o.a.bool,children:o.a.node,href:o.a.string,linkText:o.a.string,backupRestore:o.a.bool,onClick:o.a.func},l.defaultProps={active:!1,children:null,href:"",linkText:"",backupRestore:!1,onClick:function(){}},c.propTypes={children:o.a.node.isRequired,biggerFont:o.a.bool},c.defaultProps={biggerFont:!1},u.propTypes={children:o.a.node.isRequired},d.propTypes={children:o.a.node.isRequired},d.Info=u,d.InfoItem=c,d.Tab=l,t.a=d},1120:
/*!*************************************************!*\
  !*** ../node_modules/d3-timer/dist/d3-timer.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e){"use strict";var t,n,r=0,o=0,i=0,a=0,s=0,l=0,c="object"==typeof performance&&performance.now?performance:Date,u="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function d(){return s||(u(p),s=c.now()+l)}function p(){s=0}function f(){this._call=this._time=this._next=null}function h(e,t,n){var r=new f;return r.restart(e,t,n),r}function m(){d(),++r;for(var e,n=t;n;)(e=s-n._time)>=0&&n._call.call(null,e),n=n._next;--r}function g(){s=(a=c.now())+l,r=o=0;try{m()}finally{r=0,function(){for(var e,r,o=t,i=1/0;o;)o._call?(i>o._time&&(i=o._time),e=o,o=o._next):(r=o._next,o._next=null,o=e?e._next=r:t=r);n=e,v(i)}(),s=0}}function b(){var e=c.now(),t=e-a;t>1e3&&(l-=t,a=e)}function v(e){r||(o&&(o=clearTimeout(o)),e-s>24?(e<1/0&&(o=setTimeout(g,e-c.now()-l)),i&&(i=clearInterval(i))):(i||(a=c.now(),i=setInterval(b,1e3)),r=1,u(g)))}f.prototype=h.prototype={constructor:f,restart:function(e,r,o){if("function"!=typeof e)throw new TypeError("callback is not a function");o=(null==o?d():+o)+(null==r?0:+r),this._next||n===this||(n?n._next=this:t=this,n=this),this._call=e,this._time=o,v()},stop:function(){this._call&&(this._call=null,this._time=1/0,v())}},e.interval=function(e,t,n){var r=new f,o=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?d():+n,r.restart((function i(a){a+=o,r.restart(i,o+=t,n),e(a)}),t,n),r)},e.now=d,e.timeout=function(e,t,n){var r=new f;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r},e.timer=h,e.timerFlush=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},1121:
/*!************************************************************************!*\
  !*** ./project/nds/common/components/RegionSelectRecommendedLegend.js ***!
  \************************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";n(/*! react */8);var r=n(/*! prop-types */3),o=n.n(r),i=n(/*! js/project/nds/clusters/components/NDSClusterForm/schema */879),a=n(/*! js/common/components/Tooltip */143),s=n(/*! @emotion/core */1);function l(e){var t=e.provider;return Object(s.jsx)("div",{className:"region-select-recommended-legend"},Object(s.jsx)("i",{className:"fa fa-star"})," Recommended region"," ",Object(s.jsx)(a.a,{content:Object(s.jsx)("div",{className:"region-select-recommended-legend-tooltip"},"In recommended regions Atlas replica sets always span 3 ",i.A[t],"s. In other regions only 2"," ",i.A[t],"s are used. Click on the icon to learn more about ",i.A[t],"s.")},Object(s.jsx)("a",{href:{AWS:"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.html",AZURE:"https://docs.microsoft.com/en-us/azure/virtual-machines/linux/overview#availability",GCP:"https://cloud.google.com/compute/docs/regions-zones/regions-zones"}[t],target:"_blank"},Object(s.jsx)("i",{className:"fa fa-info-circle region-select-recommended-legend-info-icon"}))))}l.propTypes={provider:o.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired},t.a=l},1122:
/*!**********************************************************!*\
  !*** ./project/nds/clusters/views/regionFlagMappings.js ***!
  \**********************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";t.a={US_GOV_WEST_1:"flag-us-gov.svg",US_GOV_EAST_1:"flag-us-gov.svg",US_EAST_1:"flag-usa.svg",US_EAST_2:"flag-usa.svg",US_WEST_1:"flag-usa.svg",US_WEST_2:"flag-usa.svg",CA_CENTRAL_1:"flag-canada.svg",EU_NORTH_1:"flag-sweden.svg",EU_WEST_1:"flag-ireland.svg",EU_WEST_2:"flag-britain.svg",EU_WEST_3:"flag-france.svg",EU_CENTRAL_1:"flag-germany.svg",AP_EAST_1:"flag-hongkong.svg",AP_NORTHEAST_1:"flag-japan.svg",AP_NORTHEAST_2:"flag-korea.svg",AP_NORTHEAST_3:"flag-japan.svg",AP_SOUTHEAST_1:"flag-singapore.svg",AP_SOUTHEAST_2:"flag-australia.svg",AP_SOUTH_1:"flag-india.svg",SA_EAST_1:"flag-brazil.svg",ME_SOUTH_1:"flag-bahrain.svg",US_CENTRAL:"flag-usa.svg",US_EAST:"flag-usa.svg",US_NORTH_CENTRAL:"flag-usa.svg",US_WEST:"flag-usa.svg",US_SOUTH_CENTRAL:"flag-usa.svg",EUROPE_NORTH:"flag-ireland.svg",EUROPE_WEST:"flag-netherlands.svg",US_WEST_CENTRAL:"flag-usa.svg",CANADA_EAST:"flag-canada.svg",CANADA_CENTRAL:"flag-canada.svg",BRAZIL_SOUTH:"flag-brazil.svg",AUSTRALIA_EAST:"flag-australia.svg",AUSTRALIA_SOUTH_EAST:"flag-australia.svg",GERMANY_CENTRAL:"flag-germany.svg",GERMANY_NORTH_EAST:"flag-germany.svg",GERMANY_WEST_CENTRAL:"flag-germany.svg",GERMANY_NORTH:"flag-germany.svg",SWITZERLAND_NORTH:"flag-swiss.svg",SWITZERLAND_WEST:"flag-swiss.svg",UK_SOUTH:"flag-britain.svg",UK_WEST:"flag-britain.svg",INDIA_CENTRAL:"flag-india.svg",INDIA_WEST:"flag-india.svg",INDIA_SOUTH:"flag-india.svg",CHINA_EAST:"flag-china.svg",CHINA_NORTH:"flag-china.svg",ASIA_EAST:"flag-hongkong.svg",JAPAN_EAST:"flag-japan.svg",JAPAN_WEST:"flag-japan.svg",ASIA_SOUTH_EAST:"flag-singapore.svg",KOREA_CENTRAL:"flag-korea.svg",KOREA_SOUTH:"flag-korea.svg",FRANCE_CENTRAL:"flag-france.svg",SOUTH_AFRICA_NORTH:"flag-south-africa.svg",UAE_NORTH:"flag-uae.svg",UAE_CENTRAL:"flag-uae.svg",NORWAY_EAST:"flag-norway.svg",WESTERN_US:"flag-usa.svg",CENTRAL_US:"flag-usa.svg",EASTERN_US:"flag-usa.svg",NORTH_AMERICA_NORTHEAST_1:"flag-canada.svg",WESTERN_EUROPE:"flag-belgium.svg",EASTERN_ASIA_PACIFIC:"flag-taiwan.svg",NORTHEASTERN_ASIA_PACIFIC:"flag-japan.svg",SOUTHEASTERN_ASIA_PACIFIC:"flag-singapore.svg",US_EAST_4:"flag-usa.svg",SOUTH_AMERICA_EAST_1:"flag-brazil.svg",EUROPE_NORTH_1:"flag-finland.svg",EUROPE_WEST_2:"flag-britain.svg",EUROPE_WEST_3:"flag-germany.svg",EUROPE_WEST_4:"flag-netherlands.svg",EUROPE_WEST_6:"flag-swiss.svg",ASIA_EAST_2:"flag-hongkong.svg",ASIA_NORTHEAST_2:"flag-japan.svg",ASIA_NORTHEAST_3:"flag-korea.svg",ASIA_SOUTH_1:"flag-india.svg",AUSTRALIA_SOUTHEAST_1:"flag-australia.svg"}},1123:
/*!********************************************************!*\
  !*** ./project/nds/clusters/util/instanceSizeUtils.js ***!
  \********************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @babel/runtime/helpers/classCallCheck */23),o=n.n(r),i=n(/*! underscore */2),a=n.n(i),s=function e(t){o()(this,e);var n=/([MR])([0-9]+).*/;this.instanceClass=n.exec(t)[1],this.size=parseInt(n.exec(t)[2],10)};t.a={compare:function(e,t){var n=new s(e),r=new s(t);return n.size!==r.size?n.size-r.size:-n.instanceClass.localeCompare(r.instanceClass)},addToInstanceArray:function(e,t){var n=t.highCPUEquivalent||t.name,r=e.find((function(e){return e.displayName===n}));if(r)t.isLowCPU?r.lowCPU=t:t.isNVMe?r.NVMe=t:r.highCPU=t;else{var o={displayName:n};t.isLowCPU?o.lowCPU=t:t.isNVMe?o.NVMe=t:o.highCPU=t,e.push(o)}},getInstanceSizesList:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},r=e[t],o=a.a.chain(r.instanceSizes).sortBy((function(e){return e.ram})).sortBy((function(e){return e.defaultStorageGB})).value();return o.filter(n)},getActiveInstanceSizes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.values(e).filter((function(e){return!e.isDeprecated||t.includes(e.name)}))},getComputeAutoScalingInstanceSizes:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return Object.values(this.getActiveInstanceSizes(e,[r,o,i].filter(Boolean))).filter((function(e){return!e.isNVMe&&!e.isLowCPU&&(!n||e.supportsSharding)})).sort((function(e,n){return t.compare(e.name,n.name)}))},isApplicableInstanceSizeByDiskSizeGB:function(e,t,n){var r=e.maxAllowedStorageGB;return t!==e.name&&n<=r},getPreviousApplicableMinInstanceSize:function(e,t,n,r){var o=this,i=e.findIndex((function(e){return e.name===t})),a=function(e,t,n){for(var r=t;r>=0;r--)if(n(e[r],r))return e[r];return null}(e,i-1,(function(e){return o.isApplicableInstanceSizeByDiskSizeGB(e,n,r)}));return a&&a.name||t},getNextApplicableMinInstanceSize:function(e,t,n,r){for(var o=e.findIndex((function(e){return e.name===t})),i=e.findIndex((function(e){return e.name===n})),a=null,s=o;s<=i;s++){var l=e[s];if(r<=l.maxAllowedStorageGB){a=l;break}}return a&&a.name||null},groupInstances:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},o=e[t],i=[].concat(this.getInstanceSizesList(e,"FREE"),this.getInstanceSizesList(e,t)),a=o.minDevelopmentInstanceSize,s=o.minProductionInstanceSize,l=[],c=[],u=[],d=!1,p=!1;i.forEach((function(e){e.name===a&&(d=!0),e.name===s&&(p=!0),p?u.push(e):d?c.push(e):l.push(e)}));var f=[],h=[],m=[];return l.filter(r).forEach((function(e){return n.addToInstanceArray(f,e)})),c.filter(r).forEach((function(e){return n.addToInstanceArray(h,e)})),u.filter(r).forEach((function(e){return n.addToInstanceArray(m,e)})),{tenantInstances:f,developmentInstances:h,performanceInstances:m}}}},1160:
/*!*********************************************************************************!*\
  !*** ./project/nds/common/components/ConnectModal/ConnectModal.js + 30 modules ***!
  \*********************************************************************************/
/*! exports provided: default, ConnectModal, mapModelsToProps */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/assertThisInitialized.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/classCallCheck.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/createClass.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/defineProperty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/getPrototypeOf.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/inherits.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/slicedToArray.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@emotion/core/dist/core.browser.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/button/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/radio-group/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Alert.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/CopyButton.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/CopyableCommand.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/DropdownSelect.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Modal.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/MultiStepWizard.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/ObscurableInput.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Select.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Table/Table.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Tooltip.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/styles/tooltip.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./common/services/localStorage.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/utils/stringGenerator.js */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/core/util/errorHelpers.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/loader.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/mongoDbVersionHelpers.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/segmentAnalytics.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/services/clusterDescriptionService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/util/clusterTrackingUtil.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/common/components/ConnectDriverMongoURI/ConnectDriverMongoURI.js because of ./project/nds/clusters/views/AtlasMongoUriView.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/common/components/ConnectModal/AuthModeUtil.js because of ./project/nds/clusters/views/AtlasMongoUriView.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/common/components/MongoURI.js because of ./project/nds/clusters/views/AtlasMongoUriView.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/components/databaseUsersSchema.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/models/NDSUser.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/models/NDSUserCollection.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/models/WhitelistedIpCollection.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/services/ipWhitelistService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/services/usersService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/types/awsPrivateLink.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/connect-backbone-to-react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/jquery/dist/jquery-exposed.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/underscore/underscore.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(23),o=n.n(r),i=n(24),a=n.n(i),s=n(14),l=n.n(s),c=n(27),u=n.n(c),d=n(28),p=n.n(d),f=n(17),h=n.n(f),m=n(4),g=n.n(m),b=n(8),v=n.n(b),y=n(3),O=n.n(y),x=n(142),j=n(22),E=n.n(j),S=n(42),C=n(143),_=n(112),A=n(891),N=n(1);function T(e){var t=e.groupLabel,n=e.groupName,r=e.onChange,o=e.checkedValue,i=e.radioChoices;return Object(N.jsx)("span",{className:"radio-button-group"},Object(N.jsx)("div",{className:"radio-button-group-group-label"},t),i.map((function(e){return Object(N.jsx)("span",{key:e.value},Object(N.jsx)("input",{type:"radio",className:E()({"option-checked":e.value===o}),name:n,id:e.value,value:e.value,defaultChecked:e.value===o,onChange:function(e){return r(e.target.value)}}),Object(N.jsx)("label",{className:"radio-button-group-option-label",htmlFor:e.value},e.label))})))}T.propTypes={groupLabel:O.a.string.isRequired,groupName:O.a.string.isRequired,onChange:O.a.func.isRequired,checkedValue:O.a.string.isRequired,radioChoices:O.a.arrayOf(O.a.shape({label:O.a.string.isRequired,value:O.a.string.isRequired})).isRequired};var w=T;function P(e){var t=e.children;return Object(N.jsx)("div",{className:"well-container"},t)}P.propTypes={children:O.a.node.isRequired};var R=P,I=n(1116),D=n(890);var k={C:function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:'\n#include <mongoc/mongoc.h>\n#include <stdio.h>\n\nint main(int argc, char *argv[]) {\n  mongoc_collection_t *collection;\n  mongoc_client_t *client;\n  int64_t count;\n  bson_t filter;\n  bson_error_t error;\n\n  mongoc_init();\n  \n  client = mongoc_client_new("'.concat(t,'&tlsCertificateKeyFile=<path_to_certificate>");\n\n\n  collection = mongoc_client_get_collection(client, "testDB", "testCol");\n  filter = BSON_INITIALIZER;\n  count = mongoc_collection_count_documents(collection, &filter, NULL, NULL,\n                                            NULL, &error);\n\n  // ...\n}\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"#include <mongoc/mongoc.h>",Object(N.jsx)("br",null),"#include <stdio.h>",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"int main(int argc, char *argv[]) {",Object(N.jsx)("br",null),"Â Â ","mongoc_collection_t *collection;",Object(N.jsx)("br",null),"Â Â ","mongoc_client_t *client;",Object(N.jsx)("br",null),"Â Â ","int64_t count;",Object(N.jsx)("br",null),"Â Â ","bson_t filter;",Object(N.jsx)("br",null),"Â Â ","bson_error_t error;",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ","mongoc_init();",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ",'client = mongoc_client_new("',n,"&tlsCertificateKeyFile=",Object(N.jsx)("strong",{className:"text-is-green"},"<path_to_certificate>"),'");',Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ",'collection = mongoc_client_get_collection(client, "testDB", "testCol");',Object(N.jsx)("br",null),"Â Â ","filter = BSON_INITIALIZER;",Object(N.jsx)("br",null),"Â Â ","count = mongoc_collection_count_documents(collection, &filter, NULL, NULL, NULL, &error);",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ","// ...",Object(N.jsx)("br",null),"}")}},"C++":function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:'\n#include <iostream>\n#include <mongocxx/client.hpp>\n#include <mongocxx/uri.hpp>\n#include <mongocxx/instance.hpp>\n#include <mongocxx/options/client.hpp>\n\nint main(int, char**) {\n  mongocxx::instance inst{};\n\n  mongocxx::options::ssl ssl_opts{};\n  ssl_opts.pem_file("<path_to_certificate>");\n\n  mongocxx::options::client client_opts{};\n  client_opts.ssl_opts(ssl_opts);\n\n  mongocxx::uri uri("'.concat(t,'&tls=true");\n\n  auto client = mongocxx::client{uri, client_opts};\n  mongocxx::database db = client["testDB"];\n  mongocxx::collection collection = db["testCol"];\n  \n  std::cout << collection.count_documents({});\n}\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"#include <iostream>",Object(N.jsx)("br",null),"#include <mongocxx/client.hpp>",Object(N.jsx)("br",null),"#include <mongocxx/uri.hpp>",Object(N.jsx)("br",null),"#include <mongocxx/instance.hpp>",Object(N.jsx)("br",null),"#include <mongocxx/options/client.hpp>",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"int main(int, char**) {",Object(N.jsx)("br",null),"Â Â ","mongocxx::instance inst{};",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ","mongocxx::options::ssl ssl_opts{};",Object(N.jsx)("br",null),"Â Â ",'ssl_opts.pem_file("',Object(N.jsx)("strong",{className:"text-is-green"},"<path_to_certificate>"),'");',Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ","mongocxx::options::client client_opts{};",Object(N.jsx)("br",null),"Â Â ","client_opts.ssl_opts(ssl_opts);",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ",'mongocxx::uri uri("',n,"&tls=true",'");',Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ","auto client = mongocxx::client{uri, client_opts};",Object(N.jsx)("br",null),"Â Â ",'mongocxx::database db = client["testDB"];',Object(N.jsx)("br",null),"Â Â ",'mongocxx::collection collection = db["testCol"];',Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ","std::cout << collection.count_documents({});",Object(N.jsx)("br",null),"}",Object(N.jsx)("br",null))}},"C# / .NET":function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:'\nusing MongoDB.Bson;\nusing MongoDB.Driver;\nusing System;\nusing System.IO;\nusing System.Threading.Tasks;\nusing System.Collections.Generic;\nusing System.Security.Cryptography.X509Certificates;\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        MainAsync().Wait();\n    }\n\n    static async Task MainAsync()\n    {\n        var connectionString = "'.concat(t,'";\n        var settings = MongoClientSettings.FromConnectionString(connectionString);\n\n        // You will need to convert your Atlas-provided PEM containing the cert/private keys into a PFX\n        // use openssl and the following line to create a PFX from your PEM:\n        // openssl pkcs12 -export -in <x509>.pem -inkey <x509>.pem -out <x509>.pfx -certfile <x509>.pem\n        // and provide a password, which should match the second argument you pass to X509Certificate2\n        var cert = new X509Certificate2("<path_to_pfx>", "<pfx_passphrase>");\n\n        settings.SslSettings = new SslSettings\n        {\n            ClientCertificates = new List<X509Certificate>(){ cert }\n        };\n\n        var client = new MongoClient(settings);\n        var database = client.GetDatabase("testDB");\n        var collection = database.GetCollection<BsonDocument>("testCol");\n            \n        var docCount = collection.CountDocuments("{}");\n        Console.WriteLine(docCount);\n    }\n}\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"using MongoDB.Bson;",Object(N.jsx)("br",null),"using MongoDB.Driver;",Object(N.jsx)("br",null),"using System;",Object(N.jsx)("br",null),"using System.IO;",Object(N.jsx)("br",null),"using System.Threading.Tasks;",Object(N.jsx)("br",null),"using System.Collections.Generic;",Object(N.jsx)("br",null),"using System.Security.Cryptography.X509Certificates;",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"class Program",Object(N.jsx)("br",null),"{",Object(N.jsx)("br",null),"Â Â ","static void Main(string[] args)",Object(N.jsx)("br",null),"Â Â ","{",Object(N.jsx)("br",null),"Â Â Â Â ","MainAsync().Wait();",Object(N.jsx)("br",null),"Â Â ","}",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ","static async Task MainAsync()",Object(N.jsx)("br",null),"Â Â ","{",Object(N.jsx)("br",null),"Â Â Â Â ",'var connectionString = "',n,'";',Object(N.jsx)("br",null),"Â Â Â Â ","var settings = MongoClientSettings.FromConnectionString(connectionString);",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â Â Â ","// You will need to convert your Atlas-provided PEM containing the cert/private keys into a PFX",Object(N.jsx)("br",null),"Â Â Â Â ","// use openssl and the following line to create a PFX from your PEM:",Object(N.jsx)("br",null),"Â Â Â Â ","// openssl pkcs12 -export -in <x509>.pem -inkey <x509>.pem -out <x509>.pfx -certfile <x509>.pem",Object(N.jsx)("br",null),"Â Â Â Â ","// and provide a password, which should match the second argument you pass to X509Certificate2",Object(N.jsx)("br",null),"Â Â Â Â ",'var cert = new X509Certificate2("',Object(N.jsx)("strong",{className:"text-is-green"},"<path_to_pfx>"),'", "',Object(N.jsx)("strong",{className:"text-is-green"},"<pfx_passphrase>"),'");',Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â Â Â ","settings.SslSettings = new SslSettings",Object(N.jsx)("br",null),"Â Â Â Â ","{",Object(N.jsx)("br",null),"Â Â Â Â Â Â ","ClientCertificates = new List<X509Certificate>(){ cert }",Object(N.jsx)("br",null),"Â Â Â Â ","};",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â Â Â ","var client = new MongoClient(settings);",Object(N.jsx)("br",null),"Â Â Â Â ",'var database = client.GetDatabase("testDB");',Object(N.jsx)("br",null),"Â Â Â Â ",'var collection = database.GetCollection<BsonDocument>("testCol");',Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â Â Â ",'var docCount = collection.CountDocuments("{}");',Object(N.jsx)("br",null),"Â Â Â Â ","Console.WriteLine(docCount);",Object(N.jsx)("br",null),"Â Â ","}",Object(N.jsx)("br",null),"}")}},Java:function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:'\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport com.mongodb.client.MongoDatabase;\nimport com.mongodb.client.MongoCollection;\nimport org.bson.Document;\nimport org.bson.BsonDocument;\n\npublic static void main(String args[]) {\n  // Set system properties via commandline or programmatically\n  System.setProperty("javax.net.ssl.keyStore", "<path_to_keystore>");\n  System.setProperty("javax.net.ssl.keyStorePassword", "<keystore_password>");\n\n  String uri = "'.concat(t,'";\n  MongoClient client = MongoClients.create(uri);\n  MongoDatabase database = mongoClient.getDatabase("testDB");\n  MongoCollection<Document> collection = database.getCollection("testCol");\n  BsonDocument filter = new BsonDocument();\n  collection.countDocuments(filter);\n\n  client.close();\n}\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"import com.mongodb.client.MongoClient;",Object(N.jsx)("br",null),"import com.mongodb.client.MongoClients;",Object(N.jsx)("br",null),"import com.mongodb.client.MongoDatabase;",Object(N.jsx)("br",null),"import com.mongodb.client.MongoCollection;",Object(N.jsx)("br",null),"import org.bson.Document;",Object(N.jsx)("br",null),"import org.bson.BsonDocument;",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"public static void main(String args[]) {",Object(N.jsx)("br",null),"Â Â ","// Set system properties via commandline or programmatically",Object(N.jsx)("br",null),"Â Â ",'System.setProperty("javax.net.ssl.keyStore", "',Object(N.jsx)("strong",{className:"text-is-green"},"<path_to_keystore>"),'");',Object(N.jsx)("br",null),"Â Â ",'System.setProperty("javax.net.ssl.keyStorePassword", "',Object(N.jsx)("strong",{className:"text-is-green"},"<keystore_password>"),'");',Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ",'String uri = "',n,'";',Object(N.jsx)("br",null),"Â Â ","MongoClient client = MongoClients.create(uri);",Object(N.jsx)("br",null),"Â Â ",'MongoDatabase database = mongoClient.getDatabase("testDB");',Object(N.jsx)("br",null),"Â Â ",'MongoCollection<Document> collection = database.getCollection("testCol");',Object(N.jsx)("br",null),"Â Â ","BsonDocument filter = new BsonDocument();",Object(N.jsx)("br",null),"Â Â ","collection.countDocuments(filter);",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ","client.close();",Object(N.jsx)("br",null),"}")}},"Node.js":function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:"\nconst { MongoClient } = require('mongodb');\nconst fs = require('fs');\n\nconst credentials = fs.readFileSync('<path_to_certificate>');\n\nconst client = new MongoClient('".concat(t,'\', {\n  sslKey: credentials,\n  sslCert: credentials\n});\n\nasync function run() {\n  try {\n    await client.connect();\n    const database = client.db("testDB");\n    const collection = database.collection("testCol");\n    const docCount = await collection.countDocuments({});\n    console.log(docCount);\n    // perform actions using client\n  } finally {\n    // Ensures that the client will close when you finish/error\n    await client.close();\n  }\n}\n\nrun().catch(console.dir);\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"const { MongoClient } = require('mongodb');",Object(N.jsx)("br",null),"const fs = require('fs');",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"const credentials = fs.readFileSync('",Object(N.jsx)("strong",{className:"text-is-green"},"<path_to_certificate>"),"');",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"const client = new MongoClient('",n,"', {",Object(N.jsx)("br",null),"Â Â ","sslKey: credentials,",Object(N.jsx)("br",null),"Â Â ","sslCert: credentials",Object(N.jsx)("br",null),"});",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"async function run() {",Object(N.jsx)("br",null),"Â Â ","try {",Object(N.jsx)("br",null),"Â Â Â Â ","await client.connect();",Object(N.jsx)("br",null),"Â Â Â Â ",'const database = client.db("testDB");',Object(N.jsx)("br",null),"Â Â Â Â ",'const collection = database.collection("testCol");',Object(N.jsx)("br",null),"Â Â Â Â ","const docCount = await collection.countDocuments({});",Object(N.jsx)("br",null),"Â Â Â Â ","console.log(docCount);",Object(N.jsx)("br",null),"Â Â Â Â ","// perform actions using client",Object(N.jsx)("br",null),"Â Â ","} finally {",Object(N.jsx)("br",null),"Â Â Â Â ","// Ensures that the client will close when you finish/error",Object(N.jsx)("br",null),"Â Â Â Â ","await client.close();",Object(N.jsx)("br",null),"Â Â ","}",Object(N.jsx)("br",null),"}",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"run().catch(console.dir);")}},PHP:function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:"\n<?php\n$certificateKeyFilePath = '<path_to_certificate>';\n$client = new MongoDBClient(\n  '".concat(t,'&tlsCertificateKeyFile=\' . $certificateKeyFilePath\n);\n$collection = $client->testDB->testCol;\n$docCount = $collection->countDocuments();\necho $docCount, "\\n";\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"<?php",Object(N.jsx)("br",null),"$certificateKeyFilePath = '",Object(N.jsx)("strong",{className:"text-is-green"},"<path_to_certificate>"),"';",Object(N.jsx)("br",null),"$client = new MongoDB\\Client(",Object(N.jsx)("br",null),"Â Â ","'",n,"&tlsCertificateKeyFile=' . $certificateKeyFilePath",Object(N.jsx)("br",null),");",Object(N.jsx)("br",null),"$collection = $client->testDB->testCol;",Object(N.jsx)("br",null),"$docCount = $collection->countDocuments();",Object(N.jsx)("br",null),'echo $docCount, "\\n";')}},Python:function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:'\nfrom pymongo import MongoClient\n\nuri = "'.concat(t,"\"\nclient = MongoClient(uri,\n                     tls=True,\n                     tlsCertificateKeyFile='<path_to_certificate>')\n\ndb = client['testDB']\ncollection = db['testCol']\ndoc_count = collection.count_documents({})\nprint(doc_count)\n"),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"from pymongo import MongoClient",Object(N.jsx)("br",null),Object(N.jsx)("br",null),'uri = "',n,'"',Object(N.jsx)("br",null),"client = MongoClient(uri,",Object(N.jsx)("br",null),"Â Â ","tls=True,",Object(N.jsx)("br",null),"Â Â ","tlsCertificateKeyFile='",Object(N.jsx)("strong",{className:"text-is-green"},"<path_to_certificate>"),"')",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"db = client['testDB']",Object(N.jsx)("br",null),"collection = db['testCol']",Object(N.jsx)("br",null),"doc_count = collection.count_documents({})",Object(N.jsx)("br",null),"print(doc_count)")}},Ruby:function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:"\nrequire 'mongo'\ncertificate_key_file_path = '<path_to_certificate>'\nuri = '".concat(t,"&tlsCertificateKeyFile=' + certificate_key_file_path\n\nclient = Mongo::Client.new([ uri ], :database => 'testDB')\n\ncollection = client[:testCol]\ndoc_count = collection.count_documents({})\nprint doc_count\n"),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"require 'mongo'",Object(N.jsx)("br",null),"certificate_key_file_path = '",Object(N.jsx)("strong",{className:"text-is-green"},"<path_to_certificate>"),"'",Object(N.jsx)("br",null),"uri = '",n,"&tlsCertificateKeyFile=' + certificate_key_file_path",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"client = Mongo::Client.new([ uri ], :database => 'testDB')",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"collection = client[:testCol]",Object(N.jsx)("br",null),"doc_count = collection.count_documents({})",Object(N.jsx)("br",null),"print doc_count")}},Scala:function(e){var t=e.hostname;return{exampleText:'\nimport scala.collection.JavaConverters._\nimport org.mongodb.scala._\nimport org.mongodb.scala.bson.collection.mutable.Document\nimport org.mongodb.scala.connection.{ClusterSettings, SslSettings}\n\nobject MongoDBx509 extends App {\n\n  System.setProperty("javax.net.ssl.keyStore", "<path_to_keystore>")\n  System.setProperty("javax.net.ssl.keyStorePassword", "<keystore_password>")\n  \n  val credential = MongoCredential.createMongoX509Credential()\n  \n  val settings = MongoClientSettings.builder()\n    .credential(credential)\n    .applyToClusterSettings(\n      (builder: ClusterSettings.Builder)\n      => builder.hosts(List(new ServerAddress("'.concat(t,'")).asJava))\n    .applyToSslSettings(\n      (builder : SslSettings.Builder)\n      => builder.enabled(true))\n    .build()\n  \n  val client : MongoClient = MongoClient(settings)\n  val database: MongoDatabase = client.getDatabase("testDB")\n  val collection: MongoCollection[Document] = database.getCollection("testCol")\n  \n  val docCount = collection.countDocuments()\n  println(docCount)\n}\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"import scala.collection.JavaConverters._",Object(N.jsx)("br",null),"import org.mongodb.scala._",Object(N.jsx)("br",null),"import org.mongodb.scala.bson.collection.mutable.Document",Object(N.jsx)("br",null),"import org.mongodb.scala.connection.{ClusterSettings, SslSettings}",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"object MongoDBx509 extends App {",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ",'System.setProperty("javax.net.ssl.keyStore", "',Object(N.jsx)("strong",{className:"text-is-green"},"<path_to_keystore>"),'")',Object(N.jsx)("br",null),"Â Â ",'System.setProperty("javax.net.ssl.keyStorePassword", "',Object(N.jsx)("strong",{className:"text-is-green"},"<keystore_password>"),'")',Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ","val credential = MongoCredential.createMongoX509Credential()",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ","val settings = MongoClientSettings.builder()",Object(N.jsx)("br",null),"Â Â Â Â ",".credential(credential)",Object(N.jsx)("br",null),"Â Â Â Â ",".applyToClusterSettings(",Object(N.jsx)("br",null),"Â Â Â Â Â Â ","(builder: ClusterSettings.Builder)",Object(N.jsx)("br",null),"Â Â Â Â Â Â ",'=> builder.hosts(List(new ServerAddress("',t,'")).asJava))',Object(N.jsx)("br",null),"Â Â Â Â ",".applyToSslSettings(",Object(N.jsx)("br",null),"Â Â Â Â Â Â ","(builder : SslSettings.Builder)",Object(N.jsx)("br",null),"Â Â Â Â Â Â ","=> builder.enabled(true))",Object(N.jsx)("br",null),"Â Â Â Â ",".build()",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ","val client : MongoClient = MongoClient(settings)",Object(N.jsx)("br",null),"Â Â ",'val database: MongoDatabase = client.getDatabase("testDB")',Object(N.jsx)("br",null),"Â Â ",'val collection: MongoCollection[Document] = database.getCollection("testCol")',Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â ","val docCount = collection.countDocuments()",Object(N.jsx)("br",null),"Â Â ","println(docCount)",Object(N.jsx)("br",null),"}")}},Go:function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:'\npackage main\n\nimport (\n\t"context"\n\t"fmt"\n\t"log"\n\t"go.mongodb.org/mongo-driver/mongo"\n\t"go.mongodb.org/mongo-driver/mongo/options"\n\t"go.mongodb.org/mongo-driver/bson"\n)\n\nfunc main() {\n\tctx := context.TODO()\n\turi := "'.concat(t,'&tlsCertificateKeyFile=<path_to_certificate>"\n\tclientOpts := options.Client().ApplyURI(uri)\n\n\tclient, err := mongo.Connect(ctx, clientOpts)\n\tif err != nil { log.Fatal(err) }\n\tdefer client.Disconnect(ctx)\n\n\tcollection := client.Database("testDB").Collection("testCol")\n\tdocCount, err := collection.CountDocuments(ctx, bson.D{})\n\tif err != nil { log.Fatal(err) }\n\tfmt.Println(docCount)\n}\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"package main",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"import (",Object(N.jsx)("br",null),"Â Â ",'"context"',Object(N.jsx)("br",null),"Â Â ",'"fmt"',Object(N.jsx)("br",null),"Â Â ",'"log"',Object(N.jsx)("br",null),"Â Â ",'"go.mongodb.org/mongo-driver/mongo"',Object(N.jsx)("br",null),"Â Â ",'"go.mongodb.org/mongo-driver/mongo/options"',Object(N.jsx)("br",null),"Â Â ",'"go.mongodb.org/mongo-driver/bson"',Object(N.jsx)("br",null),")",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"func main() ","{",Object(N.jsx)("br",null),"Â Â ctx := context.TODO()",Object(N.jsx)("br",null),'Â Â uri := "',n,"&tlsCertificateKeyFile=","<path_to_certificate>",'"',Object(N.jsx)("br",null),"Â Â clientOpts := options.Client().ApplyURI(uri)",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â client, err := mongo.Connect(ctx, clientOpts)",Object(N.jsx)("br",null),"Â Â if err != nil ","{"," log.Fatal(err) ","}",Object(N.jsx)("br",null),"Â Â defer client.Disconnect(ctx)",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"Â Â collection := client.Database(",'"testDB"',").Collection(",'"testCol"',")",Object(N.jsx)("br",null),"Â Â docCount, err := collection.CountDocuments(ctx, bson.D",")",Object(N.jsx)("br",null),"Â Â if err != nil ","{"," log.Fatal(err) ","}",Object(N.jsx)("br",null),"Â Â fmt.Println(docCount)",Object(N.jsx)("br",null),"}")}}};var M={C:function(e,t,n){return n?k.C(e):t?function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:'\nclient = mongoc_client_new ("'.concat(t,'");\ndb = mongoc_client_get_database (client, "test");\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,'client = mongoc_client_new ("',n,'");',Object(N.jsx)("br",null),"db = mongoc_client_get_database (client, ",'"test"',");")}}(e):function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:'\nmongoc_client_t client = mongoc_client_new ("'.concat(t,'");\ndb = mongoc_client_get_database (client, "test");\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,'mongoc_client_t client = mongoc_client_new (" ',n,'");',Object(N.jsx)("br",null),'db = mongoc_client_get_database (client, "test");')}}(e)},"C++":function(e,t,n){if(n)return k["C++"](e);var r=e.uriText,o=e.uriMarkup;return{exampleText:'\n#include <mongocxx/client.hpp>\n#include <mongocxx/instance.hpp>\n\n//...\n\nmongocxx::instance inst{};\nmongocxx::client conn{mongocxx::uri{"'.concat(r,'"}};\nmongocxx::database db = conn["test"];\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"#include ","<mongocxx/client.hpp>",Object(N.jsx)("br",null),"#include ","<mongocxx/instance.hpp>",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"//...",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"mongocxx::instance inst",";",Object(N.jsx)("br",null),"mongocxx::client conn","{","mongocxx::uri",'{"',o,'"}}',Object(N.jsx)("br",null),'mongocxx::database db = conn["test"];')}},"C# / .NET":function(e,t,n){if(n)return k["C# / .NET"](e);var r=e.uriText,o=e.uriMarkup;return{exampleText:'\nvar client = new MongoClient("'.concat(r,'");\nvar database = client.GetDatabase("test");\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,'var client = new MongoClient("',o,'");',Object(N.jsx)("br",null),'var database = client.GetDatabase("test");')}},Java:function(e,t,n,r){return n?k.Java(e):"3.7"===r?function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:'\nMongoClient mongoClient = MongoClients.create(\n    "'.concat(t,'");\nMongoDatabase database = mongoClient.getDatabase("test");\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"MongoClient mongoClient = MongoClients.create(",Object(N.jsx)("br",null),'Â Â Â Â "',n,'");',Object(N.jsx)("br",null),'MongoDatabase database = mongoClient.getDatabase("test");')}}(e):function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:'\nMongoClientURI uri = new MongoClientURI(\n    "'.concat(t,'");\n\nMongoClient mongoClient = new MongoClient(uri);\nMongoDatabase database = mongoClient.getDatabase("test");\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"MongoClientURI uri = new MongoClientURI(",Object(N.jsx)("br",null),'Â Â Â Â "',n,'");',Object(N.jsx)("br",null),Object(N.jsx)("br",null),"MongoClient mongoClient = new MongoClient(uri);",Object(N.jsx)("br",null),'MongoDatabase database = mongoClient.getDatabase("test");')}}(e)},"Node.js":function(e,t,n){return n?k["Node.js"](e):t?function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:"\nconst MongoClient = require('mongodb').MongoClient;\nconst uri = \"".concat(t,'";\nconst client = new MongoClient(uri, { useNewUrlParser: true });\nclient.connect(err => {\n  const collection = client.db("test").collection("devices");\n  // perform actions on the collection object\n  client.close();\n});\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"const MongoClient = require('mongodb').MongoClient;",Object(N.jsx)("br",null),'const uri = "',n,'";',Object(N.jsx)("br",null),"const client = new MongoClient(uri, ","{ useNewUrlParser: true }",");",Object(N.jsx)("br",null),"client.connect(err ","=> {",Object(N.jsx)("br",null),'Â Â const collection = client.db("test").collection("devices");',Object(N.jsx)("br",null),"Â Â // perform actions on the collection object",Object(N.jsx)("br",null),"Â Â client.close();",Object(N.jsx)("br",null),"}",");")}}(e):function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:"\nvar MongoClient = require('mongodb').MongoClient;\n\nvar uri = \"".concat(t,'";\nMongoClient.connect(uri, function(err, client) {\n  const collection = client.db("test").collection("devices");\n  // perform actions on the collection object\n  client.close();\n});\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"var MongoClient = require('mongodb').MongoClient;",Object(N.jsx)("br",null),Object(N.jsx)("br",null),'var uri = "',n,'";',Object(N.jsx)("br",null),"MongoClient.connect(uri, function(err, client) ","{",Object(N.jsx)("br",null),'Â Â const collection = client.db("test").collection("devices");',Object(N.jsx)("br",null),"Â Â // perform actions on the collection object",Object(N.jsx)("br",null),"Â Â client.close();",Object(N.jsx)("br",null),"}",");")}}(e)},Perl:function(e){var t=e.uriText,n=e.uriMarkup;return{exampleText:"\nmy $client = MongoDB->connect('".concat(t,"');\nmy $db = $client->get_database( 'test' );\n"),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"my $client = ","MongoDB->connect('",n,"')",";",Object(N.jsx)("br",null),"my $db = ","$client->get_database( 'test' );")}},PHP:function(e,t,n){if(n)return k.PHP(e);var r=e.uriText,o=e.uriMarkup;return{exampleText:"\n$client = new MongoDB\\Client(\n    '".concat(r,"');\n\n$db = $client->test;\n"),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"$client = new MongoDB\\Client(",Object(N.jsx)("br",null),"Â Â Â Â '",o,"');",Object(N.jsx)("br",null),Object(N.jsx)("br",null),"$db = ","$client->test",";")}},Python:function(e,t,n){if(n)return k.Python(e);var r=e.uriText,o=e.uriMarkup;return{exampleText:'\nclient = pymongo.MongoClient("'.concat(r,'")\ndb = client.test\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,'client = pymongo.MongoClient("',o,'")',Object(N.jsx)("br",null),"db = client.test")}},Ruby:function(e,t,n){if(n)return k.Ruby(e);var r=e.uriText,o=e.uriMarkup;return{exampleText:"\nclient = Mongo::Client.new(&apos;".concat(r,"&apos;)\n"),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,"client = Mongo::Client.new('",o,"')")}},Scala:function(e,t,n){if(n)return k.Scala(e);var r=e.uriText,o=e.uriMarkup;return{exampleText:'\nval uri: String = "'.concat(r,'"\nSystem.setProperty("org.mongodb.async.type", "netty")\nval client: MongoClient = MongoClient(uri)\nval db: MongoDatabase = client.getDatabase("test")\n'),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,'val uri: String = "',o,'"',Object(N.jsx)("br",null),'System.setProperty("org.mongodb.async.type", "netty")',Object(N.jsx)("br",null),"val client: MongoClient = MongoClient(uri)",Object(N.jsx)("br",null),'val db: MongoDatabase = client.getDatabase("test")')}},Go:function(e,t,n){var r=e.uriText,o=e.uriMarkup;return n?k.Go(e):{exampleText:'\n  import "go.mongodb.org/mongo-driver/mongo"\n\n  ctx, cancel := context.WithTimeout(context.Background(), 10*time.Second)\n  defer cancel()\n  client, err := mongo.Connect(ctx, options.Client().ApplyURI(\n     "'.concat(r,'",\n  ))\n  if err != nil { log.Fatal(err) }\n  '),exampleMarkup:Object(N.jsx)(v.a.Fragment,null,'import "go.mongodb.org/mongo-driver/mongo"',Object(N.jsx)("br",null),Object(N.jsx)("br",null),"ctx, cancel := context.WithTimeout(context.Background(), 10*time.Second)",Object(N.jsx)("br",null),"defer cancel()",Object(N.jsx)("br",null),"client, err := mongo.Connect(ctx, options.Client().ApplyURI(",Object(N.jsx)("br",null),'Â Â "',o,'",',Object(N.jsx)("br",null),"))",Object(N.jsx)("br",null),"if err != nil ","{"," log.Fatal(err) ","}",Object(N.jsx)("br",null))}}},L=n(908),U=n(1072);function F(e){var t=e.platformName,n=e.baseVersion,r=e.driverSupportsSRV,o=e.authMode,i=e.users,a=e.hostnamePortDriver,s=e.replicaSetName,l=e.srvAddress,c=e.database,u=e.hasUserToDNMapping,d=e.isRetryWritesSupported,p=e.isAnalyticsNodesSupported,f=e.connectionReadPreferenceType,h=e.writeConcern,m=o===L.a.X509,g=Object(U.a)({includeUserParam:!m,driverSupportsSRV:r,authMode:o,users:i,hostnamePortDriver:a,replicaSetName:s,srvAddress:l,database:c,hasUserToDNMapping:u,isRetryWritesSupported:d,isAnalyticsNodesSupported:p,connectionReadPreferenceType:f,writeConcern:h}),b=M[t](g,r,m,n),v=b.exampleText,y=b.exampleMarkup;return Object(N.jsx)(D.a,{copyableText:v,inheritLineHeight:!0,commandClassName:"copy-command-is-full-width"},y)}F.propTypes={users:O.a.shape({scram:O.a.shape({first:O.a.string,count:O.a.number}),ldap:O.a.shape({first:O.a.string,count:O.a.number}),x509:O.a.shape({first:O.a.string,count:O.a.number}),awsIAM:O.a.shape({first:O.a.string,count:O.a.number})}),hostnamePortDriver:O.a.string,replicaSetName:O.a.string,srvAddress:O.a.string,database:O.a.string,authMode:O.a.string,hasUserToDNMapping:O.a.bool,isRetryWritesSupported:O.a.bool,isAnalyticsNodesSupported:O.a.bool,platformName:O.a.string,driverSupportsSRV:O.a.bool,connectionReadPreferenceType:O.a.string,writeConcern:O.a.string,baseVersion:O.a.string},F.defaultProps={users:{scram:{first:null,count:0},ldap:{first:null,count:0},x509:{first:null,count:0},awsIAM:{first:null,count:0}},hostnamePortDriver:null,replicaSetName:null,srvAddress:null,database:null,authMode:L.a.SCRAM,hasUserToDNMapping:!1,isRetryWritesSupported:!1,isAnalyticsNodesSupported:!1,platformName:null,driverSupportsSRV:!1,connectionReadPreferenceType:null,writeConcern:"majority",baseVersion:null};var B,z=n(1076),V=(B={},g()(B,L.a.SCRAM,"Password (SCRAM)"),g()(B,L.a.X509,"X.509"),g()(B,L.a.LDAP,"LDAP"),g()(B,L.a.AWS_IAM,"AWS IAM"),B),q=function(e){var t=e.checkedValue,n=e.onChange,r=e.possibleValues,o=r.map((function(e){return{value:e,label:V[e]}}));return r.length<=1?null:Object(N.jsx)(z.RadioGroup,{onChange:function(e){return n(e.target.value)},value:t,name:"AUTH_TYPE",className:"cluster-connect-modal-radio-group"},o.map((function(e){return Object(N.jsx)(z.Radio,{key:e.value,value:e.value,name:e.value,className:"cluster-connect-modal-radio"},e.label)})))};q.propTypes={checkedValue:O.a.oneOf([L.a.SCRAM,L.a.X509,L.a.AWS_IAM,L.a.LDAP]).isRequired,onChange:O.a.func.isRequired,possibleValues:O.a.arrayOf(O.a.oneOf([L.a.SCRAM,L.a.X509,L.a.AWS_IAM,L.a.X509,L.a.LDAP])).isRequired};var G=q,H=function(e){return Object(N.jsx)("strong",{className:"text-is-green"},e)},W=function(e){var t=e.authMode,n=e.isShell&&t===L.a.SCRAM?"When entering your password, make sure all special characters are":"Ensure any option params are";return Object(N.jsx)("span",{"data-test-id":"url-encode-message"},n," ",Object(N.jsx)("a",{href:"https://dochub.mongodb.org/core/atlas-url-encoding",target:"_blank"},"URL encoded"),".")},Y=function(e){var t,n=e.authMode,r=e.users,o=e.supportsSRV,i=e.hasUserToDNMapping,a=void 0!==i&&i,s=e.isShell,l=e.connectableName,c=1===r.scram.count&&r.scram.first||"<username>",u=1===r.ldap.count&&r.ldap.first||(a?"<mapped username>":"<user DN>"),d=a?"user to which the specified User To DN Mapping is applied":"user's distinguished name",p=Object(N.jsx)(v.a.Fragment,null,"Replace ",H("<dbname>")," with the name of the database that connections will use by default."),f="data lake"===l;return n===L.a.X509?null:(n===L.a.LDAP?t=o?Object(N.jsx)(v.a.Fragment,null,p," You will be prompted for the password for the ",H(u)," ",d,"."):Object(N.jsx)(v.a.Fragment,null,p," Replace ",H(u)," with the ",d,", and ",H("<password>")," ","with the respective user's password."):n===L.a.SCRAM?t=s&&o||f?Object(N.jsx)(v.a.Fragment,null,p," You will be prompted for the password for the MongoDB user, ",H(c),"."):s?Object(N.jsx)(v.a.Fragment,null,p," Replace ",H("<password>")," with the password for the ",H(c)," ","user."):Object(N.jsx)(v.a.Fragment,null,"Replace ",H("<password>")," with the password for the ",H(c)," user."," ",p):n===L.a.AWS_IAM&&(t=Object(N.jsx)(v.a.Fragment,null,"Replace ",H("<AWS access key>")," and ",H("<AWS secret key>")," with the secret and access key of your Amazon resource. If you are using an assumed role to authenticate, replace"," ",H("<session token (for AWS IAM Roles)>")," with the resultant session token. ",p)),t=t||Object(N.jsx)("span",{id:"connectionStringPlaceholderInstruction"},"Replace any ",Object(N.jsx)("strong",{className:"text-is-green"},"<placeholder_text>")," with the value it describes."),Object(N.jsx)("div",{className:"text-is-gray step-indicator-step-child"},t," ",Object(N.jsx)(W,{authMode:n,isShell:s})))};Y.propTypes={authMode:O.a.oneOf([L.a.SCRAM,L.a.X509,L.a.AWS_IAM,L.a.LDAP]).isRequired,users:O.a.shape({scram:O.a.shape({first:O.a.string,count:O.a.number}),x509:O.a.shape({first:O.a.string,count:O.a.number}),ldap:O.a.shape({first:O.a.string,count:O.a.number}),awsIAM:O.a.shape({first:O.a.string,count:O.a.number})}).isRequired,supportsSRV:O.a.bool.isRequired,hasUserToDNMapping:O.a.bool,isShell:O.a.bool.isRequired,connectableName:O.a.string};var K,Z=Y,$={CONNECTION_READ_PREFERENCE_TYPE:{CLUSTER:{value:"CLUSTER",readPreferenceTags:null},ANALYTICS:{value:"ANALYTICS",readPreferenceTags:"nodeType:ANALYTICS"}},DROPDOWN_PLATFORMS:[{label:"C",value:"C",versions:[{label:"1.17 or later",value:"1.17 or later",baseVersion:"1.17",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!0},{label:"1.9 or later",value:"1.9 or later",baseVersion:"1.9",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!1},{label:"1.5 or later",value:"1.5 or later",baseVersion:"1.5",supportsMongo34:!0,supportsMongo36:!1,supportsMongo44:!1},{label:"1.3 or earlier",value:"1.3 or earlier",baseVersion:"1.3",supportsMongo34:!1,supportsMongo36:!1,supportsMongo44:!1}]},{label:"C++",value:"C++",versions:[{label:"3.6.x or later",value:"3.6.x or later",baseVersion:"3.6.x or later",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!0},{label:"3.3.x or later",value:"3.3.x or later",baseVersion:"3.3.x",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!1},{label:"3.1.x or later",value:"3.1.x or later",baseVersion:"3.1.x",supportsMongo34:!0,supportsMongo36:!1,supportsMongo44:!1},{label:"3.0.x or earlier",value:"3.0.x or earlier",baseVersion:"3.0.x",supportsMongo34:!1,supportsMongo36:!1,supportsMongo44:!1}]},{label:"C# / .NET",value:"C# / .NET",versions:[{label:"2.11 or later",value:"2.11 or later",baseVersion:"2.11",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!0},{label:"2.5 or later",value:"2.5 or later",baseVersion:"2.5",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!1},{label:"2.4 or later",value:"2.4 or later",baseVersion:"2.4",supportsMongo34:!0,supportsMongo36:!1,supportsMongo44:!1},{label:"2.3 or earlier",value:"2.3 or earlier",baseVersion:"2.3",supportsMongo34:!1,supportsMongo36:!1,supportsMongo44:!1}]},{label:"Go",value:"Go",versions:[{label:"1.4 or later",value:"1.4 or later",baseVersion:"1.4",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!0},{label:"1.0 or later",value:"1.0 or later",baseVersion:"1.0",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!1}]},{label:"Java",value:"Java",versions:[{label:"4.1 or later",value:"4.1 or later",baseVersion:"4.1",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!0},{label:"3.7 or later",value:"3.7 or later",baseVersion:"3.7",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!1},{label:"3.6 or later",value:"3.6 or later",baseVersion:"3.6",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!1},{label:"3.4 or later",value:"3.4 or later",baseVersion:"3.4",supportsMongo34:!0,supportsMongo36:!1,supportsMongo44:!1},{label:"3.3 or earlier",value:"3.3 or earlier",baseVersion:"3.3",supportsMongo34:!1,supportsMongo36:!1,supportsMongo44:!1}]},{label:"Node.js",value:"Node.js",versions:[{label:"3.6 or later",value:"3.6 or later",baseVersion:"3.6",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!0},{label:"3.0 or later",value:"3.0 or later",baseVersion:"3.0",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!1},{label:"2.2.12 or later",value:"2.2.12 or later",baseVersion:"2.2.12",supportsMongo34:!0,supportsMongo36:!1,supportsMongo44:!1},{label:"2.0.14 or earlier",value:"2.0.14 or earlier",baseVersion:"2.0.14",supportsMongo34:!1,supportsMongo36:!1,supportsMongo44:!1}]},{label:"Perl",value:"Perl",versions:[{label:"2.0.x or later",value:"2.0.x or later",baseVersion:"2.0.x",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!1},{label:"1.6.x or later",value:"1.6.x or later",baseVersion:"1.6.x",supportsMongo34:!0,supportsMongo36:!1,supportsMongo44:!1},{label:"1.4.x or earlier",value:"1.4.x or earlier",baseVersion:"1.4.x",supportsMongo34:!1,supportsMongo36:!1,supportsMongo44:!1}]},{label:"PHP",value:"PHP",versions:[{label:"PHPLIB 1.8",value:"PHPLIB 1.8",baseVersion:"PHPLIB 1.8",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!0},{label:"PHPLIB 1.3 + mongodb-1.4 or later",value:"PHPLIB 1.3 + mongodb-1.4 or later",baseVersion:"PHPLIB 1.3 + mongodb-1.4",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!1},{label:"PHPLIB 1.1 + mongodb-1.2 or later",value:"PHPLIB 1.1 + mongodb-1.2 or later",baseVersion:"PHPLIB 1.1 + mongodb-1.2",supportsMongo34:!0,supportsMongo36:!1,supportsMongo44:!1},{label:"PHPLIB 1.0 + mongodb-1.1 or earlier",value:"PHPLIB 1.0 + mongodb-1.1 or earlier",baseVersion:"PHPLIB 1.0 + mongodb-1.1",supportsMongo34:!1,supportsMongo36:!1,supportsMongo44:!1}]},{label:"Python",value:"Python",versions:[{label:"3.11 or later",value:"3.11 or later",baseVersion:"3.11",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!0},{label:"3.6 or later",value:"3.6 or later",baseVersion:"3.6",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!1},{label:"3.4 or later",value:"3.4 or later",baseVersion:"3.4",supportsMongo34:!0,supportsMongo36:!1,supportsMongo44:!1},{label:"3.3 or earlier",value:"3.3 or earlier",baseVersion:"3.3",supportsMongo34:!1,supportsMongo36:!1,supportsMongo44:!1}]},{label:"Ruby",value:"Ruby",versions:[{label:"2.13 or later",value:"2.13 or later",baseVersion:"2.13",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!0},{label:"2.5 or later",value:"2.5 or later",baseVersion:"2.5",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!1},{label:"2.4 or later",value:"2.4 or later",baseVersion:"2.4",supportsMongo34:!0,supportsMongo36:!1,supportsMongo44:!1},{label:"2.3 or earlier",value:"2.3 or earlier",baseVersion:"2.3",supportsMongo34:!1,supportsMongo36:!1,supportsMongo44:!1}]},{label:"Scala",value:"Scala",versions:[{label:"2.2 or later",value:"2.2 or later",baseVersion:"2.2",supportsMongo34:!0,supportsMongo36:!0,supportsMongo44:!1},{label:"1.2 or later",value:"1.2 or later",baseVersion:"1.2",supportsMongo34:!0,supportsMongo36:!1,supportsMongo44:!1},{label:"1.1 or earlier",value:"1.1 or earlier",baseVersion:"1.1",supportsMongo34:!1,supportsMongo36:!1,supportsMongo44:!1}]}],CONNECT_PARAMS_SHAPE:{replicaSetName:O.a.string,hostnamePortDriver:O.a.string,getPrivateHostnamePortDriver:O.a.func,getPrivateLinkHostnamePortDriver:O.a.func,srvAddress:O.a.string,getPrivateLinkSrvAddress:O.a.func,getPrivateSrvAddress:O.a.func,isTenant:O.a.bool,connectableSupportsSRV:O.a.bool,isRetryWritesSupported:O.a.bool,isAnalyticsNodesSupported:O.a.bool,writeConcern:O.a.string}},X=function(e){return[{name:"clusterOnly",children:Object(N.jsx)("div",null,"Connect to Cluster")},{name:"clusterAndArchive",children:Object(N.jsx)("div",null,"Connect to Cluster and Online Archive"),disabled:"PUBLIC"!==e,disabledReason:"You must use a standard connection (secured by TLS) to connect to your Online Archive data."}]};!function(e){e.PUBLIC="PUBLIC",e.PRIVATE="PRIVATE",e.PRIVATE_ENDPOINT="PRIVATE_ENDPOINT"}(K||(K={}));var J=O.a.oneOf([K.PUBLIC,K.PRIVATE,K.PRIVATE_ENDPOINT]),Q=n(72),ee=n(36),te=n.n(ee);function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var re={padding:"5px",maxWidth:"225px"},oe=function(e){u()(n,e);var t=ne(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"state",{selectedButton:e.props.buttons[0]}),e}return a()(n,[{key:"onButtonClicked",value:function(e){var t=this.props.onClick;this.setState({selectedButton:e}),t(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.buttons,r=t.className,o=this.state.selectedButton;return Object(N.jsx)("div",{className:r},n.map((function(t,n){var r=Object(N.jsx)(te.a,{key:t.name,name:t.name,disabled:t.disabled,onClick:function(){return e.onButtonClicked(t)},className:E()("button button-is-flat",{"button-is-flat-is-selected":o.name===t.name})},t.children);return t.disabled&&t.disabledReason?Object(N.jsx)(C.a,{key:"".concat(t.name,"-tooltip"),content:Object(N.jsx)("div",{style:re},t.disabledReason)},r):r})))}}]),n}(b.Component);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var le=function(e){u()(n,e);var t=se(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"state",{connectionReadPreferenceType:$.CONNECTION_READ_PREFERENCE_TYPE.CLUSTER.value,platformSelected:$.DROPDOWN_PLATFORMS.find((function(e){return"Node.js"===e.label})),versionSelected:null,showFullDriverExample:!1,authMode:L.a.SCRAM,supportedAuthMechanisms:[],connectToClusterAndArchive:!1,connectParams:e.props.connectParams}),g()(l()(e),"createLocalStorageKeyForGroup",(function(e){return"MMS.ConnectApplicationSettings.".concat(e)})),e}return a()(n,[{key:"componentDidMount",value:function(){var e=this.state.platformSelected,t=this.props.groupId,n=this.createLocalStorageKeyForGroup(t);this.localStorageWrapper=Object(Q.a)(n);var r=this.localStorageWrapper.getData();r.platformSelected?this.setState(ae({},r)):this.setState({versionSelected:e.versions[0]})}},{key:"componentWillUnmount",value:function(){var e=this.state,t={platformSelected:e.platformSelected,versionSelected:e.versionSelected,showFullDriverExample:e.showFullDriverExample};this.localStorageWrapper.saveData(t)}},{key:"onClickClusterArchiveConnectButton",value:function(e){var t=this.props,n=t.connectParams,r=t.federatedConnectParams;this.setState({connectToClusterAndArchive:e,connectParams:e?r:n,authMode:L.a.SCRAM})}},{key:"onChangeFullDriverExampleCheckbox",value:function(e){this.setState({showFullDriverExample:e})}},{key:"render",value:function(){var e,t,n=this,r=this.props,o=r.users,i=r.hasUserToDNMapping,a=r.connectionType,s=r.selectedHorizon,l=r.hasOnlineArchive,c=this.state,u=c.connectionReadPreferenceType,d=c.platformSelected,p=c.versionSelected,f=c.showFullDriverExample,h=c.authMode,m=c.connectToClusterAndArchive,g=c.connectParams,b=c.supportedAuthMechanisms,y=g.replicaSetName,O=g.hostnamePortDriver,x=g.getPrivateHostnamePortDriver,j=g.getPrivateLinkHostnamePortDriver,S=g.srvAddress,C=g.getPrivateLinkSrvAddress,T=g.getPrivateSrvAddress,P=g.isRetryWritesSupported,D=g.isAnalyticsNodesSupported,k=g.connectableSupportsSRV,M=g.writeConcern,U=p&&p.supportsMongo36&&k;return"PUBLIC"===a?(e=O,t=S):"PRIVATE"===a?(e=x(),t=T()):"PRIVATE_ENDPOINT"===a&&(e=j(s),t=C(s)),Object(N.jsx)("div",null,Object(N.jsx)("ol",{className:"step-indicator step-indicator-is-vertical"},Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("div",null,Object(N.jsx)("strong",null,"Select your driver and version"),Object(N.jsx)("br",null),Object(N.jsx)("br",null),Object(N.jsx)("table",{className:"cluster-connect-modal-application-driver-table"},Object(N.jsx)("thead",null,Object(N.jsx)("tr",null,Object(N.jsx)("th",null,"DRIVER"),Object(N.jsx)("th",null,"VERSION"))),Object(N.jsx)("tbody",null,Object(N.jsx)("tr",null,Object(N.jsx)("td",null,Object(N.jsx)(A.a,{id:"driverDropdown",className:E()("dropdown-select-has-button-style","cluster-connect-modal-application-dropdown-driver"),value:d?d.label:"",options:$.DROPDOWN_PLATFORMS,onChange:function(e){n.setState({platformSelected:e,versionSelected:null,authMode:"Perl"===e.label?L.a.SCRAM:h})}})),Object(N.jsx)("td",null,Object(N.jsx)(A.a,{id:"versionDropdown",className:E()("dropdown-select-has-button-style","cluster-connect-modal-application-dropdown-version"),placeholder:"--",value:p?p.label:"",options:d?d.versions:[],onChange:function(e){n.setState({versionSelected:e,authMode:L.a.SCRAM})},disabled:!d}))))),p&&!p.supportsMongo34&&Object(N.jsx)(_.a,{id:"driverVersionUnspportedForMongoDB34Alert",level:"warning",className:"bem-alert-has-sharp-corner bem-alert-has-small-margin-top"},Object(N.jsx)("strong",null,"This driver version is not supported for MongoDB 3.4 and later.")," We recommend upgrading your driver to version ",d.versions[1].baseVersion," or above.")),!(d&&p)&&Object(N.jsx)(v.a.Fragment,null,Object(N.jsx)("br",null),Object(N.jsx)(R,{id:"selectDriverAndVersionNotice"},Object(N.jsx)("i",null,"Select your applicationâs driver and version above to see your connection string.")))),d&&p&&Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("div",null,Object(N.jsx)("strong",null,"Add your connection string into your application code"),l&&Object(N.jsx)(oe,{className:"cluster-connect-modal-connect-cluster-archive-buttons",buttons:X(a),onClick:function(e){n.onClickClusterArchiveConnectButton("clusterAndArchive"===e.name)}}),Object(N.jsx)("div",{className:"step-indicator-step-child"},!m&&Object(N.jsx)(G,{checkedValue:h,possibleValues:b,onChange:function(e){return n.setState({authMode:e})}})),D&&Object(N.jsx)("div",{className:"cluster-connect-modal-uri-options"},Object(N.jsx)(w,{groupLabel:"Node Type",groupName:"readPreferenceMode",checkedValue:u,onChange:function(e){return n.setState({connectionReadPreferenceType:e})},radioChoices:[{label:"Cluster",value:$.CONNECTION_READ_PREFERENCE_TYPE.CLUSTER.value},{label:"Analytics",value:$.CONNECTION_READ_PREFERENCE_TYPE.ANALYTICS.value}]})),Object(N.jsx)("div",{className:"cluster-connect-modal-full-driver-example-checkbox"},Object(N.jsx)("input",{type:"checkbox",onChange:function(e){return n.onChangeFullDriverExampleCheckbox(e.target.checked)}})," ","Include full driver code example"),Object(N.jsx)("div",{className:"cluster-connect-modal-application-examples-content"},!f&&Object(N.jsx)(I.a,{users:o,hostnamePortDriver:e,replicaSetName:y,driverSupportsSRV:U,srvAddress:t,authMode:h,hasUserToDNMapping:i,isRetryWritesSupported:P,isAnalyticsNodesSupported:D,connectionReadPreferenceType:u,writeConcern:M}),f&&Object(N.jsx)(F,{users:o,hostnamePortDriver:e,replicaSetName:y,srvAddress:t,authMode:h,hasUserToDNMapping:i,isRetryWritesSupported:P,isAnalyticsNodesSupported:D,platformName:d.label,driverSupportsSRV:U,connectionReadPreferenceType:u,writeConcern:M,baseVersion:p.baseVersion}),Object(N.jsx)(Z,{authMode:h,users:o,supportsSRV:U,hasUserToDNMapping:i,isShell:!1}))))),Object(N.jsx)("p",{className:"cluster-connect-modal-troubleshooting-caption"},"Having trouble connecting?"," ",Object(N.jsx)("a",{href:"https://dochub.mongodb.org/core/atlas-connection-troubleshooting",target:"_blank"},"View our troubleshooting documentation")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(null===e||null===t)return t;var n=e.hasX509Authentication,r=e.hasAWSIAMAuthentication,o=e.connectableSupportsIAMAuth,i=e.isLDAPAuthenticationEnabled,a=e.hasLDAPUserOrGroup,s=t.authMode,l=t.versionSelected,c=t.connectParams,u=t.platformSelected,d=c.isTenant,p=r&&l&&l.supportsMongo44&&o,f=i&&a,h=Object(L.c)({isTenant:d,isAWSIAMAuthenticationSupported:p,isLDAPAuthenticationSupported:f,isX509AuthenticationSupported:n,platform:u.label}),m=Object(L.b)(s,h);return ae(ae({},t),{},{supportedAuthMechanisms:h,authMode:m})}}]),n}(b.Component);g()(le,"propTypes",{users:O.a.shape({scram:O.a.shape({first:O.a.string,count:O.a.number}),ldap:O.a.shape({first:O.a.string,count:O.a.number}),x509:O.a.shape({first:O.a.string,count:O.a.number}),awsIAM:O.a.shape({first:O.a.string,count:O.a.number})}),hasLDAPUserOrGroup:O.a.bool,hasX509Authentication:O.a.bool,hasAWSIAMAuthentication:O.a.bool,hasUserToDNMapping:O.a.bool,connectableSupportsIAMAuth:O.a.bool,connectionType:J,selectedHorizon:O.a.string,groupId:O.a.string.isRequired,hasOnlineArchive:O.a.bool,isLDAPAuthenticationEnabled:O.a.bool,connectParams:O.a.shape($.CONNECT_PARAMS_SHAPE).isRequired,federatedConnectParams:O.a.shape($.CONNECT_PARAMS_SHAPE)}),g()(le,"defaultProps",{users:{scram:{first:null,count:0},ldap:{first:null,count:0},x509:{first:null,count:0},awsIAM:{first:null,count:0}},hasLDAPUserOrGroup:!1,hasX509Authentication:!1,hasAWSIAMAuthentication:!1,hasUserToDNMapping:!1,connectableSupportsIAMAuth:!1,connectionType:"PUBLIC",selectedHorizon:"",hasOnlineArchive:!1,isLDAPAuthenticationEnabled:!1});var ce=Object(x.connectBackboneToReact)((function(e){var t=e.connectOptions,n=e.federatedConnectOptions,r=e.userSecurity,o=e.usersCollection,i=e.settingsModel,a=o.getFirstSCRAMUser(),s=o.getFirstLDAPUser(),l=o.getFirstX509User(),c=o.getFirstAWSIAMRoleOrUser(),u=i.getCurrentGroupId(),d=function(e){return e?{hostnamePortDriver:e.getHostNamePortDriver(),getPrivateHostnamePortDriver:function(){return e.getPrivateConnectHostnamePortDriver()},getPrivateLinkHostnamePortDriver:function(t){return e.getPrivateLinkConnectHostnamePortDriver(t)},srvAddress:e.getSRVAddress(),getPrivateSrvAddress:function(){return e.getPrivateSRVAddress()},getPrivateLinkSrvAddress:function(t){return e.getPrivateLinkSRVAddress(t)},isTenant:e.isTenant(),replicaSetName:e.getReplicaSetName(),isRetryWritesSupported:e.getSupportsRetryWrite(),isAnalyticsNodesSupported:e.getHasAnalyticsNodes(),connectableSupportsSRV:e.getConnectableSupportsSRV(),writeConcern:e.getWriteConcern()}:void 0};return{users:{scram:{first:a?a.get("user"):null,count:o.getNumSCRAMUsers()},ldap:{first:s?s.get("user"):null,count:o.getNumLDAPUsers()},x509:{first:l?l.get("user"):null,firstType:l?l.getX509Type():null,count:o.getNumX509Users()},awsIAM:{first:c?c.get("user"):null,count:o.getNumAWSIAMUsers()}},connectParams:d(t),federatedConnectParams:d(n),isLDAPAuthenticationEnabled:r.isLDAPAuthenticationEnabled(),hasLDAPUserOrGroup:void 0!==o.getFirstLDAPUser()||void 0!==o.getFirstLDAPGroup(),hasUserToDNMapping:r.hasUserToDNMapping(),hasX509Authentication:void 0!==l||r.isCustomerX509Enabled(),hasAWSIAMAuthentication:void 0!==c,connectableSupportsIAMAuth:t.getConnectableSupportsIAMAuth(),groupId:u}}))(le),ue=n(2),de=n.n(ue),pe=n(906),fe=n(298),he=[{name:"doNotHave",children:Object(N.jsx)("div",null,"I do not have the ",Object(N.jsx)("span",{className:"cluster-connect-modal-menlo"},"mongo")," ",Object(N.jsx)("span",{className:"cluster-connect-modal-menlo"},"shell")," installed")},{name:"have",children:Object(N.jsx)("div",null,"I have the ",Object(N.jsx)("span",{className:"cluster-connect-modal-menlo"},"mongo")," ",Object(N.jsx)("span",{className:"cluster-connect-modal-menlo"},"shell")," installed")}],me=function(e){return[{name:"clusterOnly",children:Object(N.jsx)("div",null,"Connect to Cluster")},{name:"clusterAndArchive",children:Object(N.jsx)("div",null,"Connect to Cluster and Online Archive"),disabled:"PUBLIC"!==e,disabledReason:"You must use a standard connection (secured by TLS) to connect to your Online Archive data."}]},ge=[{iconName:"mms-icon-logo-windows",label:"Windows",value:"win32"},{iconName:"mms-icon-logo-apple",label:"macOS",value:"osx"},{iconName:"mms-icon-logo-amazon",label:"Amazon Linux",value:"amazon"},{iconName:"mms-icon-logo-amazon",label:"Amazon Linux 2",value:"amazon2"},{iconName:"mms-icon-logo-redhat",label:"RHEL 6",value:"rhel62"},{iconName:"mms-icon-logo-redhat",label:"RHEL 7",value:"rhel70"},{iconName:"mms-icon-logo-ubuntu",label:"Ubuntu 16.04",value:"ubuntu1604"},{iconName:"mms-icon-logo-ubuntu",label:"Ubuntu 18.04",value:"ubuntu1804"},{iconName:"mms-icon-logo-ubuntu",label:"Ubuntu 20.04",value:"ubuntu2004"},{label:"SUSE 12",value:"suse12"},{label:"SUSE 15",value:"suse15"},{label:"Debian 9",value:"debian92"},{label:"Debian 10",value:"debian10"}],be=[{label:"4.4",value:"4.4",supportsSRV:!0},{label:"4.2",value:"4.2",supportsSRV:!0},{label:"4.0",value:"4.0",supportsSRV:!0},{label:"3.6",value:"3.6",supportsSRV:!0},{label:"3.4 or earlier",value:"<=3.4",supportsSRV:!1}],ve={replicaSetName:O.a.string,hostnamePortShell:O.a.string,getPrivateHostnamePortShell:O.a.func,getPrivateLinkHostnamePortShell:O.a.func,srvAddress:O.a.string,getPrivateLinkSrvAddress:O.a.func,getPrivateSrvAddress:O.a.func,isTenant:O.a.bool,connectableSupportsSRV:O.a.bool},ye=function(){return be},Oe=n(47),xe=n(50);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var Ce=function(){var e;if(null===(e=window.navigator)||void 0===e?void 0:e.userAgent){if(-1!==window.navigator.userAgent.indexOf("Mac"))return ge[1];if(-1!==window.navigator.userAgent.indexOf("Windows"))return ge[0]}return ge[7]},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be;return t.length?t.find((function(t){return de.a.isEqual(t,e)}))||t[0]:null},Ae=function(e){u()(n,e);var t=Se(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"state",{latestMongoDBVersion:null,platformSelected:Ce(),mongoShellVersionSelected:_e(),authMode:L.a.SCRAM,supportedAuthMechanisms:[],userHasShellInstalled:!1,connectToClusterAndArchive:!1,connectParams:e.props.connectParams}),g()(l()(e),"createLocalStorageKeyForGroup",(function(e){return"MMS.ConnectShellSettings.".concat(e)})),g()(l()(e),"platformsSelectRenderer",(function(e){return Object(N.jsx)("span",null,e.iconName&&Object(N.jsx)("i",{className:e.iconName})," ",e.label)})),g()(l()(e),"onClickDownloadMongoShell",(function(){var t=e.props.orgId;xe.d.track(xe.b.UX_ACTION_PERFORMED,{context:"Atlas Connect Modal",action:"Clicked Download Mongo Shell"},{integrations:Object(xe.c)(t)}),window.open(e.getDownloadURLForPlatform())})),g()(l()(e),"onClickFetchViaURL",(function(t){t.preventDefault();var n=e.props.orgId;xe.d.track(xe.b.UX_ACTION_PERFORMED,{context:"Atlas Connect Modal",action:"Clicked Fetch Via URL"},{integrations:Object(xe.c)(n)})})),g()(l()(e),"onClickCopyConnectString",(function(t){t.preventDefault();var n=e.props.orgId;xe.d.track(xe.b.UX_ACTION_PERFORMED,{context:"Atlas Connect Modal",action:"Clicked Copy Connection String"},{integrations:Object(xe.c)(n)})})),e}return a()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.groupId,n=this.createLocalStorageKeyForGroup(t);this.localStorageWrapper=Object(Q.a)(n),fe.a.getLatestMongoDBVersion().then((function(t){var n=t.latestMongoDBVersion;return e.setState({latestMongoDBVersion:n})}));var r=this.localStorageWrapper.getData();if(r.platformSelected){var o=ye(),i=_e(r.mongoShellVersionSelected,o);this.setState(Ee(Ee({},r),{},{mongoShellVersionSelected:i}))}}},{key:"componentWillUnmount",value:function(){var e=this.state,t=e.platformSelected,n=e.userHasShellInstalled,r={platformSelected:t,mongoShellVersionSelected:e.mongoShellVersionSelected,userHasShellInstalled:n};this.localStorageWrapper.saveData(r)}},{key:"onClickMongoShellInstalledButton",value:function(e){this.setState({userHasShellInstalled:e})}},{key:"onClickClusterArchiveConnectButton",value:function(e){var t=this.props,n=t.connectParams,r=t.federatedConnectParams;this.setState({connectToClusterAndArchive:e,connectParams:e?r:n,authMode:L.a.SCRAM})}},{key:"getDownloadURLForPlatform",value:function(){var e=this.state,t=e.latestMongoDBVersion,n=e.platformSelected,r=Object(Oe.j)(t),o=Object(Oe.l)(t),i="https://downloads.mongodb.org";return"win32"===n.value?o?"".concat(i,"/windows/mongodb-shell-windows-x86_64-").concat(t,".zip"):r?"".concat(i,"/win32/mongodb-shell-win32-x86_64-2012plus-").concat(t,".zip"):"".concat(i,"/win32/mongodb-shell-win32-x86_64-2008plus-ssl-").concat(t,".zip"):"osx"===n.value?r?"".concat(i,"/osx/mongodb-shell-osx-ssl-x86_64-").concat(t,".tgz"):"".concat(i,"/osx/mongodb-shell-macos-x86_64-").concat(t,".tgz"):"".concat(i,"/linux/mongodb-shell-linux-x86_64-").concat(n.value,"-").concat(t,".tgz")}},{key:"getConnectMarkupAndText",value:function(){var e,t,n=this.props,r=n.users,o=n.hasUserToDNMapping,i=n.connectionType,a=n.selectedHorizon,s=this.state,l=s.userHasShellInstalled,c=s.mongoShellVersionSelected,u=s.connectParams,d=s.authMode,p=s.connectToClusterAndArchive,f=u.connectableSupportsSRV,h=u.replicaSetName,m=u.hostnamePortShell,g=u.getPrivateHostnamePortShell,b=u.getPrivateLinkHostnamePortShell,v=u.srvAddress,y=u.getPrivateLinkSrvAddress,O=u.getPrivateSrvAddress,x=u.connectableName,j=d===L.a.LDAP,E=d===L.a.X509,S=d===L.a.AWS_IAM,C=(!l||c.supportsSRV)&&f,_={},A=encodeURIComponent("$external");C?(e="mongodb+srv","PUBLIC"===i?t=v:"PRIVATE"===i?t=O():"PRIVATE_ENDPOINT"===i&&(t=y(a)),j?(_.authSource=A,_.authMechanism="PLAIN"):S&&(_.authSource=A,_.authMechanism="MONGODB-AWS")):(e="mongodb","PUBLIC"===i?t=m:"PRIVATE"===i?t=g():"PRIVATE_ENDPOINT"===i&&(t=b(a)),h&&(_.replicaSet=encodeURIComponent(h))),E&&(_.authSource=A,_.authMechanism="MONGODB-X509");var T,w=Object.keys(_).map((function(e){return"".concat(e,"=").concat(_[e])})).join("&"),P=w?"?".concat(w):"",R=1===r.scram.count&&r.scram.first||"<username>",I=1===r.ldap.count&&r.ldap.first||(o?"<mapped username>":"<user DN>");T=j?I:S?"<AWS access key>":R;var D,k,M,U=Object(N.jsx)("strong",{className:"text text-is-green text-is-code"},T),F="<=3.4"!==c.value&&c.value>="4.2",B=F?"--tls":"--ssl",z=C?"":" ".concat(B," --authenticationMechanism MONGODB-AWS --authenticationDatabase '$external'"),V=C?"":" ".concat(B," --authenticationDatabase admin"),q=C?"":" ".concat(B," --authenticationMechanism PLAIN --authenticationDatabase '$external'"),G=F?" --tls --tlsCertificateKeyFile <path to PEM file>":" --ssl --sslPEMKeyFile <path to PEM file>",H=F?Object(N.jsx)("span",null," ","--tls --tlsCertificateKeyFile"," ",Object(N.jsx)("strong",{className:"text text-is-green text-is-code"},"<path to PEM file>")):Object(N.jsx)("span",null," ","--ssl --sslPEMKeyFile ",Object(N.jsx)("strong",{className:"text text-is-green text-is-code"},"<path to PEM file>"));D=E?G:j?q:S?z:V,k=E?H:j?q:S?z:V,M=S?"<AWS secret key>":C?"":"<password>";var W=!("data lake"===x)&&!p&&(!C||S),Y=W?" --password ".concat(M):"",K=W?Object(N.jsx)("span",null," ","--password ",Object(N.jsx)("strong",{className:"text text-is-green text-is-code"},M)):"",Z=S?" --awsIamSessionToken <session token (for AWS IAM Roles)>":"",$=S?Object(N.jsx)("span",null," ","--awsIamSessionToken"," ",Object(N.jsx)("strong",{className:"text text-is-green text-is-code"},"<session token (for AWS IAM Roles only)>")):"",X=E?"":" --username ".concat(T).concat(Y).concat(Z),J=E?"":Object(N.jsx)("span",null," ","--username ",U,K,$),Q='mongo "'.concat(e,"://").concat(t,"/<dbname>").concat(P,'"').concat(D).concat(X);return{connectStringMarkup:Object(N.jsx)("span",null,'mongo "',e,"://",t,"/",Object(N.jsx)("strong",{className:"text text-is-green text-is-code"},"<dbname>"),P,'"',k,J),connectStringText:Q}}},{key:"render",value:function(){var e=this,t=this.props,n=t.users,r=t.query,o=t.dbName,i=t.collName,a=t.hasUserToDNMapping,s=t.connectionType,l=t.hasOnlineArchive,c=this.state,u=c.latestMongoDBVersion,d=c.platformSelected,p=c.authMode,f=c.userHasShellInstalled,h=c.mongoShellVersionSelected,m=c.connectToClusterAndArchive,g=c.connectParams,b=c.supportedAuthMechanisms,y=g.connectableSupportsSRV,O=g.connectableName,x=this.getConnectMarkupAndText(),j=x.connectStringMarkup,E=x.connectStringText,S=(!f||h.supportsSRV)&&y,C=ye(),_=m?Object(N.jsx)(v.a.Fragment,null,"Use this connection string to run ",Object(N.jsx)("strong",null,"read-only, federated queries")," across your cluster and archive(s):"):Object(N.jsx)(v.a.Fragment,null,"Use this connection string ",Object(N.jsx)("strong",null,"in your application"),":");return Object(N.jsx)(v.a.Fragment,null,Object(N.jsx)(oe,{buttons:he,onClick:function(t){e.onClickMongoShellInstalledButton("have"===t.name)}}),Object(N.jsx)("div",{className:"cluster-connect-modal-shell-connection-steps"},Object(N.jsx)("ol",{className:"step-indicator step-indicator-is-vertical"},!f&&Object(N.jsx)(v.a.Fragment,null,Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("strong",null,"Select your operating system and download the "),Object(N.jsx)("span",{className:"cluster-connect-modal-menlo"},"mongo")," ",Object(N.jsx)("span",{className:"cluster-connect-modal-menlo"},"shell"),Object(N.jsx)("div",{className:"step-indicator-step-child"},Object(N.jsx)(A.a,{id:"platformsDropdown",value:d.value,options:ge,onChange:function(t){e.setState({platformSelected:t})},valueRenderer:this.platformsSelectRenderer,optionRenderer:this.platformsSelectRenderer,className:"dropdown-select-has-button-style cluster-connect-modal-shell-dropdown",disabled:!u}),d&&Object(N.jsx)("div",null,"osx"!==d.value&&Object(N.jsx)("div",{className:"step-indicator-step-child"},Object(N.jsx)(te.a,{onClick:this.onClickDownloadMongoShell,style:{marginRight:"8px"},disabled:!u},Object(N.jsx)("i",{className:"fa fa-download"}),"Â Download mongo shell (",u,")"),Object(N.jsx)("span",{style:{marginRight:"8px"}},Object(N.jsx)("strong",null,"or")),Object(N.jsx)(pe.a,{copyableText:this.getDownloadURLForPlatform(),buttonText:"Copy download URL",standalone:!0,disabled:!u,onClick:this.onClickFetchViaURL})),"osx"===d.value&&Object(N.jsx)("div",{className:"step-indicator-step-child"},Object(N.jsx)("span",null,"Install via Homebrew"),Object(N.jsx)(D.a,{copyableText:"brew install mongodb/brew/mongodb-community-shell",commandClassName:"copy-command-is-full-width",compact:!0}),Object(N.jsx)("span",null,"Homebrew is a package manager for macOS."," ",Object(N.jsx)("a",{href:"https://brew.sh/",target:"_blank"},"Install Homebrew")))))),Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("strong",null,"Add"," ",Object(N.jsx)("span",{className:"text-is-code text-is-normal-weight"},"<your mongo shell's download directory>/bin")," ","to your ",Object(N.jsx)("span",{className:"text-is-code text-is-normal-weight"},"$PATH")," variable"))),f&&Object(N.jsx)(v.a.Fragment,null,Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("strong",null,"Select your mongo shell version"),Object(N.jsx)("div",{className:"step-indicator-step-child"},Object(N.jsx)(A.a,{id:"versionsDropdown",value:h.value,options:C,onChange:function(t){e.setState({mongoShellVersionSelected:t})},className:"dropdown-select-has-button-style cluster-connect-modal-shell-dropdown"}),Object(N.jsx)("div",{className:"cluster-connect-modal-shell-dropdown-caption"},Object(N.jsx)("i",null,"(To check your shell version, run")," ",Object(N.jsx)("span",{className:"cluster-connect-modal-menlo"},"mongo --version"),")")))),Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("strong",null,"Run your connection string in your command line"),l&&Object(N.jsx)(oe,{className:"cluster-connect-modal-connect-cluster-archive-buttons",buttons:me(s),onClick:function(t){e.onClickClusterArchiveConnectButton("clusterAndArchive"===t.name)}}),Object(N.jsx)("div",{className:"step-indicator-step-child"},!m&&Object(N.jsx)(G,{checkedValue:p,possibleValues:b,onChange:function(t){return e.setState({authMode:t})}}),Object(N.jsx)("div",{className:"cluster-connect-modal-connect-string-instruction"},_),Object(N.jsx)(D.a,{commandClassName:"copy-command-is-full-width",copyableText:E,onClick:this.onClickCopyConnectString},j),Object(N.jsx)(Z,{authMode:p,users:n,hasUserToDNMapping:a,supportsSRV:S,isShell:!0,connectableName:O}))),r&&Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("strong",null,"Continue with your query"),Object(N.jsx)("p",{className:"step-indicator-step-child"},"i. Connect to your database"),Object(N.jsx)(D.a,{copyableText:"use ".concat(o)}),Object(N.jsx)("p",{className:"step-indicator-step-child"},"ii. Run your query"),Object(N.jsx)(D.a,{copyableText:"db.".concat(i,".find(").concat(r,")")}))),Object(N.jsx)("p",{className:"cluster-connect-modal-troubleshooting-caption"},"Having trouble connecting?"," ",Object(N.jsx)("a",{href:"https://dochub.mongodb.org/core/atlas-connection-troubleshooting",target:"_blank"},"View our troubleshooting documentation"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(null===e||null===t)return t;var n=e.connectParams,r=e.hasX509Authentication,o=e.connectableSupportsIAMAuth,i=e.hasAWSIAMAuthentication,a=e.isLDAPAuthenticationEnabled,s=e.hasLDAPUserOrGroup,l=(null==n?void 0:n.isTenant)||!1,c=t.authMode,u=t.mongoShellVersionSelected,d=t.userHasShellInstalled,p=o&&i&&(!d||Object(Oe.l)(u.value)),f=a&&s,h=Object(L.c)({isTenant:l,isAWSIAMAuthenticationSupported:p,isLDAPAuthenticationSupported:f,isX509AuthenticationSupported:r}),m=Object(L.b)(c,h);return Ee(Ee({},t),{},{supportedAuthMechanisms:h,authMode:m})}}]),n}(b.Component);g()(Ae,"propTypes",{users:O.a.shape({scram:O.a.shape({first:O.a.string,count:O.a.number}),x509:O.a.shape({first:O.a.string,count:O.a.number}),ldap:O.a.shape({first:O.a.string,count:O.a.number}),awsIAM:O.a.shape({first:O.a.string,count:O.a.number})}),query:O.a.string,dbName:O.a.string,collName:O.a.string,hasLDAPUserOrGroup:O.a.bool,hasX509Authentication:O.a.bool,hasAWSIAMAuthentication:O.a.bool,hasUserToDNMapping:O.a.bool,connectableSupportsIAMAuth:O.a.bool,connectionType:J,selectedHorizon:O.a.string,orgId:O.a.string.isRequired,groupId:O.a.string.isRequired,hasOnlineArchive:O.a.bool,isLDAPAuthenticationEnabled:O.a.bool,connectParams:O.a.shape(ve).isRequired,federatedConnectParams:O.a.shape(ve)}),g()(Ae,"defaultProps",{users:{scram:{first:null,count:0},x509:{first:null,count:0},ldap:{first:null,count:0},awsIAM:{first:null,count:0}},query:null,dbName:null,collName:null,hasLDAPUserOrGroup:!1,hasX509Authentication:!1,hasAWSIAMAuthentication:!1,hasOnlineArchive:!1,hasUserToDNMapping:!1,connectableSupportsIAMAuth:!1,connectionType:"PUBLIC",selectedHorizon:"",isLDAPAuthenticationEnabled:!1,connectParams:{}});var Ne=Object(x.connectBackboneToReact)((function(e){var t=e.settingsModel,n=e.connectOptions,r=e.federatedConnectOptions,o=e.uiState,i=e.userSecurity,a=e.usersCollection,s=a.getFirstSCRAMUser(),l=a.getFirstLDAPUser(),c=a.getFirstX509User(),u=a.getFirstAWSIAMRoleOrUser(),d=a.getFirstLDAPGroup(),p=t.getCurrentOrgId(),f=t.getCurrentGroupId(),h=function(e){return e?{replicaSetName:e.getReplicaSetName(),hostnamePortShell:e.getHostNamePortShell(),getPrivateHostnamePortShell:function(){return e.getPrivateHostnamePortShell()},getPrivateLinkHostnamePortShell:function(t){return e.getPrivateLinkConnectHostnamePortShell(t)},srvAddress:e.getSRVAddress(),getPrivateLinkSrvAddress:function(t){return e.getPrivateLinkSRVAddress(t)},getPrivateSrvAddress:function(){return e.getPrivateSRVAddress()},isTenant:e.isTenant(),connectableSupportsSRV:e.getConnectableSupportsSRV(),connectableName:e.getConnectableName()}:void 0};return{users:{scram:{first:s?s.get("user"):null,count:a.getNumSCRAMUsers()},ldap:{first:l?l.get("user"):null,count:a.getNumLDAPUsers()},x509:{first:c?c.get("user"):null,count:a.getNumX509Users()},awsIAM:{first:u?u.get("user"):null,count:a.getNumAWSIAMUsers()}},connectParams:h(n),federatedConnectParams:h(r),docsUrl:t.get("DOCS_URL"),query:o.get("query"),dbName:o.get("dbName"),collName:o.get("collName"),isLDAPAuthenticationEnabled:i.isLDAPAuthenticationEnabled(),hasLDAPUserOrGroup:void 0!==l||void 0!==d,hasX509Authentication:void 0!==c||i.isCustomerX509Enabled(),hasAWSIAMAuthentication:void 0!==u,connectableSupportsIAMAuth:n.getConnectableSupportsIAMAuth(),hasUserToDNMapping:i.hasUserToDNMapping(),orgId:p,groupId:f}}))(Ae),Te=n(10),we=n.n(Te),Pe=function(){return we.a.ajax({url:"/nds/compass/versions/latestStable",method:"GET"})},Re=function(e){return[{name:"clusterOnly",children:Object(N.jsx)("div",null,"Connect to Cluster")},{name:"clusterAndArchive",children:Object(N.jsx)("div",null,"Connect to Cluster and Online Archive"),disabled:"PUBLIC"!==e,disabledReason:"You must use a standard connection (secured by TLS) to connect to your Online Archive data."}]},Ie=/([0-9]+\.)+([0-9]+)?/g,De=[{label:"1.12 or later",value:">=1.12",supportsSRV:!0},{label:"1.11 or earlier",value:"<=1.11",supportsSRV:!1}],ke={"OS X":"mms-icon-logo-apple",Windows:"mms-icon-logo-windows",Ubuntu:"mms-icon-logo-ubuntu",RedHat:"mms-icon-logo-redhat"},Me={hostnamePortServers:O.a.string,replicaSetName:O.a.string,srvAddress:O.a.string,getPrivateLinkSrvAddress:O.a.func,getPrivateLinkHostnamePortDriver:O.a.func,getPrivateSrvAddress:O.a.func,getPrivateHostnamePortDriver:O.a.func,connectableSupportsSRV:O.a.bool};function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var Fe=function(e){u()(n,e);var t=Ue(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"state",{latestCompassVersion:null,platforms:[],platformSelected:null,compassVersionSelected:De[0],showLDAPConnectionString:!e.props.users.scram.first&&e.props.isLDAPAuthenticationSupported&&e.props.hasLDAPUserOrGroup,userHasCompass:!1,connectToClusterAndArchive:!1,connectParams:e.props.connectParams}),g()(l()(e),"createLocalStorageKeyForGroup",(function(e){return"MMS.ConnectCompassSettings.".concat(e)})),g()(l()(e),"platformsSelectRenderer",(function(e){return Object(N.jsx)("span",null,e.iconName&&Object(N.jsx)("i",{className:e.iconName})," ",e.label)})),e}return a()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.groupId,n=this.createLocalStorageKeyForGroup(t);this.localStorageWrapper=Object(Q.a)(n),Pe().then((function(t){var n=t.platform.map((function(e){return{iconName:ke[e.name.split("64-bit")[0].trim()],label:e.name,value:e.name,download_link:e.download_link}}));e.setState({latestCompassVersion:t.version.match(Ie)[0],platforms:n,platformSelected:e.selectDefaultPlatform(n)});var r=e.localStorageWrapper.getData();r.platformSelected&&e.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r))}))}},{key:"componentWillUnmount",value:function(){var e=this.state,t={platformSelected:e.platformSelected,userHasCompass:e.userHasCompass,compassVersionSelected:e.compassVersionSelected};this.localStorageWrapper.saveData(t)}},{key:"selectDefaultPlatform",value:function(e){var t;if(null===(t=window.navigator)||void 0===t?void 0:t.userAgent){if(-1!==window.navigator.userAgent.indexOf("Mac"))return e[0];if(-1!==window.navigator.userAgent.indexOf("Windows"))return e[1]}return e[4]}},{key:"onClickCompassInstalledButton",value:function(e){this.setState({userHasCompass:e})}},{key:"getDownloadURLForPlatform",value:function(){var e=this.state.platformSelected;return e?e.download_link:""}},{key:"getConnectMarkupAndText",value:function(){var e,t,n=this.props,r=n.users,o=n.hasUserToDNMapping,i=n.connectionType,a=n.selectedHorizon,s=this.state,l=s.showLDAPConnectionString,c=s.userHasCompass,u=s.compassVersionSelected,d=s.connectParams,p=d.hostnamePortServers,f=d.replicaSetName,h=d.srvAddress,m=d.getPrivateLinkSrvAddress,g=d.getPrivateLinkHostnamePortDriver,b=d.getPrivateSrvAddress,y=d.getPrivateHostnamePortDriver,O=d.connectableSupportsSRV,x=(!c||u.supportsSRV)&&O,j={};l&&(j.authSource="$external",j.authMechanism="PLAIN"),x?(e="mongodb+srv","PUBLIC"===i?t=h:"PRIVATE"===i?t=b():"PRIVATE_ENDPOINT"===i&&(t=m(a))):(e="mongodb","PUBLIC"===i?t=p:"PRIVATE"===i?t=y():"PRIVATE_ENDPOINT"===i&&(t=g(a)),f&&(j.replicaSet=encodeURIComponent(f)),j.ssl="true",l||(j.authSource="admin"));var E=Object.keys(j).map((function(e){return"".concat(e,"=").concat(j[e])})).join("&"),S=E?"?".concat(E):"",C=1===r.scram.count&&r.scram.first||"<username>",_=1===r.ldap.count&&r.ldap.first||(o?"<mapped username>":"<user DN>"),A=l?_:C,T=Object(N.jsx)("strong",{className:"text text-is-green text-is-code"},A),w=Object(N.jsx)("strong",{className:"text text-is-green text-is-code"},"<password>"),P="".concat(A,":").concat("<password>"),R=Object(N.jsx)(v.a.Fragment,null,T,":",w),I="".concat(e,"://").concat(P,"@").concat(t,"/test").concat(S);return{connectStringMarkup:Object(N.jsx)("span",null,e,"://",R,"@",t,"/test",S),connectStringText:I}}},{key:"onClickClusterArchiveConnectButton",value:function(e){var t=this.props,n=t.connectParams,r=t.federatedConnectParams;this.setState({connectToClusterAndArchive:e,connectParams:e?r:n})}},{key:"render",value:function(){var e=this,t=this.props,n=t.users,r=t.isLDAPAuthenticationSupported,o=t.connectionType,i=t.hasUserToDNMapping,a=t.hasOnlineArchive,s=this.state,l=s.latestCompassVersion,c=s.platforms,u=s.platformSelected,d=s.showLDAPConnectionString,p=s.userHasCompass,f=s.compassVersionSelected,h=s.connectParams,m=s.connectToClusterAndArchive,g=(!p||f.supportsSRV)&&h.connectableSupportsSRV,b=this.getConnectMarkupAndText(),y=b.connectStringMarkup,O=b.connectStringText,x=1===n.scram.count&&n.scram.first||"<username>",j=1===n.ldap.count&&n.ldap.first||(i?"<mapped username>":"<user DN>"),S=d?j:x,C=Object(N.jsx)("strong",{className:"text-is-green"},S),_=Object(N.jsx)("strong",{className:"text-is-green"},"<password>"),T=d?i?"user to which the specified User To DN Mapping is applied":"user's distinguished name":"user's (MongoDB User) username";return l&&Object(N.jsx)(v.a.Fragment,null,Object(N.jsx)("div",null,Object(N.jsx)(te.a,{onClick:function(){return e.onClickCompassInstalledButton(!1)},className:E()("button button-is-flat",{"button-is-flat-is-selected":!p})},"I do not have MongoDB Compass"),Object(N.jsx)(te.a,{onClick:function(){return e.onClickCompassInstalledButton(!0)},className:E()("button button-is-flat",{"button-is-flat-is-selected":p})},"I have MongoDB Compass")),Object(N.jsx)("div",{className:"cluster-connect-modal-steps-is-padded"},Object(N.jsx)("ol",{className:"step-indicator step-indicator-is-vertical"},!p&&Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("strong",null,"Select your operating system and download MongoDB Compass"),Object(N.jsx)("div",{className:"step-indicator-step-child"},Object(N.jsx)(A.a,{id:"platformsDropdown",value:u?u.value:"",options:c,onChange:function(t){e.setState({platformSelected:t})},valueRenderer:this.platformsSelectRenderer,optionRenderer:this.platformsSelectRenderer,className:"dropdown-select-has-button-style cluster-connect-modal-compass-dropdown"}),Object(N.jsx)("div",null,Object(N.jsx)("div",{className:"step-indicator-step-child"},Object(N.jsx)(te.a,{onClick:function(){return window.open(e.getDownloadURLForPlatform())},style:{marginRight:"8px"},disabled:!(l&&u)},Object(N.jsx)("i",{className:"fa fa-download"}),"Â Download Compass (",l,")"),Object(N.jsx)("span",{style:{marginRight:"8px"}},Object(N.jsx)("strong",null,"or")),Object(N.jsx)(pe.a,{copyableText:this.getDownloadURLForPlatform(),buttonText:"Copy download URL",standalone:!0,disabled:!u}))))),p&&Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("strong",null,"Choose your version of Compass:"),Object(N.jsx)("div",{className:"step-indicator-step-child"},Object(N.jsx)(A.a,{id:"versionsDropdown",value:f.value,options:De,onChange:function(t){e.setState({compassVersionSelected:t})},className:"dropdown-select-has-button-style cluster-connect-modal-compass-dropdown"}),Object(N.jsx)("div",{className:"cluster-connect-modal-installed-version-dropdown-caption"},'See your Compass version in "About Compass"'))),Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("strong",null,"Copy the connection string, then open MongoDB Compass."),a&&Object(N.jsx)(oe,{className:"cluster-connect-modal-connect-cluster-archive-buttons",buttons:Re(o),onClick:function(t){e.onClickClusterArchiveConnectButton("clusterAndArchive"===t.name)}}),Object(N.jsx)("div",{className:"step-indicator-step-child"},r&&!m&&Object(N.jsx)(w,{groupLabel:"Authentication Method",groupName:"authenticationMode",checkedValue:d?"LDAP":"SCRAM",onChange:function(t){e.setState({showLDAPConnectionString:"LDAP"===t})},radioChoices:[{label:"SCRAM",value:"SCRAM"},{label:"LDAP",value:"LDAP"}]}),Object(N.jsx)(D.a,{copyableText:O,commandClassName:"copy-command-is-full-width"},y),Object(N.jsx)("p",{className:"text-is-gray step-indicator-step-child"},d&&!g&&Object(N.jsx)("span",{id:"connectionStringUsernamePasswordInstruction"},"Replace ",C," with the ",T,", and ",_," with the respective user's password."),!d&&!g&&Object(N.jsx)("span",{id:"connectionStringUsernamePasswordInstruction"},"MongoDB Compass will auto-detect the connection string you copied. To connect, enter your database username and password into the corresponding fields when prompted."),!d&&g&&Object(N.jsx)("span",{id:"connectionStringUsernamePasswordInstruction"},"You will be prompted for the password for the ",C," ",T,"."),d&&g&&Object(N.jsx)("span",{id:"connectionStringUsernamePasswordInstruction"},"Replace ",C," with the ",T,". You will be prompted for the password for the user."),Object(N.jsx)("br",null),Object(N.jsx)("span",{id:"connectionStringPasswordCharactersInstruction"},"When entering your password, make sure that any special characters are"," ",Object(N.jsx)("a",{href:"https://dochub.mongodb.org/core/atlas-url-encoding",target:"_blank",rel:"noopener noreferrer"},"URL encoded"),"."))))),Object(N.jsx)("p",{className:"cluster-connect-modal-troubleshooting-caption"},"Having trouble connecting?"," ",Object(N.jsx)("a",{href:"https://dochub.mongodb.org/core/atlas-connection-troubleshooting",target:"_blank",rel:"noopener noreferrer"},"View our troubleshooting documentation"))))}}]),n}(v.a.Component);g()(Fe,"propTypes",{users:O.a.shape({scram:O.a.shape({first:O.a.string,count:O.a.number}),ldap:O.a.shape({first:O.a.string,count:O.a.number})}),isLDAPAuthenticationSupported:O.a.bool,hasLDAPUserOrGroup:O.a.bool,hasUserToDNMapping:O.a.bool,connectionType:J.isRequired,selectedHorizon:O.a.string,groupId:O.a.string.isRequired,hasOnlineArchive:O.a.bool.isRequired,connectParams:O.a.shape(Me).isRequired,federatedConnectParams:O.a.shape(Me)}),g()(Fe,"defaultProps",{users:{scram:{first:null,count:0},ldap:{first:null,count:0}},isLDAPAuthenticationSupported:!1,hasLDAPUserOrGroup:!1,hasUserToDNMapping:!1,connectionType:"PUBLIC",selectedHorizon:"",hasOnlineArchive:!1,connectParams:{replicaSetName:null,connectableSupportsSRV:!0,getPrivateLinkHostnamePortDriver:function(){return""},getPrivateLinkSrvAddress:function(){return""},getPrivateHostnamePortDriver:function(){return""},getPrivateSrvAddress:function(){return""}}});var Be=Object(x.connectBackboneToReact)((function(e){var t=e.usersCollection,n=e.settingsModel,r=e.connectOptions,o=e.federatedConnectOptions,i=e.userSecurity,a=t.getFirstSCRAMUser(),s=t.getFirstLDAPUser(),l=t.getFirstLDAPGroup(),c=n.getCurrentGroupId(),u=function(e){return e?{hostnamePortServers:e.getHostNamePortDriver(),getPrivateHostnamePortDriver:function(){return e.getPrivateConnectHostnamePortDriver()},getPrivateLinkHostnamePortDriver:function(t){return e.getPrivateLinkConnectHostnamePortDriver(t)},srvAddress:e.getSRVAddress(),getPrivateSrvAddress:function(){return e.getPrivateSRVAddress()},getPrivateLinkSrvAddress:function(t){return e.getPrivateLinkSRVAddress(t)},replicaSetName:e.getReplicaSetName(),connectableSupportsSRV:e.getConnectableSupportsSRV()}:void 0};return{users:{scram:{first:a?a.get("user"):null,count:t.getNumSCRAMUsers()},ldap:{first:s?s.get("user"):null,count:t.getNumLDAPUsers()}},connectParams:u(r),federatedConnectParams:u(o),docsUrl:n.get("DOCS_URL"),isLDAPAuthenticationSupported:!r.isTenant()&&i.isLDAPAuthenticationEnabled(),hasLDAPUserOrGroup:void 0!==s||void 0!==l,hasUserToDNMapping:i.hasUserToDNMapping(),groupId:c}}))(Fe),ze=n(20),Ve=n.n(ze),qe=n(119);function Ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var He=v.a.Component,We=function(e){u()(n,e);var t=Ge(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"state",{showLDAPConnectionString:!e.props.scramUsername&&e.props.isLDAPAuthenticationSupported&&e.props.hasLDAPUserOrGroup}),e}return a()(n,[{key:"render",value:function(){var e,t=this,n=this.props,r=n.publicHostname,o=n.privateHostname,i=n.privateEndpointHostnamesMap,a=n.scramUsername,s=n.docsUrl,l=n.isLDAPAuthenticationSupported,c=n.hasUserToDNMapping,u=n.ldapUserDN,d=n.ldapMappedUser,p=n.isLDAPAuthorizationEnabled,f=n.connectionType,h=n.selectedHorizon,m=this.state.showLDAPConnectionString,g="27015";if(f===K.PUBLIC)e=r;else if(f===K.PRIVATE)e=o;else if(f===K.PRIVATE_ENDPOINT){var b=i[h].split(":"),v=Ve()(b,2);e=v[0],g=v[1]}var y,O=m?"?mechanism=PLAIN&source=$external":"?source=admin";y=p?c?"<mapped username>":"<user DN>":c?d||"<mapped username>":u||"<user DN>";var x=m?y:a||"<username>",j=m?c?"user to which the specified User To DN Mapping is applied":"user's distinguished name":"user's (MongoDB User) username",E=null===a&&!m||m&&(!d&&c||!u)||p,S=[{row:1,field:"Hostname",value:e},{row:2,field:"Port",value:g},{row:3,field:"User",value:"".concat(x).concat(O)}],C="".concat(s,"/tutorial");return Object(N.jsx)("div",null,Object(N.jsx)("div",{className:"cluster-connect-modal-bi-section"},Object(N.jsx)("span",{className:"cluster-connect-modal-bi-tool-choice-heading"},"Choose your BI Tool to open its connection instructions:"),Object(N.jsx)("div",{className:"step-indicator-step-child"},Object(N.jsx)("a",{className:"button cluster-connect-modal-bi-tool-choice-button",href:"".concat(C,"/connect-bic-excel"),target:"_blank",rel:"noopener noreferrer"},"Excel"),Object(N.jsx)("a",{className:"button cluster-connect-modal-bi-tool-choice-button",href:"".concat(C,"/connect-bic-tableau"),target:"_blank",rel:"noopener noreferrer"},"Tableau"),Object(N.jsx)("a",{className:"button cluster-connect-modal-bi-tool-choice-button",href:"".concat(C,"/connect-bic-qlik"),target:"_blank",rel:"noopener noreferrer"},"Qlik Sense"),Object(N.jsx)("a",{className:"button cluster-connect-modal-bi-tool-choice-button",href:"".concat(C,"/connect-bic-powerbi"),target:"_blank",rel:"noopener noreferrer"},"Power BI Desktop"))),Object(N.jsx)("div",{className:"cluster-connect-modal-bi-section"},Object(N.jsx)("span",null,"The necessary Atlas connection configuration parameters will vary depending on your tool.",Object(N.jsx)("br",null),"Here are the most commonly required fields:"),l&&Object(N.jsx)("div",{className:"cluster-connect-modal-uri-options cluster-connect-modal-uri-options--margin-top"},Object(N.jsx)(w,{groupLabel:"Authentication Method",groupName:"authenticationMode",checkedValue:m?"LDAP":"SCRAM",onChange:function(e){return t.setState({showLDAPConnectionString:"LDAP"===e})},radioChoices:[{label:"SCRAM",value:"SCRAM"},{label:"LDAP",value:"LDAP"}]})),Object(N.jsx)(qe.a,{data:S,empty:"",tableClassName:"plain-table plain-table-has-top-margin plain-table-has-bottom-margin",rowClassName:function(e){var t="plain-table-row plain-table-row-is-tall plain-table-row-is-vertically-centered",n=e.row<S.length?t:"".concat(t," plain-table-row-no-bottom-border");return n},hasHeader:!1},Object(N.jsx)(qe.a.Column,{accessor:"field",header:"Configuration Field",cell:function(e){return Object(N.jsx)(qe.a.Cell,{key:"field".concat(e.data.row),className:"plain-table-cell cluster-connect-modal-bi-table-field-cell"},Object(N.jsx)("strong",null,e.value))}}),Object(N.jsx)(qe.a.Column,{accessor:"value",header:"Value",cell:function(e){return Object(N.jsx)(qe.a.Cell,{key:"value".concat(e.data.row),className:"plain-table-cell"},Object(N.jsx)(D.a,{copyableText:e.value,inheritLineHeight:!0,commandClassName:"copy-command-is-full-width"}),E&&e.data.row===S.length&&Object(N.jsx)("span",null,"Replace ",Object(N.jsx)("strong",{className:"text-is-green"},x)," with your databaseÂ ",j,"."))}}))))}}]),n}(He);g()(We,"propTypes",{publicHostname:O.a.string,privateHostname:O.a.string,privateEndpointHostnamesMap:O.a.objectOf(O.a.string),scramUsername:O.a.string,docsUrl:O.a.string.isRequired,isLDAPAuthenticationSupported:O.a.bool,hasLDAPUserOrGroup:O.a.bool,hasUserToDNMapping:O.a.bool,ldapUserDN:O.a.string,ldapMappedUser:O.a.string,isLDAPAuthorizationEnabled:O.a.bool,connectionType:J,selectedHorizon:O.a.string}),g()(We,"defaultProps",{publicHostname:null,privateHostname:null,privateEndpointHostnamesMap:{},isLDAPAuthenticationSupported:!1,hasLDAPUserOrGroup:!1,hasUserToDNMapping:!1,scramUsername:null,ldapUserDN:null,ldapMappedUser:null,isLDAPAuthorizationEnabled:!1,connectionType:"PUBLIC",selectedHorizon:""});var Ye=Object(x.connectBackboneToReact)((function(e){var t=e.usersCollection,n=e.connectOptions,r=e.settingsModel,o=e.userSecurity,i=t.getFirstSCRAMUser(),a=t.getFirstLDAPUserDN(),s=t.getFirstLDAPMappedUser();return{scramUsername:i?i.get("user"):null,publicHostname:n.getBIConnector().getPublicHostname(),privateHostname:n.getBIConnector().getPrivateHostname(),privateEndpointHostnamesMap:n.getBIConnector().getPrivateEndpointHostnamesMap(),docsUrl:r&&r.getDocsUrl(),isLDAPAuthenticationSupported:!n.isTenant()&&o.isLDAPAuthenticationEnabled(),hasLDAPUserOrGroup:void 0!==t.getFirstLDAPUser()||void 0!==t.getFirstLDAPGroup(),ldapUserDN:a?a.get("user"):null,hasUserToDNMapping:o.hasUserToDNMapping(),ldapMappedUser:s?s.get("user"):null,isLDAPAuthorizationEnabled:o.isLDAPAuthorizationEnabled()}}))(We);function Ke(e){var t=e.activeView,n=e.connectionType,r=e.selectedHorizon,o=e.hasOnlineArchive;return t===Ze.CONNECT_SHELL?Object(N.jsx)(Ne,{connectionType:n,selectedHorizon:r,hasOnlineArchive:o}):t===Ze.CONNECT_APPLICATION?Object(N.jsx)(ce,{connectionType:n,selectedHorizon:r,hasOnlineArchive:o}):t===Ze.CONNECT_COMPASS?Object(N.jsx)(Be,{connectionType:n,selectedHorizon:r,hasOnlineArchive:o}):t===Ze.CONNECT_BI?Object(N.jsx)(Ye,{connectionType:n,selectedHorizon:r}):void 0}var Ze={CONNECT_APPLICATION:"CONNECT_APPLICATION",CONNECT_SHELL:"CONNECT_SHELL",CONNECT_COMPASS:"CONNECT_COMPASS",CONNECT_BI:"CONNECT_BI"};Ke.VIEWS=Ze,Ke.propTypes={activeView:O.a.oneOf(Object.values(Ke.VIEWS)).isRequired,connectionType:J,selectedHorizon:O.a.string};var $e=Ke;function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var Je=v.a.Component;function Qe(e){var t=e.onClick,n=e.label,r=e.description,o=e.disabled,i=e.tooltipContent,a=e.iconPath,s=e.labelLink,l=E()("button","button-is-descriptive","cluster-connect-modal-option-button",{"button-is-disabled":o,"cluster-connect-modal-option-button-is-disabled":o}),c=Object(N.jsx)("div",{className:"cluster-connect-modal-option-button-content"},Object(N.jsx)("img",{alt:"icon",className:"cluster-connect-modal-option-button-icon",src:a}),Object(N.jsx)("div",null,Object(N.jsx)("span",null,Object(N.jsx)("strong",null,n),s&&Object(N.jsx)("span",null," ","(",Object(N.jsx)("a",{href:s.url},s.text),")")),Object(N.jsx)("span",{className:"button-description"},r),Object(N.jsx)("i",{className:"mms-icon-back button-description-caret"}))),u=i?Object(N.jsx)(C.a,{content:i},c):c;return Object(N.jsx)("button",{className:l,onClick:o?function(){}:t},u)}Qe.propTypes={onClick:O.a.func.isRequired,label:O.a.node.isRequired,description:O.a.string.isRequired,disabled:O.a.bool,tooltipContent:O.a.oneOfType([O.a.string,O.a.node]),iconPath:O.a.string.isRequired,labelLink:O.a.shape({text:O.a.string.isRequired,url:O.a.string.isRequired})},Qe.defaultProps={disabled:!1,tooltipContent:null};var et=function(e){u()(n,e);var t=Xe(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"state",{showSecondaryOptions:!e.props.query}),e}return a()(n,[{key:"getEditClusterURL",value:function(){var e=this.props.clusterDescriptionName;return"#clusters/edit/".concat(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClickOpt,r=t.query,o=t.biConnectorDisabled,i=t.biConnectorHasPublicHostname,a=t.biConnectorHasPrivateHostname,s=t.biConnectorPrivateEndpointHostnameMap,l=t.biConnectorSupported,c=t.connectionType,u=t.selectedHorizon,d=this.state.showSecondaryOptions,p=c===K.PUBLIC&&i||c===K.PRIVATE&&a||c===K.PRIVATE_ENDPOINT&&u in s,f=o?Object(N.jsx)("div",{className:"tooltip-content-is-narrow"},"BI Connector is disabled. You can enable this feature by editing your cluster configuration."):p?null:Object(N.jsx)("div",{className:"tooltip-content-is-narrow"},"Your BI Connector is being configured. Please try again later.");return Object(N.jsx)("div",null,Object(N.jsx)("strong",{className:"cluster-connect-modal-action-header-text"},"Choose a connection method"),"Â ",Object(N.jsx)("span",null,Object(N.jsx)("a",{href:"https://docs.atlas.mongodb.com/connect-to-cluster/#connect-to-a-cluster",target:"_blank"},"View documentation ",Object(N.jsx)("i",{className:"fa fa-external-link"}))),Object(N.jsx)("p",{className:"cluster-connect-modal-instructions"},"Get your pre-formatted connection string by selecting your tool below."),Object(N.jsx)(Qe,{onClick:function(){return n(Ze.CONNECT_SHELL)},label:Object(N.jsx)(v.a.Fragment,null,"Connect with the ",Object(N.jsx)("span",{className:"cluster-connect-modal-menlo"},"mongo")," ",Object(N.jsx)("span",{className:"cluster-connect-modal-menlo"},"shell")),description:"Interact with your cluster using MongoDBâs interactive Javascript interface",iconPath:"/static/images/nds-connect-modal-shell.png"}),d&&Object(N.jsx)("div",null,Object(N.jsx)(Qe,{onClick:function(){return n(Ze.CONNECT_APPLICATION)},label:"Connect your application",description:"Connect your application to your cluster using MongoDBâs native drivers",iconPath:"/static/images/nds-connect-modal-application.png"}),Object(N.jsx)(Qe,{onClick:function(){return n(Ze.CONNECT_COMPASS)},label:"Connect using MongoDB Compass",description:"Explore, modify, and visualize your data with MongoDBâs GUI",iconPath:"/static/images/nds-connect-modal-compass.png"}),l&&Object(N.jsx)(Qe,{onClick:function(){return n(Ze.CONNECT_BI)},label:"Connect Your Business Intelligence Tool",labelLink:o?{text:"Enable the BI Connector",url:this.getEditClusterURL()}:null,description:"Get connection settings for Business Intelligence tools and visualize your data",tooltipContent:f,disabled:o||!p,iconPath:"/static/images/nds-connect-modal-bi-connector.png"})),r&&Object(N.jsx)("button",{className:"link link-has-top-margin",onClick:function(){return e.setState({showSecondaryOptions:!d})}},d?"Hide":"Show"," additional connection options"))}}]),n}(Je);g()(et,"ConnectOption",Qe),et.propTypes={onClickOpt:O.a.func.isRequired,query:O.a.string,biConnectorDisabled:O.a.bool,biConnectorHasPublicHostname:O.a.bool,biConnectorHasPrivateHostname:O.a.bool,biConnectorPrivateEndpointHostnameMap:O.a.objectOf(O.a.string),biConnectorSupported:O.a.bool,clusterDescriptionName:O.a.string.isRequired,connectionType:J.isRequired,selectedHorizon:O.a.string},et.defaultProps={query:null,biConnectorSupported:!0,biConnectorHasPublicHostname:!1,biConnectorHasPrivateHostname:!1,biConnectorPrivateEndpointHostnameMap:{},biConnectorDisabled:!0,selectedHorizon:""};var tt=Object(x.connectBackboneToReact)((function(e){var t=e.uiState,n=e.connectOptions,r=n.getBIConnector();return{query:t.get("query"),biConnectorDisabled:!r.isEnabled(),biConnectorHasPublicHostname:!!r.getPublicHostname(),biConnectorHasPrivateHostname:!!r.getPrivateHostname(),biConnectorPrivateEndpointHostnameMap:r.getPrivateEndpointHostnamesMap(),biConnectorSupported:!n.isTenant(),clusterDescriptionName:n.getName()}}))(et),nt=n(920);function rt(e){var t=e.onCancel,n=e.onChangeAddress,r=e.onChangeComment,o=e.onSubmit,i=e.comment,a=e.address,s=e.inputsDisabled,l=e.hasPeeringConnections,c=e.error,u=l?"Enter IP Address, CIDR Notation, or Security Group ID":"Enter IP Address or CIDR Notation";return Object(N.jsx)("div",{className:"cluster-connect-modal-input-area"},Object(N.jsx)("div",{className:"cluster-connect-modal-input-row cluster-connect-modal-input-row-has-margin-bottom"},Object(N.jsx)("span",{className:"cluster-connect-modal-input-item"},Object(N.jsx)("strong",null,"IP Address"),Object(N.jsx)("input",{name:"whitelistEntry",type:"text",placeholder:u,className:E()("form-control cluster-connect-modal-form",{"cluster-connect-modal-form-is-invalid":c.ipError}),value:a,onChange:n,disabled:s}),c.ipError&&Object(N.jsx)("p",{className:"cluster-connect-modal-input-item-is-invalid"},c.ipError)),Object(N.jsx)("span",{className:"cluster-connect-modal-input-item cluster-connect-modal-input-item-has-margin-left"},Object(N.jsx)("strong",null,"Description")," (Optional)",Object(N.jsx)("input",{name:"whitelistComment",type:"text",placeholder:"An optional comment describing this entry",className:E()("form-control cluster-connect-modal-form",{"cluster-connect-modal-form-is-invalid":c.descriptionError}),value:i,onChange:r,disabled:s}),c.descriptionError&&Object(N.jsx)("p",{className:"cluster-connect-modal-input-item-is-invalid"},c.descriptionError))),Object(N.jsx)("div",{className:"cluster-connect-modal-input-row cluster-connect-modal-input-row-is-reverse"},Object(N.jsx)("button",{name:"saveWhitelistEntry",className:"button button-is-primary button-is-normal-font-weight button-has-margin-left",onClick:o,disabled:s},"Add IP Address"),Object(N.jsx)("button",{className:"button button-is-normal-font-weight",onClick:t,disabled:s},"Cancel")))}rt.propTypes={onChangeComment:O.a.func.isRequired,onChangeAddress:O.a.func.isRequired,onCancel:O.a.func.isRequired,onSubmit:O.a.func.isRequired,comment:O.a.string,address:O.a.string,inputsDisabled:O.a.bool.isRequired,hasPeeringConnections:O.a.bool.isRequired,error:O.a.shape({ipError:O.a.string,descriptionError:O.a.string})},rt.defaultProps={comment:"",address:"",error:{}};var ot=rt,it=n(934),at=n(938),st=n(114);function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var ct=v.a.Component,ut=function(e){u()(n,e);var t=lt(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"state",{showForm:!1,inputsDisabled:!1,error:"",address:"",comment:""}),g()(l()(e),"onClickAdd",(function(t){e.setState({address:t,showForm:!0})})),g()(l()(e),"onCancel",(function(){e.setState({showForm:!1,error:""})})),g()(l()(e),"onChangeComment",(function(t){e.setState({comment:t.currentTarget.value,error:{}});var n=e.props.orgId;xe.d.track(xe.b.UX_ACTION_PERFORMED,{context:"Atlas Connect Modal",action:"Changed IP Comment"},{integrations:Object(xe.c)(n)})})),g()(l()(e),"onChangeAddress",(function(t){e.setState({address:t.currentTarget.value,error:{}});var n=e.props.orgId;xe.d.track(xe.b.UX_ACTION_PERFORMED,{context:"Atlas Connect Modal",action:"Changed IP Address"},{integrations:Object(xe.c)(n)})})),g()(l()(e),"whitelistAddress",(function(t){var n=e.props.orgId;Object(st.a)(at.a.addPermission(e.props.whitelistedIpCollection,t).then((function(){xe.d.track(xe.b.IP_WHITELIST_FORM_SUBMITTED,{},{integrations:Object(xe.c)(n)}),e.setState({inputsDisabled:!1,showForm:!1})}),(function(t){e.setState({inputsDisabled:!1,error:t})})))})),g()(l()(e),"onSubmit",(function(){var t={value:e.state.address,comment:e.state.comment,isEditable:!0};e.setState({inputsDisabled:!0,error:""}),e.whitelistAddress(t)})),g()(l()(e),"whitelistCurrentIP",(function(){e.whitelistAddress({value:e.props.currentIpv4Address,comment:"",isEditable:!0})})),e}return a()(n,[{key:"getErrorMessage",value:function(){if(this.state.error.responseJSON){var e=this.state.error.responseJSON;return"INVALID_NETWORK_PERMISSION_COMMENT"===e.errorCode?{descriptionError:e.message}:"INVALID_IP_ADDRESS_OR_CIDR_NOTATION"===e.errorCode?{ipError:"Please enter a valid IP address or CIDR notation"}:{ipError:e.message}}return{}}},{key:"render",value:function(){var e=this,t=this.state,n=t.showForm,r=t.address,o=t.comment,i=t.inputsDisabled,a=this.props,s=a.hasPeeringConnections,l=a.whitelistedIpCollection,c=a.isConnectionTypePrivate;return 0===l.getIPs().length?Object(N.jsx)("div",null,!n&&Object(N.jsx)("div",null,!c&&Object(N.jsx)("button",{id:"buttonAddCurrentIp",className:"button button-is-primary button-has-margin-top",onClick:function(){return e.setState({showForm:!0,address:e.props.currentIpv4Address})}},"Add Your Current IP Address"),Object(N.jsx)("button",{id:"buttonAddDifferentIp",className:"button button-has-margin-left button-has-margin-top",onClick:function(){return e.setState({address:"",showForm:!0})}},c?"Add an IP Address":"Add a Different IP Address"),Object(N.jsx)("button",{id:"buttonAllowAccessFromAnywhere",className:"button button-has-margin-left button-has-margin-top",onClick:function(){return e.setState({address:"0.0.0.0/0",showForm:!0})}},"Allow Access from Anywhere")),n&&Object(N.jsx)(ot,{address:r,comment:o,onChangeComment:this.onChangeComment,onChangeAddress:this.onChangeAddress,onCancel:this.onCancel,onSubmit:this.onSubmit,inputsDisabled:i,hasPeeringConnections:s,error:this.getErrorMessage()})):Object(N.jsx)("div",null,Object(N.jsx)("i",{className:"mms-icon-check cluster-connect-modal-checkmark"}),"An IP address has been whitelisted."," ",Object(N.jsx)("span",{className:"cluster-connect-modal-subtext"},"Add another whitelist entry in the"," ",Object(N.jsx)("a",{href:"#security/network/whitelist",target:"_blank",rel:"noopener noreferrer"},"IP Whitelist tab.")))}}]),n}(ct);g()(ut,"propTypes",{whitelistedIpCollection:O.a.instanceOf(it.a).isRequired,hasPeeringConnections:O.a.bool.isRequired,currentIpv4Address:O.a.string.isRequired,isConnectionTypePrivate:O.a.bool.isRequired});var dt=Object(x.connectBackboneToReact)((function(e){var t=e.settingsModel,n=e.whitelistedIpCollection,r=e.peerConnectionCollection;return{whitelistedIpCollection:n,currentIpv4Address:t.get("CURRENT_IPV4_ADDR"),hasPeeringConnections:r.length>0,orgId:t.get("ORG_ID")}}))(ut),pt=n(917),ft=n(939),ht=n(982),mt=n(1078),gt=n(1079),bt=n(294),vt=n(913),yt=n(966);function Ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var xt=function(e){u()(n,e);var t=Ot(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"state",{inputsDisabled:!1,error:{},user:"",password:""}),g()(l()(e),"onCancel",(function(){e.setState({error:{}})})),g()(l()(e),"onChangeUsername",(function(t){e.setState({user:t.currentTarget.value,error:{}})})),g()(l()(e),"onChangePassword",(function(t){e.setState({password:t.currentTarget.value,error:{}})})),g()(l()(e),"generatePassword",(function(){e.setState({password:gt.a.getRandomString(16)})})),g()(l()(e),"setError",(function(t){if(t.user||t.password)e.setState({error:t});else{var n=bt.a.getErrorMessage({xhr:t});t.responseJSON&&"PASSWORD_TOO_COMMON"===t.responseJSON.errorCode?e.setState({error:{password:n}}):e.setState({error:{user:n}})}})),g()(l()(e),"onSubmit",(function(t){var n=e.state,r=n.user,o=n.password,i=e.props,a=i.addUser,s=i.orgId;t.preventDefault(),e.setState({inputsDisabled:!0,error:{}});var l=new ft.a({user:r,db:"admin",password:o,roles:[{role:"atlasAdmin",db:"admin",collection:null}]});ht.a.createUser(l).then((function(t){a(t),yt.a.broadcastDatabaseUserEvent({segmentEvent:xe.b.DATABASE_USER_FORM_SUBMITTED,userType:vt.a.ATLAS_ADMIN.readableText,isTemporaryUser:!1,options:{integrations:Object(xe.c)(s)}}),e.setState({inputsDisabled:!1})}),(function(t){e.setError(t),e.setState({inputsDisabled:!1})}))})),e}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.isFocus,n=e.usersCollection,r=this.state,o=r.error,i=r.user,a=r.password,s=r.inputsDisabled;return 0===n.length?Object(N.jsx)("div",{className:"cluster-connect-modal-input-area"},Object(N.jsx)("strong",{className:"cluster-connect-modal-input-row"},"This first user will haveÂ ",Object(N.jsx)("a",{className:"link",href:"https://docs.atlas.mongodb.com/security-add-mongodb-users/#Atlas-admin",target:"_blank",rel:"noopener noreferrer"},"atlasAdminÂ ",Object(N.jsx)("i",{className:"fa fa-external-link"})),"Â permissions for this project."),Object(N.jsx)("div",{className:"cluster-connect-modal-input-row cluster-connect-modal-input-row-has-margin-vertical"},"Keep your credentials handy, you'll need them for the next step."),Object(N.jsx)("div",null,Object(N.jsx)("div",{className:"cluster-connect-modal-input-row cluster-connect-modal-input-row-has-margin-bottom"},Object(N.jsx)("span",{className:"cluster-connect-modal-input-item"},Object(N.jsx)("div",{className:"cluster-connect-modal-input-item-label"},Object(N.jsx)("strong",null,"Username")),Object(N.jsx)("input",{name:"usernameEntry",type:"text",placeholder:"ex. dbUser",className:E()("form-control cluster-connect-modal-form",{"cluster-connect-modal-form-is-invalid":!!o.user}),value:i,onChange:this.onChangeUsername,disabled:s}),o.user&&Object(N.jsx)("p",{className:"cluster-connect-modal-input-item-is-invalid"},o.user)),Object(N.jsx)("span",{className:"cluster-connect-modal-input-item cluster-connect-modal-input-item-has-margin-left"},Object(N.jsx)("span",{className:"cluster-connect-modal-input-item-label"},Object(N.jsx)("span",null,Object(N.jsx)("strong",null,"Password")),Object(N.jsx)(te.a,{className:"cluster-connect-modal-input-item-generate-button",onClick:this.generatePassword,tabIndex:-1},Object(N.jsx)("i",{className:"fa fa-key"})," Autogenerate Secure Password")),Object(N.jsx)(mt.a,{name:"passwordEntry",type:"password",placeholder:"ex. dbUserPassword",value:a,inputClass:E()("form-control no-password-reveal cluster-connect-modal-form",{"cluster-connect-modal-form-is-invalid":!!o.password}),onChange:this.onChangePassword,disabled:s}),o.password&&Object(N.jsx)("p",{className:"cluster-connect-modal-input-item-is-invalid"},o.password))),Object(N.jsx)("div",{className:"cluster-connect-modal-input-row cluster-connect-modal-input-row-is-reverse"},Object(N.jsx)(te.a,{id:"buttonCreateUser",variant:t?"primary":"default",className:"button-is-normal-font-weight button-has-margin-left",disabled:s,type:"submit",onClick:this.onSubmit},"Create Database User")))):Object(N.jsx)("div",null,Object(N.jsx)("div",{className:"cluster-connect-modal-input-row cluster-connect-modal-input-row-has-small-margin-bottom"},Object(N.jsx)("div",null,Object(N.jsx)("i",{className:"mms-icon-check cluster-connect-modal-checkmark"}),Object(N.jsx)("span",null,"A MongoDB user has been added to this project."," ",Object(N.jsx)("span",{className:"cluster-connect-modal-subtext"},"Not yours? Create one in the"," ",Object(N.jsx)("a",{href:"#security/database/users",target:"_blank",rel:"noopener noreferrer"},"MongoDB Users tab."))))),Object(N.jsx)("div",{className:"cluster-connect-modal-input-row"},Object(N.jsx)("p",{className:"text text-is-warning text-is-bold"},"You'll need your MongoDB user's credentials in the next step.")))}}]),n}(v.a.Component);g()(xt,"propTypes",{isFocus:O.a.bool.isRequired,orgId:O.a.string.isRequired,usersCollection:O.a.instanceOf(pt.a).isRequired,addUser:O.a.func});var jt=xt;function Et(e){var t,n,r,o=e.hasUser,i=e.hasIP,a=e.isAccessConfigStep,s=e.isConnectionTypePrivateEndpoint,l=i||s,c=o&&l,u=c?"success":"warning",d=c?"You're ready to connect.":"You can't connect yet.";return c&&!a?null:Object(N.jsx)(_.a,{level:u,className:"bem-alert-has-sharp-corner bem-alert-has-margin-top bem-alert-has-margin-bottom"},Object(N.jsx)("strong",null,d),"Â ",Object(N.jsx)("span",null,c?"Choose how you want to connect in the next step.":(t=!o&&!l,n=o?"":"user security permission",r=a?"below.":"in the first step.","Set up your ".concat(l?"":"firewall access").concat(t?" and ":"").concat(n," ").concat(r))))}Et.propTypes={hasUser:O.a.bool.isRequired,hasIP:O.a.bool.isRequired,isAccessConfigStep:O.a.bool.isRequired,isConnectionTypePrivateEndpoint:O.a.bool.isRequired};var St=Et;function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var _t=v.a.Component,At=v.a.Children,Nt=function(e){var t=e.id,n=e.label,r=e.name,o=e.value,i=e.onChange,a=e.checked,s=e.disabled,l=e.className;return Object(N.jsx)("div",{className:E()("radio-button rich-radio rich-radio-is-small",{"rich-radio-is-checked":a,"rich-radio-is-disabled":s})},Object(N.jsx)("input",{type:"radio",className:l,id:"option_".concat(t),name:r,value:o,onChange:i,checked:a,disabled:s}),Object(N.jsx)("label",{className:"radio-button-text",htmlFor:"option_".concat(t)},n))};Nt.propTypes={id:O.a.oneOfType([O.a.string,O.a.number]),label:O.a.node.isRequired,name:O.a.string,value:O.a.oneOfType([O.a.string,O.a.number]).isRequired,onChange:O.a.func,checked:O.a.bool,disabled:O.a.bool,className:O.a.string},Nt.defaultProps={id:"",name:"",onChange:function(){},checked:!1,disabled:!1,className:""};var Tt=function(e){u()(n,e);var t=Ct(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"onRadioChange",(function(t){e.props.onChange(t.target.value)})),e}return a()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.groupName;return Object(N.jsx)("div",{className:"rich-radio-button-group"},At.toArray(n).filter((function(e){return void 0!==e})).map((function(t){return v.a.cloneElement(t,{onChange:e.onRadioChange,name:r})})))}}]),n}(_t);g()(Tt,"RadioButton",Nt),g()(Tt,"propTypes",{children:O.a.node.isRequired,onChange:O.a.func,groupName:O.a.string.isRequired}),g()(Tt,"defaultProps",{onChange:function(){}});var wt=Tt,Pt={padding:"5px",maxWidth:"225px"};var Rt=function(e){var t=e.hasAvailableEndpoint,n=e.hasAvailablePeer,r=e.isClusterThreeFour,o=e.connectionType,i=e.changeConnectionType,a=e.isPeeringOnly,s=e.showPrivateConnectionString,l=e.showPrivateEndpointConnectionString;return Object(N.jsx)("div",{style:{marginTop:"5px"}},Object(N.jsx)(wt,{groupName:"connectionType",onChange:function(e){return i(e)}},l&&function(e,t,n){var r,o=!e||t;t?r="MongoDB 3.4 Atlas clusters do not support Private Endpoints.":e||(r="None of your private endpoints are ready to be used.");var i=Object(N.jsx)(wt.RadioButton,{id:"privateEndpoint",label:"Private Endpoint Connection",name:"privateEndpoint",value:K.PRIVATE_ENDPOINT,checked:n===K.PRIVATE_ENDPOINT,disabled:o});return o?Object(N.jsx)(C.a,{content:Object(N.jsx)("div",{style:Pt},r)},i):i}(t,r,o),s&&function(e,t,n,r){var o,i=!r||t&&n;t&&n?o='Separate "Private IP for Peering" and "Standard Connection" strings are not available for 3.4 clusters in Peering-Only mode. Please upgrade your cluster to 3.6+ and switch off Peering-Only mode to be able to use multiple strings.':r||(o="None of your peering connections are ready to be used.");var a=Object(N.jsx)(wt.RadioButton,{id:"privateConnection",label:"Private IP for Peering",name:"privateConnection",value:K.PRIVATE,checked:e===K.PRIVATE,disabled:i});return i?Object(N.jsx)(C.a,{content:Object(N.jsx)("div",{style:Pt},o)},a):a}(o,a,r,n),function(e){return Object(N.jsx)(wt.RadioButton,{id:"publicConnection",label:"Standard Connection",name:"publicConnection",value:K.PUBLIC,checked:e===K.PUBLIC})}(o)))},It=n(931),Dt=n(909),kt=function(e){var t=e.awsPrivateLinks,n=e.selectedHorizon,r=e.onEndpointSelect,o=e.horizons,i=new Set(o),a=t.filter((function(e){return!!e.interfaceEndpoint&&!!e.interfaceEndpoint.privateLinkHostname&&i.has(e.interfaceEndpoint.interfaceId)})).map((function(e){return{label:Object(N.jsx)("div",null,"Endpoint ",Object(N.jsx)("strong",null,e.interfaceEndpoint.interfaceId)," in ",e.region.location," (",e.region.name,")"),value:e.interfaceEndpoint.interfaceId}}));return Object(N.jsx)("div",{style:{marginTop:"5px"}},Object(N.jsx)("p",null,"Only endpoints in ",Object(N.jsx)("strong",{className:"text-is-code text-is-green"},"AVAILABLE")," state are valid connection options"),Object(N.jsx)(Dt.a,{dropdownTitle:"Choose your endpoint",value:n,options:a,onChange:function(e){return r(e)}}))},Mt=n(1007);function Lt(e){var t=e.awsPrivateLinks,n=e.isClusterThreeFour,r=e.hasIPs,o=e.hasUser,i=e.usersCollection,a=e.connectableName,s=e.addUser,l=e.connectionType,c=e.onChangeConnectionType,u=e.onChangeEndpoint,d=e.selectedHorizon,p=e.regions,f=e.horizons,h=e.orgId,m=e.showPrivateConnectionString,g=e.isPeeringOnly,b=e.hasAvailablePeer,y=p.length>1,O=l===K.PRIVATE_ENDPOINT,x=l===K.PRIVATE,j=y?Object(N.jsx)("div",null,Object(N.jsx)("i",{className:"mms-icon-check cluster-connect-modal-checkmark"})," Multi-region clusters only have a single interface endpoint."):Object(N.jsx)(kt,{awsPrivateLinks:t,selectedHorizon:d,onEndpointSelect:u,horizons:f}),E=t.length>0,S=[];E&&S.push('use "Private Endpoint Connection" with your PrivateLink'),m&&S.push('use "Private IP for Peering" for your VPC'),S.push('use "Standard Connection" for whitelisted public IP addresses.');var _=Object(N.jsx)(Mt.a,null,"U",S.join(", ").slice(1));return Object(N.jsx)(v.a.Fragment,null,Object(N.jsx)("p",null,"You need to secure your MongoDB Atlas ",a," before you can use it. Set which users and IP addresses can access your ",a," now.Â ",Object(N.jsx)("a",{href:"https://docs.atlas.mongodb.com/setup-cluster-security",target:"_blank"},"Read moreÂ ",Object(N.jsx)("i",{className:"fa fa-external-link"}))),Object(N.jsx)(St,{hasIP:r,hasUser:o,isConnectionTypePrivateEndpoint:O,isAccessConfigStep:!0}),Object(N.jsx)("ol",{className:"step-indicator step-indicator-is-vertical"},(m||E)&&Object(N.jsx)(v.a.Fragment,null,Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("strong",{className:"cluster-connect-modal-action-header-text"},"Choose Connection Type "),Object(N.jsx)(C.a,{content:_},Object(N.jsx)(Mt.b,null,Object(N.jsx)("span",{className:"fa fa-info"}))),Object(N.jsx)(Rt,{hasAvailableEndpoint:f.length>0,hasAvailablePeer:b,isClusterThreeFour:n,connectionType:l,changeConnectionType:c,isPeeringOnly:g,showPrivateConnectionString:m,showPrivateEndpointConnectionString:E})),f.length>0&&O&&Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("strong",{className:"cluster-connect-modal-action-header-text"},"Choose Interface Endpoint"),j)),Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("strong",{className:"cluster-connect-modal-action-header-text"},"Whitelist a connection IP address"),f.length>0&&O?Object(N.jsx)("div",{style:{marginTop:"5px"}},Object(N.jsx)("i",{className:"mms-icon-check cluster-connect-modal-checkmark"}),"All servers with access to your interface endpoints can connect to your cluster without explicit IP whitelisting. If you are having trouble connecting with your Private Endpoint, please visit our"," ",Object(N.jsx)("a",{href:"https://dochub.mongodb.org/core/pl-troubleshooting"},"troubleshoot documentation ",Object(N.jsx)("i",{className:"fa fa-external-link"}))):Object(N.jsx)(dt,{isConnectionTypePrivate:x})),Object(N.jsx)("li",{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(N.jsx)("strong",{className:"cluster-connect-modal-action-header-text"},"Create a Database User"),Object(N.jsx)(jt,{isFocus:(r||O)&&!o,usersCollection:i,connectableName:a,addUser:s,orgId:h}))))}Lt.propTypes={hasIPs:O.a.bool.isRequired,hasUser:O.a.bool.isRequired,usersCollection:O.a.instanceOf(pt.a).isRequired,connectableName:O.a.string,addUser:O.a.func,awsPrivateLinks:O.a.arrayOf(It.a),connectionType:J.isRequired,onChangeConnectionType:O.a.func,onChangeEndpoint:O.a.func,selectedHorizon:O.a.string,regions:O.a.arrayOf(O.a.string),horizons:O.a.arrayOf(O.a.string),orgId:O.a.string.isRequired,isClusterThreeFour:O.a.bool.isRequired,showPrivateConnectionString:O.a.bool.isRequired,isPeeringOnly:O.a.bool.isRequired},Lt.defaultProps={connectableName:"cluster",awsPrivateLinks:[],onChangeConnectionType:function(){},onChangeEndpoint:function(){},selectedHorizon:"",regions:[]};var Ut=Lt;function Ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var Bt=function(e){u()(n,e);var t=Ft(n);function n(e){var r;o()(this,n),r=t.call(this,e),g()(l()(r),"state",{activeInstructionView:Ze.CONNECT_APPLICATION,activeStep:r.selectDefaultActiveStep(),connectionType:r.selectDefaultConnectionType(),selectedHorizon:0===r.props.horizons.length?"":r.props.horizons[0]}),g()(l()(r),"getFooter",(function(e){var t=r.state.activeStep,o=1===t&&e,i=t<2,a=n.STEP_INDEX_TO_TITLE_MAP[t+1],s=i&&Object(N.jsx)(te.a,{onClick:r.onNext,variant:o?"primary":"default",className:"cluster-connect-modal-multi-step-wizard-button-right"},Object(N.jsx)("div",{className:"cluster-connect-modal-multi-step-wizard-button-content"},Object(N.jsx)("span",null,a))),l=t>1&&Object(N.jsx)(te.a,{onClick:r.onBack,className:"cluster-connect-modal-multi-step-wizard-button-left"},Object(N.jsx)("div",{className:"cluster-connect-modal-multi-step-wizard-button-content"},Object(N.jsx)("span",null,"Go Back"))),c=Object(N.jsx)("button",{className:E()("button",{"cluster-connect-modal-multi-step-wizard-button-left":!l,"cluster-connect-modal-multi-step-wizard-button-right":!s}),onClick:r.onClose},"Close");return Object(N.jsx)(nt.a,null,Object(N.jsx)("hr",null),Object(N.jsx)("nav",{className:"cluster-connect-modal-footer"},l||c,s||c))})),g()(l()(r),"onBack",(function(){var e=r.state.activeStep;r.setState({activeStep:e-1})})),g()(l()(r),"onNext",(function(){var e=r.state.activeStep;r.setState({activeStep:e+1})})),g()(l()(r),"onClose",(function(){var e=r.props,t=e.closeModal,o=e.context,i=e.orgId,a=r.state.activeStep;xe.d.track(xe.b.UX_ACTION_PERFORMED,{context:o,action:"Closed Connection Modal",value:n.STEP_INDEX_TO_TITLE_MAP[a]},{integrations:Object(xe.c)(i)}),t()}));var i=e.context,a=e.orgId,s=r.state.activeStep;return xe.d.page("Connection Modal",{context:i,startingScreen:1===s?"Security":"Method Selection"},{integrations:Object(xe.c)(a)}),r}return a()(n,[{key:"selectDefaultActiveStep",value:function(){var e=this.props,t=e.hasIPs,n=e.hasUser,r=e.awsPrivateLinks,o=e.showPrivateConnectionString;return t&&n&&0===r.length&&!o?2:1}},{key:"selectDefaultConnectionType",value:function(){var e=this.props,t=e.showPrivateConnectionString,n=e.isClusterThreeFour,r=e.hasAvailablePeer;return t&&!n&&r?"PRIVATE":"PUBLIC"}},{key:"render",value:function(){var e=this,t=this.props,r=t.showModal,o=t.closeModal,i=t.clusterDescriptionName,a=t.hasIPs,s=t.hasUser,l=t.usersCollection,c=t.isTenant,u=t.showPrivateIpModeWarning,d=t.connectableName,p=t.addUser,f=t.isClusterThreeFour,h=t.awsPrivateLinks,m=t.regions,g=t.orgId,b=t.context,v=t.showPrivateConnectionString,y=t.hasAvailablePeer,O=t.horizons,x=t.hasOnlineArchive,j=this.state,E=j.activeInstructionView,C=j.activeStep,A=j.connectionType,T=j.selectedHorizon,w="PRIVATE_ENDPOINT"===A,P=(a||w)&&s;return Object(N.jsx)("div",null,r&&Object(N.jsx)(S.a,{title:"Connect to ".concat(i),size:"medium",onClose:this.onClose},!c&&u&&!v&&Object(N.jsx)("div",{className:"section-warnings-alert"},Object(N.jsx)(_.a,{level:"info",dismissible:!1},"Dedicated clusters in this project are only accessible from within your peered network(s).")),Object(N.jsx)(nt.c,{activeStep:C,onNext:function(){return e.onNext},onBack:function(){return e.onBack},onCancel:function(){return e.onClose},onComplete:o,completeText:"Close",nextEnabled:!0,showTopNav:!1,customFooter:this.getFooter(P)},Object(N.jsx)(nt.c.Step,{title:n.STEP_INDEX_TO_TITLE_MAP[1],hasError:!P&&1!==C},Object(N.jsx)(Ut,{isClusterThreeFour:f,hasIPs:a,hasUser:s,usersCollection:l,connectableName:d,addUser:p,awsPrivateLinks:h,connectionType:A,onChangeConnectionType:function(t){return e.setState({connectionType:t})},selectedHorizon:T,onChangeEndpoint:function(t){return e.setState({selectedHorizon:t})},regions:m,horizons:O,orgId:g,showPrivateConnectionString:v,hasAvailablePeer:y,isPeeringOnly:u})),Object(N.jsx)(nt.c.Step,{title:n.STEP_INDEX_TO_TITLE_MAP[2]},Object(N.jsx)(St,{hasUser:s,hasIP:a,isAccessConfigStep:!1,isConnectionTypePrivateEndpoint:w}),Object(N.jsx)(tt,{clusterDescriptionName:i,onClickOpt:function(t){e.setState({activeInstructionView:t,activeStep:3}),xe.d.track(xe.b.UX_ACTION_PERFORMED,{context:b,action:"Clicked Connection Method Option",value:t},{integrations:Object(xe.c)(g)})},connectableName:d,connectionType:A,selectedHorizon:T})),Object(N.jsx)(nt.c.Step,{title:n.STEP_INDEX_TO_TITLE_MAP[3]},Object(N.jsx)(St,{hasUser:s,hasIP:a,isAccessConfigStep:!1,isConnectionTypePrivateEndpoint:w}),Object(N.jsx)($e,{activeView:E,connectionType:A,selectedHorizon:T,hasOnlineArchive:x})))))}}]),n}(v.a.Component);g()(Bt,"STEP_INDEX_TO_TITLE_MAP",{1:"Setup connection security",2:"Choose a connection method",3:"Connect"}),g()(Bt,"propTypes",{showModal:O.a.bool,closeModal:O.a.func.isRequired,clusterDescriptionName:O.a.string.isRequired,hasIPs:O.a.bool.isRequired,hasUser:O.a.bool.isRequired,usersCollection:O.a.instanceOf(pt.a).isRequired,showPrivateIpModeWarning:O.a.bool,isTenant:O.a.bool,connectableName:O.a.string,addUser:O.a.func,awsPrivateLinks:O.a.arrayOf(It.a),regions:O.a.arrayOf(O.a.string),horizons:O.a.arrayOf(O.a.string),context:O.a.string.isRequired,orgId:O.a.string.isRequired,isClusterThreeFour:O.a.bool.isRequired,showPrivateConnectionString:O.a.bool.isRequired,hasAvailablePeer:O.a.bool.isRequired,hasOnlineArchive:O.a.bool.isRequired}),g()(Bt,"defaultProps",{showModal:!1,showPrivateIpModeWarning:!1,isTenant:!1,connectableName:"cluster",awsPrivateLinks:[],regions:[],horizons:[],hasOnlineArchive:!1});t.a=Object(x.connectBackboneToReact)((function(e){var t=e.uiState,n=e.connectOptions,r=e.whitelistedIpCollection,o=e.usersCollection,i=e.settingsModel,a=o.getFirstSCRAMUser(),s=o.getFirstLDAPUser(),l=o.getFirstX509User(),c=o.getFirstLDAPGroup(),u=n.isTenant(),d=n.getConnectableName(),p=i.getCurrentOrgId();return{showModal:t.get("showModal"),closeModal:function(){var e=t.get("onClose");t.set("showModal",!1),e&&e()},connectableName:d,clusterDescriptionName:n.getName(),hasUser:u?void 0!==a:void 0!==(a||s||c||l),hasIPs:r.getIPs().length>0,usersCollection:o.getEditableUsers(),isTenant:u,orgId:p}}))(Bt)},1162:
/*!******************************************************************************!*\
  !*** ./project/nds/security/services/encryptionAtRestService.js + 1 modules ***!
  \******************************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/defineProperty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/Cache.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/groupIdFromPath.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/jqueryErrorHandler.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/servicePoller.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/backbone/backbone.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/jquery/dist/jquery-exposed.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(10),o=n.n(r),i=n(46),a=n(38),s=n(76),l=n(88),c=n(4),u=n.n(c),d=n(7);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h,m=n.n(d).a.Model.extend({defaults:function(){return{awsKms:{enabled:!1,valid:!1,accessKeyID:void 0,secretAccessKey:void 0,customerMasterKeyID:void 0,roleId:void 0,region:void 0,lastUpdatedKeyID:void 0},azureKeyVault:{enabled:!1,valid:!1,clientID:void 0,tenantID:void 0,secret:void 0,azureEnvironment:void 0,subscriptionID:void 0,resourceGroupName:void 0,keyVaultName:void 0,keyIdentifier:void 0,lastUpdatedKeyID:void 0},googleCloudKms:{enabled:!1,valid:!1,serviceAccountKey:void 0,keyVersionResourceID:void 0,lastUpdatedKeyID:void 0}}},getAwsKms:function(e,t){var n=this.get("awsKms"),r=n.enabled,o=n.secretAccessKey,i=n.accessKeyID,a=!t||!(!i&&!o);return f(f({},n),r&&a?{secretAccessKey:e}:{})},getAzureKeyVault:function(e){var t=this.get("azureKeyVault");return t.enabled&&(t.secret=e),t},getGoogleCloudKms:function(e){var t=this.get("googleCloudKms");return t.enabled&&(t.serviceAccountKey=e),t}}),g={},b={};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a();return g[e]||(g[e]=new m),g[e]}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a(),t=v(e);return h||(h=new l.a({load:function(){var n="/nds/".concat(e,"/encryptionAtRest");return t.fetch({url:n}).then((function(){return t}),i.a)}})),h}var O={getEncryptionAtRestPoller:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a();return b[t]||(b[t]=s.a.create((function(){return e.reloadEncryptionAtRest(t)}))),b[t]},getEncryptionAtRest:function(e){return v(e)},loadEncryptionAtRest:function(e){return y(e).get()},reloadEncryptionAtRest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a();return y(e).refresh()},startPolling:function(e){this.getEncryptionAtRestPoller(e).immediate().start(3e4)},stopPolling:function(e){this.getEncryptionAtRestPoller(e).stop()},getAwsKmsRegions:function(e){return o.a.ajax({url:"/nds/".concat(e,"/encryptionAtRest/awsKmsRegions"),method:"GET"}).then((function(e){return e}))},getAzureKeyVaultSupportedEnvironments:function(e){return o.a.ajax({url:"/nds/".concat(e,"/encryptionAtRest/azureKeyVaultSupportedEnvironments"),method:"GET"}).then((function(e){return e}))}};t.a=O},1170:
/*!***************************************************!*\
  !*** ./project/nds/clusters/models/LiveImport.js ***!
  \***************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! backbone */7),o=n.n(r),i=n(/*! moment */54),a=n.n(i),s=o.a.Model.extend({defaults:function(){return{_id:null,groupId:null,groupName:null,clusterName:null,sourceDisplayLabel:null,createDate:null,stopDate:null,expireDate:null,isCancelled:null,isCutoverComplete:null,isAcknowledged:null,status:null,mongoMirrorStatuses:[],replicationLagPerShard:{},importSucceededWithWarning:null,srcHostnames:[],replicaSetsUris:[],destHostnames:[],srcUsername:null}},url:function(){return"/".concat(this.get("groupId"),"/liveImport/").concat(this.get("_id"))},isExpired:function(){return this.get("expireDate")&&a()(this.get("expireDate")).isBefore(a()())},getHoursToExpire:function(){return this.get("expireDate")&&a()(this.get("expireDate")).diff(a()(),"hours")},getCreateDate:function(){var e=this.get("createDate");return e?new Date(e):null},isAcknowledged:function(){return!0===this.get("isAcknowledged")},isRunning:function(){return"RUNNING"===this.get("status")},isCancelled:function(){return this.get("isCancelled")},isCutoverComplete:function(){return this.get("isCutoverComplete")},getClusterName:function(){return this.get("clusterName")},getSourceDisplayLabel:function(){return this.get("sourceDisplayLabel")},isCompleted:function(){return"COMPLETED"===this.get("status")},isFailed:function(){return"FAILED"===this.get("status")},getMongoMirrorStatuses:function(){return this.get("mongoMirrorStatuses")},isSharded:function(){return this.getMongoMirrorStatuses().length>1},isReplicationLagTooHigh:function(){return!!Object.values(this.get("replicationLagPerShard")).find((function(e){return!!e&&e>10}))},getImportSucceededWithWarning:function(){return this.get("importSucceededWithWarning")}});t.a=s},1171:
/*!*********************************************************!*\
  !*** ./project/common/extensions/mixins/tooltipTour.js ***!
  \*********************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! jquery */10),o=n.n(r),i=n(/*! backbone */7),a=n.n(i),s=n(/*! underscore */2),l=n.n(s),c=n(/*! js/project/common/util/mixinBeforeExtension */100),u=n(/*! js/project/common/util/queryStringToObject */978),d=n(/*! js/project/common/util/whenAppendedTo */965),p=n(/*! js/project/common/util/groupIdFromPath */38),f=n(/*! js/common/services/localStorage */72),h=n(/*! js/project/nds/clusters/views/tooltips/peerConnectionApproval.hbs */1301),m={nds:{peerConnection:[{hash:"security/network/peering",contents:n.n(h).a}]}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(c.a)({events:function(){return{'click [name="dismissTooltip"]':"_closeTooltipAndEndTour",'click [name="closeTooltip"]':"_closeTooltip",'click [name="nextTooltip"]':"nextTourStep"}},initialize:function(){var e=this;this._hasTourOptions()&&this.listenTo(a.a.history,"route",(function(){e.tryRenderTourStep()}))},onRender:function(){this.tryRenderTourStep()},tryToBeginTour:function(e){this._isTourCompleted(e)||this._advance(e,0)},isTourCurrentlyRunning:function(){var t=this._getTooltipDetailsFromHash(),n=t.tourStep,r=t.tourName;return!!r&&r in e&&!isNaN(n)},_hasTourOptions:function(){return Object.keys(e).length>0},_isViewInvolvedInCurrentTour:function(){return this._getTooltipDetailsFromHash().tourName in e},nextTourStep:function(){if(this._isViewInvolvedInCurrentTour()){var t=this._getTooltipDetailsFromHash(),n=t.tourStep,r=t.tourName,o=isNaN(n)?0:n+1,i=e[r]||{},a=this.$(i.selector);a&&a.tooltip("hide"),this._advance(r,o)}},endTour:function(){var e=this._getTooltipDetailsFromHash().tourName;this.markTourComplete(e)},_createLocalStorageKey:function(e){return"tooltipTour.".concat(e,".").concat(p.a())},_isTourCompleted:function(e){return!!f.b.getItem(this._createLocalStorageKey(e))},_advance:function(e,t){var n=this._getTourContents(e);if(n.length){var r=n[t]&&n[t].hash;"function"==typeof r&&"function"==typeof this.serializeData&&(r=r(this.serializeData()));var o="".concat(/\?/.test(r)?"&":"?","tooltip=").concat(e,"&step=").concat(t);a.a.history.navigate(r+o,{trigger:!0})}},_closeTooltipAndEndTour:function(e){this._closeTooltip(e),this.endTour()},_closeTooltip:function(e){this._isViewInvolvedInCurrentTour()&&o()(e.currentTarget).closest('[role="tooltip"]').tooltip("hide")},markTourComplete:function(e){e&&f.b.setItem(this._createLocalStorageKey(e),"complete")},_getTooltipDetailsFromHash:function(){var e=a.a.history.location.hash.split("?")[1],t=Object(u.a)(e);return{tourName:t.tooltip,tourStep:parseInt(t.step,10)}},hasTooltipDetailsInHash:function(){var e=this._getTooltipDetailsFromHash();for(var t in e)if(!e[t])return!1;return!0},_getTourContents:function(e){return(e||"").split(".").reduce((function(e,t){return e[t]||{}}),m)||[]},tryRenderTourStep:function(){var t=this,n=this._getTooltipDetailsFromHash(),r=n.tourName,i=n.tourStep,a=e[r]||{},s=this._getTourContents(r)||{};this._isTourCompleted(r)||(r&&i in s?void 0!==a.step&&a.step!==i||d.a.document(this).then((function(){var e=t.$(a.selector);if(!e)throw new Error("Selector is required when calling tryRenderTourStep()");var n=s[i].contents({tooltip:r,nextStep:i+1});e.tooltip(l.a.extend({title:n,html:!0,trigger:"manual"},a)),e.tooltip("show"),"onRenderedHandler"in a&&a.onRenderedHandler&&t[a.onRenderedHandler].call(t,i,r),o()(document).one("click","a,button",(function(){e.tooltip("hide")}))})):this.endTour())}})}},1172:
/*!*****************************************************************!*\
  !*** ./project/nds/clusters/services/capacityWarningService.js ***!
  \*****************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r,o=n(/*! js/project/common/util/jqueryErrorHandler */46),i=n(/*! js/project/common/util/groupIdFromPath */38),a=n(/*! js/project/common/util/servicePoller */76),s=n(/*! js/project/common/util/Cache */88),l=n(/*! js/project/nds/clusters/models/CapacityWarningCollection */1219),c={},u={};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a();return c[e]||(c[e]=new l.a),c[e]}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a(),t=d(e);return r||(r=new s.a({load:function(){var n="/group/capacityWarnings/".concat(e);return t.fetch({url:n}).then((function(){return t}),o.a)}})),r}var f={getCapacityWarningsPoller:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a();return u[t]||(u[t]=a.a.create((function(){return e.reloadCapacityWarnings(t)}))),u[t]},getCapacityWarnings:function(e){return d(e)},loadCapacityWarnings:function(e){return p(e).get()},reloadCapacityWarnings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a();return p(e).refresh()},startPolling:function(e){this.getCapacityWarningsPoller(e).immediate().start(12e4)},stopPolling:function(e){this.getCapacityWarningsPoller(e).stop()}};t.a=f},1173:
/*!***********************************************!*\
  !*** ../node_modules/d3-path/dist/d3-path.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e){"use strict";var t=Math.PI,n=2*t,r=n-1e-6;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function i(){return new o}o.prototype=i.prototype={constructor:o,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,n,r,o,i){e=+e,n=+n,r=+r,o=+o,i=+i;var a=this._x1,s=this._y1,l=r-e,c=o-n,u=a-e,d=s-n,p=u*u+d*d;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=n);else if(p>1e-6)if(Math.abs(d*l-c*u)>1e-6&&i){var f=r-a,h=o-s,m=l*l+c*c,g=f*f+h*h,b=Math.sqrt(m),v=Math.sqrt(p),y=i*Math.tan((t-Math.acos((m+p-g)/(2*b*v)))/2),O=y/v,x=y/b;Math.abs(O-1)>1e-6&&(this._+="L"+(e+O*u)+","+(n+O*d)),this._+="A"+i+","+i+",0,0,"+ +(d*f>u*h)+","+(this._x1=e+x*l)+","+(this._y1=n+x*c)}else this._+="L"+(this._x1=e)+","+(this._y1=n)},arc:function(e,o,i,a,s,l){e=+e,o=+o,l=!!l;var c=(i=+i)*Math.cos(a),u=i*Math.sin(a),d=e+c,p=o+u,f=1^l,h=l?a-s:s-a;if(i<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+d+","+p:(Math.abs(this._x1-d)>1e-6||Math.abs(this._y1-p)>1e-6)&&(this._+="L"+d+","+p),i&&(h<0&&(h=h%n+n),h>r?this._+="A"+i+","+i+",0,1,"+f+","+(e-c)+","+(o-u)+"A"+i+","+i+",0,1,"+f+","+(this._x1=d)+","+(this._y1=p):h>1e-6&&(this._+="A"+i+","+i+",0,"+ +(h>=t)+","+f+","+(this._x1=e+i*Math.cos(s))+","+(this._y1=o+i*Math.sin(s))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},e.path=i,Object.defineProperty(e,"__esModule",{value:!0})}(t)},1174:
/*!*************************************************************!*\
  !*** ../node_modules/@zambezi/d3-rebind/build/d3-rebind.js ***!
  \*************************************************************/
/*! no static exports found */
/*! exports used: rebind */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e){"use strict";function t(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}e.rebind=function(e,n){for(var r,o=1,i=arguments.length;++o<i;)e[r=arguments[o]]=t(e,n,n[r]);return e},Object.defineProperty(e,"__esModule",{value:!0})}(t)},1175:
/*!*****************************************!*\
  !*** ./common/components/InfoBanner.js ***!
  \*****************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";n(/*! react */8);var r=n(/*! prop-types */3),o=n.n(r),i=n(/*! classnames */22),a=n.n(i),s=n(/*! @emotion/core */1),l=function(e){var t=e.children,n=e.dismissible,r=e.onDismiss,o=e.className,i=a()("banner","banner-is-info","banner-no-margin-bottom","banner-has-no-border-radius",o);return Object(s.jsx)("div",{className:i},Object(s.jsx)("div",null,t),n&&Object(s.jsx)("button",{className:"link banner-is-info-dismiss",onClick:r},Object(s.jsx)("i",{className:"mms-icon-remove banner-is-info-dismiss-icon"})))};l.propTypes={children:o.a.node,dismissible:o.a.bool,onDismiss:o.a.func,className:o.a.string},l.defaultProps={children:void 0,dismissible:!1,onDismiss:function(){},className:""},t.a=l},1176:
/*!***********************************************************!*\
  !*** ../node_modules/scroll-into-view-if-needed/index.js ***!
  \***********************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(/*! compute-scroll-into-view */1177))&&r.__esModule?r:{default:r};function i(e){return e===Object(e)&&0!==Object.keys(e).length}var a=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(i(t)&&"function"==typeof t.behavior)return t.behavior(n?[]:(0,o.default)(e,t));if(!n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:i(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,o=e.top,i=e.left;r.scroll&&n?r.scroll({top:o,left:i,behavior:t}):(r.scrollTop=o,r.scrollLeft=i)}))}((0,o.default)(e,r),r.behavior)}};t.default=a,e.exports=t.default},1177:
/*!*************************************************************************************************!*\
  !*** ../node_modules/scroll-into-view-if-needed/node_modules/compute-scroll-into-view/index.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e&&1===e.nodeType}function o(e,t){return(!t||"hidden"!==e)&&("visible"!==e&&"clip"!==e)}function i(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return o(n.overflowY,t)||o(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function a(e,t,n,r,o,i,a,s){return i<e&&a>t||i>e&&a<t?0:i<=e&&s<=n||a>=t&&s>=n?i-e-r:a>t&&s<n||i<e&&s>n?a-t+o:0}t.__esModule=!0,t.default=void 0;t.default=function(e,t){var n=t.scrollMode,o=t.block,s=t.inline,l=t.boundary,c=t.skipOverflowHiddenElements,u="function"==typeof l?l:function(e){return e!==l};if(!r(e))throw new TypeError("Invalid target");for(var d=document.scrollingElement||document.documentElement,p=[],f=e;r(f)&&u(f);){if((f=f.parentNode)===d){p.push(f);break}f===document.body&&i(f)&&!i(document.documentElement)||i(f,c)&&p.push(f)}for(var h=window.visualViewport?visualViewport.width:innerWidth,m=window.visualViewport?visualViewport.height:innerHeight,g=window.scrollX||pageXOffset,b=window.scrollY||pageYOffset,v=e.getBoundingClientRect(),y=v.height,O=v.width,x=v.top,j=v.right,E=v.bottom,S=v.left,C="start"===o||"nearest"===o?x:"end"===o?E:x+y/2,_="center"===s?S+O/2:"end"===s?j:S,A=[],N=0;N<p.length;N++){var T=p[N],w=T.getBoundingClientRect(),P=w.height,R=w.width,I=w.top,D=w.right,k=w.bottom,M=w.left;if("if-needed"===n&&x>=0&&S>=0&&E<=m&&j<=h&&x>=I&&E<=k&&S>=M&&j<=D)return A;var L=getComputedStyle(T),U=parseInt(L.borderLeftWidth,10),F=parseInt(L.borderTopWidth,10),B=parseInt(L.borderRightWidth,10),z=parseInt(L.borderBottomWidth,10),V=0,q=0,G="offsetWidth"in T?T.offsetWidth-T.clientWidth-U-B:0,H="offsetHeight"in T?T.offsetHeight-T.clientHeight-F-z:0;if(d===T)V="start"===o?C:"end"===o?C-m:"nearest"===o?a(b,b+m,m,F,z,b+C,b+C+y,y):C-m/2,q="start"===s?_:"center"===s?_-h/2:"end"===s?_-h:a(g,g+h,h,U,B,g+_,g+_+O,O),V=Math.max(0,V+b),q=Math.max(0,q+g);else{V="start"===o?C-I-F:"end"===o?C-k+z+H:"nearest"===o?a(I,k,P,F,z+H,C,C+y,y):C-(I+P/2)+H/2,q="start"===s?_-M-U:"center"===s?_-(M+R/2)+G/2:"end"===s?_-D+B+G:a(M,D,R,U,B+G,_,_+O,O);var W=T.scrollLeft,Y=T.scrollTop;C+=Y-(V=Math.max(0,Math.min(Y+V,T.scrollHeight-P+H))),_+=W-(q=Math.max(0,Math.min(W+q,T.scrollWidth-R+G)))}A.push({el:T,top:V,left:q})}return A},e.exports=t.default},1178:
/*!*********************************************************!*\
  !*** ../node_modules/@babel/runtime/helpers/toArray.js ***!
  \*********************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! ./arrayWithHoles */546),o=n(/*! ./iterableToArray */548),i=n(/*! ./unsupportedIterableToArray */329),a=n(/*! ./nonIterableRest */547);e.exports=function(e){return r(e)||o(e)||i(e)||a()}},1217:
/*!************************************************************!*\
  !*** ./legacy/charts/d3/line/ndsSparkline.js + 10 modules ***!
  \************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@zambezi/d3-rebind/build/d3-rebind.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/dateHelpers.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/d3-array/dist/d3-array.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/d3-scale-chromatic/dist/d3-scale-chromatic.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/d3-scale/dist/d3-scale.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/d3-axis/dist/d3-axis.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/d3-dispatch/dist/d3-dispatch.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/d3-selection/dist/d3-selection.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/d3-shape/dist/d3-shape.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/underscore/underscore.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(901),o=n(953),i=n(888),a=n(922),s=function(){this._width=960,this._height=600,this._margin={top:0,right:0,bottom:0,left:0},this._data=[]};s.prototype._extent=function(e){return[Object(a.min)(this._data,(function(t){return Object(a.min)(t.value,e)})),Object(a.max)(this._data,(function(t){return Object(a.max)(t.value,e)}))]},s.prototype.xDomain=function(){return this._extent((function(e){return e.x}))},s.prototype.yDomain=function(){var e=this._extent((function(e){return e.y})),t=e[1],n=this._yMax&&t>this._yMax;return this._yMax&&!n&&(e[1]=this._yMax),e},s.prototype.xScale=function(){return Object(r.scaleLinear)().domain(this.xDomain()).range([0,this._width-this._margin.left-this._margin.right])},s.prototype.yScale=function(){var e=this.yDomain();return e[0]>0&&(e[0]=0),Object(r.scaleLinear)().domain(e).range([this._height-this._margin.top-this._margin.bottom,0])},s.prototype.margin=function(e){return void 0===e?this._margin:(this._margin=e,this)},s.prototype.width=function(e){return void 0===e?this._width:(this._width=e,this)},s.prototype.height=function(e){return void 0===e?this._height:(this._height=e,this)},s.prototype.yMax=function(e){return void 0===e?this._yMax:(this._yMax=e,this)},s.prototype.data=function(e){return void 0===e?this._data:(this._data=e,this)};var l=s,c=function(e,t,n){var r=Object(a.bisector)((function(e){return e.x})).left,o=t.invert(n[0]),i=r(e.value,o),s=e.value[i-1],l=e.value[i],c=null;return void 0!==s&&void 0!==l&&(c=o-s.x>l.x-o?l:s),c},u=function(){var e,t,n,o,a=Object(r.scaleLinear)(),s=Object(r.scaleLinear)(),l=function(e){return"".concat(e.key,":")};function u(e){t=[],e.each((function(e){var n=Object(i.select)(this).selectAll("aside").data([e]),r=n.enter().append("aside");o&&r.append("span").attr("class","nds-sparkline-legend-label").text(o),r.append("dl").attr("class","nds-sparkline-legend-items");var a=(n=n.merge(r)).select("dl").selectAll("span").data((function(e){return e})),s=a.enter().append("span");s.append("dt"),s.append("dd"),(a=a.merge(s)).select("dt").attr("class","nds-sparkline-legend-key").text(e&&e.length>1?l:""),a.select("dd").attr("class","nds-sparkline-legend-value"),a.exit().remove(),t.push(n)}))}function d(e){return e.select("dl").selectAll("dd")}function p(e){return e.select("dl").selectAll("dt")}return u.mousemove=function(){var e=Object(i.mouse)(this);t.forEach((function(t){var r=t.text().includes("Operations")?"no data":"no data available";d(t).each((function(o){var s=c(o,a,e);if(s){var l=void 0!==s.y&&null!==s.y;l||d(t).style("color","#626668");var u=l?n(s.y):r;Object(i.select)(this).text(u),o._prevPoint=s}}))}))},u.show=function(){t.forEach((function(t){d(t).style("visibility",null).style("color",(function(t,n){return e(n)})),p(t).style("color",(function(t,n){return e(n)}))}))},u.showLatest=function(){t.forEach((function(e){p(e).style("color","#9fa1a2"),d(e).style("color","#626668").each((function(e){var t=e.value.length-1,r=e.value[t];if(r){var o=void 0!==r.y&&null!==r.y?n(r.y):"";Object(i.select)(this).text(o)}}))}))},u.hide=function(){t.forEach((function(e){d(e).style("visibility","hidden").style("color","#9fa1a2"),p(e).style("color","#9fa1a2")}))},u.color=function(t){return void 0===t?e:(e=t,u)},u.xScale=function(e){return void 0===e?a:(a=e,u)},u.yScale=function(e){return void 0===e?s:(s=e,u)},u.label=function(e){return void 0===e?o:(o=e,u)},u.yFormatter=function(e){return void 0===e?n:(n=e,u)},u},d=n(981),p=n(2),f=n.n(p),h=function(e){return 0===f.a.filter(e,(function(e){return e.value.length>0})).length},m=function(){var e,t=null,n=null,a=4,s=Object(r.scaleOrdinal)(d.schemeCategory10),l="highlight-dot",u=Object(o.dispatch)("currentPoint");function p(t){e=[],t.each((function(t){if(!h(t)){var n=Object(i.select)(this).selectAll("circle.".concat(l)).data(t);n.exit().remove(),(n=n.enter().append("circle").attr("class",l).attr("cx",0).attr("cy",0).merge(n)).attr("class",(function(e){return"".concat(l," ").concat(e.key)})).attr("r",a).attr("fill",(function(e){return s(e.key)})),e.push(n)}}))}function f(e,r){r&&e.attr("cx",t(r.x)).attr("cy",n(r.y))}return p.move=function(t){e.forEach((function(e){e.each((function(e){var n=e.value[t];f(Object(i.select)(this),n),u.call("currentPoint",null,n)}))}))},p.mousemove=function(){var n=Object(i.mouse)(this);e.forEach((function(e){e.each((function(e){var r=c(e,t,n);f(Object(i.select)(this),r),u.call("currentPoint",null,r)}))}))},p.show=function(){e.forEach((function(e){e.style("display",null)}))},p.showLatest=function(){e.forEach((function(e){e.each((function(e){var t=e.value.length-1,n=e.value[t];n&&f(Object(i.select)(this),n)}))}))},p.hide=function(){e.forEach((function(e){e.style("display","none")}))},p.radius=function(e){return void 0===e?a:(a=e,p)},p.color=function(e){return void 0===e?s:(s=e,p)},p.xScale=function(e){return void 0===e?t:(t=e,p)},p.yScale=function(e){return void 0===e?n:(n=e,p)},p.className=function(e){return void 0===e?l:(l=e,p)},p.dispatch=u,p},g=n(1005),b=n(1174),v=function(){var e=Object(r.scaleOrdinal)(d.schemeCategory10),t=1.5,n="round",o=1,a=[5,5],s=-2,l=function(e){return e},c=function(e){return e},u=function(e){return null!==e.y},p=Object(g.line)().defined(u).x((function(e){return l(e.x)})).y((function(e){return c(e.y)})),f="generic-line",h="generic-line-gap";function m(r){r.each((function(r){var l=this;r.forEach((function(r,c){var d=e(c);!function(r,l,c){var d,m,g=l.key.toLowerCase().replace(/\s/g,"-"),b=l.value,v=(d=u,m=!0,b.reduce((function(e,t){return d(t)?(m?(e.push([t]),m=!1):e[e.length-1].push(t),e):(m=!0,e)}),[])),y=function(e){for(var t=[],n=0;n<e.length-1;n++){var r=e[n],o=e[n+1];t.push([r[r.length-1],o[0]])}return t}(v),O=Object(i.select)(r).selectAll("path.".concat(f,".").concat(g)).data(v);O.exit().remove(),(O=O.enter().append("path").merge(O)).attr("class",(function(){return"".concat(f," ").concat(g)})).attr("fill","none").attr("stroke",c).attr("stroke-width",t).attr("stroke-linecap",n).attr("d",(function(e){return p(e)}));var x=Object(i.select)(r).selectAll("path.".concat(h,".").concat(g)).data(y);(x=x.enter().append("path").merge(x)).attr("class",(function(){return"".concat(h," ").concat(g)})).attr("fill","none").attr("stroke",(function(t,n){return e(n)})).attr("stroke-width",o).attr("stroke-linecap",n).attr("stroke-dasharray",a).attr("stroke-dashoffset",s).attr("d",(function(e){return p(e)})),x.exit().remove()}(l,r,d)}))}))}return m.color=function(t){return void 0===t?e:(e=t,m)},m.x=function(e){return void 0===e?l:(l=e,m)},m.y=function(e){return void 0===e?c:(c=e,m)},m.className=function(e){return void 0===e?f:(f=e,h="".concat(e,"-gap"),m)},Object(b.rebind)(m,p,"interpolate"),m},y=function(){var e=60,t="generic-line",n="generic-area",o=function(e){return e},a=function(e){return e},s=Object(r.scaleOrdinal)(d.schemeCategory10),l=Object(g.area)().defined((function(e){return null!=e.y})),c=v(),u=function(e){return o(e.x)},p=function(e){return a(e.y)};function f(r){l.x(u).y0(e).y1(p),c.color(s).x(o).y(a).className(t),r.call(c),r.each((function(e){var t=Object(i.select)(this).selectAll("path.".concat(n)).data(e);(t=t.enter().append("path").merge(t)).attr("class",n).attr("fill",(function(e,t){return s(t)})).attr("d",(function(e){return l(e.value)})),t.exit().remove()}))}return f.x=function(e){return void 0===e?o:(o=e,f)},f.y=function(e){return void 0===e?a:(a=e,f)},f.height=function(t){return void 0===t?e:(e=t,f)},f.color=function(e){return void 0===e?s:(s=e,f)},f.lineClassName=function(e){return void 0===e?t:(t=e,f)},f.areaClassName=function(e){return void 0===e?n:(n=e,f)},f},O=n(1115),x=function(e){return e.every((function(e){return e.value&&e.value.every((function(e){return 0===e.y}))}))},j=function(){var e=Object(O.axisRight)(),t=Object(r.scaleLinear)(),n=null,o=null,s=null,l=219,c=65,u=[];function d(e){return Object(a.max)(e,(function(e){return Object(a.max)(e.value,(function(e){return e.y}))}))}function p(e){var t=d(e);return s&&t>s}function f(e,t){return 0===t?n(e):2===t?o?o(e):n(e):""}function m(n){n.each((function(o){var a,m=h(o)||x(o)?Object(r.scaleLinear)().domain([s||100,0]).range([0,c]):t;if(e.scale(m).tickSize(l,0,0).tickPadding(4).tickValues((a=d(u),p(u)?[0,a/2,a]:s?[0,s/2,s]:h(u)||x(u)?[0,50,100]:[0,a/2,a])).tickFormat(f),s&&!p(o)){var g=Object(i.select)(this).selectAll("text.nds-sparkline-label-max").data([o]);g.exit().remove(),(g=g.enter().append("text").attr("class","nds-sparkline-label-max").merge(g)).text("max").attr("x",l+4).attr("y",13)}n.call(e),n.selectAll("path.domain").attr("stroke",null),n.selectAll("g.tick").select("text").attr("fill",null).attr("class","nds-sparkline-axis-label"),n.selectAll("g.tick").select("line").attr("stroke",null).attr("class","nds-sparkline-guideline"),Object(i.selectAll)("path.domain").attr("class","domain nds-sparkline-guideline nds-sparkline-guideline-is-vertical")}))}return m.yScale=function(e){return void 0===e?t:(t=e,m)},m.yFormatter=function(e){return void 0===e?n:(n=e,m)},m.yMaxFormatter=function(e){return void 0===e?o:(o=e,m)},m.yMax=function(e){return void 0===e?s:(s=e,m)},m.width=function(e){return void 0===e?l:(l=e,m)},m.height=function(e){return void 0===e?c:(c=e,m)},m.data=function(e){return void 0===e?u:(u=e,m)},m},E=function(){var e=960,t=600,n=null,r=null,o=null,a=null;function s(s){s.each((function(s){var l=Object(i.select)(this).selectAll("rect.mouse-overlay").data([s]);(l=l.enter().append("rect").merge(l)).attr("class","mouse-overlay").attr("width",e).attr("height",t).style("fill","none").style("pointer-events","all").on("click",n).on("mouseover",r).on("mousemove",o).on("mouseout",a)}))}return s.width=function(t){return void 0===t?e:(e=t,s)},s.height=function(e){return void 0===e?t:(t=e,s)},s.onClick=function(e){return void 0===e?n:(n=e,s)},s.onMouseOver=function(e){return void 0===e?r:(r=e,s)},s.onMouseMove=function(e){return void 0===e?o:(o=e,s)},s.onMouseOut=function(e){return void 0===e?a:(a=e,s)},s},S=n(297);t.a=function(){var e,t,n,a,s,c=85,d=65,p={top:10,right:50,bottom:5,left:0},f=Object(r.scaleOrdinal)().range(["#43b1e5","#D381B3"]),h=Object(r.scaleOrdinal)().range(["#196d97","#a22e78"]),g=function(e){return e},b=null,v=null,O=function(){return S.b(a)},x=new l,C=u(),_=m(),A=E(),N=Object(o.dispatch)("mouseover","mouseout","mousemove","currentPoint"),T=y(),w=j();function P(r){r.each((function(r){(s=Object(i.select)(this)).classed("nds-sparkline-is-healthy")?(f=function(){return"#13aa52"},h=function(){return"#1cc061"}):s.classed("nds-sparkline-is-warn")&&(f=function(){return"#ffb618"},h=function(){return"#9E6A26"}),x.width(c).height(d).margin(p).yMax(v).data(r),A.width(c-p.right-p.left).height(d-p.top-p.bottom).onMouseOver((function(){N.call("mouseover",this)})).onMouseOut((function(){N.call("mouseout",this)})).onMouseMove((function(){N.call("mousemove",this)})),C.xScale(x.xScale()).yScale(x.yScale()).yFormatter(g).color(f).label(e),N.on("mouseover.legend",C.show).on("mouseout.legend",C.showLatest).on("mousemove.legend",C.mousemove),_.className("nds-sparkline-dot").color(h).xScale(x.xScale()).yScale(x.yScale()),N.on("mouseover.dots",_.show).on("mouseout.dots",_.showLatest).on("mousemove.dots",_.mousemove),T.lineClassName("nds-sparkline-line").areaClassName("nds-sparkline-area").height(d-p.top-p.bottom).color(f).x(x.xScale()).y(x.yScale()),w.yScale(x.yScale()).yMax(v).yMaxFormatter(b).yFormatter(g).width(c-p.right-p.left).height(d-p.top-p.bottom).data(r);var o=s.selectAll("div.nds-sparkline-wrapper").data([r]),a=o.enter().insert("div",":first-child").attr("class","nds-sparkline-wrapper");a.append("div").attr("class","nds-sparkline-legend");var l=a.append("svg").attr("class","generic-chart").append("g").attr("class","nds-sparkline-chart");l.append("g").attr("class","nds-sparkline-chart-axes"),l.append("g").attr("class","nds-sparkline-chart-lines"),l.append("g").attr("class","nds-sparkline-chart-dots"),l.append("g").attr("class","nds-sparkline-chart-overlay"),a.append("div").attr("class","nds-sparkline-caption");var u=(o=a.merge(o)).select("svg").attr("width",c).attr("height",d);u.select("g.nds-sparkline-chart").attr("transform","translate(".concat(p.left,",").concat(p.top,")")).datum((function(e){return e})),u.select("g.nds-sparkline-chart-axes").call(w),u.select("g.nds-sparkline-chart-lines").call(T),u.select("g.nds-sparkline-chart-dots").call(_),u.select("g.nds-sparkline-chart-overlay").call(A),o.select("div.nds-sparkline-legend").datum((function(e){return e})).call(C),n?o.select("div.nds-sparkline-caption").text(n):t&&o.select("div.nds-sparkline-caption").text(t),_.dispatch.on("currentPoint",(function(e){if(e){var t=O()(e.x);o.select("div.nds-sparkline-caption").text(t)}})),N.on("mouseover.chart",(function(){s.classed("nds-sparkline-is-inactive",!1)})),N.on("mouseout.chart",(function(){s.classed("nds-sparkline-is-inactive",!0),o.select("div.nds-sparkline-caption").text(t)})),o.exit().remove()}))}return P.width=function(e){return void 0===e?c:(c=Math.max(e,85),P)},P.height=function(e){return void 0===e?d:(d=Math.max(e,65),P)},P.label=function(t){return void 0===t?e:(e=t,P)},P.caption=function(e){return void 0===e?t:(t=e,P)},P.captionNoData=function(e){return void 0===e?n:(n=e,P)},P.yFormatter=function(e){return void 0===e?g:(g=e,P)},P.settingsModel=function(e){return void 0===e?a:(a=e,P)},P.dateFormatterFactory=function(e){return void 0===e?O:(O=e,P)},P.yMax=function(e){return void 0===e?v:(v=e,P)},P.yMaxFormatter=function(e){return void 0===e?b:(b=e,P)},P.showLatest=function(){P.captionNoData(""),_.showLatest(),C.showLatest(),s.select(".nds-sparkline-caption").classed("nds-sparkline-caption-is-warn",!1)},P.showNoData=function(){P.captionNoData("No Data Available"),s.select(".nds-sparkline-caption").classed("nds-sparkline-caption-is-warn",!0)},P.lines=T,P.dots=_,P.overlay=A,P.dispatch=N,P.scales=x,P.legend=C,P}},1219:
/*!******************************************************************************!*\
  !*** ./project/nds/clusters/models/CapacityWarningCollection.js + 1 modules ***!
  \******************************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/backbone/backbone.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(7),o=n.n(r),i=o.a.Model.extend({getClusterName:function(){return this.get("clusterName")},getAlertLevel:function(){return this.get("alertLevel")},getStatisticType:function(){return this.get("statisticType")},getCurrentValue:function(){return this.get("currentValue")},getStatisticUnits:function(){return this.get("statisticUnits")},isStorage:function(){return"STORAGE"===this.getStatisticType()},isConnections:function(){return"CONNECTIONS"===this.getStatisticType()}}),a=o.a.Collection.extend({model:i,filterByClusterName:function(e){var t=this.filter((function(t){return e===t.getClusterName()}));return new a(t)},filterForWarnAndError:function(e){var t=this.filter((function(t){return-1!==["WARN","ERROR"].indexOf(t.getAlertLevel())&&t.getStatisticType()===e}));return new a(t)},isAnyWarnOrError:function(e){return this.filterForWarnAndError(e).length>0},getMostSevere:function(){var e=this.max((function(e){return e.getCurrentValue()}));return e!==-1/0?e:void 0}});t.a=a},1220:
/*!********************************************************************************!*\
  !*** ./project/backup/components/AutomatedRestoreProjectPicker.js + 1 modules ***!
  \********************************************************************************/
/*! exports provided: default, AutomatedRestoreProjectPicker */
/*! exports used: AutomatedRestoreProjectPicker, default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/assertThisInitialized.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/classCallCheck.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/createClass.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/defineProperty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/getPrototypeOf.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/inherits.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/regenerator/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@emotion/core/dist/core.browser.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/app.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/settings.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/viewer.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./common/services/api/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/asyncToGenerator.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/connect-backbone-to-react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-redux/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/scroll-into-view-if-needed/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/underscore/underscore.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.d(t,"a",(function(){return J}));var r=n(23),o=n.n(r),i=n(24),a=n.n(i),s=n(14),l=n.n(s),c=n(27),u=n.n(c),d=n(28),p=n.n(d),f=n(17),h=n.n(f),m=n(4),g=n.n(m),b=n(8),v=n.n(b),y=n(3),O=n.n(y),x=n(142),j=n(6),E=n.n(j),S=n(9),C=n.n(S),_=n(22),A=n.n(_),N=n(2),T=n.n(N),w=n(1176),P=n.n(w),R=n(12),I=n(5),D=n(13),k=n(19),M=n(15),L=n(1);function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var B=v.a.Component,z=13,V=38,q=40,G=27,H=83;function W(e){return{isOrg:!0,id:e.orgId,name:e.orgName}}function Y(e){return{isGroup:!0,id:e.groupId,name:e.groupName,org:W({orgId:e.orgId,orgName:e.orgName})}}function K(e){return e.reduce((function(e,t){return e.push(W(t)),t.groups.forEach((function(n){e.push(Y(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({groupId:n.cid,groupName:n.gn},t)))})),e}),[])}function Z(e){for(var t=e.search,n=e.options,r=new RegExp("".concat(t),"i"),o=[],i=0;i<n.length;){var a=n[i];if(a.isOrg&&r.test(a.name)){do{if(o.push(a),!(a=n[i+=1]))break}while(a.isGroup)}else if(a.isOrg){var s=a;do{if(!(a=n[i+=1])||a.isOrg)break;r.test(a.name)&&(s&&(o.push(s),s=null),o.push(a))}while(a.isGroup)}else;}return o}var $=function(e){u()(n,e);var t=U(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"state",{showDropdown:!1,searchInput:"",highlightedOptionRowIndex:-1,options:[],clientSideOptions:[],isSearching:!1}),g()(l()(e),"onDocumentClick",(function(t){!e.state.showDropdown||e.element&&e.element.contains(t.target)||e.state.showDropdown&&e.onToggleDropdown()})),g()(l()(e),"onDocumentKeydown",(function(t){if(!e.props.globalOpenShortcut)return t;var n=t.target&&t.target.nodeName&&t.target.nodeName.toLowerCase();return"input"===n||"textarea"===n||e.state.showDropdown||t.keyCode!==H||(t.preventDefault(),e.onToggleDropdown()),t})),g()(l()(e),"onToggleDropdown",(function(t){t&&t.stopPropagation(),e.setState((function(e){return{showDropdown:!e.showDropdown,options:e.clientSideOptions,searchInput:""}}),(function(){e.state.showDropdown&&e.input.focus()}))})),g()(l()(e),"onInputChange",(function(t){var n=t.target.value,r=n.length>0;if(e.setState({searchInput:n,isSearching:r}),e.props.clientSideFilter){var o=Z({options:e.state.clientSideOptions,search:n});e.setState({options:o,highlightedOptionRowIndex:e.getFirstRowIndex(o)})}else r?e.fetchSearchResults(r):e.setState({options:e.state.clientSideOptions,highlightedOptionRowIndex:-1})})),g()(l()(e),"onInputKeyDown",(function(t){switch(t.nativeEvent.keyCode){case z:e.onSubmit(t);break;case V:t.preventDefault(),e.setState({highlightedOptionRowIndex:e.getPreviousRowIndex(e.state.options,e.state.highlightedOptionRowIndex)},e.scrollHighlightedRowIntoView);break;case q:t.preventDefault(),e.setState({highlightedOptionRowIndex:e.getNextRowIndex(e.state.options,e.state.highlightedOptionRowIndex)},e.scrollHighlightedRowIntoView);break;case G:e.setState({showDropdown:!1})}})),g()(l()(e),"onSubmit",(function(t){var n=e.state.highlightedOptionRowIndex,r=e.state.options[n];if(r){if(e.setState({showDropdown:!1}),!e.props.groupIsSelectable&&r.isGroup)for(;r.isGroup;)--n,r=e.state.options[n];e.props.onSubmit(r)}else t.preventDefault()})),g()(l()(e),"getFirstRowIndex",(function(t){for(var n=0;n<t.length;n++){if(!t[n].isOrg||e.props.orgIsSelectable)return n}return-1})),g()(l()(e),"getPreviousRowIndex",(function(t,n){for(var r=n-1;r>=0;r--){if(!t[r].isOrg||e.props.orgIsSelectable)return r}return n})),g()(l()(e),"getNextRowIndex",(function(t,n){for(var r=t.length-1,o=n+1;o<=r;o++){if(!t[o].isOrg||e.props.orgIsSelectable)return o}return n})),g()(l()(e),"scrollHighlightedRowIntoView",(function(){if(!(e.state.highlightedOptionRowIndex<0)){var t=e.optionEls[e.state.highlightedOptionRowIndex];P()(t,{block:"nearest",behavior:"smooth",scrollMode:"if-needed"})}})),g()(l()(e),"optionEls",[]),g()(l()(e),"fetchClientSideOptions",C()(E.a.mark((function t(){var r,o,i,a,s,l,c,u,d,p,f,h=arguments;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h.length>0&&void 0!==h[0]?h[0]:e.props,o=r.clientSideFilter,i=r.cacheClientSearchResults,a=r.showCurrentOrgOptions,s=r.orgId,l=r.orgName,c=r.ndsOnly,!o){t.next=12;break}if(i&&null!==n.cachedClientSearchResults&&(u=n.cachedClientSearchResults,e.setState({clientSideOptions:u,highlightedOptionRowIndex:e.getFirstRowIndex(u)})),i&&null!==n.cachedClientSearchResults){t.next=10;break}return t.next=7,e.props.fetchSearchResults(e.state.searchInput,c);case 7:d=t.sent,i&&(n.cachedClientSearchResults=d),e.setState({clientSideOptions:d,highlightedOptionRowIndex:e.getFirstRowIndex(d)});case 10:t.next=18;break;case 12:if(!a){t.next=18;break}return t.next=15,e.props.fetchCurrentOrgOptions({orgId:s});case 15:p=t.sent,f=p.reduce((function(e,t){return e.push(Y({groupId:t.id,groupName:t.name,orgId:s,orgName:l})),e}),[W({orgId:s,orgName:l})]),e.setState({clientSideOptions:f,highlightedOptionRowIndex:e.getFirstRowIndex(f)});case 18:case"end":return t.stop()}}),t)})))),g()(l()(e),"fetchSearchResults",T.a.debounce((function(){e.props.fetchSearchResults(e.state.searchInput,e.props.ndsOnly).then((function(t){e.setState({options:t,isSearching:!1,highlightedOptionRowIndex:e.getFirstRowIndex(t)})}))}),300)),e}return a()(n,[{key:"componentDidMount",value:function(){this.fetchClientSideOptions(),document.addEventListener("click",this.onDocumentClick,!0),this.props.globalOpenShortcut&&(document.addEventListener("keydown",this.onDocumentKeydown,!0),this.globalOpenShortcutRegistered=!0)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.orgId,r=t.showCurrentOrgOptions,o=t.groups,i=r&&n!==e.orgId,a=o.length!==e.groups.length;(i||a)&&this.fetchClientSideOptions()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onDocumentClick,!0),this.globalOpenShortcutRegistered&&document.removeEventListener("keydown",this.onDocumentKeydown,!0)}},{key:"render",value:function(){var e,t,n,r=this,o=this.props,i=o.buttonText,a=o.buttonWidth,s=o.disabled,l=o.orgName,c=o.groupName,u=o.showLabel,d=o.clientSideFilter,p=o.orgIsSelectable,f=o.showNewProjectButton,h=o.orgId,m=o.isLdap,g=o.getOptionRowContent,b=o.isAutomatedRestore,v=o.className,y=this.state,O=y.options,x=y.clientSideOptions,j=y.showDropdown,E=y.searchInput,S=y.highlightedOptionRowIndex,C=y.isSearching;return d?(e=null,0===this.state.options.length&&(e="No matches found")):C?e="Searching...":0!==O.length&&O.length===x.length?e=null:0===E.length?e="Please enter a search term":0===this.state.options.length&&(e="No matches found"),i?t=i:(t=l,c&&(t+=" | ".concat(c))),n=i||(c||Object(L.jsx)("span",null,Object(L.jsx)("i",{className:"fa fa-building-o context-switcher-option-row-icon"}),l)),Object(L.jsx)("div",{className:A()("context-switcher",v),ref:function(e){r.element=e}},u&&Object(L.jsx)("div",{className:"context-switcher-label"},"Context"),Object(L.jsx)("div",{role:"button",tabIndex:0,className:A()("button context-switcher-button",{"context-switcher-button-is-disabled":s,"context-switcher-button-is-medium":"medium"===a,"context-switcher-button-is-max":"max"===a}),onClick:this.onToggleDropdown,title:t},Object(L.jsx)("span",{className:"context-switcher-button-text"},n),Object(L.jsx)("i",{className:"fa fa-caret-down"})),Object(L.jsx)("div",{className:A()("context-switcher-dropdown-container",{"context-switcher-dropdown-container-is-visible":j,"context-switcher-dropdown-container-has-create-button":f,"context-switcher-dropdown-container-is-automated-restore":b})},Object(L.jsx)("div",{className:"context-switcher-input-container"},Object(L.jsx)("input",{ref:function(e){r.input=e},className:"context-switcher-input",type:"text",placeholder:"Find an organization or project...",value:E,onChange:this.onInputChange,onKeyDown:this.onInputKeyDown}),Object(L.jsx)("i",{className:"fa fa-search"})),Object(L.jsx)("div",{className:"context-switcher-results-container"},e&&Object(L.jsx)("div",{className:"context-switcher-options-message"},e),Object(L.jsx)("div",{className:"context-switcher-options"},O.map((function(e,t){return Object(L.jsx)("div",{key:e.id,ref:function(e){r.optionEls[t]=e},className:A()("context-switcher-option-row",{"context-switcher-option-row-is-org":e.isOrg,"context-switcher-option-row-is-indented":e.isGroup,"context-switcher-option-row-is-selectable":p||e.isGroup,"context-switcher-option-row-is-highlighted":S===t}),onMouseEnter:function(){var n=p||e.isGroup?t:-1;r.setState({highlightedOptionRowIndex:n})},onClick:r.onSubmit,role:"button",tabIndex:"0"},Object(L.jsx)("span",{className:A()("context-switcher-option-row-text",{"context-switcher-option-row-text-is-org":e.isOrg,"context-switcher-option-row-text-with-border":e.isGroup,"context-switcher-option-row-text-is-highlighted":S===t})},e.isOrg&&Object(L.jsx)("i",{className:"fa fa-building-o context-switcher-option-row-icon"}),g(e)))})))),f&&!m&&Object(L.jsx)("div",{className:"context-switcher-new-project"},Object(L.jsx)("hr",{className:"context-switcher-line"}),Object(L.jsx)("a",{className:"context-switcher-new-project-button",href:"/v2#/org/".concat(h,"/projects/create"),onClick:function(){return r.setState({showDropdown:!1})}},Object(L.jsx)("span",{className:"context-switcher-option-row-text context-switcher-option-row-text-is-org"},Object(L.jsx)("i",{className:"fa fa-plus-square context-switcher-option-row-icon"}),"New Project")))))}}],[{key:"resetClientSideSearchResultsCache",value:function(){n.cachedClientSearchResults=null}}]),n}(B);g()($,"cachedClientSearchResults",null),g()($,"propTypes",{buttonText:O.a.string,buttonWidth:O.a.oneOf(["medium","max"]),disabled:O.a.bool,orgName:O.a.string,showLabel:O.a.bool,groupName:O.a.string,clientSideFilter:O.a.bool,fetchSearchResults:O.a.func,fetchCurrentOrgOptions:O.a.func,cacheClientSearchResults:O.a.bool,groupIsSelectable:O.a.bool,onSubmit:O.a.func.isRequired,orgIsSelectable:O.a.bool,showNewProjectButton:O.a.bool,orgId:O.a.string,globalOpenShortcut:O.a.bool,showCurrentOrgOptions:O.a.bool,groups:O.a.arrayOf(O.a.object),isLdap:O.a.bool,getOptionRowContent:O.a.func,isAutomatedRestore:O.a.bool,ndsOnly:O.a.bool,className:O.a.string}),g()($,"defaultProps",{buttonText:"",buttonWidth:"medium",disabled:!1,showLabel:!0,groupName:null,orgName:null,clientSideFilter:!1,fetchSearchResults:function(e,t){return I.n.search(e,t).then(K)},fetchCurrentOrgOptions:I.n.groups,cacheClientSearchResults:!1,groupIsSelectable:!0,orgIsSelectable:!0,showNewProjectButton:!1,showCurrentOrgOptions:!1,orgId:"",globalOpenShortcut:!1,groups:[],isLdap:!1,getOptionRowContent:function(e){return e.name},isAutomatedRestore:!1,ndsOnly:!1,className:""});Object(x.connectBackboneToReact)((function(e){var t=e.settings;return{orgId:t.get("ORG_ID"),orgName:t.get("ORG_NAME"),groupName:t.get("GROUP_NAME"),clientSideFilter:!t.hasGlobalReadOnly(),isLdap:t.isLdap()}}))($),Object(R.connect)((function(e){return{orgId:D.y(e),orgName:D.F(e),clientSideFilter:!k.u(e),groups:D.v(e),isLdap:M.H(e)}}))($);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var J=function(e){u()(n,e);var t=X(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"state",{currentOrgName:e.props.initialOrgName,currentGroupName:e.props.initialGroupName}),g()(l()(e),"onSubmit",(function(t){var n=t.org;e.setState({currentOrgName:n.name,currentGroupName:t.name}),e.props.onSelectProject(t)})),e}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.clientSideFilter,n=e.buttonWidth,r=e.automatedDiskRestore,o=e.ndsOnly,i=this.state,a=i.currentOrgName,s=i.currentGroupName;return Object(L.jsx)($,{showLabel:!1,orgName:a,groupName:s,clientSideFilter:t,cacheClientSearchResults:!0,onSubmit:this.onSubmit,orgIsSelectable:!1,buttonWidth:n,isAutomatedRestore:r,ndsOnly:o})}}]),n}(v.a.Component);g()(J,"propTypes",{initialOrgName:O.a.string.isRequired,initialGroupName:O.a.string.isRequired,clientSideFilter:O.a.bool.isRequired,onSelectProject:O.a.func.isRequired,buttonWidth:O.a.string,automatedDiskRestore:O.a.bool,ndsOnly:O.a.bool.isRequired}),g()(J,"defaultProps",{buttonWidth:"medium",automatedDiskRestore:!1,ndsOnly:!1});t.b=Object(x.connectBackboneToReact)((function(e){var t=e.uiState,n=e.settings;return{initialOrgName:t.get("destinationOrgName"),initialGroupName:t.get("destinationGroupName"),clientSideFilter:!n.hasGlobalReadOnly()}}))(J)},1221:
/*!********************************************************************************************************!*\
  !*** ./project/nds/clusters/components/ClusterLoadSampleDatasetModal/loadSampleDatasetStatusSchema.js ***!
  \********************************************************************************************************/
/*! exports provided: LOAD_SAMPLE_DATASET_STATUS_SCHEMA */
/*! exports used: LOAD_SAMPLE_DATASET_STATUS_SCHEMA */function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(/*! prop-types */3),o=n.n(r),i={_id:o.a.string.isRequired,createDate:o.a.string.isRequired,clusterName:o.a.string.isRequired,groupId:o.a.string.isRequired,state:o.a.string.isRequired,errorMessage:o.a.string,completeDate:o.a.string}},1222:
/*!***************************************************************!*\
  !*** ./project/nds/clusters/services/clusterDetailService.js ***!
  \***************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! jquery */10),o=n.n(r),i=n(/*! js/project/nds/clusters/services/clusterDescriptionService */298),a=n(/*! js/project/common/services/deploymentService */204),s=n(/*! js/project/common/services/openAlertsService */175),l=n(/*! js/project/common/services/groupStatusService */125),c=n(/*! js/project/nds/clusters/services/capacityWarningService */1172),u=n(/*! js/project/nds/clusters/services/clusterInstancesService */1112),d=n(/*! js/project/nds/clusters/models/ClusterDetail */1111),p=n(/*! js/project/nds/clusters/models/ClusterDescription */206);function f(e){var t=e.getClusterDescription(),n=a.a.getDeployment();e.listenTo(n,"sync",(function(n){e.setDeploymentItem(p.a.getDeploymentItemForClusterDescription(t,n))}));var r=s.a.getEventSource();e.listenTo(r,"sync",e.updateWithOpenAlerts);var o=c.a.getCapacityWarnings();e.listenTo(o,"sync",e.updateWithCapacityWarnings)}t.a={createClusterDetail:function(e){var t=s.a.refreshOpenAlerts(),n=i.a.fetchClusterDescription(e),r=a.a.loadDeployment();return o.a.when(n,r,t).then((function(e){var t=d.a.fromClusterDescription(e);return o.a.when(u.a.loadClusterInstances(e.getGroupId(),e.getName())).then((function(){return function(e){var t=e.getClusterDescription(),n=a.a.getDeployment();e.setDeploymentItem(p.a.getDeploymentItemForClusterDescription(t,n));var r=u.a.getClusterInstances(t.getGroupId(),t.getName());e.setClusterInstances(r);var o=s.a.getEventSource();e.updateWithOpenAlerts(o);var i=c.a.getCapacityWarnings();e.updateWithCapacityWarnings(i)}(t),t}))}))},createClusterDetailPoller:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,n=l.a.getGroupStatus(),r=a.a.createCurrentDeploymentPoller(),o=function(){return i.a.reloadClusterDescription(e.getClusterDescription())};return{start:function(){f(e),n.on("sync",o),r.start(t),u.a.startPolling(e.getClusterDescription().getGroupId(),e.getClusterDescription().getName()),c.a.startPolling()},stop:function(){e.stopListening(),n.off("sync",o),r.stop(),u.a.stopPolling(),c.a.stopPolling()}}}}},1226:
/*!***********************************************!*\
  !*** ./project/common/util/removeFromHash.js ***!
  \***********************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";function r(e,t){var n=e.replace(t,""),r=e.match(t)||[""];return/\?/.test(r)&&(n=n.replace(/&/,"?")),n.replace(/(\?|&)$/,"")}n.d(t,"a",(function(){return r}))},1227:
/*!***********************************************************!*\
  !*** ../node_modules/memoize-one/dist/memoize-one.cjs.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}e.exports=function(e,t){var n;void 0===t&&(t=r);var o,i=[],a=!1;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return a&&n===this&&t(r,i)||(o=e.apply(this,r),a=!0,n=this,i=r),o}}},1298:
/*!*********************************************************!*\
  !*** ./legacy/activity/decorators/Event.js + 1 modules ***!
  \*********************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ./common/utils/settingsHelpers.js */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/activity/activityStringMappings.js because of ./legacy/activity/views/windowConfig/WindowConfigStep1View.js */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/core/dateHelpers.js */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/initializers/globalSettings.js (<- Module is referenced from these modules with unsupported syntax: ./legacy/initializers/initializer.js (referenced with cjs require)) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/moment/moment.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/underscore/underscore.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(2),o=n.n(r),i=n(54),a=n.n(i),s=n(18),l=n(952),c={StripeFailCodes:{incorrect_number:"The card number is incorrect.",invalid_number:"The card number is not a valid credit card number.",invalid_expiry_month:"The card's expiration month is invalid.",invalid_expiry_year:"The card's expiration year is invalid.",invalid_cvc:"The card's security code is invalid.",expired_card:"The card has expired.",incorrect_cvc:"The card's security code is incorrect.",incorrect_zip:"The card's zip code failed validation.",card_declined:"The card was declined.",missing:"There is no card on a customer that is being charged.",processing_error:"An error occurred while processing the card.",rate_limit:"An error occurred due to requests hitting the API too quickly."}},u=n(101),d=n(110);t.a=function(e){this.model=e,this.isForHost=function(){var e=this.model.get("_t");return["HOST","HOST_METRIC","HOST_ANOMALY","HOST_AUDIT"].indexOf(e)>=0},this.isElectionEvent=function(){return"PRIMARY_ELECTED"===this.model.get("et")},this.getTargetLink=function(){var e=this.model.get("_t"),t=this.model.get("et"),n=this.model.get("cid");if(n||(n=s.default.GROUP_ID),"AGENT"===e)return"/v2/".concat(n,"#deployment/agents");if(["HOST","HOST_METRIC","HOST_ANOMALY"].indexOf(e)>=0)return"/v2/".concat(n,"#metrics/host/").concat(this.model.get("hid"),"/status");if("BACKUP"===e||"BACKUP_SNAPSHOT"===e||"BACKUP_CLUSTERSHOT"===e||"BACKUP_BIND"===e||"BACKUP_BUSY"===e||"BACKUP_SYNC_SLICE"===e){var r="#backup";return this.model.get("rsId")?r+="/node/".concat(this.model.get("rsId")):r+="/overview","/v2/".concat(n).concat(r)}if("REPLICA_SET"===e)return"/v2/".concat(n,"#host/replicaSet/").concat(this.model.get("clId"));if("CLUSTER"===e)return"/v2/".concat(n,"#host/cluster/").concat(this.model.get("clusterId"),"/shards");if("HOST_AUDIT"===e){if("DELETE_HOST_AUDIT"!==t&&"UNDELETE_HOST_AUDIT"!==t&&"REMOVE_HOST_FROM_REPLICA_SET_AUDIT"!==t)return"/v2/".concat(n,"#metrics/host/").concat(this.model.get("hid"),"/status")}else{if("USER"===e||"USER_AUDIT"===e)return"/v2/".concat(n,"#settings/users");if("ALERT_CONFIG_AUDIT"===e)return"/v2/".concat(n,"#alerts/manage");if("GROUP"===e)return"USERS_WITHOUT_MULTIFACTOR_AUTH"===t?"/v2/".concat(n,"#settings/users"):"DELINQUENT"===t?"/v2/".concat(n,"#settings/paymentHistory"):"/v2/".concat(n);if("BILLING"===e||"BILLING_AUDIT"===e){var o=this.model.get("invId");return"CHARGE_SUCCEEDED"!==t&&"CHARGE_FAILED"!==t&&"INVOICE_CLOSED"!==t||!o?"/v2/".concat(n,"#settings/billing"):"/v2/".concat(n,"#settings/paymentHistory/").concat(o)}if("SYSTEM_DATABASE_PROCESS"===e){if(this.model.get("dataStoreType"))return"/admin/backup/".concat(this.model.get("dataStoreType").toLowerCase(),"StoreConfig")}else{if("BI_CONNECTOR"===e)return"/v2/".concat(n,"#deployment/topology");if("CPS_BACKUP_ALERT"===e)return"/v2/".concat(n,"#clusters/backup/").concat(this.model.get("clusterName"))}}},this.getTargetName=function(){var e=this.model.get("_t"),t=this.model.get("et");if("AGENT"===e)return"BACKUP_AGENT_DOWN"===t||"BACKUP_AGENT_UP"===t||"BACKUP_AGENT_VERSION_BEHIND"===t||"BACKUP_AGENT_VERSION_CURRENT"===t||"BACKUP_AGENT_CONF_CALL_OK"===t||"BACKUP_AGENT_CONF_CALL_FAILURE"===t?"Backup Agent":"AUTOMATION_AGENT_DOWN"===t||"AUTOMATION_AGENT_UP"===t?"Automation Agent":"MONITORING_AGENT_DOWN"===t||"MONITORING_AGENT_UP"===t?"Monitoring Agent":"";if(["HOST","HOST_METRIC","HOST_ANOMALY","HOST_AUDIT"].indexOf(e)>=0)return this.model.get("userAlias")||this.model.get("hp");if("BACKUP"===e||"BACKUP_SNAPSHOT"===e||"BACKUP_CLUSTERSHOT"===e||"BACKUP_BIND"===e||"BACKUP_BUSY"===e||"BACKUP_SYNC_SLICE"===e||"BLOCKSTORE_JOB"===e)return this.getBackupEventTarget();if("REPLICA_SET"===e){var n,r=this.model.get("rsId"),o=this.model.get("ndsClusterName");if(o)n=this.model.get("cl")?"".concat(o," (").concat(r,")"):o;return n||r}if("CLUSTER"===e){var i=this.model.get("clusterName"),a=this.model.get("ndsClusterName");return a||i}if("GROUP"===e)return this.model.get("gn");if("BILLING"===e)return"CREDIT_CARD_ABOUT_TO_EXPIRE"===t||"CREDIT_CARD_CURRENT"===t?"xxxx-xxxx-xxxx-".concat(this.model.get("ccNum")):"Billing/Subscriptions";if("SYSTEM_DATABASE_PROCESS"===e){var s="Host: ".concat(this.model.get("h"),":").concat(this.model.get("p"));return this.model.get("dataStoreName")&&(s+=" Data Store: ".concat(this.model.get("dataStoreName"))),s}return"BI_CONNECTOR"===e?"".concat(this.model.get("hostname"),":").concat(this.model.get("port")," for ").concat(this.model.get("deploymentItem")):"CPS_BACKUP_ALERT"===e?this.model.get("clusterName"):void 0},this.getMemberLink=function(){return"/v2/".concat(this.model.get("cid"),"#metrics/host/").concat(this.model.get("hid"),"/status")},this.getMemberName=function(){return this.model.get("userAlias")||this.model.get("hp")},this.getBackupEventTarget=function(){var e=this.model.get("rsId"),t=this.model.get("clusterName"),n=this.model.get("st"),r="Backup for ";return"REPLICA_SET"===n?(r+="Replica Set: ",r+=e,t&&(r+=" in ".concat(t))):"CONFIG_SERVER"===n?(r+="Config Server: ",r+=e,t&&(r+=" in ".concat(t))):"SHARDED_CLUSTER"===n&&(r+="Cluster: ",r+=t),r},this.isOpen=function(){return"OUTSIDE_METRIC_THRESHOLD"===this.model.get("et")},this.getMode=function(){var e=this.model.get("mt");if(e)return l.a.MetricModes[e.get("mode")]},this.getMoreInfoUrl=function(){if("HOST_EXPOSED"===this.model.get("et"))return"".concat(s.default.DOCS_URL,"/reference/alerts/#Host-is-exposed-to-the-public-Internet");var e=this.model.get("ac"),t=this.model.get("jobId");return"GLOBAL"===e&&t?"/admin/backup/show/job/".concat(t,"#job"):"SYSTEM_CRON_JOB"===this.model.get("_t")?"/admin/control_panel/cronJobs":void 0},this.getMoreInfo=function(){var e=this.model.get("oldSnapshotDate"),t=this.model.get("nextSnapshotDate"),n=this.model.get("snapshotStoreType"),r=this.model.get("snapshotStoreId"),o=this.model.get("blockstoreJobTypes"),i=[];if(e&&i.push("Last Snapshot: ".concat(u.a.formatDateTimeWithSeconds(e))),t&&i.push("Next Snapshot: ".concat(u.a.formatDateTimeWithSeconds(t))),n&&r&&i.push("Snapshot Store: ".concat(n,"/").concat(r)),o&&o.length>0){i.push("The following BlockstoreJobs are failing repeatedly: ");for(var a=0;a<o.length;a++)i.push("- ".concat(o[a]))}return i},this.getUsername=function(){var e=this.model.get("un");return e||(this.model.get("isMmsAdmin")&&"ONPREM"!=s.default.PLAN_TYPE?"a ".concat(s.default.SITE_NAME," administrator"):null)},this.getEventSource=function(){var e=this.model.get("source");return"ACCOUNTANT"===e?"Billing":"API"===e?"the API":"the System"},this.getTag=function(){var e=this.model.get("tag");return"unassigned"==e?null:e},this.getAgentHostname=function(){return this.model.get("hn")},this.isSubscriptionUsageIncreased=function(){return"BILLABLE_HOSTS_INCREASED"===this.model.get("et")},this.isPendingInvoiceOverThreshold=function(){return"PENDING_INVOICE_OVER_THRESHOLD"===this.model.get("et")},this.isDailyBillOverThreshold=function(){return"DAILY_BILL_OVER_THRESHOLD"===this.model.get("et")},this.isInvoiceClosed=function(){return"INVOICE_CLOSED"===this.model.get("et")},this.chargeFailed=function(){return"CHARGE_FAILED"===this.model.get("et")},this.chargeSucceeded=function(){return"CHARGE_SUCCEEDED"===this.model.get("et")},this.getStripeFailCode=function(){var e=this.model.get("chargeFailedCode")||this.model.get("chargeFailCode");return e?c.StripeFailCodes[e]:null},this.getFirstGroups=function(){var e=this.model.get("groups");if(e)return o.a.first(e,5)},this.getRemainingGroups=function(){var e=this.model.get("groups");if(e)return o.a.rest(e,5)},this.getFirstInvoices=function(){var e=this.model.get("invoices");if(e)return o.a.first(e,5)},this.getRemainingInvoices=function(){var e=this.model.get("invoices");if(e)return o.a.rest(e,5)},this.getDescriptionExtra=function(){var e="";if(this.isForHost()){var t=this.model.get("et");if("HOST_UPGRADED"===t||"HOST_DOWNGRADED"===t||"VERSION_CHANGED"===t)return this.model.get("pver")&&(e+=" from ".concat(this.model.get("pver"))),this.model.get("ver")&&(e+=" to ".concat(this.model.get("ver"))),e}else{if(this.getTag())return" - ".concat(this.getTag()," ");if(this.getMaintenance())return this.model.get("notBefore")&&(e+=" sometime after ".concat(u.a.formatDateTime(this.model.get("notBefore")))),e;if(this.model.get("descriptionExtra"))return" -- "+this.model.get("descriptionExtra")}return null},this.getMaintenance=function(){return"NDS_AUDIT"===this.model.get("_t")&&("SCHEDULED_MAINTENANCE"===this.model.get("et")||"OS_MAINTENANCE"===this.model.get("et"))},this.getTypeScheduledEvent=function(){return this.model.get("typeScheduledEvent")},this.getTypesDisplayString=function(){if("MAINTENANCE_WINDOW_AUDIT"==this.model.get("_t")){var e=this.model.get("at").map((function(e){return l.a.AlertTypes[e]})),t=e[0];if(1==e.length)return t;for(var n=1;n<e.length;n++)t="".concat(t,", ").concat(e[n]);return t}},this.getDateField=function(e){if("MAINTENANCE_WINDOW_AUDIT"==this.model.get("_t")){var t=this.model.get(e);return a()(t).format("ddd, MMMM Do YYYY, h:mm A")}},this.getConfigLink=function(){return"#alerts/manage/maintenanceWindows"},this.getWindowEventType=function(){switch(this.model.get("et")){case"MAINTENANCE_WINDOW_ADDED_AUDIT":return"added";case"MAINTENANCE_WINDOW_CHANGED_AUDIT":return"updated";case"MAINTENANCE_WINDOW_DELETED_AUDIT":return"deleted"}},this.isPlanEvent=function(){return"NDS_AUDIT"===this.model.get("_t")&&["PLAN_STARTED","PLAN_COMPLETED","PLAN_FAILURE","PLAN_ABANDONED"].includes(this.model.get("et"))},this.isPlanUpgraded=function(){return"ACCOUNT_UPGRADED"===this.model.get("et")},this.isPlanDowngraded=function(){return"ACCOUNT_DOWNGRADED"===this.model.get("et")},this.isNDSProxyPanicked=function(){return"PROXY_PANICKED"===this.model.get("et")},this.isNDSProxyRestart=function(){return"PROXY_RESTARTED"===this.model.get("et")},this.isTenantSnapshotFailed=function(){return"TENANT_SNAPSHOT_FAILED"===this.model.get("et")},this.isTenantRestoreFailed=function(){return"TENANT_RESTORE_FAILED"===this.model.get("et")},this.isLogsDownload=function(){return"MONGODB_LOGS_DOWNLOADED"===this.model.get("et")},this.planTypeToDisplayName=function(e){return"CLASSIC"===e?"Classic":"BASIC"===e?"Basic":"PREMIUM"===e?"Premium":"STANDARD"===e?"Standard":"FREE_TIER"===e?"Free Tier":d.a(e)?"Atlas":"ON_PREM"===e?"OnPrem":"Unknown"},this.getNewPlanTypeDisplayName=function(){return this.planTypeToDisplayName(this.model.get("newPlanType"))},this.getOldPlanTypeDisplayName=function(){return this.planTypeToDisplayName(this.model.get("oldPlanType"))},this.getSecurityChecklistItem=function(e){var t=this.model.get("securityChecklist");return t?"CHECKED"===t[e]?"Passed":"UNCHECKED"===t[e]?"Warning":"Dismissed":null},this.decorate=function(){return{_t:l.a.Types[this.model.get("_t")],partitionName:this.model.get("p"),targetLink:this.getTargetLink(),targetName:this.getTargetName(),typesString:this.getTypesDisplayString(),fromDate:this.getDateField("fromDate"),toDate:this.getDateField("toDate"),windowEventType:this.getWindowEventType(),configLink:this.getConfigLink(),memberLink:this.getMemberLink(),memberName:this.getMemberName(),descriptionExtra:this.getDescriptionExtra(),moreInfoUrl:this.getMoreInfoUrl(),tag:this.getTag(),mode:this.getMode(),isOpen:this.isOpen(),isForHost:this.isForHost(),isElectionEvent:this.isElectionEvent(),isNDSProxyPanicked:this.isNDSProxyPanicked(),isNDSProxyRestart:this.isNDSProxyRestart(),isTenantSnapshotFailed:this.isTenantSnapshotFailed(),isTenantRestoreFailed:this.isTenantRestoreFailed(),isLogsDownload:this.isLogsDownload(),username:this.getUsername(),source:this.getEventSource(),comment:this.model.get("acknowledgementComment"),acknowledgingUsername:this.model.get("acknowledgingUsername"),ackUntil:this.model.get("ackUntil"),version:this.model.get("ver"),subscriptionUsageIncreased:this.isSubscriptionUsageIncreased(),pendingInvoiceOverThreshold:this.isPendingInvoiceOverThreshold(),dailyBillOverThreshold:this.isDailyBillOverThreshold(),oldBillableHosts:e.get("oldBillableHosts"),newBillableHosts:e.get("newBillableHosts"),duplicateUsageDate:e.get("duplicateUsageDate"),invoiceClosed:this.isInvoiceClosed(),chargeFailed:this.chargeFailed(),chargeSucceeded:this.chargeSucceeded(),chargeFailedCode:this.getStripeFailCode(),moreInfo:this.getMoreInfo(),firstGroups:this.getFirstGroups(),remainingGroups:this.getRemainingGroups(),firstInvoices:this.getFirstInvoices(),remainingInvoices:this.getRemainingInvoices(),isPlanEvent:this.isPlanEvent(),isPlanUpgraded:this.isPlanUpgraded(),isPlanDowngraded:this.isPlanDowngraded(),newPlanTypeDisplayName:this.getNewPlanTypeDisplayName(),oldPlanTypeDisplayName:this.getOldPlanTypeDisplayName(),agentHostname:this.getAgentHostname(),isMmsAdmin:this.model.get("isMmsAdmin"),feature:this.model.get("feature"),isMaintenance:this.getMaintenance(),typeScheduledEvent:this.getTypeScheduledEvent(),activationCodeApplied:this.model.get("activationCode"),securityChecklistAuthentication:this.getSecurityChecklistItem("AUTHENTICATION"),securityChecklistAuthorization:this.getSecurityChecklistItem("AUTHORIZATION"),securityChecklistTLS:this.getSecurityChecklistItem("TLS")}}}},1301:
/*!************************************************************************!*\
  !*** ./project/nds/clusters/views/tooltips/peerConnectionApproval.hbs ***!
  \************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<button name="dismissTooltip" class="link cm-tooltip-close">&times;</button>\n<h4 class="cm-tooltip-title cm-tooltip-title-is-left-aligned"> Good work! You\'re almost done. </h4>\n<p class="cm-tooltip-paragraph">\n    Now all you have to do is accept the peering connection in your AWS account and update your route tables to send traffic for the '+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"siteName")||(null!=t?a(t,"siteName"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"siteName",hash:{},data:o,loc:{start:{line:4,column:133},end:{line:4,column:145}}}):i)+' VPC CIDR block to the peering ID.\n</p>\n<div class="cm-tooltip-row">\n    <a href="#security/network/peering/approvePeeringConnection?tooltip=nds.peerConnection&step=1" class="link link-is-on-dark cm-tooltip-link">Show me how</a>\n    <button name="dismissTooltip" class="link link-is-on-dark cm-tooltip-link">Dismiss</button>\n</div>\n'},useData:!0})},1302:
/*!********************************************************************************************************!*\
  !*** ./project/nds/clusters/components/ClusterLoadSampleDatasetModal/ClusterLoadSampleDatasetModal.js ***!
  \********************************************************************************************************/
/*! exports provided: default, ClusterLoadSampleDatasetModal, mapModelsToProps */
/*! exports used: ClusterLoadSampleDatasetModal, default */function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r=n(/*! @babel/runtime/regenerator */6),o=n.n(r),i=n(/*! @babel/runtime/helpers/asyncToGenerator */9),a=n.n(i),s=n(/*! @babel/runtime/helpers/classCallCheck */23),l=n.n(s),c=n(/*! @babel/runtime/helpers/createClass */24),u=n.n(c),d=n(/*! @babel/runtime/helpers/assertThisInitialized */14),p=n.n(d),f=n(/*! @babel/runtime/helpers/inherits */27),h=n.n(f),m=n(/*! @babel/runtime/helpers/possibleConstructorReturn */28),g=n.n(m),b=n(/*! @babel/runtime/helpers/getPrototypeOf */17),v=n.n(b),y=n(/*! @babel/runtime/helpers/defineProperty */4),O=n.n(y),x=n(/*! react */8),j=n.n(x),E=n(/*! prop-types */3),S=n.n(E),C=n(/*! connect-backbone-to-react */142),_=n(/*! js/common/components/Alert */112),A=n(/*! @leafygreen-ui/button */36),N=n.n(A),T=n(/*! js/common/components/Modal */42),w=n(/*! js/common/services/api */5),P=n(/*! js/common/services/errorHelper */144),R=n(/*! js/project/common/util/segmentAnalytics */50),I=n(/*! js/project/nds/clusters/components/NDSClusterForm/schema */879),D=n(/*! @emotion/core */1);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var M=function(e){h()(n,e);var t=k(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),O()(p()(e),"state",{errorMessage:void 0,requestInProgress:!1}),O()(p()(e),"loadSampleDataset",a()(o.a.mark((function t(){var n,r,i,a,s,l,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.clusterDescription,i=r.uniqueId,a=r.name,s=r.instanceSize,l=r.groupId,c=n.orgId,R.d.track(R.b.LOAD_SAMPLE_DATA_STARTED,{cluster_id:i,instance_size:s},{integrations:Object(R.c)(c)}),t.prev=2,e.setState({requestInProgress:!0,errorMessage:""}),t.next=6,w.m.loadSampleDatasetApi.postLoadSampleDataset({clusterName:a,groupId:l});case 6:e.setState({requestInProgress:!1}),e._closeModalWrapper(!0),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),e.setState({requestInProgress:!1,errorMessage:Object(P.b)(t.t0)});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))),e}return u()(n,[{key:"_closeModalWrapper",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props,n=t.closeModal,r=t.clusterDescription,o=r.uniqueId,i=r.instanceSize,a=t.orgId;e||R.d.track(R.b.LOAD_SAMPLE_DATA_CANCELLED,{cluster_id:o,instance_size:i},{integrations:Object(R.c)(a)}),n(e)}},{key:"render",value:function(){var e=this,t=this.props.clusterDescription,n=this.state,r=n.errorMessage,o=n.requestInProgress;return Object(D.jsx)(T.a,{title:"Load Sample Dataset",size:"small",onClose:function(){return e._closeModalWrapper()}},Object(D.jsx)("p",{className:"view-modal-paragraph view-modal-paragraph-is-normal"},"We've created a sample dataset to help you test features on ",t.name,"."),Object(D.jsx)("p",{className:"view-modal-paragraph view-modal-paragraph-is-normal sample-dataset-name"},Object(D.jsx)("a",{href:"https://dochub.mongodb.org/core/atlas-sample-dataset-descriptions",target:"_blank"},"Sample Dataset")),Object(D.jsx)("p",{className:"view-modal-paragraph view-modal-paragraph-is-normal"},"Size: ~350 MB"),Object(D.jsx)("p",{className:"view-modal-paragraph view-modal-paragraph-is-normal view-modal-paragraph-is-top-padded"},"Please confirm that you want to load this sample dataset."),r&&Object(D.jsx)(_.a,{level:"danger"},r),Object(D.jsx)(T.a.ModalFooter,null,Object(D.jsx)(N.a,{onClick:function(){return e._closeModalWrapper()}},"Cancel"),Object(D.jsx)(N.a,{onClick:this.loadSampleDataset,variant:"primary",className:"button-has-margin-left",disabled:o},"Load Sample Dataset")))}}]),n}(j.a.Component);O()(M,"propTypes",{closeModal:S.a.func.isRequired,clusterDescription:S.a.shape(I.g).isRequired,orgId:S.a.string.isRequired}),t.b=Object(C.connectBackboneToReact)((function(e){var t=e.uiState;return{closeModal:function(e){var n=t.get("onClose");n&&n(e)},clusterDescription:e.clusterDescription.toJSON()}}))(M)},1303:
/*!*******************************************************!*\
  !*** ./project/applications/helpers/redirectToApp.js ***!
  \*******************************************************/
/*! exports provided: redirectToApp */
/*! exports used: redirectToApp */function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(/*! ../services/applicationsService */41),o=function(e,t){return r.a.validateSession(t).then((function(){var n=e?e.getRedirectUrl(t.baasUrl):"".concat(t.baasUrl,"/groups/").concat(t.groupId,"/apps");window.location.assign(n)}))}},1304:
/*!***********************************************************!*\
  !*** ./project/nds/clusters/views/openAlertSummaries.hbs ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    <li class='open-alerts-summary-list-item'>\n                        <strong>"+l("function"==typeof(i=null!=(i=c(n,"summary")||(null!=t?c(t,"summary"):t))?i:s)?i.call(a,{name:"summary",hash:{},data:o,loc:{start:{line:11,column:32},end:{line:11,column:43}}}):i)+"</strong>\n                        <br/>\n                        <a href='"+l("function"==typeof(i=null!=(i=c(n,"targetLink")||(null!=t?c(t,"targetLink"):t))?i:s)?i.call(a,{name:"targetLink",hash:{},data:o,loc:{start:{line:13,column:33},end:{line:13,column:47}}}):i)+"'>"+l("function"==typeof(i=null!=(i=c(n,"targetName")||(null!=t?c(t,"targetName"):t))?i:s)?i.call(a,{name:"targetName",hash:{},data:o,loc:{start:{line:13,column:49},end:{line:13,column:63}}}):i)+"</a>\n                    </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a tabindex="0" role="button" data-toggle="popover" data-trigger="focus" data-html="true" data-placement="right"\n    data-content="\n        <div class=\'open-alerts-summary\'>\n            <div class=\'open-alerts-summary-title\'>\n                Open Alerts\n                <button class=\'button button-is-default button-is-small open-alerts-summary-close-button\' type=\'button\'>Ã</button>\n            </div>\n            <ul class=\'open-alerts-summary-list\'>\n'+(null!=(i=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"summaries"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:9,column:16},end:{line:15,column:25}}}))?i:"")+'            </ul>\n            <a href=\'#alerts/openAlertsList\'>View All Open Alerts</a>\n        </div>"\n    <span class="cluster-detail-alerts alerts-widget alerts-widget-has-alerts">'+e.escapeExpression(e.lambda(null!=(i=null!=t?a(t,"summaries"):t)?a(i,"length"):i,t))+"</span>\n</a>\n"},useData:!0})},1305:
/*!*****************************************************!*\
  !*** ./project/nds/clusters/views/ndsStateIcon.hbs ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'    <i class="mms-icon-wrench cluster-detail-status-icon"></i>\n'},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?a(t,"state"):t)?a(i,"isPaused"):i,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:3,column:0},end:{line:21,column:0}}}))?i:""},4:function(e,t,n,r,o){return'    <i class="mms-icon-paused cluster-detail-status-icon"></i>\n'},6:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?a(t,"state"):t)?a(i,"isMonitoringPaused"):i,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:5,column:0},end:{line:21,column:0}}}))?i:""},7:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?a(t,"state"):t)?a(i,"isUpdating"):i,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(8,o,0),data:o,loc:{start:{line:7,column:0},end:{line:21,column:0}}}))?i:""},8:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?a(t,"state"):t)?a(i,"isRepairing"):i,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(9,o,0),data:o,loc:{start:{line:9,column:0},end:{line:21,column:0}}}))?i:""},9:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?a(t,"state"):t)?a(i,"isDeleting"):i,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(10,o,0),data:o,loc:{start:{line:11,column:0},end:{line:21,column:0}}}))?i:""},10:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"openAlertSummaries"):t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.program(13,o,0),data:o,loc:{start:{line:13,column:0},end:{line:21,column:0}}}))?i:""},11:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=e.invokePartial(a(r,"openAlertSummaries"),t,{name:"openAlertSummaries",hash:{summaries:null!=t?a(t,"openAlertSummaries"):t},data:o,indent:"    ",helpers:n,partials:r,decorators:e.decorators}))?i:""},13:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?a(t,"state"):t)?a(i,"isUnavailable"):i,{name:"if",hash:{},fn:e.program(14,o,0),inverse:e.program(16,o,0),data:o,loc:{start:{line:15,column:0},end:{line:21,column:0}}}))?i:""},14:function(e,t,n,r,o){return'    <i class="mms-icon-remove cluster-detail-status-icon"></i>\n'},16:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?a(t,"state"):t)?a(i,"isDegraded"):i,{name:"if",hash:{},fn:e.program(17,o,0),inverse:e.program(19,o,0),data:o,loc:{start:{line:17,column:0},end:{line:21,column:0}}}))?i:""},17:function(e,t,n,r,o){return'    <i class="fa fa-exclamation-triangle cluster-detail-status-icon"></i>\n'},19:function(e,t,n,r,o){return'    <i class="fa fa-circle cluster-detail-status-icon"></i>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?a(t,"state"):t)?a(i,"isCreating"):i,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:1,column:0},end:{line:21,column:7}}}))?i:""},usePartial:!0,useData:!0})},1306:
/*!****************************************************************!*\
  !*** ./project/settings/views/components/MaintenanceBanner.js ***!
  \****************************************************************/
/*! exports provided: default, MaintenanceBanner, getNextMaintenanceMillis, getNextMaintenanceString, isMaintenanceStartingSoon, getMaintenanceStartDateForCurrentWeekString */
/*! exports used: MaintenanceBanner, default, getMaintenanceStartDateForCurrentWeekString, getNextMaintenanceString, isMaintenanceStartingSoon */function(e,t,n){"use strict";n.d(t,"a",(function(){return z})),n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return F})),n.d(t,"c",(function(){return B}));var r=n(/*! @babel/runtime/regenerator */6),o=n.n(r),i=n(/*! @babel/runtime/helpers/asyncToGenerator */9),a=n.n(i),s=n(/*! @babel/runtime/helpers/classCallCheck */23),l=n.n(s),c=n(/*! @babel/runtime/helpers/createClass */24),u=n.n(c),d=n(/*! @babel/runtime/helpers/assertThisInitialized */14),p=n.n(d),f=n(/*! @babel/runtime/helpers/inherits */27),h=n.n(f),m=n(/*! @babel/runtime/helpers/possibleConstructorReturn */28),g=n.n(m),b=n(/*! @babel/runtime/helpers/getPrototypeOf */17),v=n.n(b),y=n(/*! @babel/runtime/helpers/defineProperty */4),O=n.n(y),x=n(/*! react */8),j=n.n(x),E=n(/*! prop-types */3),S=n.n(E),C=n(/*! connect-backbone-to-react */142),_=n(/*! moment-timezone */91),A=n.n(_),N=n(/*! js/common/components/InfoBanner */1175),T=n(/*! @leafygreen-ui/button */36),w=n.n(T),P=n(/*! js/common/components/ConfirmationModal */203),R=n(/*! js/common/services/api */5),I=n(/*! @emotion/core */1);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.nextMaintenanceDate,r=e.deferralRequestDate,o=A()(n);if(r){var i=A()(r);i.isAfter(A()(o).subtract(7,"days"))&&o.add(7,"days")}return t&&o.add(7*t,"days"),o}function M(e){return k(e).valueOf()}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return k(e,n).tz(t).format("MMMM Do, YYYY")}function U(e){return"MMS.Maintenance.".concat(e)}function F(e){if(!e.advanceNotificationSendDate)return!1;var t=A()(),n=A()(e.maintenanceStartDateForCurrentWeek),r=A()(e.advanceNotificationSendDate);return t.isAfter(n)&&n.isAfter(r)}function B(e,t){return A()(e.maintenanceStartDateForCurrentWeek).tz(t).format("MMMM Do, YYYY")}var z=function(e){h()(n,e);var t=D(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),O()(p()(e),"state",{isDismissed:null!==window.localStorage.getItem(U(e.props.groupId))&&e.props.dismissible,maintenanceWindow:e.props.originalMaintenanceWindow,nextMaintenanceMillis:e.props.originalMaintenanceWindow?M(e.props.originalMaintenanceWindow).toString():"",showStartNowModal:!1,showDeferModal:!1}),O()(p()(e),"parseMaintenanceWindow",(function(e){return{numberOfDeferrals:e.numberOfDeferrals,advanceNotificationSendDate:e.advanceNotificationSendDate,dayOfWeek:e.dayOfWeek,hourOfDay:e.hourOfDay%12,amPm:e.hourOfDay>=12?"PM":"AM",startASAP:e.startASAP,deferralRequestDate:e.deferralRequestDate,nextMaintenanceDate:e.nextMaintenanceDate,maintenanceStartDateForCurrentWeek:e.maintenanceStartDateForCurrentWeek}})),O()(p()(e),"loadMaintenanceWindow",a()(o.a.mark((function t(){var n,r,i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.groupId,t.prev=1,t.next=4,R.m.maintenanceWindows.getMaintenanceWindow(n);case 4:r=t.sent,i=e.parseMaintenanceWindow(r),a=M(i).toString(),e.setState({maintenanceWindow:i,nextMaintenanceMillis:a,isDismissed:window.localStorage.getItem(U(n))===a&&e.props.dismissible}),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})))),O()(p()(e),"dismiss",(function(){window.localStorage.setItem(U(e.props.groupId),e.state.nextMaintenanceMillis),e.setState({isDismissed:!0})})),O()(p()(e),"onClickDefer",(function(){e.setState({showDeferModal:!0})})),O()(p()(e),"onConfirmDefer",(function(){var t=e.props.groupId;return R.m.maintenanceWindows.deferMaintenanceOneWeek(t).then((function(t){var n=e.parseMaintenanceWindow(t);e.setState({maintenanceWindow:n})}))})),O()(p()(e),"getMaintenanceDateTimeString",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=e.props,r=n.timeZone,o=n.timeZoneId,i=e.state.maintenanceWindow,a=i.hourOfDay,s=i.amPm,l=0===a?12:a;return"".concat(L(i,o,t)," at ").concat(l,":00 ").concat(s," ").concat(r)})),O()(p()(e),"getPrimaryMessage",(function(){var t=e.state.maintenanceWindow,n=e.getMaintenanceDateTimeString(),r=function(e){return Object(I.jsx)("a",{href:"https://docs.mongodb.com/manual/tutorial/perform-maintence-on-replica-set-members/",className:"link link-is-for-banner link-is-normal-case",target:"_blank",rel:"noopener noreferrer"},e)};return t.advanceNotificationSendDate?Object(I.jsx)(j.a.Fragment,null,r("Maintenance")," for clusters in this project is scheduled for ",n,"."):t.deferralRequestDate?Object(I.jsx)(j.a.Fragment,null,"There is pending ",r("maintenance")," for the clusters in this project that has been deferred until ",n,"."):""})),O()(p()(e),"getBannerMessage",(function(){var t=e.state.maintenanceWindow,n=t.numberOfDeferrals,r=t.deferralRequestDate;return F(t)?Object(I.jsx)("div",{className:"banner-is-flex"},Object(I.jsx)("span",{className:"banner-left-section"},Object(I.jsx)("strong",null,"Maintenance for clusters in this project will begin shortly.")," It will be performed on a rolling basis and no downtime is expected.")):Object(I.jsx)("div",{className:"banner-is-flex"},Object(I.jsx)("span",{className:"banner-left-section"},Object(I.jsx)("strong",null,e.getPrimaryMessage())," It will be performed on a rolling basis and no downtime is expected."," ",2===n?"This maintenance event cannot be deferred because it has already been deferred twice.":""),r&&!t.advanceNotificationSendDate&&Object(I.jsx)("div",{className:"banner-right-section"},Object(I.jsx)(w.a,{"data-testId":"begin-maintenance-button-deferred",onClick:e.onClickStartMaintenanceNow,size:"xsmall"},"Begin Maintenance Now")),!!t.advanceNotificationSendDate&&Object(I.jsx)("div",{className:"banner-right-section"},Object(I.jsx)(w.a,{"data-testId":"begin-maintenance-button-notif",onClick:e.onClickStartMaintenanceNow,size:"xsmall"},"Begin Maintenance Now"),2===n?Object(I.jsx)(j.a.Fragment,null):Object(I.jsx)(j.a.Fragment,null,Object(I.jsx)("a",{className:"link link-is-for-banner link-no-wrap link-has-more-left-margin",role:"button",tabIndex:"0",onClick:e.onClickDefer},"DEFER MAINTENANCE FOR ONE WEEK"))))})),O()(p()(e),"onClickStartMaintenanceNow",(function(){e.setState({showStartNowModal:!0})})),O()(p()(e),"onConfirmStartMaintenanceNow",(function(){var t=e.props.groupId;return R.m.maintenanceWindows.patchMaintenanceWindow(t,{startASAP:!0}).then((function(){e.dismiss()}))})),e}return u()(n,[{key:"componentDidMount",value:function(){this.state.maintenanceWindow||this.loadMaintenanceWindow()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isDismissed,r=t.maintenanceWindow,o=t.showStartNowModal,i=t.showDeferModal,a=!n&&r&&(!!r.deferralRequestDate||!!r.advanceNotificationSendDate),s=r&&r.numberOfDeferrals,l=2-s;return Object(I.jsx)(j.a.Fragment,null,a&&Object(I.jsx)(j.a.Fragment,null,Object(I.jsx)(N.a,{dismissible:this.props.dismissible,onDismiss:this.dismiss,className:"banner-has-overflow-wrap banner-has-extra-padding"},this.getBannerMessage()),o&&Object(I.jsx)(P.a,{title:"Start Cluster Maintenance Now",size:"small",confirmButtonLabel:"Yes, start my maintenance now",onConfirm:this.onConfirmStartMaintenanceNow,onClose:function(){e.setState({showStartNowModal:!1})}},Object(I.jsx)("strong",null,"Are you sure you want to start maintenance now?"),Object(I.jsx)("p",null,"It is currently scheduled to start on ",this.getMaintenanceDateTimeString()),Object(I.jsx)("p",null,"During maintenance, replica set elections will occur, but no downtime is required.")),i&&Object(I.jsx)(P.a,{title:"Defer Maintenance to Next Week",size:"small",confirmButtonLabel:"Yes, defer maintenance until next week",onConfirm:this.onConfirmDefer,onClose:function(){e.setState({showDeferModal:!1})}},Object(I.jsx)("p",null,"Are you sure you want to defer maintenance the maintenance scheduled for"," ",this.getMaintenanceDateTimeString()," to next week?"),0===s&&Object(I.jsx)(j.a.Fragment,null,Object(I.jsx)("strong",null,"You'll be able to defer this round of maintenance once more next week."),Object(I.jsx)("p",null,"Maintenance must run no later than ",this.getMaintenanceDateTimeString(l)," to avoid preventable issues with your cluster.")),Object(I.jsx)("p",null,Object(I.jsx)("strong",null,"If you defer, maintenance will start on ",this.getMaintenanceDateTimeString(1),".")))))}}]),n}(j.a.Component);O()(z,"propTypes",{groupId:S.a.string.isRequired,timeZone:S.a.string.isRequired,timeZoneId:S.a.string.isRequired,dismissible:S.a.bool,originalMaintenanceWindow:S.a.shape({numberOfDeferrals:S.a.number,advanceNotificationSendDate:S.a.string,dayOfWeek:S.a.number,hourOfDay:S.a.number,amPm:S.a.string,startASAP:S.a.bool.isRequired,deferralRequestDate:S.a.string,nextMaintenanceDate:S.a.string,maintenanceStartDateForCurrentWeek:S.a.string})}),O()(z,"defaultProps",{dismissible:!0,originalMaintenanceWindow:null}),t.b=Object(C.connectBackboneToReact)((function(e){var t=e.settings;return{groupId:t.get("GROUP_ID"),timeZone:t.get("DEFAULT_TIME_ZONE_DISPLAY_SHORT")||"UTC",timeZoneId:t.get("DEFAULT_TIME_ZONE_ID")||"Etc/UTC"}}))(z)},1308:
/*!**************************************************!*\
  !*** ./project/nds/common/views/ConnectModal.js ***!
  \**************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! backbone */7),o=n.n(r),i=n(/*! backbone.marionette */25),a=(n(/*! react */8),n(/*! connect-backbone-to-react */142)),s=n(/*! js/project/nds/common/components/ConnectModal/ConnectModal */1160),l=n(/*! js/project/common/util/mixInto */87),c=n(/*! js/project/common/extensions/mixins/viewWithReact */201),u=n(/*! ./connectModal.hbs */1312),d=n.n(u),p=n(/*! @emotion/core */1);t.a=Object(l.a)(i.View)(c.a).extend({template:d.a,initialize:function(e){var t=this,n=e.settingsModel,r=e.whitelistedIpCollection,i=e.usersCollection,l=e.peerConnectionCollection,c=e.query,u=e.dbName,d=e.collName,f=e.userSecurity,h=e.showPrivateIpModeWarning,m=e.awsPrivateLinks,g=e.isClusterThreeFour,b=e.regions,v=e.horizons,y=e.context,O=e.showPrivateConnectionString,x=e.hasAvailablePeer,j=e.hasOnlineArchive,E=e.connectOptions,S=e.federatedConnectOptions,C={uiState:new o.a.Model({showModal:!0,onClose:function(){t.trigger("remove"),t.deregisterReactComponent(".js-react-connect-modal")},query:c,dbName:u,collName:d}),settingsModel:n,userSecurity:f,connectOptions:E,federatedConnectOptions:S,whitelistedIpCollection:r,usersCollection:i,peerConnectionCollection:l};this.registerReactComponent(Object(p.jsx)(a.BackboneProvider,{models:C},Object(p.jsx)(s.a,{showPrivateIpModeWarning:h,addUser:function(e){i.add(e,{parse:!0})},awsPrivateLinks:m,isClusterThreeFour:g,regions:b,horizons:v,context:y,showPrivateConnectionString:O,hasAvailablePeer:x,hasOnlineArchive:j})),".js-react-connect-modal")}})},1312:
/*!***************************************************!*\
  !*** ./project/nds/common/views/connectModal.hbs ***!
  \***************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="js-react-connect-modal"></div>\n'},useData:!0})},1313:
/*!***********************************************************!*\
  !*** ./project/common/components/MongoCLIDescription.tsx ***!
  \***********************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(/*! react */8),o=n.n(r),i=n(/*! @leafygreen-ui/button */36),a=n.n(i),s=n(/*! @emotion/core */1);function l(e){var t,n=e.groupId;return Object(s.jsx)(o.a.Fragment,null,Object(s.jsx)("h3",null,"Manage Your Cluster From the Command Line Interface"),Object(s.jsx)("p",null,"Provision and manage clusters with the MongoDB CLI for easier scripting and testing. To get started, create a programmatic ",(t="/v2/".concat(n,"#access/apiKeys/create"),Object(s.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer"},"API KeyÂ ",Object(s.jsx)("i",{className:"fa fa-external-link"})))," for your project (Project ID: ",n,")."),Object(s.jsx)(a.a,{variant:"info",rel:"noopener noreferrer",href:"https://docs.mongodb.com/mongocli/master/install/",target:"_blank"},"Install MongoDB CLI"))}},1314:
/*!***************************************************************!*\
  !*** ../node_modules/topojson-client/dist/topojson-client.js ***!
  \***************************************************************/
/*! no static exports found */
/*! exports used: feature */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e){"use strict";function t(e){return e}function n(e){if(null==e)return t;var n,r,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,t){t||(n=r=0);var l=2,c=e.length,u=new Array(c);for(u[0]=(n+=e[0])*o+a,u[1]=(r+=e[1])*i+s;l<c;)u[l]=e[l],++l;return u}}function r(e){var t,r=n(e.transform),o=1/0,i=o,a=-o,s=-o;function l(e){(e=r(e))[0]<o&&(o=e[0]),e[0]>a&&(a=e[0]),e[1]<i&&(i=e[1]),e[1]>s&&(s=e[1])}function c(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(c);break;case"Point":l(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(l)}}for(t in e.arcs.forEach((function(e){for(var t,n=-1,l=e.length;++n<l;)(t=r(e[n],n))[0]<o&&(o=t[0]),t[0]>a&&(a=t[0]),t[1]<i&&(i=t[1]),t[1]>s&&(s=t[1])})),e.objects)c(e.objects[t]);return[o,i,a,s]}function o(e,t){var n=t.id,r=t.bbox,o=null==t.properties?{}:t.properties,a=i(e,t);return null==n&&null==r?{type:"Feature",properties:o,geometry:a}:null==r?{type:"Feature",id:n,properties:o,geometry:a}:{type:"Feature",id:n,bbox:r,properties:o,geometry:a}}function i(e,t){var r=n(e.transform),o=e.arcs;function i(e,t){t.length&&t.pop();for(var n=o[e<0?~e:e],i=0,a=n.length;i<a;++i)t.push(r(n[i],i));e<0&&function(e,t){for(var n,r=e.length,o=r-t;o<--r;)n=e[o],e[o++]=e[r],e[r]=n}(t,a)}function a(e){return r(e)}function s(e){for(var t=[],n=0,r=e.length;n<r;++n)i(e[n],t);return t.length<2&&t.push(t[0]),t}function l(e){for(var t=s(e);t.length<4;)t.push(t[0]);return t}function c(e){return e.map(l)}return function e(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case"Point":n=a(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(a);break;case"LineString":n=s(t.arcs);break;case"MultiLineString":n=t.arcs.map(s);break;case"Polygon":n=c(t.arcs);break;case"MultiPolygon":n=t.arcs.map(c);break;default:return null}return{type:r,coordinates:n}}(t)}function a(e,t){var n={},r={},o={},i=[],a=-1;function s(e,t){for(var r in e){var o=e[r];delete t[o.start],delete o.start,delete o.end,o.forEach((function(e){n[e<0?~e:e]=1})),i.push(o)}}return t.forEach((function(n,r){var o,i=e.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++a],t[a]=n,t[r]=o)})),t.forEach((function(t){var n,i,a=function(t){var n,r=e.arcs[t<0?~t:t],o=r[0];return e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1],t<0?[n,o]:[o,n]}(t),s=a[0],l=a[1];if(n=o[s])if(delete o[n.end],n.push(t),n.end=l,i=r[l]){delete r[i.start];var c=i===n?n:n.concat(i);r[c.start=n.start]=o[c.end=i.end]=c}else r[n.start]=o[n.end]=n;else if(n=r[l])if(delete r[n.start],n.unshift(t),n.start=s,i=o[s]){delete o[i.end];var u=i===n?n:i.concat(n);r[u.start=i.start]=o[u.end=n.end]=u}else r[n.start]=o[n.end]=n;else r[(n=[t]).start=s]=o[n.end=l]=n})),s(o,r),s(r,o),t.forEach((function(e){n[e<0?~e:e]||i.push([e])})),i}function s(e,t,n){var r,o,i;if(arguments.length>1)r=l(0,t,n);else for(o=0,r=new Array(i=e.arcs.length);o<i;++o)r[o]=o;return{type:"MultiLineString",arcs:a(e,r)}}function l(e,t,n){var r,o=[],i=[];function a(e){var t=e<0?~e:e;(i[t]||(i[t]=[])).push({i:e,g:r})}function s(e){e.forEach(a)}function l(e){e.forEach(s)}return function e(t){switch(r=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":s(t.arcs);break;case"MultiLineString":case"Polygon":l(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(l)}(t.arcs)}}(t),i.forEach(null==n?function(e){o.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&o.push(e[0].i)}),o}function c(e,t){var n={},r=[],o=[];function s(e){e.forEach((function(t){t.forEach((function(t){(n[t=t<0?~t:t]||(n[t]=[])).push(e)}))})),r.push(e)}function l(t){return function(e){for(var t,n=-1,r=e.length,o=e[r-1],i=0;++n<r;)t=o,o=e[n],i+=t[0]*o[1]-t[1]*o[0];return Math.abs(i)}(i(e,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach((function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":s(t.arcs);break;case"MultiPolygon":t.arcs.forEach(s)}})),r.forEach((function(e){if(!e._){var t=[],r=[e];for(e._=1,o.push(t);e=r.pop();)t.push(e),e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].forEach((function(e){e._||(e._=1,r.push(e))}))}))}))}})),r.forEach((function(e){delete e._})),{type:"MultiPolygon",arcs:o.map((function(t){var r,o=[];if(t.forEach((function(e){e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].length<2&&o.push(e)}))}))})),(r=(o=a(e,o)).length)>1)for(var i,s,c=1,u=l(o[0]);c<r;++c)(i=l(o[c]))>u&&(s=o[0],o[0]=o[c],o[c]=s,u=i);return o})).filter((function(e){return e.length>0}))}}function u(e,t){for(var n=0,r=e.length;n<r;){var o=n+r>>>1;e[o]<t?n=o+1:r=o}return n}function d(e){if(null==e)return t;var n,r,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,t){t||(n=r=0);var l=2,c=e.length,u=new Array(c),d=Math.round((e[0]-a)/o),p=Math.round((e[1]-s)/i);for(u[0]=d-n,n=d,u[1]=p-r,r=p;l<c;)u[l]=e[l],++l;return u}}e.bbox=r,e.feature=function(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return o(e,t)}))}:o(e,t)},e.merge=function(e){return i(e,c.apply(this,arguments))},e.mergeArcs=c,e.mesh=function(e){return i(e,s.apply(this,arguments))},e.meshArcs=s,e.neighbors=function(e){var t={},n=e.map((function(){return[]}));function r(e,n){e.forEach((function(e){e<0&&(e=~e);var r=t[e];r?r.push(n):t[e]=[n]}))}function o(e,t){e.forEach((function(e){r(e,t)}))}var i={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(e,t){e.forEach((function(e){o(e,t)}))}};for(var a in e.forEach((function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach((function(t){e(t,n)})):t.type in i&&i[t.type](t.arcs,n)})),t)for(var s=t[a],l=s.length,c=0;c<l;++c)for(var d=c+1;d<l;++d){var p,f=s[c],h=s[d];(p=n[f])[a=u(p,h)]!==h&&p.splice(a,0,h),(p=n[h])[a=u(p,f)]!==f&&p.splice(a,0,f)}return n},e.quantize=function(e,t){if(e.transform)throw new Error("already quantized");if(t&&t.scale)l=e.bbox;else{if(!((n=Math.floor(t))>=2))throw new Error("n must be â¥2");var n,o=(l=e.bbox||r(e))[0],i=l[1],a=l[2],s=l[3];t={scale:[a-o?(a-o)/(n-1):1,s-i?(s-i)/(n-1):1],translate:[o,i]}}var l,c,u=d(t),p=e.objects,f={};function h(e){return u(e)}function m(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(m)};break;case"Point":t={type:"Point",coordinates:h(e.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:e.coordinates.map(h)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}for(c in p)f[c]=m(p[c]);return{type:"Topology",bbox:l,transform:t,objects:f,arcs:e.arcs.map((function(e){var t,n=0,r=1,o=e.length,i=new Array(o);for(i[0]=u(e[0],0);++n<o;)((t=u(e[n],n))[0]||t[1])&&(i[r++]=t);return 1===r&&(i[r++]=[0,0]),i.length=r,i}))}},e.transform=n,e.untransform=d,Object.defineProperty(e,"__esModule",{value:!0})}(t)},1315:
/*!*********************************************!*\
  !*** ../node_modules/d3-geo/dist/d3-geo.js ***!
  \*********************************************/
/*! no static exports found */
/*! exports used: geoPath, geoProjection */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e,t){"use strict";function n(){return new r}function r(){this.reset()}r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(e){i(o,e,this.t),i(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new r;function i(e,t,n){var r=e.s=t+n,o=r-t,i=r-o;e.t=t-i+(n-o)}var a=1e-6,s=Math.PI,l=s/2,c=s/4,u=2*s,d=180/s,p=s/180,f=Math.abs,h=Math.atan,m=Math.atan2,g=Math.cos,b=Math.ceil,v=Math.exp,y=Math.log,O=Math.pow,x=Math.sin,j=Math.sign||function(e){return e>0?1:e<0?-1:0},E=Math.sqrt,S=Math.tan;function C(e){return e>1?0:e<-1?s:Math.acos(e)}function _(e){return e>1?l:e<-1?-l:Math.asin(e)}function A(e){return(e=x(e/2))*e}function N(){}function T(e,t){e&&P.hasOwnProperty(e.type)&&P[e.type](e,t)}var w={Feature:function(e,t){T(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)T(n[r].geometry,t)}},P={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){R(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)R(n[r],t,0)},Polygon:function(e,t){I(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)I(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)T(n[r],t)}};function R(e,t,n){var r,o=-1,i=e.length-n;for(t.lineStart();++o<i;)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function I(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)R(e[n],t,1);t.polygonEnd()}function D(e,t){e&&w.hasOwnProperty(e.type)?w[e.type](e,t):T(e,t)}var k,M,L,U,F,B=n(),z=n(),V={point:N,lineStart:N,lineEnd:N,polygonStart:function(){B.reset(),V.lineStart=q,V.lineEnd=G},polygonEnd:function(){var e=+B;z.add(e<0?u+e:e),this.lineStart=this.lineEnd=this.point=N},sphere:function(){z.add(u)}};function q(){V.point=H}function G(){W(k,M)}function H(e,t){V.point=W,k=e,M=t,L=e*=p,U=g(t=(t*=p)/2+c),F=x(t)}function W(e,t){var n=(e*=p)-L,r=n>=0?1:-1,o=r*n,i=g(t=(t*=p)/2+c),a=x(t),s=F*a,l=U*i+s*g(o),u=s*r*x(o);B.add(m(u,l)),L=e,U=i,F=a}function Y(e){return[m(e[1],e[0]),_(e[2])]}function K(e){var t=e[0],n=e[1],r=g(n);return[r*g(t),r*x(t),x(n)]}function Z(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function $(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function X(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function J(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Q(e){var t=E(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ee,te,ne,re,oe,ie,ae,se,le,ce,ue,de,pe,fe,he,me,ge,be,ve,ye,Oe,xe,je,Ee,Se,Ce,_e=n(),Ae={point:Ne,lineStart:we,lineEnd:Pe,polygonStart:function(){Ae.point=Re,Ae.lineStart=Ie,Ae.lineEnd=De,_e.reset(),V.polygonStart()},polygonEnd:function(){V.polygonEnd(),Ae.point=Ne,Ae.lineStart=we,Ae.lineEnd=Pe,B<0?(ee=-(ne=180),te=-(re=90)):_e>a?re=90:_e<-a&&(te=-90),ce[0]=ee,ce[1]=ne},sphere:function(){ee=-(ne=180),te=-(re=90)}};function Ne(e,t){le.push(ce=[ee=e,ne=e]),t<te&&(te=t),t>re&&(re=t)}function Te(e,t){var n=K([e*p,t*p]);if(se){var r=$(se,n),o=$([r[1],-r[0],0],r);Q(o),o=Y(o);var i,a=e-oe,s=a>0?1:-1,l=o[0]*d*s,c=f(a)>180;c^(s*oe<l&&l<s*e)?(i=o[1]*d)>re&&(re=i):c^(s*oe<(l=(l+360)%360-180)&&l<s*e)?(i=-o[1]*d)<te&&(te=i):(t<te&&(te=t),t>re&&(re=t)),c?e<oe?ke(ee,e)>ke(ee,ne)&&(ne=e):ke(e,ne)>ke(ee,ne)&&(ee=e):ne>=ee?(e<ee&&(ee=e),e>ne&&(ne=e)):e>oe?ke(ee,e)>ke(ee,ne)&&(ne=e):ke(e,ne)>ke(ee,ne)&&(ee=e)}else le.push(ce=[ee=e,ne=e]);t<te&&(te=t),t>re&&(re=t),se=n,oe=e}function we(){Ae.point=Te}function Pe(){ce[0]=ee,ce[1]=ne,Ae.point=Ne,se=null}function Re(e,t){if(se){var n=e-oe;_e.add(f(n)>180?n+(n>0?360:-360):n)}else ie=e,ae=t;V.point(e,t),Te(e,t)}function Ie(){V.lineStart()}function De(){Re(ie,ae),V.lineEnd(),f(_e)>a&&(ee=-(ne=180)),ce[0]=ee,ce[1]=ne,se=null}function ke(e,t){return(t-=e)<0?t+360:t}function Me(e,t){return e[0]-t[0]}function Le(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Ue={sphere:N,point:Fe,lineStart:ze,lineEnd:Ge,polygonStart:function(){Ue.lineStart=He,Ue.lineEnd=We},polygonEnd:function(){Ue.lineStart=ze,Ue.lineEnd=Ge}};function Fe(e,t){e*=p;var n=g(t*=p);Be(n*g(e),n*x(e),x(t))}function Be(e,t,n){++ue,pe+=(e-pe)/ue,fe+=(t-fe)/ue,he+=(n-he)/ue}function ze(){Ue.point=Ve}function Ve(e,t){e*=p;var n=g(t*=p);Ee=n*g(e),Se=n*x(e),Ce=x(t),Ue.point=qe,Be(Ee,Se,Ce)}function qe(e,t){e*=p;var n=g(t*=p),r=n*g(e),o=n*x(e),i=x(t),a=m(E((a=Se*i-Ce*o)*a+(a=Ce*r-Ee*i)*a+(a=Ee*o-Se*r)*a),Ee*r+Se*o+Ce*i);de+=a,me+=a*(Ee+(Ee=r)),ge+=a*(Se+(Se=o)),be+=a*(Ce+(Ce=i)),Be(Ee,Se,Ce)}function Ge(){Ue.point=Fe}function He(){Ue.point=Ye}function We(){Ke(xe,je),Ue.point=Fe}function Ye(e,t){xe=e,je=t,e*=p,t*=p,Ue.point=Ke;var n=g(t);Ee=n*g(e),Se=n*x(e),Ce=x(t),Be(Ee,Se,Ce)}function Ke(e,t){e*=p;var n=g(t*=p),r=n*g(e),o=n*x(e),i=x(t),a=Se*i-Ce*o,s=Ce*r-Ee*i,l=Ee*o-Se*r,c=E(a*a+s*s+l*l),u=_(c),d=c&&-u/c;ve+=d*a,ye+=d*s,Oe+=d*l,de+=u,me+=u*(Ee+(Ee=r)),ge+=u*(Se+(Se=o)),be+=u*(Ce+(Ce=i)),Be(Ee,Se,Ce)}function Ze(e){return function(){return e}}function $e(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Xe(e,t){return[f(e)>s?e+Math.round(-e/u)*u:e,t]}function Je(e,t,n){return(e%=u)?t||n?$e(et(e),tt(t,n)):et(e):t||n?tt(t,n):Xe}function Qe(e){return function(t,n){return[(t+=e)>s?t-u:t<-s?t+u:t,n]}}function et(e){var t=Qe(e);return t.invert=Qe(-e),t}function tt(e,t){var n=g(e),r=x(e),o=g(t),i=x(t);function a(e,t){var a=g(t),s=g(e)*a,l=x(e)*a,c=x(t),u=c*n+s*r;return[m(l*o-u*i,s*n-c*r),_(u*o+l*i)]}return a.invert=function(e,t){var a=g(t),s=g(e)*a,l=x(e)*a,c=x(t),u=c*o-l*i;return[m(l*o+c*i,s*n+u*r),_(u*n-s*r)]},a}function nt(e){function t(t){return(t=e(t[0]*p,t[1]*p))[0]*=d,t[1]*=d,t}return e=Je(e[0]*p,e[1]*p,e.length>2?e[2]*p:0),t.invert=function(t){return(t=e.invert(t[0]*p,t[1]*p))[0]*=d,t[1]*=d,t},t}function rt(e,t,n,r,o,i){if(n){var a=g(t),s=x(t),l=r*n;null==o?(o=t+r*u,i=t-l/2):(o=ot(a,o),i=ot(a,i),(r>0?o<i:o>i)&&(o+=r*u));for(var c,d=o;r>0?d>i:d<i;d-=l)c=Y([a,-s*g(d),-s*x(d)]),e.point(c[0],c[1])}}function ot(e,t){(t=K(t))[0]-=e,Q(t);var n=C(-t[1]);return((-t[2]<0?-n:n)+u-a)%u}function it(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:N,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function at(e,t){return f(e[0]-t[0])<a&&f(e[1]-t[1])<a}function st(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function lt(e,t,n,r,o){var i,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(at(r,a)){for(o.lineStart(),i=0;i<t;++i)o.point((r=e[i])[0],r[1]);o.lineEnd()}else s.push(n=new st(r,e,null,!0)),l.push(n.o=new st(r,null,n,!1)),s.push(n=new st(a,e,null,!1)),l.push(n.o=new st(a,null,n,!0))}})),s.length){for(l.sort(t),ct(s),ct(l),i=0,a=l.length;i<a;++i)l[i].e=n=!n;for(var c,u,d=s[0];;){for(var p=d,f=!0;p.v;)if((p=p.n)===d)return;c=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(i=0,a=c.length;i<a;++i)o.point((u=c[i])[0],u[1]);else r(p.x,p.n.x,1,o);p=p.n}else{if(f)for(c=p.p.z,i=c.length-1;i>=0;--i)o.point((u=c[i])[0],u[1]);else r(p.x,p.p.x,-1,o);p=p.p}c=(p=p.o).z,f=!f}while(!p.v);o.lineEnd()}}}function ct(e){if(t=e.length){for(var t,n,r=0,o=e[0];++r<t;)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}Xe.invert=Xe;var ut=n();function dt(e){return f(e[0])<=s?e[0]:j(e[0])*((f(e[0])+s)%u-s)}function pt(e,t){var n=dt(t),r=t[1],o=x(r),i=[x(n),-g(n),0],d=0,p=0;ut.reset(),1===o?r=l+a:-1===o&&(r=-l-a);for(var f=0,h=e.length;f<h;++f)if(v=(b=e[f]).length)for(var b,v,y=b[v-1],O=dt(y),j=y[1]/2+c,E=x(j),S=g(j),C=0;C<v;++C,O=N,E=w,S=P,y=A){var A=b[C],N=dt(A),T=A[1]/2+c,w=x(T),P=g(T),R=N-O,I=R>=0?1:-1,D=I*R,k=D>s,M=E*w;if(ut.add(m(M*I*x(D),S*P+M*g(D))),d+=k?R+I*u:R,k^O>=n^N>=n){var L=$(K(y),K(A));Q(L);var U=$(i,L);Q(U);var F=(k^R>=0?-1:1)*_(U[2]);(r>F||r===F&&(L[0]||L[1]))&&(p+=k^R>=0?1:-1)}}return(d<-a||d<a&&ut<-a)^1&p}function ft(e,n,r,o){return function(i){var a,s,l,c=n(i),u=it(),d=n(u),p=!1,f={point:h,lineStart:g,lineEnd:b,polygonStart:function(){f.point=v,f.lineStart=y,f.lineEnd=O,s=[],a=[]},polygonEnd:function(){f.point=h,f.lineStart=g,f.lineEnd=b,s=t.merge(s);var e=pt(a,o);s.length?(p||(i.polygonStart(),p=!0),lt(s,mt,e,r,i)):e&&(p||(i.polygonStart(),p=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),p&&(i.polygonEnd(),p=!1),s=a=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(t,n){e(t,n)&&i.point(t,n)}function m(e,t){c.point(e,t)}function g(){f.point=m,c.lineStart()}function b(){f.point=h,c.lineEnd()}function v(e,t){l.push([e,t]),d.point(e,t)}function y(){d.lineStart(),l=[]}function O(){v(l[0][0],l[0][1]),d.lineEnd();var e,t,n,r,o=d.clean(),c=u.result(),f=c.length;if(l.pop(),a.push(l),l=null,f)if(1&o){if((t=(n=c[0]).length-1)>0){for(p||(i.polygonStart(),p=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else f>1&&2&o&&c.push(c.pop().concat(c.shift())),s.push(c.filter(ht))}return f}}function ht(e){return e.length>1}function mt(e,t){return((e=e.x)[0]<0?e[1]-l-a:l-e[1])-((t=t.x)[0]<0?t[1]-l-a:l-t[1])}var gt=ft((function(){return!0}),(function(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,c){var u=i>0?s:-s,d=f(i-n);f(d-s)<a?(e.point(n,r=(r+c)/2>0?l:-l),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(u,r),e.point(i,r),t=0):o!==u&&d>=s&&(f(n-o)<a&&(n-=o*a),f(i-u)<a&&(i-=u*a),r=function(e,t,n,r){var o,i,s=x(e-n);return f(s)>a?h((x(t)*(i=g(r))*x(n)-x(r)*(o=g(t))*x(e))/(o*i*s)):(t+r)/2}(n,r,i,c),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(u,r),t=0),e.point(n=i,r=c),o=u},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var o;if(null==e)o=n*l,r.point(-s,o),r.point(0,o),r.point(s,o),r.point(s,0),r.point(s,-o),r.point(0,-o),r.point(-s,-o),r.point(-s,0),r.point(-s,o);else if(f(e[0]-t[0])>a){var i=e[0]<t[0]?s:-s;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])}),[-s,-l]);function bt(e){var t=g(e),n=6*p,r=t>0,o=f(t)>a;function i(e,n){return g(e)*g(n)>t}function l(e,n,r){var o=[1,0,0],i=$(K(e),K(n)),l=Z(i,i),c=i[0],u=l-c*c;if(!u)return!r&&e;var d=t*l/u,p=-t*c/u,h=$(o,i),m=J(o,d);X(m,J(i,p));var g=h,b=Z(m,g),v=Z(g,g),y=b*b-v*(Z(m,m)-1);if(!(y<0)){var O=E(y),x=J(g,(-b-O)/v);if(X(x,m),x=Y(x),!r)return x;var j,S=e[0],C=n[0],_=e[1],A=n[1];C<S&&(j=S,S=C,C=j);var N=C-S,T=f(N-s)<a;if(!T&&A<_&&(j=_,_=A,A=j),T||N<a?T?_+A>0^x[1]<(f(x[0]-S)<a?_:A):_<=x[1]&&x[1]<=A:N>s^(S<=x[0]&&x[0]<=C)){var w=J(g,(-b+O)/v);return X(w,m),[x,Y(w)]}}}function c(t,n){var o=r?e:s-e,i=0;return t<-o?i|=1:t>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return ft(i,(function(e){var t,n,u,d,p;return{lineStart:function(){d=u=!1,p=1},point:function(f,h){var m,g=[f,h],b=i(f,h),v=r?b?0:c(f,h):b?c(f+(f<0?s:-s),h):0;if(!t&&(d=u=b)&&e.lineStart(),b!==u&&(!(m=l(t,g))||at(t,m)||at(g,m))&&(g[0]+=a,g[1]+=a,b=i(g[0],g[1])),b!==u)p=0,b?(e.lineStart(),m=l(g,t),e.point(m[0],m[1])):(m=l(t,g),e.point(m[0],m[1]),e.lineEnd()),t=m;else if(o&&t&&r^b){var y;v&n||!(y=l(g,t,!0))||(p=0,r?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!b||t&&at(t,g)||e.point(g[0],g[1]),t=g,u=b,n=v},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return p|(d&&u)<<1}}}),(function(t,r,o,i){rt(i,e,n,o,t,r)}),r?[0,-e]:[-s,e-s])}function vt(e,n,r,o){function i(t,i){return e<=t&&t<=r&&n<=i&&i<=o}function s(t,i,a,s){var c=0,d=0;if(null==t||(c=l(t,a))!==(d=l(i,a))||u(t,i)<0^a>0)do{s.point(0===c||3===c?e:r,c>1?o:n)}while((c=(c+a+4)%4)!==d);else s.point(i[0],i[1])}function l(t,o){return f(t[0]-e)<a?o>0?0:3:f(t[0]-r)<a?o>0?2:1:f(t[1]-n)<a?o>0?1:0:o>0?3:2}function c(e,t){return u(e.x,t.x)}function u(e,t){var n=l(e,1),r=l(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var l,u,d,p,f,h,m,g,b,v,y,O=a,x=it(),j={point:E,lineStart:function(){j.point=S,u&&u.push(d=[]),v=!0,b=!1,m=g=NaN},lineEnd:function(){l&&(S(p,f),h&&b&&x.rejoin(),l.push(x.result())),j.point=E,b&&O.lineEnd()},polygonStart:function(){O=x,l=[],u=[],y=!0},polygonEnd:function(){var n=function(){for(var t=0,n=0,r=u.length;n<r;++n)for(var i,a,s=u[n],l=1,c=s.length,d=s[0],p=d[0],f=d[1];l<c;++l)i=p,a=f,d=s[l],p=d[0],f=d[1],a<=o?f>o&&(p-i)*(o-a)>(f-a)*(e-i)&&++t:f<=o&&(p-i)*(o-a)<(f-a)*(e-i)&&--t;return t}(),r=y&&n,i=(l=t.merge(l)).length;(r||i)&&(a.polygonStart(),r&&(a.lineStart(),s(null,null,1,a),a.lineEnd()),i&&lt(l,c,n,s,a),a.polygonEnd()),O=a,l=u=d=null}};function E(e,t){i(e,t)&&O.point(e,t)}function S(t,a){var s=i(t,a);if(u&&d.push([t,a]),v)p=t,f=a,h=s,v=!1,s&&(O.lineStart(),O.point(t,a));else if(s&&b)O.point(t,a);else{var l=[m=Math.max(-1e9,Math.min(1e9,m)),g=Math.max(-1e9,Math.min(1e9,g))],c=[t=Math.max(-1e9,Math.min(1e9,t)),a=Math.max(-1e9,Math.min(1e9,a))];!function(e,t,n,r,o,i){var a,s=e[0],l=e[1],c=0,u=1,d=t[0]-s,p=t[1]-l;if(a=n-s,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>c&&(c=a)}if(a=o-s,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<u&&(u=a)}if(a=r-l,p||!(a>0)){if(a/=p,p<0){if(a<c)return;a<u&&(u=a)}else if(p>0){if(a>u)return;a>c&&(c=a)}if(a=i-l,p||!(a<0)){if(a/=p,p<0){if(a>u)return;a>c&&(c=a)}else if(p>0){if(a<c)return;a<u&&(u=a)}return c>0&&(e[0]=s+c*d,e[1]=l+c*p),u<1&&(t[0]=s+u*d,t[1]=l+u*p),!0}}}}}(l,c,e,n,r,o)?s&&(O.lineStart(),O.point(t,a),y=!1):(b||(O.lineStart(),O.point(l[0],l[1])),O.point(c[0],c[1]),s||O.lineEnd(),y=!1)}m=t,g=a,b=s}return j}}var yt,Ot,xt,jt=n(),Et={sphere:N,point:N,lineStart:function(){Et.point=Ct,Et.lineEnd=St},lineEnd:N,polygonStart:N,polygonEnd:N};function St(){Et.point=Et.lineEnd=N}function Ct(e,t){yt=e*=p,Ot=x(t*=p),xt=g(t),Et.point=_t}function _t(e,t){e*=p;var n=x(t*=p),r=g(t),o=f(e-yt),i=g(o),a=r*x(o),s=xt*n-Ot*r*i,l=Ot*n+xt*r*i;jt.add(m(E(a*a+s*s),l)),yt=e,Ot=n,xt=r}function At(e){return jt.reset(),D(e,Et),+jt}var Nt=[null,null],Tt={type:"LineString",coordinates:Nt};function wt(e,t){return Nt[0]=e,Nt[1]=t,At(Tt)}var Pt={Feature:function(e,t){return It(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,o=n.length;++r<o;)if(It(n[r].geometry,t))return!0;return!1}},Rt={Sphere:function(){return!0},Point:function(e,t){return Dt(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(Dt(n[r],t))return!0;return!1},LineString:function(e,t){return kt(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(kt(n[r],t))return!0;return!1},Polygon:function(e,t){return Mt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,o=n.length;++r<o;)if(Mt(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,o=n.length;++r<o;)if(It(n[r],t))return!0;return!1}};function It(e,t){return!(!e||!Rt.hasOwnProperty(e.type))&&Rt[e.type](e,t)}function Dt(e,t){return 0===wt(e,t)}function kt(e,t){for(var n,r,o,i=0,a=e.length;i<a;i++){if(0===(r=wt(e[i],t)))return!0;if(i>0&&(o=wt(e[i],e[i-1]))>0&&n<=o&&r<=o&&(n+r-o)*(1-Math.pow((n-r)/o,2))<1e-12*o)return!0;n=r}return!1}function Mt(e,t){return!!pt(e.map(Lt),Ut(t))}function Lt(e){return(e=e.map(Ut)).pop(),e}function Ut(e){return[e[0]*p,e[1]*p]}function Ft(e,n,r){var o=t.range(e,n-a,r).concat(n);return function(e){return o.map((function(t){return[e,t]}))}}function Bt(e,n,r){var o=t.range(e,n-a,r).concat(n);return function(e){return o.map((function(t){return[t,e]}))}}function zt(){var e,n,r,o,i,s,l,c,u,d,p,h,m=10,g=m,v=90,y=360,O=2.5;function x(){return{type:"MultiLineString",coordinates:j()}}function j(){return t.range(b(o/v)*v,r,v).map(p).concat(t.range(b(c/y)*y,l,y).map(h)).concat(t.range(b(n/m)*m,e,m).filter((function(e){return f(e%v)>a})).map(u)).concat(t.range(b(s/g)*g,i,g).filter((function(e){return f(e%y)>a})).map(d))}return x.lines=function(){return j().map((function(e){return{type:"LineString",coordinates:e}}))},x.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(h(l).slice(1),p(r).reverse().slice(1),h(c).reverse().slice(1))]}},x.extent=function(e){return arguments.length?x.extentMajor(e).extentMinor(e):x.extentMinor()},x.extentMajor=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],c=+e[0][1],l=+e[1][1],o>r&&(e=o,o=r,r=e),c>l&&(e=c,c=l,l=e),x.precision(O)):[[o,c],[r,l]]},x.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],s=+t[0][1],i=+t[1][1],n>e&&(t=n,n=e,e=t),s>i&&(t=s,s=i,i=t),x.precision(O)):[[n,s],[e,i]]},x.step=function(e){return arguments.length?x.stepMajor(e).stepMinor(e):x.stepMinor()},x.stepMajor=function(e){return arguments.length?(v=+e[0],y=+e[1],x):[v,y]},x.stepMinor=function(e){return arguments.length?(m=+e[0],g=+e[1],x):[m,g]},x.precision=function(t){return arguments.length?(O=+t,u=Ft(s,i,90),d=Bt(n,e,O),p=Ft(c,l,90),h=Bt(o,r,O),x):O},x.extentMajor([[-180,-90+a],[180,90-a]]).extentMinor([[-180,-80-a],[180,80+a]])}function Vt(e){return e}var qt,Gt,Ht,Wt,Yt=n(),Kt=n(),Zt={point:N,lineStart:N,lineEnd:N,polygonStart:function(){Zt.lineStart=$t,Zt.lineEnd=Qt},polygonEnd:function(){Zt.lineStart=Zt.lineEnd=Zt.point=N,Yt.add(f(Kt)),Kt.reset()},result:function(){var e=Yt/2;return Yt.reset(),e}};function $t(){Zt.point=Xt}function Xt(e,t){Zt.point=Jt,qt=Ht=e,Gt=Wt=t}function Jt(e,t){Kt.add(Wt*e-Ht*t),Ht=e,Wt=t}function Qt(){Jt(qt,Gt)}var en,tn,nn,rn,on=1/0,an=on,sn=-on,ln=sn,cn={point:function(e,t){e<on&&(on=e),e>sn&&(sn=e),t<an&&(an=t),t>ln&&(ln=t)},lineStart:N,lineEnd:N,polygonStart:N,polygonEnd:N,result:function(){var e=[[on,an],[sn,ln]];return sn=ln=-(an=on=1/0),e}},un=0,dn=0,pn=0,fn=0,hn=0,mn=0,gn=0,bn=0,vn=0,yn={point:On,lineStart:xn,lineEnd:Sn,polygonStart:function(){yn.lineStart=Cn,yn.lineEnd=_n},polygonEnd:function(){yn.point=On,yn.lineStart=xn,yn.lineEnd=Sn},result:function(){var e=vn?[gn/vn,bn/vn]:mn?[fn/mn,hn/mn]:pn?[un/pn,dn/pn]:[NaN,NaN];return un=dn=pn=fn=hn=mn=gn=bn=vn=0,e}};function On(e,t){un+=e,dn+=t,++pn}function xn(){yn.point=jn}function jn(e,t){yn.point=En,On(nn=e,rn=t)}function En(e,t){var n=e-nn,r=t-rn,o=E(n*n+r*r);fn+=o*(nn+e)/2,hn+=o*(rn+t)/2,mn+=o,On(nn=e,rn=t)}function Sn(){yn.point=On}function Cn(){yn.point=An}function _n(){Nn(en,tn)}function An(e,t){yn.point=Nn,On(en=nn=e,tn=rn=t)}function Nn(e,t){var n=e-nn,r=t-rn,o=E(n*n+r*r);fn+=o*(nn+e)/2,hn+=o*(rn+t)/2,mn+=o,gn+=(o=rn*e-nn*t)*(nn+e),bn+=o*(rn+t),vn+=3*o,On(nn=e,rn=t)}function Tn(e){this._context=e}Tn.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,u)}},result:N};var wn,Pn,Rn,In,Dn,kn=n(),Mn={point:N,lineStart:function(){Mn.point=Ln},lineEnd:function(){wn&&Un(Pn,Rn),Mn.point=N},polygonStart:function(){wn=!0},polygonEnd:function(){wn=null},result:function(){var e=+kn;return kn.reset(),e}};function Ln(e,t){Mn.point=Un,Pn=In=e,Rn=Dn=t}function Un(e,t){In-=e,Dn-=t,kn.add(E(In*In+Dn*Dn)),In=e,Dn=t}function Fn(){this._string=[]}function Bn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function zn(e){return function(t){var n=new Vn;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Vn(){}function qn(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),D(n,e.stream(cn)),t(cn.result()),null!=r&&e.clipExtent(r),e}function Gn(e,t,n){return qn(e,(function(n){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=Math.min(r/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+t[0][0]+(r-i*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(o-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,s])}),n)}function Hn(e,t,n){return Gn(e,[[0,0],t],n)}function Wn(e,t,n){return qn(e,(function(n){var r=+t,o=r/(n[1][0]-n[0][0]),i=(r-o*(n[1][0]+n[0][0]))/2,a=-o*n[0][1];e.scale(150*o).translate([i,a])}),n)}function Yn(e,t,n){return qn(e,(function(n){var r=+t,o=r/(n[1][1]-n[0][1]),i=-o*n[0][0],a=(r-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([i,a])}),n)}Fn.prototype={_radius:4.5,_circle:Bn(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Bn(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},Vn.prototype={constructor:Vn,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Kn=g(30*p);function Zn(e,t){return+t?function(e,t){function n(r,o,i,s,l,c,u,d,p,h,g,b,v,y){var O=u-r,x=d-o,j=O*O+x*x;if(j>4*t&&v--){var S=s+h,C=l+g,A=c+b,N=E(S*S+C*C+A*A),T=_(A/=N),w=f(f(A)-1)<a||f(i-p)<a?(i+p)/2:m(C,S),P=e(w,T),R=P[0],I=P[1],D=R-r,k=I-o,M=x*D-O*k;(M*M/j>t||f((O*D+x*k)/j-.5)>.3||s*h+l*g+c*b<Kn)&&(n(r,o,i,s,l,c,R,I,w,S/=N,C/=N,A,v,y),y.point(R,I),n(R,I,w,S,C,A,u,d,p,h,g,b,v,y))}}return function(t){var r,o,i,a,s,l,c,u,d,p,f,h,m={point:g,lineStart:b,lineEnd:y,polygonStart:function(){t.polygonStart(),m.lineStart=O},polygonEnd:function(){t.polygonEnd(),m.lineStart=b}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function b(){u=NaN,m.point=v,t.lineStart()}function v(r,o){var i=K([r,o]),a=e(r,o);n(u,d,c,p,f,h,u=a[0],d=a[1],c=r,p=i[0],f=i[1],h=i[2],16,t),t.point(u,d)}function y(){m.point=g,t.lineEnd()}function O(){b(),m.point=x,m.lineEnd=j}function x(e,t){v(r=e,t),o=u,i=d,a=p,s=f,l=h,m.point=v}function j(){n(u,d,c,p,f,h,o,i,r,a,s,l,16,t),m.lineEnd=y,y()}return m}}(e,t):function(e){return zn({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var $n=zn({point:function(e,t){this.stream.point(e*p,t*p)}});function Xn(e,t,n){function r(r,o){return[t+e*r,n-e*o]}return r.invert=function(r,o){return[(r-t)/e,(n-o)/e]},r}function Jn(e,t,n,r){var o=g(r),i=x(r),a=o*e,s=i*e,l=o/e,c=i/e,u=(i*n-o*t)/e,d=(i*t+o*n)/e;function p(e,r){return[a*e-s*r+t,n-s*e-a*r]}return p.invert=function(e,t){return[l*e-c*t+u,d-c*e-l*t]},p}function Qn(e){return er((function(){return e}))()}function er(e){var t,n,r,o,i,a,s,l,c,u,f=150,h=480,m=250,g=0,b=0,v=0,y=0,O=0,x=0,j=null,S=gt,C=null,_=Vt,A=.5;function N(e){return l(e[0]*p,e[1]*p)}function T(e){return(e=l.invert(e[0],e[1]))&&[e[0]*d,e[1]*d]}function w(){var e=Jn(f,0,0,x).apply(null,t(g,b)),r=(x?Jn:Xn)(f,h-e[0],m-e[1],x);return n=Je(v,y,O),s=$e(t,r),l=$e(n,s),a=Zn(s,A),P()}function P(){return c=u=null,N}return N.stream=function(e){return c&&u===e?c:c=$n(function(e){return zn({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(S(a(_(u=e)))))},N.preclip=function(e){return arguments.length?(S=e,j=void 0,P()):S},N.postclip=function(e){return arguments.length?(_=e,C=r=o=i=null,P()):_},N.clipAngle=function(e){return arguments.length?(S=+e?bt(j=e*p):(j=null,gt),P()):j*d},N.clipExtent=function(e){return arguments.length?(_=null==e?(C=r=o=i=null,Vt):vt(C=+e[0][0],r=+e[0][1],o=+e[1][0],i=+e[1][1]),P()):null==C?null:[[C,r],[o,i]]},N.scale=function(e){return arguments.length?(f=+e,w()):f},N.translate=function(e){return arguments.length?(h=+e[0],m=+e[1],w()):[h,m]},N.center=function(e){return arguments.length?(g=e[0]%360*p,b=e[1]%360*p,w()):[g*d,b*d]},N.rotate=function(e){return arguments.length?(v=e[0]%360*p,y=e[1]%360*p,O=e.length>2?e[2]%360*p:0,w()):[v*d,y*d,O*d]},N.angle=function(e){return arguments.length?(x=e%360*p,w()):x*d},N.precision=function(e){return arguments.length?(a=Zn(s,A=e*e),P()):E(A)},N.fitExtent=function(e,t){return Gn(N,e,t)},N.fitSize=function(e,t){return Hn(N,e,t)},N.fitWidth=function(e,t){return Wn(N,e,t)},N.fitHeight=function(e,t){return Yn(N,e,t)},function(){return t=e.apply(this,arguments),N.invert=t.invert&&T,w()}}function tr(e){var t=0,n=s/3,r=er(e),o=r(t,n);return o.parallels=function(e){return arguments.length?r(t=e[0]*p,n=e[1]*p):[t*d,n*d]},o}function nr(e,t){var n=x(e),r=(n+x(t))/2;if(f(r)<a)return function(e){var t=g(e);function n(e,n){return[e*t,x(n)/t]}return n.invert=function(e,n){return[e/t,_(n*t)]},n}(e);var o=1+n*(2*r-n),i=E(o)/r;function s(e,t){var n=E(o-2*r*x(t))/r;return[n*x(e*=r),i-n*g(e)]}return s.invert=function(e,t){var n=i-t;return[m(e,f(n))/r*j(n),_((o-(e*e+n*n)*r*r)/(2*r))]},s}function rr(){return tr(nr).scale(155.424).center([0,33.6442])}function or(){return rr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ir(e){return function(t,n){var r=g(t),o=g(n),i=e(r*o);return[i*o*x(t),i*x(n)]}}function ar(e){return function(t,n){var r=E(t*t+n*n),o=e(r),i=x(o),a=g(o);return[m(t*i,r*a),_(r&&n*i/r)]}}var sr=ir((function(e){return E(2/(1+e))}));sr.invert=ar((function(e){return 2*_(e/2)}));var lr=ir((function(e){return(e=C(e))&&e/x(e)}));function cr(e,t){return[e,y(S((l+t)/2))]}function ur(e){var t,n,r,o=Qn(e),i=o.center,a=o.scale,l=o.translate,c=o.clipExtent,u=null;function d(){var i=s*a(),l=o(nt(o.rotate()).invert([0,0]));return c(null==u?[[l[0]-i,l[1]-i],[l[0]+i,l[1]+i]]:e===cr?[[Math.max(l[0]-i,u),t],[Math.min(l[0]+i,n),r]]:[[u,Math.max(l[1]-i,t)],[n,Math.min(l[1]+i,r)]])}return o.scale=function(e){return arguments.length?(a(e),d()):a()},o.translate=function(e){return arguments.length?(l(e),d()):l()},o.center=function(e){return arguments.length?(i(e),d()):i()},o.clipExtent=function(e){return arguments.length?(null==e?u=t=n=r=null:(u=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),d()):null==u?null:[[u,t],[n,r]]},d()}function dr(e){return S((l+e)/2)}function pr(e,t){var n=g(e),r=e===t?x(e):y(n/g(t))/y(dr(t)/dr(e)),o=n*O(dr(e),r)/r;if(!r)return cr;function i(e,t){o>0?t<-l+a&&(t=-l+a):t>l-a&&(t=l-a);var n=o/O(dr(t),r);return[n*x(r*e),o-n*g(r*e)]}return i.invert=function(e,t){var n=o-t,i=j(r)*E(e*e+n*n);return[m(e,f(n))/r*j(n),2*h(O(o/i,1/r))-l]},i}function fr(e,t){return[e,t]}function hr(e,t){var n=g(e),r=e===t?x(e):(n-g(t))/(t-e),o=n/r+e;if(f(r)<a)return fr;function i(e,t){var n=o-t,i=r*e;return[n*x(i),o-n*g(i)]}return i.invert=function(e,t){var n=o-t;return[m(e,f(n))/r*j(n),o-j(r)*E(e*e+n*n)]},i}lr.invert=ar((function(e){return e})),cr.invert=function(e,t){return[e,2*h(v(t))-l]},fr.invert=fr;var mr=1.340264,gr=-.081106,br=893e-6,vr=.003796,yr=E(3)/2;function Or(e,t){var n=_(yr*x(t)),r=n*n,o=r*r*r;return[e*g(n)/(yr*(mr+3*gr*r+o*(7*br+9*vr*r))),n*(mr+gr*r+o*(br+vr*r))]}function xr(e,t){var n=g(t),r=g(e)*n;return[n*x(e)/r,x(t)/r]}function jr(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?Vt:zn({point:function(o,i){this.stream.point(o*e+n,i*t+r)}})}function Er(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Sr(e,t){return[g(t)*x(e),x(t)]}function Cr(e,t){var n=g(t),r=1+g(e)*n;return[n*x(e)/r,x(t)/r]}function _r(e,t){return[y(S((l+t)/2)),-e]}Or.invert=function(e,t){for(var n,r=t,o=r*r,i=o*o*o,a=0;a<12&&(i=(o=(r-=n=(r*(mr+gr*o+i*(br+vr*o))-t)/(mr+3*gr*o+i*(7*br+9*vr*o)))*r)*o*o,!(f(n)<1e-12));++a);return[yr*e*(mr+3*gr*o+i*(7*br+9*vr*o))/g(r),_(x(r)/yr)]},xr.invert=ar(h),Er.invert=function(e,t){var n,r=t,o=25;do{var i=r*r,s=i*i;r-=n=(r*(1.007226+i*(.015085+s*(.028874*i-.044475-.005916*s)))-t)/(1.007226+i*(.045255+s*(.259866*i-.311325-.005916*11*s)))}while(f(n)>a&&--o>0);return[e/(.8707+(i=r*r)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),r]},Sr.invert=ar(_),Cr.invert=ar((function(e){return 2*h(e)})),_r.invert=function(e,t){return[-t,2*h(v(e))-l]},e.geoArea=function(e){return z.reset(),D(e,V),2*z},e.geoBounds=function(e){var t,n,r,o,i,a,s;if(re=ne=-(ee=te=1/0),le=[],D(e,Ae),n=le.length){for(le.sort(Me),t=1,i=[r=le[0]];t<n;++t)Le(r,(o=le[t])[0])||Le(r,o[1])?(ke(r[0],o[1])>ke(r[0],r[1])&&(r[1]=o[1]),ke(o[0],r[1])>ke(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,t=0,r=i[n=i.length-1];t<=n;r=o,++t)o=i[t],(s=ke(r[1],o[0]))>a&&(a=s,ee=o[0],ne=r[1])}return le=ce=null,ee===1/0||te===1/0?[[NaN,NaN],[NaN,NaN]]:[[ee,te],[ne,re]]},e.geoCentroid=function(e){ue=de=pe=fe=he=me=ge=be=ve=ye=Oe=0,D(e,Ue);var t=ve,n=ye,r=Oe,o=t*t+n*n+r*r;return o<1e-12&&(t=me,n=ge,r=be,de<a&&(t=pe,n=fe,r=he),(o=t*t+n*n+r*r)<1e-12)?[NaN,NaN]:[m(n,t)*d,_(r/E(o))*d]},e.geoCircle=function(){var e,t,n=Ze([0,0]),r=Ze(90),o=Ze(6),i={point:function(n,r){e.push(n=t(n,r)),n[0]*=d,n[1]*=d}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*p,l=o.apply(this,arguments)*p;return e=[],t=Je(-a[0]*p,-a[1]*p,0).invert,rt(i,s,l,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"==typeof e?e:Ze([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(r="function"==typeof e?e:Ze(+e),a):r},a.precision=function(e){return arguments.length?(o="function"==typeof e?e:Ze(+e),a):o},a},e.geoClipAntimeridian=gt,e.geoClipCircle=bt,e.geoClipExtent=function(){var e,t,n,r=0,o=0,i=960,a=500;return n={stream:function(n){return e&&t===n?e:e=vt(r,o,i,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],o=+s[0][1],i=+s[1][0],a=+s[1][1],e=t=null,n):[[r,o],[i,a]]}}},e.geoClipRectangle=vt,e.geoContains=function(e,t){return(e&&Pt.hasOwnProperty(e.type)?Pt[e.type]:It)(e,t)},e.geoDistance=wt,e.geoGraticule=zt,e.geoGraticule10=function(){return zt()()},e.geoInterpolate=function(e,t){var n=e[0]*p,r=e[1]*p,o=t[0]*p,i=t[1]*p,a=g(r),s=x(r),l=g(i),c=x(i),u=a*g(n),f=a*x(n),h=l*g(o),b=l*x(o),v=2*_(E(A(i-r)+a*l*A(o-n))),y=x(v),O=v?function(e){var t=x(e*=v)/y,n=x(v-e)/y,r=n*u+t*h,o=n*f+t*b,i=n*s+t*c;return[m(o,r)*d,m(i,E(r*r+o*o))*d]}:function(){return[n*d,r*d]};return O.distance=v,O},e.geoLength=At,e.geoPath=function(e,t){var n,r,o=4.5;function i(e){return e&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),D(e,n(r))),r.result()}return i.area=function(e){return D(e,n(Zt)),Zt.result()},i.measure=function(e){return D(e,n(Mn)),Mn.result()},i.bounds=function(e){return D(e,n(cn)),cn.result()},i.centroid=function(e){return D(e,n(yn)),yn.result()},i.projection=function(t){return arguments.length?(n=null==t?(e=null,Vt):(e=t).stream,i):e},i.context=function(e){return arguments.length?(r=null==e?(t=null,new Fn):new Tn(t=e),"function"!=typeof o&&r.pointRadius(o),i):t},i.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),i):o},i.projection(e).context(t)},e.geoAlbers=or,e.geoAlbersUsa=function(){var e,t,n,r,o,i,s=or(),l=rr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=rr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,t){i=[e,t]}};function d(e){var t=e[0],a=e[1];return i=null,n.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function p(){return e=t=null,d}return d.invert=function(e){var t=s.scale(),n=s.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?l:o>=.166&&o<.234&&r>=-.214&&r<-.115?c:s).invert(e)},d.stream=function(n){return e&&t===n?e:(r=[s.stream(t=n),l.stream(n),c.stream(n)],o=r.length,e={point:function(e,t){for(var n=-1;++n<o;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<o;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<o;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<o;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<o;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<o;)r[e].polygonEnd()}});var r,o},d.precision=function(e){return arguments.length?(s.precision(e),l.precision(e),c.precision(e),p()):s.precision()},d.scale=function(e){return arguments.length?(s.scale(e),l.scale(.35*e),c.scale(e),d.translate(s.translate())):s.scale()},d.translate=function(e){if(!arguments.length)return s.translate();var t=s.scale(),i=+e[0],d=+e[1];return n=s.translate(e).clipExtent([[i-.455*t,d-.238*t],[i+.455*t,d+.238*t]]).stream(u),r=l.translate([i-.307*t,d+.201*t]).clipExtent([[i-.425*t+a,d+.12*t+a],[i-.214*t-a,d+.234*t-a]]).stream(u),o=c.translate([i-.205*t,d+.212*t]).clipExtent([[i-.214*t+a,d+.166*t+a],[i-.115*t-a,d+.234*t-a]]).stream(u),p()},d.fitExtent=function(e,t){return Gn(d,e,t)},d.fitSize=function(e,t){return Hn(d,e,t)},d.fitWidth=function(e,t){return Wn(d,e,t)},d.fitHeight=function(e,t){return Yn(d,e,t)},d.scale(1070)},e.geoAzimuthalEqualArea=function(){return Qn(sr).scale(124.75).clipAngle(179.999)},e.geoAzimuthalEqualAreaRaw=sr,e.geoAzimuthalEquidistant=function(){return Qn(lr).scale(79.4188).clipAngle(179.999)},e.geoAzimuthalEquidistantRaw=lr,e.geoConicConformal=function(){return tr(pr).scale(109.5).parallels([30,30])},e.geoConicConformalRaw=pr,e.geoConicEqualArea=rr,e.geoConicEqualAreaRaw=nr,e.geoConicEquidistant=function(){return tr(hr).scale(131.154).center([0,13.9389])},e.geoConicEquidistantRaw=hr,e.geoEqualEarth=function(){return Qn(Or).scale(177.158)},e.geoEqualEarthRaw=Or,e.geoEquirectangular=function(){return Qn(fr).scale(152.63)},e.geoEquirectangularRaw=fr,e.geoGnomonic=function(){return Qn(xr).scale(144.049).clipAngle(60)},e.geoGnomonicRaw=xr,e.geoIdentity=function(){var e,t,n,r,o,i,a=1,s=0,l=0,c=1,u=1,d=Vt,p=null,f=Vt;function h(){return r=o=null,i}return i={stream:function(e){return r&&o===e?r:r=d(f(o=e))},postclip:function(r){return arguments.length?(f=r,p=e=t=n=null,h()):f},clipExtent:function(r){return arguments.length?(f=null==r?(p=e=t=n=null,Vt):vt(p=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),h()):null==p?null:[[p,e],[t,n]]},scale:function(e){return arguments.length?(d=jr((a=+e)*c,a*u,s,l),h()):a},translate:function(e){return arguments.length?(d=jr(a*c,a*u,s=+e[0],l=+e[1]),h()):[s,l]},reflectX:function(e){return arguments.length?(d=jr(a*(c=e?-1:1),a*u,s,l),h()):c<0},reflectY:function(e){return arguments.length?(d=jr(a*c,a*(u=e?-1:1),s,l),h()):u<0},fitExtent:function(e,t){return Gn(i,e,t)},fitSize:function(e,t){return Hn(i,e,t)},fitWidth:function(e,t){return Wn(i,e,t)},fitHeight:function(e,t){return Yn(i,e,t)}}},e.geoProjection=Qn,e.geoProjectionMutator=er,e.geoMercator=function(){return ur(cr).scale(961/u)},e.geoMercatorRaw=cr,e.geoNaturalEarth1=function(){return Qn(Er).scale(175.295)},e.geoNaturalEarth1Raw=Er,e.geoOrthographic=function(){return Qn(Sr).scale(249.5).clipAngle(90+a)},e.geoOrthographicRaw=Sr,e.geoStereographic=function(){return Qn(Cr).scale(250).clipAngle(142)},e.geoStereographicRaw=Cr,e.geoTransverseMercator=function(){var e=ur(_r),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)},e.geoTransverseMercatorRaw=_r,e.geoRotation=nt,e.geoStream=D,e.geoTransform=function(e){return{stream:zn(e)}},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(/*! d3-array */1316))},1316:
/*!*********************************************************************!*\
  !*** ../node_modules/d3-geo/node_modules/d3-array/dist/d3-array.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o,i,a,s=n(/*! @babel/runtime/helpers/interopRequireDefault */200)(n(/*! @babel/runtime/helpers/typeof */34));a=function(e){function t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function n(e){var n;return 1===e.length&&(n=e,e=function(e,r){return t(n(e),r)}),{left:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}var r=n(t),o=r.right,i=r.left;function a(e,t){return[e,t]}function s(e){return null===e?NaN:+e}function l(e,t){var n,r,o=e.length,i=0,a=-1,l=0,c=0;if(null==t)for(;++a<o;)isNaN(n=s(e[a]))||(c+=(r=n-l)*(n-(l+=r/++i)));else for(;++a<o;)isNaN(n=s(t(e[a],a,e)))||(c+=(r=n-l)*(n-(l+=r/++i)));if(i>1)return c/(i-1)}function c(e,t){var n=l(e,t);return n?Math.sqrt(n):n}function u(e,t){var n,r,o,i=e.length,a=-1;if(null==t){for(;++a<i;)if(null!=(n=e[a])&&n>=n)for(r=o=n;++a<i;)null!=(n=e[a])&&(r>n&&(r=n),o<n&&(o=n))}else for(;++a<i;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=o=n;++a<i;)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),o<n&&(o=n));return[r,o]}var d=Array.prototype,p=d.slice,f=d.map;function h(e){return function(){return e}}function m(e){return e}function g(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}var b=Math.sqrt(50),v=Math.sqrt(10),y=Math.sqrt(2);function O(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=b?10:i>=v?5:i>=y?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=b?10:i>=v?5:i>=y?2:1)}function x(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=b?o*=10:i>=v?o*=5:i>=y&&(o*=2),t<e?-o:o}function j(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function E(e,t,n){if(null==n&&(n=s),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,i=Math.floor(o),a=+n(e[i],i,e);return a+(+n(e[i+1],i+1,e)-a)*(o-i)}}function S(e,t){var n,r,o=e.length,i=-1;if(null==t){for(;++i<o;)if(null!=(n=e[i])&&n>=n)for(r=n;++i<o;)null!=(n=e[i])&&r>n&&(r=n)}else for(;++i<o;)if(null!=(n=t(e[i],i,e))&&n>=n)for(r=n;++i<o;)null!=(n=t(e[i],i,e))&&r>n&&(r=n);return r}function C(e){if(!(o=e.length))return[];for(var t=-1,n=S(e,_),r=new Array(n);++t<n;)for(var o,i=-1,a=r[t]=new Array(o);++i<o;)a[i]=e[i][t];return r}function _(e){return e.length}e.bisect=o,e.bisectRight=o,e.bisectLeft=i,e.ascending=t,e.bisector=n,e.cross=function(e,t,n){var r,o,i,s,l=e.length,c=t.length,u=new Array(l*c);for(null==n&&(n=a),r=i=0;r<l;++r)for(s=e[r],o=0;o<c;++o,++i)u[i]=n(s,t[o]);return u},e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.deviation=c,e.extent=u,e.histogram=function(){var e=m,t=u,n=j;function r(r){var i,a,s=r.length,l=new Array(s);for(i=0;i<s;++i)l[i]=e(r[i],i,r);var c=t(l),u=c[0],d=c[1],p=n(l,u,d);Array.isArray(p)||(p=x(u,d,p),p=g(Math.ceil(u/p)*p,d,p));for(var f=p.length;p[0]<=u;)p.shift(),--f;for(;p[f-1]>d;)p.pop(),--f;var h,m=new Array(f+1);for(i=0;i<=f;++i)(h=m[i]=[]).x0=i>0?p[i-1]:u,h.x1=i<f?p[i]:d;for(i=0;i<s;++i)u<=(a=l[i])&&a<=d&&m[o(p,a,0,f)].push(r[i]);return m}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:h(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:h([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?h(p.call(e)):h(e),r):n},r},e.thresholdFreedmanDiaconis=function(e,n,r){return e=f.call(e,s).sort(t),Math.ceil((r-n)/(2*(E(e,.75)-E(e,.25))*Math.pow(e.length,-1/3)))},e.thresholdScott=function(e,t,n){return Math.ceil((n-t)/(3.5*c(e)*Math.pow(e.length,-1/3)))},e.thresholdSturges=j,e.max=function(e,t){var n,r,o=e.length,i=-1;if(null==t){for(;++i<o;)if(null!=(n=e[i])&&n>=n)for(r=n;++i<o;)null!=(n=e[i])&&n>r&&(r=n)}else for(;++i<o;)if(null!=(n=t(e[i],i,e))&&n>=n)for(r=n;++i<o;)null!=(n=t(e[i],i,e))&&n>r&&(r=n);return r},e.mean=function(e,t){var n,r=e.length,o=r,i=-1,a=0;if(null==t)for(;++i<r;)isNaN(n=s(e[i]))?--o:a+=n;else for(;++i<r;)isNaN(n=s(t(e[i],i,e)))?--o:a+=n;if(o)return a/o},e.median=function(e,n){var r,o=e.length,i=-1,a=[];if(null==n)for(;++i<o;)isNaN(r=s(e[i]))||a.push(r);else for(;++i<o;)isNaN(r=s(n(e[i],i,e)))||a.push(r);return E(a.sort(t),.5)},e.merge=function(e){for(var t,n,r,o=e.length,i=-1,a=0;++i<o;)a+=e[i].length;for(n=new Array(a);--o>=0;)for(t=(r=e[o]).length;--t>=0;)n[--a]=r[t];return n},e.min=S,e.pairs=function(e,t){null==t&&(t=a);for(var n=0,r=e.length-1,o=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(o,o=e[++n]);return i},e.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},e.quantile=E,e.range=g,e.scan=function(e,n){if(r=e.length){var r,o,i=0,a=0,s=e[a];for(null==n&&(n=t);++i<r;)(n(o=e[i],s)<0||0!==n(s,s))&&(s=o,a=i);return 0===n(s,s)?a:void 0}},e.shuffle=function(e,t,n){for(var r,o,i=(null==n?e.length:n)-(t=null==t?0:+t);i;)o=Math.random()*i--|0,r=e[i+t],e[i+t]=e[o+t],e[o+t]=r;return e},e.sum=function(e,t){var n,r=e.length,o=-1,i=0;if(null==t)for(;++o<r;)(n=+e[o])&&(i+=n);else for(;++o<r;)(n=+t(e[o],o,e))&&(i+=n);return i},e.ticks=function(e,t,n){var r,o,i,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=O(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),i=new Array(o=Math.ceil(t-e+1));++s<o;)i[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),i=new Array(o=Math.ceil(e-t+1));++s<o;)i[s]=(e-s)/a;return r&&i.reverse(),i},e.tickIncrement=O,e.tickStep=x,e.transpose=C,e.variance=l,e.zip=function(){return C(arguments)},Object.defineProperty(e,"__esModule",{value:!0})},"object"===(0,s.default)(t)&&void 0!==e?a(t):(o=[t],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))},1317:
/*!***********************************************!*\
  !*** ../node_modules/d3-zoom/dist/d3-zoom.js ***!
  \***********************************************/
/*! no static exports found */
/*! exports used: zoom */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e,t,n,r,o,i){"use strict";function a(e){return function(){return e}}function s(e,t,n){this.target=e,this.type=t,this.transform=n}function l(e,t,n){this.k=e,this.x=t,this.y=n}l.prototype={constructor:l,scale:function(e){return 1===e?this:new l(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new l(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var c=new l(1,0,0);function u(e){for(;!e.__zoom;)if(!(e=e.parentNode))return c;return e.__zoom}function d(){o.event.stopImmediatePropagation()}function p(){o.event.preventDefault(),o.event.stopImmediatePropagation()}function f(){return!o.event.ctrlKey&&!o.event.button}function h(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function m(){return this.__zoom||c}function g(){return-o.event.deltaY*(1===o.event.deltaMode?.05:o.event.deltaMode?1:.002)}function b(){return navigator.maxTouchPoints||"ontouchstart"in this}function v(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}u.prototype=l.prototype,e.zoom=function(){var e,u,y=f,O=h,x=v,j=g,E=b,S=[0,1/0],C=[[-1/0,-1/0],[1/0,1/0]],_=250,A=r.interpolateZoom,N=t.dispatch("start","zoom","end"),T=0;function w(e){e.property("__zoom",m).on("wheel.zoom",L).on("mousedown.zoom",U).on("dblclick.zoom",F).filter(E).on("touchstart.zoom",B).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",V).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function P(e,t){return(t=Math.max(S[0],Math.min(S[1],t)))===e.k?e:new l(t,e.x,e.y)}function R(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new l(e.k,r,o)}function I(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function D(e,t,n){e.on("start.zoom",(function(){k(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){k(this,arguments).end()})).tween("zoom",(function(){var e=this,r=arguments,o=k(e,r),i=O.apply(e,r),a=null==n?I(i):"function"==typeof n?n.apply(e,r):n,s=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),c=e.__zoom,u="function"==typeof t?t.apply(e,r):t,d=A(c.invert(a).concat(s/c.k),u.invert(a).concat(s/u.k));return function(e){if(1===e)e=u;else{var t=d(e),n=s/t[2];e=new l(n,a[0]-t[0]*n,a[1]-t[1]*n)}o.zoom(null,e)}}))}function k(e,t,n){return!n&&e.__zooming||new M(e,t)}function M(e,t){this.that=e,this.args=t,this.active=0,this.extent=O.apply(e,t),this.taps=0}function L(){if(y.apply(this,arguments)){var e=k(this,arguments),t=this.__zoom,n=Math.max(S[0],Math.min(S[1],t.k*Math.pow(2,j.apply(this,arguments)))),r=o.mouse(this);if(e.wheel)e.mouse[0][0]===r[0]&&e.mouse[0][1]===r[1]||(e.mouse[1]=t.invert(e.mouse[0]=r)),clearTimeout(e.wheel);else{if(t.k===n)return;e.mouse=[r,t.invert(r)],i.interrupt(this),e.start()}p(),e.wheel=setTimeout(a,150),e.zoom("mouse",x(R(P(t,n),e.mouse[0],e.mouse[1]),e.extent,C))}function a(){e.wheel=null,e.end()}}function U(){if(!u&&y.apply(this,arguments)){var e=k(this,arguments,!0),t=o.select(o.event.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",c,!0),r=o.mouse(this),a=o.event.clientX,s=o.event.clientY;n.dragDisable(o.event.view),d(),e.mouse=[r,this.__zoom.invert(r)],i.interrupt(this),e.start()}function l(){if(p(),!e.moved){var t=o.event.clientX-a,n=o.event.clientY-s;e.moved=t*t+n*n>T}e.zoom("mouse",x(R(e.that.__zoom,e.mouse[0]=o.mouse(e.that),e.mouse[1]),e.extent,C))}function c(){t.on("mousemove.zoom mouseup.zoom",null),n.dragEnable(o.event.view,e.moved),p(),e.end()}}function F(){if(y.apply(this,arguments)){var e=this.__zoom,t=o.mouse(this),n=e.invert(t),r=e.k*(o.event.shiftKey?.5:2),i=x(R(P(e,r),t,n),O.apply(this,arguments),C);p(),_>0?o.select(this).transition().duration(_).call(D,i,t):o.select(this).call(w.transform,i)}}function B(){if(y.apply(this,arguments)){var t,n,r,a,s=o.event.touches,l=s.length,c=k(this,arguments,o.event.changedTouches.length===l);for(d(),n=0;n<l;++n)r=s[n],a=[a=o.touch(this,s,r.identifier),this.__zoom.invert(a),r.identifier],c.touch0?c.touch1||c.touch0[2]===a[2]||(c.touch1=a,c.taps=0):(c.touch0=a,t=!0,c.taps=1+!!e);e&&(e=clearTimeout(e)),t&&(c.taps<2&&(e=setTimeout((function(){e=null}),500)),i.interrupt(this),c.start())}}function z(){if(this.__zooming){var t,n,r,i,a=k(this,arguments),s=o.event.changedTouches,l=s.length;for(p(),e&&(e=clearTimeout(e)),a.taps=0,t=0;t<l;++t)n=s[t],r=o.touch(this,s,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var c=a.touch0[0],u=a.touch0[1],d=a.touch1[0],f=a.touch1[1],h=(h=d[0]-c[0])*h+(h=d[1]-c[1])*h,m=(m=f[0]-u[0])*m+(m=f[1]-u[1])*m;n=P(n,Math.sqrt(h/m)),r=[(c[0]+d[0])/2,(c[1]+d[1])/2],i=[(u[0]+f[0])/2,(u[1]+f[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],i=a.touch0[1]}a.zoom("touch",x(R(n,r,i),a.extent,C))}}function V(){if(this.__zooming){var e,t,n=k(this,arguments),r=o.event.changedTouches,i=r.length;for(d(),u&&clearTimeout(u),u=setTimeout((function(){u=null}),500),e=0;e<i;++e)t=r[e],n.touch0&&n.touch0[2]===t.identifier?delete n.touch0:n.touch1&&n.touch1[2]===t.identifier&&delete n.touch1;if(n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0)n.touch0[1]=this.__zoom.invert(n.touch0[0]);else if(n.end(),2===n.taps){var a=o.select(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return w.transform=function(e,t,n){var r=e.selection?e.selection():e;r.property("__zoom",m),e!==r?D(e,t,n):r.interrupt().each((function(){k(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},w.scaleBy=function(e,t,n){w.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}),n)},w.scaleTo=function(e,t,n){w.transform(e,(function(){var e=O.apply(this,arguments),r=this.__zoom,o=null==n?I(e):"function"==typeof n?n.apply(this,arguments):n,i=r.invert(o),a="function"==typeof t?t.apply(this,arguments):t;return x(R(P(r,a),o,i),e,C)}),n)},w.translateBy=function(e,t,n){w.transform(e,(function(){return x(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),O.apply(this,arguments),C)}))},w.translateTo=function(e,t,n,r){w.transform(e,(function(){var e=O.apply(this,arguments),o=this.__zoom,i=null==r?I(e):"function"==typeof r?r.apply(this,arguments):r;return x(c.translate(i[0],i[1]).scale(o.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,C)}),r)},M.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){o.customEvent(new s(w,e,this.that.__zoom),N.apply,N,[e,this.that,this.args])}},w.wheelDelta=function(e){return arguments.length?(j="function"==typeof e?e:a(+e),w):j},w.filter=function(e){return arguments.length?(y="function"==typeof e?e:a(!!e),w):y},w.touchable=function(e){return arguments.length?(E="function"==typeof e?e:a(!!e),w):E},w.extent=function(e){return arguments.length?(O="function"==typeof e?e:a([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),w):O},w.scaleExtent=function(e){return arguments.length?(S[0]=+e[0],S[1]=+e[1],w):[S[0],S[1]]},w.translateExtent=function(e){return arguments.length?(C[0][0]=+e[0][0],C[1][0]=+e[1][0],C[0][1]=+e[0][1],C[1][1]=+e[1][1],w):[[C[0][0],C[0][1]],[C[1][0],C[1][1]]]},w.constrain=function(e){return arguments.length?(x=e,w):x},w.duration=function(e){return arguments.length?(_=+e,w):_},w.interpolate=function(e){return arguments.length?(A=e,w):A},w.on=function(){var e=N.on.apply(N,arguments);return e===N?w:e},w.clickDistance=function(e){return arguments.length?(T=(e=+e)*e,w):Math.sqrt(T)},w},e.zoomIdentity=c,e.zoomTransform=u,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(/*! d3-dispatch */953),n(/*! d3-drag */1318),n(/*! d3-interpolate */923),n(/*! d3-selection */888),n(/*! d3-transition */1319))},1318:
/*!***********************************************!*\
  !*** ../node_modules/d3-drag/dist/d3-drag.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e,t,n){"use strict";function r(){n.event.stopImmediatePropagation()}function o(){n.event.preventDefault(),n.event.stopImmediatePropagation()}function i(e){var t=e.document.documentElement,r=n.select(e).on("dragstart.drag",o,!0);"onselectstart"in t?r.on("selectstart.drag",o,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function a(e,t){var r=e.document.documentElement,i=n.select(e).on("dragstart.drag",null);t&&(i.on("click.drag",o,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function s(e){return function(){return e}}function l(e,t,n,r,o,i,a,s,l,c){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=o,this.x=i,this.y=a,this.dx=s,this.dy=l,this._=c}function c(){return!n.event.ctrlKey&&!n.event.button}function u(){return this.parentNode}function d(e){return null==e?{x:n.event.x,y:n.event.y}:e}function p(){return navigator.maxTouchPoints||"ontouchstart"in this}l.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e},e.drag=function(){var e,f,h,m,g=c,b=u,v=d,y=p,O={},x=t.dispatch("start","drag","end"),j=0,E=0;function S(e){e.on("mousedown.drag",C).filter(y).on("touchstart.drag",N).on("touchmove.drag",T).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function C(){if(!m&&g.apply(this,arguments)){var t=P("mouse",b.apply(this,arguments),n.mouse,this,arguments);t&&(n.select(n.event.view).on("mousemove.drag",_,!0).on("mouseup.drag",A,!0),i(n.event.view),r(),h=!1,e=n.event.clientX,f=n.event.clientY,t("start"))}}function _(){if(o(),!h){var t=n.event.clientX-e,r=n.event.clientY-f;h=t*t+r*r>E}O.mouse("drag")}function A(){n.select(n.event.view).on("mousemove.drag mouseup.drag",null),a(n.event.view,h),o(),O.mouse("end")}function N(){if(g.apply(this,arguments)){var e,t,o=n.event.changedTouches,i=b.apply(this,arguments),a=o.length;for(e=0;e<a;++e)(t=P(o[e].identifier,i,n.touch,this,arguments))&&(r(),t("start"))}}function T(){var e,t,r=n.event.changedTouches,i=r.length;for(e=0;e<i;++e)(t=O[r[e].identifier])&&(o(),t("drag"))}function w(){var e,t,o=n.event.changedTouches,i=o.length;for(m&&clearTimeout(m),m=setTimeout((function(){m=null}),500),e=0;e<i;++e)(t=O[o[e].identifier])&&(r(),t("end"))}function P(e,t,r,o,i){var a,s,c,u=r(t,e),d=x.copy();if(n.customEvent(new l(S,"beforestart",a,e,j,u[0],u[1],0,0,d),(function(){return null!=(n.event.subject=a=v.apply(o,i))&&(s=a.x-u[0]||0,c=a.y-u[1]||0,!0)})))return function p(f){var h,m=u;switch(f){case"start":O[e]=p,h=j++;break;case"end":delete O[e],--j;case"drag":u=r(t,e),h=j}n.customEvent(new l(S,f,a,e,h,u[0]+s,u[1]+c,u[0]-m[0],u[1]-m[1],d),d.apply,d,[f,o,i])}}return S.filter=function(e){return arguments.length?(g="function"==typeof e?e:s(!!e),S):g},S.container=function(e){return arguments.length?(b="function"==typeof e?e:s(e),S):b},S.subject=function(e){return arguments.length?(v="function"==typeof e?e:s(e),S):v},S.touchable=function(e){return arguments.length?(y="function"==typeof e?e:s(!!e),S):y},S.on=function(){var e=x.on.apply(x,arguments);return e===x?S:e},S.clickDistance=function(e){return arguments.length?(E=(e=+e)*e,S):Math.sqrt(E)},S},e.dragDisable=i,e.dragEnable=a,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(/*! d3-dispatch */953),n(/*! d3-selection */888))},1319:
/*!***********************************************************!*\
  !*** ../node_modules/d3-transition/dist/d3-transition.js ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e,t,n,r,o,i,a){"use strict";var s=n.dispatch("start","end","cancel","interrupt"),l=[];function c(e,t,n,o,i,a){var c=e.__transition;if(c){if(n in c)return}else e.__transition={};!function(e,t,n){var o,i=e.__transition;function a(c){var u,d,p,f;if(1!==n.state)return l();for(u in i)if((f=i[u]).name===n.name){if(3===f.state)return r.timeout(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[u])}if(r.timeout((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(c))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,o=new Array(p=n.tween.length),u=0,d=-1;u<p;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=f);o.length=d+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,a=o.length;++i<a;)o[i].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=r.timer((function(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}),0,n.time)}(e,n,{name:t,index:o,group:i,on:s,tween:l,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function u(e,t){var n=p(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function d(e,t){var n=p(e,t);if(n.state>3)throw new Error("too late; already running");return n}function p(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function f(e,t){var n,r,o,i=e.__transition,a=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete e.__transition}}function h(e,t){var n,r;return function(){var o=d(this,e),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}o.tween=r}}function m(e,t,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=d(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=s;break}l===c&&o.push(s)}i.tween=o}}function g(e,t,n){var r=e._id;return e.each((function(){var e=d(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return p(e,r).value[t]}}function b(e,t){var n;return("number"==typeof t?o.interpolateNumber:t instanceof i.color?o.interpolateRgb:(n=i.color(t))?(t=n,o.interpolateRgb):o.interpolateString)(e,t)}function v(e){return function(){this.removeAttribute(e)}}function y(e){return function(){this.removeAttributeNS(e.space,e.local)}}function O(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function x(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function j(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(e))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttribute(e)}}function E(e,t,n){var r,o,i;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,l));this.removeAttributeNS(e.space,e.local)}}function S(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function C(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function _(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&C(e,o)),n}return o._value=t,o}function A(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&S(e,o)),n}return o._value=t,o}function N(e,t){return function(){u(this,e).delay=+t.apply(this,arguments)}}function T(e,t){return t=+t,function(){u(this,e).delay=t}}function w(e,t){return function(){d(this,e).duration=+t.apply(this,arguments)}}function P(e,t){return t=+t,function(){d(this,e).duration=t}}function R(e,t){if("function"!=typeof t)throw new Error;return function(){d(this,e).ease=t}}function I(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?u:d;return function(){var a=i(this,e),s=a.on;s!==r&&(o=(r=s).copy()).on(t,n),a.on=o}}var D=t.selection.prototype.constructor;function k(e){return function(){this.style.removeProperty(e)}}function M(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function L(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&M(e,i,n)),r}return i._value=t,i}function U(e){return function(t){this.textContent=e.call(this,t)}}function F(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&U(r)),t}return r._value=e,r}var B=0;function z(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function V(e){return t.selection().transition(e)}function q(){return++B}var G=t.selection.prototype;z.prototype=V.prototype={constructor:z,select:function(e){var n=this._name,r=this._id;"function"!=typeof e&&(e=t.selector(e));for(var o=this._groups,i=o.length,a=new Array(i),s=0;s<i;++s)for(var l,u,d=o[s],f=d.length,h=a[s]=new Array(f),m=0;m<f;++m)(l=d[m])&&(u=e.call(l,l.__data__,m,d))&&("__data__"in l&&(u.__data__=l.__data__),h[m]=u,c(h[m],n,r,m,h,p(l,r)));return new z(a,this._parents,n,r)},selectAll:function(e){var n=this._name,r=this._id;"function"!=typeof e&&(e=t.selectorAll(e));for(var o=this._groups,i=o.length,a=[],s=[],l=0;l<i;++l)for(var u,d=o[l],f=d.length,h=0;h<f;++h)if(u=d[h]){for(var m,g=e.call(u,u.__data__,h,d),b=p(u,r),v=0,y=g.length;v<y;++v)(m=g[v])&&c(m,n,r,v,g,b);a.push(g),s.push(u)}return new z(a,s,n,r)},filter:function(e){"function"!=typeof e&&(e=t.matcher(e));for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i)for(var a,s=n[i],l=s.length,c=o[i]=[],u=0;u<l;++u)(a=s[u])&&e.call(a,a.__data__,u,s)&&c.push(a);return new z(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=t[s],u=n[s],d=c.length,p=a[s]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(p[f]=l);for(;s<r;++s)a[s]=t[s];return new z(a,this._parents,this._name,this._id)},selection:function(){return new D(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=q(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],l=s.length,u=0;u<l;++u)if(a=s[u]){var d=p(a,t);c(a,e,n,u,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new z(r,this._parents,e,n)},call:G.call,nodes:G.nodes,node:G.node,size:G.size,empty:G.empty,each:G.each,on:function(e,t){var n=this._id;return arguments.length<2?p(this.node(),n).on.on(e):this.each(I(n,e,t))},attr:function(e,n){var r=t.namespace(e),i="transform"===r?o.interpolateTransformSvg:b;return this.attrTween(e,"function"==typeof n?(r.local?E:j)(r,i,g(this,"attr."+e,n)):null==n?(r.local?y:v)(r):(r.local?x:O)(r,i,n))},attrTween:function(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var o=t.namespace(e);return this.tween(r,(o.local?_:A)(o,n))},style:function(e,n,r){var i="transform"==(e+="")?o.interpolateTransformCss:b;return null==n?this.styleTween(e,function(e,n){var r,o,i;return function(){var a=t.style(this,e),s=(this.style.removeProperty(e),t.style(this,e));return a===s?null:a===r&&s===o?i:i=n(r=a,o=s)}}(e,i)).on("end.style."+e,k(e)):"function"==typeof n?this.styleTween(e,function(e,n,r){var o,i,a;return function(){var s=t.style(this,e),l=r(this),c=l+"";return null==l&&(this.style.removeProperty(e),c=l=t.style(this,e)),s===c?null:s===o&&c===i?a:(i=c,a=n(o=s,l))}}(e,i,g(this,"style."+e,n))).each(function(e,t){var n,r,o,i,a="style."+t,s="end."+a;return function(){var l=d(this,e),c=l.on,u=null==l.value[a]?i||(i=k(t)):void 0;c===n&&o===u||(r=(n=c).copy()).on(s,o=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,n,r){var o,i,a=r+"";return function(){var s=t.style(this,e);return s===a?null:s===o?i:i=n(o=s,r)}}(e,i,n),r).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,L(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(g(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,F(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=p(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?h:m)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?N:T)(t,e)):p(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?w:P)(t,e)):p(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(R(t,e)):p(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},l={value:function(){0==--o&&i()}};n.each((function(){var n=d(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}))}))}};var H={time:null,delay:0,duration:250,ease:a.easeCubicInOut};function W(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return H.time=r.now(),H;return n}t.selection.prototype.interrupt=function(e){return this.each((function(){f(this,e)}))},t.selection.prototype.transition=function(e){var t,n;e instanceof z?(t=e._id,e=e._name):(t=q(),(n=H).time=r.now(),e=null==e?null:e+"");for(var o=this._groups,i=o.length,a=0;a<i;++a)for(var s,l=o[a],u=l.length,d=0;d<u;++d)(s=l[d])&&c(s,e,t,d,l,n||W(s,t));return new z(o,this._parents,e,t)};var Y=[null];e.active=function(e,t){var n,r,o=e.__transition;if(o)for(r in t=null==t?null:t+"",o)if((n=o[r]).state>1&&n.name===t)return new z([[e]],Y,t,+r);return null},e.interrupt=f,e.transition=V,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(/*! d3-selection */888),n(/*! d3-dispatch */953),n(/*! d3-timer */1120),n(/*! d3-interpolate */923),n(/*! d3-color */960),n(/*! d3-ease */1320))},1320:
/*!***********************************************!*\
  !*** ../node_modules/d3-ease/dist/d3-ease.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e){"use strict";function t(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function n(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var r=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),o=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),i=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),a=Math.PI,s=a/2;function l(e){return(1-Math.cos(a*e))/2}function c(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function u(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var d=7.5625;function p(e){return(e=+e)<4/11?d*e*e:e<8/11?d*(e-=6/11)*e+3/4:e<10/11?d*(e-=9/11)*e+15/16:d*(e-=21/22)*e+63/64}var f=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),h=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),m=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),g=2*Math.PI,b=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=g);function o(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return o.amplitude=function(t){return e(t,n*g)},o.period=function(n){return e(t,n)},o}(1,.3),v=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=g);function o(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return o.amplitude=function(t){return e(t,n*g)},o.period=function(n){return e(t,n)},o}(1,.3),y=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=g);function o(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return o.amplitude=function(t){return e(t,n*g)},o.period=function(n){return e(t,n)},o}(1,.3);e.easeBack=m,e.easeBackIn=f,e.easeBackInOut=m,e.easeBackOut=h,e.easeBounce=p,e.easeBounceIn=function(e){return 1-p(1-e)},e.easeBounceInOut=function(e){return((e*=2)<=1?1-p(1-e):p(e-1)+1)/2},e.easeBounceOut=p,e.easeCircle=u,e.easeCircleIn=function(e){return 1-Math.sqrt(1-e*e)},e.easeCircleInOut=u,e.easeCircleOut=function(e){return Math.sqrt(1- --e*e)},e.easeCubic=n,e.easeCubicIn=function(e){return e*e*e},e.easeCubicInOut=n,e.easeCubicOut=function(e){return--e*e*e+1},e.easeElastic=v,e.easeElasticIn=b,e.easeElasticInOut=y,e.easeElasticOut=v,e.easeExp=c,e.easeExpIn=function(e){return Math.pow(2,10*e-10)},e.easeExpInOut=c,e.easeExpOut=function(e){return 1-Math.pow(2,-10*e)},e.easeLinear=function(e){return+e},e.easePoly=i,e.easePolyIn=r,e.easePolyInOut=i,e.easePolyOut=o,e.easeQuad=t,e.easeQuadIn=function(e){return e*e},e.easeQuadInOut=t,e.easeQuadOut=function(e){return e*(2-e)},e.easeSin=l,e.easeSinIn=function(e){return 1-Math.cos(e*s)},e.easeSinInOut=l,e.easeSinOut=function(e){return Math.sin(e*s)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},1321:
/*!***************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/react-transition-group/cjs/Transition.js ***!
  \***************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;s(n(/*! prop-types */3));var r=s(n(/*! react */8)),o=s(n(/*! react-dom */99)),i=s(n(/*! ./config */1563)),a=(n(/*! ./utils/PropTypes */1564),s(n(/*! ./TransitionGroupContext */1322)));function s(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var l=function(e){var t,n;function s(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o="exited",r.appearStatus="entering"):o="entered":o=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:o},r.nextCallback=null,r}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var l=s.prototype;return l.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},l.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},l.componentWillUnmount=function(){this.cancelNextCallback()},l.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},l.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},l.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[o.default.findDOMNode(this),r],s=a[0],l=a[1],c=this.getTimeouts(),u=r?c.appear:c.enter;!e&&!n||i.default.disabled?this.safeSetState({status:"entered"},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,l),this.safeSetState({status:"entering"},(function(){t.props.onEntering(s,l),t.onTransitionEnd(u,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(s,l)}))}))})))},l.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:o.default.findDOMNode(this);t&&!i.default.disabled?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},l.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},l.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},l.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},l.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],s=i[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},l.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.default.createElement(a.default.Provider,{value:null},"function"==typeof n?n(e,o):r.default.cloneElement(r.default.Children.only(n),o))},s}(r.default.Component);function c(){}l.contextType=a.default,l.propTypes={},l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:c,onEntering:c,onEntered:c,onExit:c,onExiting:c,onExited:c},l.UNMOUNTED="unmounted",l.EXITED="exited",l.ENTERING="entering",l.ENTERED="entered",l.EXITING="exiting";var u=l;t.default=u},1322:
/*!***************************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/react-transition-group/cjs/TransitionGroupContext.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var o=((r=n(/*! react */8))&&r.__esModule?r:{default:r}).default.createContext(null);t.default=o,e.exports=t.default},1323:
/*!***********************************************************!*\
  !*** ../node_modules/braintree-web/dist/browser/index.js ***!
  \***********************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){(function(t,n){e.exports=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,r){(function(t){"use strict";var r=e("promise-polyfill");n.exports=t.Promise||r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"promise-polyfill":39}],2:[function(e,t,n){"use strict";var r=e("./lib/promise"),o={};function i(e){var t,n,i,a,s=JSON.stringify(e);return!e.forceScriptReload&&(a=o[s])||(i=document.createElement("script"),t=e.dataAttributes||{},n=e.container||document.head,i.src=e.src,i.id=e.id,i.async=!0,e.crossorigin&&i.setAttribute("crossorigin",e.crossorigin),Object.keys(t).forEach((function(e){i.setAttribute("data-"+e,t[e])})),a=new r((function(t,r){i.addEventListener("load",(function(){t(i)})),i.addEventListener("error",(function(){r(new Error(e.src+" failed to load."))})),i.addEventListener("abort",(function(){r(new Error(e.src+" has aborted."))})),n.appendChild(i)})),o[s]=a),a}i.clearCache=function(){o={}},t.exports=i},{"./lib/promise":1}],3:[function(e,n,r){(function(e){"use strict";n.exports=function(t){return t=t||e.navigator.userAgent,/Android/.test(t)}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,n,r){(function(e){"use strict";n.exports=function(t){return t=t||e.navigator.userAgent,/CrOS/i.test(t)}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){"use strict";var r=e("./is-edge"),o=e("./is-samsung");t.exports=function(e){return!(-1===(e=e||navigator.userAgent).indexOf("Chrome")&&-1===e.indexOf("CriOS")||r(e)||o(e))}},{"./is-edge":6,"./is-samsung":18}],6:[function(e,t,n){"use strict";t.exports=function(e){return-1!==(e=e||navigator.userAgent).indexOf("Edge/")}},{}],7:[function(e,n,r){(function(e){"use strict";n.exports=function(t){return t=t||e.navigator.userAgent,/Firefox/i.test(t)}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,n,r){(function(t){"use strict";var r=e("./is-ie11");n.exports=function(e){return-1!==(e=e||t.navigator.userAgent).indexOf("MSIE")||r(e)}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ie11":10}],9:[function(e,t,n){"use strict";t.exports=function(e){return-1!==(e=e||navigator.userAgent).indexOf("MSIE 10")}},{}],10:[function(e,t,n){"use strict";t.exports=function(e){return-1!==(e=e||navigator.userAgent).indexOf("Trident/7")}},{}],11:[function(e,t,n){"use strict";t.exports=function(e){return-1!==(e=e||navigator.userAgent).indexOf("MSIE 9")}},{}],12:[function(e,n,r){(function(e){"use strict";n.exports=function(t){return t=t||e.navigator.userAgent,/FxiOS/i.test(t)}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t,n){"use strict";var r=e("./is-ios"),o=/webkit/i;t.exports=function(e){return e=e||navigator.userAgent,r(e)&&function(e){return e.match(o)}(e)&&-1===e.indexOf("CriOS")}},{"./is-ios":16}],14:[function(e,n,r){(function(t){"use strict";var r=e("./is-ios");n.exports=function(e){return e=e||t.navigator.userAgent,!!r(e)&&(!!function(e){return/\bGSA\b/.test(e)}(e)||/.+AppleWebKit(?!.*Safari)/.test(e))}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ios":16}],15:[function(e,n,r){(function(t){"use strict";var r=e("./is-ios-webview");n.exports=function(e,n){return n=void 0!==n?n:t.statusbar.visible,r(e)&&n}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-ios-webview":14}],16:[function(e,n,r){(function(e){"use strict";n.exports=function(t){return t=t||e.navigator.userAgent,/iPhone|iPod|iPad/i.test(t)}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(e,n,r){(function(t){"use strict";var r=e("./is-ios-firefox"),o=e("./is-firefox");n.exports=function(e){return e=e||t.navigator.userAgent,r(e)||/iPhone|iPod|iPad|Mobile|Tablet/i.test(e)&&o(e)}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-firefox":7,"./is-ios-firefox":12}],18:[function(e,n,r){(function(e){"use strict";n.exports=function(t){return t=t||e.navigator.userAgent,/SamsungBrowser/i.test(t)}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,n,r){(function(t){"use strict";var r=e("./is-android"),o=e("./is-ios-firefox"),i=e("./is-ios-webview"),a=e("./is-chrome"),s=e("./is-samsung");function l(e){return(e=e||t.navigator.userAgent).indexOf("Opera Mini")>-1}n.exports=function(e){return e=e||t.navigator.userAgent,!(i(e)||o(e)||function(e){return e=e||t.navigator.userAgent,!!r(e)&&/Version\/[\d\.]+/.test(e)&&!l(e)}(e)||l(e)||function(e){var n;return!!(n=(e=e||t.navigator.userAgent).match(/CriOS\/(\d+)\./))&&parseInt(n[1],10)<48}(e)||function(e){return!a(e)&&!s(e)&&/samsung/i.test(e)}(e))}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-android":3,"./is-chrome":5,"./is-ios-firefox":12,"./is-ios-webview":14,"./is-samsung":18}],20:[function(e,t,n){"use strict";function r(e){return e.className.trim().split(/\s+/)}function o(e){var t=Array.prototype.slice.call(arguments,1),n=r(e).filter((function(e){return-1===t.indexOf(e)})).concat(t).join(" ");e.className=n}function i(e){var t=Array.prototype.slice.call(arguments,1),n=r(e).filter((function(e){return-1===t.indexOf(e)})).join(" ");e.className=n}t.exports={add:o,remove:i,toggle:function(e,t,n){n?o(e,t):i(e,t)}}},{}],21:[function(e,t,n){"use strict";function r(){this._events={}}r.prototype.on=function(e,t){this._events[e]?this._events[e].push(t):this._events[e]=[t]},r.prototype.off=function(e,t){var n,r=this._events[e];r&&(n=r.indexOf(t),r.splice(n,1))},r.prototype._emit=function(e){var t,n=this._events[e];n&&(t=Array.prototype.slice.call(arguments,1),n.forEach((function(e){e.apply(null,t)})))},r.prototype.hasListener=function(e){var t=this._events[e];return!!t&&t.length>0},r.createChild=function(e){e.prototype=Object.create(r.prototype,{constructor:e})},t.exports=r},{}],22:[function(e,n,r){(function(e){"use strict";function t(e){var n=this;return"function"==typeof e?new t.Promise(e):(this._promise=new t.Promise((function(e,t){n._resolveFunction=e,n._rejectFunction=t})),e=e||{},this._onResolve=e.onResolve||t.defaultOnResolve,this._onReject=e.onReject||t.defaultOnReject,function(e){return e.hasOwnProperty("suppressUnhandledPromiseMessage")?Boolean(e.suppressUnhandledPromiseMessage):Boolean(t.suppressUnhandledPromiseMessage)}(e)&&this._promise.catch((function(){})),this._resetState(),this._promise.resolve=this.resolve.bind(this),this._promise.reject=this.reject.bind(this),this._promise)}["all","allSettled","race","reject","resolve"].forEach((function(e){t[e]=function(){var n=Array.prototype.slice.call(arguments);return t.Promise[e].apply(t.Promise,n)}})),t.setPromise=function(e){t.Promise=e},t.setPromise(e.Promise),t.defaultOnResolve=function(e){return t.Promise.resolve(e)},t.defaultOnReject=function(e){return t.Promise.reject(e)},t.prototype.resolve=function(e){var n=this;return this._promise.isFulfilled||(this._setResolved(),t.Promise.resolve().then((function(){return n._onResolve(e)})).then(this._resolveFunction).catch((function(e){n._resetState(),n._promise.reject(e)}))),this._promise},t.prototype.reject=function(e){var n=this;return this._promise.isFulfilled||(this._setRejected(),t.Promise.resolve().then((function(){return n._onReject(e)})).then((function(e){n._setResolved(),n._resolveFunction(e)})).catch(this._rejectFunction)),this._promise},t.prototype._resetState=function(){this._promise.isFulfilled=!1,this._promise.isResolved=!1,this._promise.isRejected=!1},t.prototype._setResolved=function(){this._promise.isFulfilled=!0,this._promise.isResolved=!0,this._promise.isRejected=!1},t.prototype._setRejected=function(){this._promise.isFulfilled=!0,this._promise.isResolved=!1,this._promise.isRejected=!0},n.exports=t}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(e,t,n){"use strict";var r=e("./lib/set-attributes"),o=e("./lib/default-attributes"),i=e("./lib/assign");t.exports=function(e){var t=document.createElement("iframe"),n=i({},o,e);return n.style&&"string"!=typeof n.style&&(i(t.style,n.style),delete n.style),r(t,n),t.getAttribute("id")||(t.id=t.name),t}},{"./lib/assign":24,"./lib/default-attributes":25,"./lib/set-attributes":26}],24:[function(e,t,n){"use strict";t.exports=function(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){"object"==typeof t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}},{}],25:[function(e,t,n){"use strict";t.exports={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],26:[function(e,t,n){"use strict";t.exports=function(e,t){var n;for(var r in t)t.hasOwnProperty(r)&&(null==(n=t[r])?e.removeAttribute(r):e.setAttribute(r,n))}},{}],27:[function(e,t,n){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout((function(){try{e.apply(null,t)}catch(e){console.log("Error in callback function"),console.log(e)}}),1)}}},{}],28:[function(e,t,n){"use strict";t.exports=function(e){var t=!1;return function(){t||(t=!0,e.apply(null,arguments))}}},{}],29:[function(e,t,n){"use strict";t.exports=function(e,t){if(!t)return e;e.then((function(e){t(null,e)})).catch((function(e){t(e)}))}},{}],30:[function(e,t,n){"use strict";var r=e("./lib/deferred"),o=e("./lib/once"),i=e("./lib/promise-or-callback");function a(e){return function(){var t,n=Array.prototype.slice.call(arguments),a=n[n.length-1];return"function"==typeof a&&(t=n.pop(),t=o(r(t))),i(e.apply(this,n),t)}}a.wrapPrototype=function(e,t){var n,r;return n=(t=t||{}).ignoreMethods||[],r=!0===t.transformPrivateMethods,Object.getOwnPropertyNames(e.prototype).filter((function(t){var o,i="constructor"!==t&&"function"==typeof e.prototype[t],a=-1===n.indexOf(t);return o=!!r||"_"!==t.charAt(0),i&&o&&a})).forEach((function(t){var n=e.prototype[t];e.prototype[t]=a(n)})),e},t.exports=a},{"./lib/deferred":27,"./lib/once":28,"./lib/promise-or-callback":29}],31:[function(e,t,n){"use strict";var r,o=e("./lib/card-types"),i=e("./lib/clone"),a=e("./lib/find-best-match"),s=e("./lib/is-valid-input-type"),l=e("./lib/add-matching-cards-to-results"),c={},u={VISA:"visa",MASTERCARD:"mastercard",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro",ELO:"elo",MIR:"mir",HIPER:"hiper",HIPERCARD:"hipercard"},d=[u.VISA,u.MASTERCARD,u.AMERICAN_EXPRESS,u.DINERS_CLUB,u.DISCOVER,u.JCB,u.UNIONPAY,u.MAESTRO,u.ELO,u.MIR,u.HIPER,u.HIPERCARD];function p(e){return c[e]||o[e]}function f(e,t){var n=r.indexOf(e);if(!t&&-1===n)throw new Error('"'+e+'" is not a supported card type.');return n}function h(e){var t,n=[];return s(e)?0===e.length?r.map((function(e){return i(p(e))})):(r.forEach((function(t){var r=p(t);l(e,r,n)})),(t=a(n))?[t]:n):[]}r=i(d),h.getTypeInfo=function(e){return i(p(e))},h.removeCard=function(e){var t=f(e);r.splice(t,1)},h.addCard=function(e){var t=f(e.type,!0);c[e.type]=e,-1===t&&r.push(e.type)},h.updateCard=function(e,t){var n,r=c[e]||o[e];if(!r)throw new Error('"'+e+'" is not a recognized type. Use `addCard` instead.');if(t.type&&r.type!==t.type)throw new Error("Cannot overwrite type parameter.");n=i(r,!0),Object.keys(n).forEach((function(e){t[e]&&(n[e]=t[e])})),c[n.type]=n},h.changeOrder=function(e,t){var n=f(e);r.splice(n,1),r.splice(t,0,e)},h.resetModifications=function(){r=i(d),c={}},h.types=u,t.exports=h},{"./lib/add-matching-cards-to-results":32,"./lib/card-types":33,"./lib/clone":34,"./lib/find-best-match":35,"./lib/is-valid-input-type":36}],32:[function(e,t,n){"use strict";var r=e("./clone"),o=e("./matches");t.exports=function(e,t,n){var i,a,s,l;for(i=0;i<t.patterns.length;i++)if(a=t.patterns[i],o(e,a)){l=r(t),s=Array.isArray(a)?String(a[0]).length:String(a).length,e.length>=s&&(l.matchStrength=s),n.push(l);break}}},{"./clone":34,"./matches":37}],33:[function(e,t,n){"use strict";t.exports={visa:{niceType:"Visa",type:"visa",patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},mastercard:{niceType:"Mastercard",type:"mastercard",patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},"american-express":{niceType:"American Express",type:"american-express",patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},"diners-club":{niceType:"Diners Club",type:"diners-club",patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},discover:{niceType:"Discover",type:"discover",patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},jcb:{niceType:"JCB",type:"jcb",patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},unionpay:{niceType:"UnionPay",type:"unionpay",patterns:[620,[624,626],[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[622019,622999],[62207,62209],[622126,622925],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292,810,[8110,8131],[8132,8151],[8152,8163],[8164,8171]],gaps:[4,8,12],lengths:[14,15,16,17,18,19],code:{name:"CVN",size:3}},maestro:{niceType:"Maestro",type:"maestro",patterns:[493698,[5e5,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},elo:{niceType:"Elo",type:"elo",patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},mir:{niceType:"Mir",type:"mir",patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},hiper:{niceType:"Hiper",type:"hiper",patterns:[637095,637568,637599,637609,637612],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},hipercard:{niceType:"Hipercard",type:"hipercard",patterns:[606282],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}}}},{}],34:[function(e,t,n){"use strict";t.exports=function(e){return e?JSON.parse(JSON.stringify(e)):null}},{}],35:[function(e,t,n){"use strict";t.exports=function(e){if(function(e){var t=e.filter((function(e){return e.matchStrength})).length;return t>0&&t===e.length}(e))return e.reduce((function(e,t){return e?e.matchStrength<t.matchStrength?t:e:t}))}},{}],36:[function(e,t,n){"use strict";t.exports=function(e){return"string"==typeof e||e instanceof String}},{}],37:[function(e,t,n){"use strict";t.exports=function(e,t){return Array.isArray(t)?function(e,t,n){var r=String(t).length,o=e.substr(0,r),i=parseInt(o,10);return t=parseInt(String(t).substr(0,o.length),10),n=parseInt(String(n).substr(0,o.length),10),i>=t&&i<=n}(e,t[0],t[1]):function(e,t){return(t=String(t)).substring(0,e.length)===e.substring(0,t.length)}(e,t)}},{}],38:[function(e,n,r){(function(e){"use strict";var t,r,o=[],i={},a="/*framebus*/";function s(e){var n,r=u(this);return!d(e)&&!d(r)&&!1!==(n=p(e,Array.prototype.slice.call(arguments,1),r))&&(v(t.top||t.self,n,r),!0)}function l(e,t){var n=u(this);return!O(e,t,n)&&(i[n]=i[n]||{},i[n][e]=i[n][e]||[],i[n][e].push(t),!0)}function c(e,t){var n,r,o=u(this);if(O(e,t,o))return!1;if(!(r=i[o]&&i[o][e]))return!1;for(n=0;n<r.length;n++)if(r[n]===t)return r.splice(n,1),!0;return!1}function u(e){return e&&e._origin||"*"}function d(e){return"string"!=typeof e}function p(e,t,n){var r=!1,o={event:e,origin:n},i=t[t.length-1];"function"==typeof i&&(o.reply=y(i,n),t=t.slice(0,-1)),o.args=t;try{r=a+JSON.stringify(o)}catch(e){throw new Error("Could not stringify event: "+e.message)}return r}function f(e){var t,n,r,o;if(e.data.slice(0,a.length)!==a)return!1;try{t=JSON.parse(e.data.slice(a.length))}catch(e){return!1}return null!=t.reply&&(n=e.origin,r=e.source,o=t.reply,t.reply=function(e){var t;return!!r&&!1!==(t=p(o,[e],n))&&void r.postMessage(t,n)},t.args.push(t.reply)),t}function h(n){t||((t=n||e).addEventListener?t.addEventListener("message",g,!1):t.attachEvent?t.attachEvent("onmessage",g):null===t.onmessage?t.onmessage=g:t=null)}function m(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function g(e){var t;d(e.data)||(t=f(e))&&(b("*",t.event,t.args,e),b(e.origin,t.event,t.args,e),function(e,t,n){var r,i;for(r=o.length-1;r>=0;r--)!0===(i=o[r]).closed?o=o.slice(r,1):n!==i&&v(i.top,e,t)}(e.data,t.origin,e.source))}function b(e,t,n,r){var o;if(i[e]&&i[e][t])for(o=0;o<i[e][t].length;o++)i[e][t][o].apply(r,n)}function v(e,t,n){var r,o=0;try{for(e.postMessage(t,n),function(e){return e.top===e&&null!=e.opener&&e.opener!==e&&!0!==e.opener.closed}(e)&&v(e.opener.top,t,n);r=e.frames[o];)v(r,t,n),o++}catch(e){}}function y(e,t){var n=m();return r.target(t).subscribe(n,(function o(i,a){e(i,a),r.target(t).unsubscribe(n,o)})),n}function O(e,t,n){return!!d(e)||"function"!=typeof t||!!d(n)}h(),r={target:function(e){var t,n={};for(t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n._origin=e||"*",n},_packagePayload:p,_unpackPayload:f,_attach:h,_detach:function(){null!=t&&(t.removeEventListener?t.removeEventListener("message",g,!1):t.detachEvent?t.detachEvent("onmessage",g):t.onmessage===g&&(t.onmessage=null),t=null,o=[],i={})},_dispatch:b,_broadcast:v,_subscribeReplier:y,_subscriptionArgsInvalid:O,_onmessage:g,_uuid:m,_getSubscribers:function(){return i},_win:function(){return t},include:function(e){return null!=e&&null!=e.Window&&e.constructor===e.Window&&(o.push(e),!0)},publish:s,pub:s,trigger:s,emit:s,subscribe:l,sub:l,on:l,unsubscribe:c,unsub:c,off:c},n.exports=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(e,t,r){"use strict";var o=setTimeout;function i(e){return Boolean(e&&void 0!==e.length)}function a(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function l(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}c(t.promise,r)}else(1===e._state?c:u)(t.promise,e._value)}))):e._deferreds.push(t)}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof s)return e._state=3,e._value=t,void d(e);if("function"==typeof n)return void f((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(t){u(e,t)}var r,o}function u(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&s._immediateFn((function(){e._handled||s._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)l(e,e._deferreds[t]);e._deferreds=null}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,c(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(e){if(n)return;n=!0,u(t,e)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=new this.constructor(a);return l(this,new p(e,t,n)),n},s.prototype.finally=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},s.all=function(e){return new s((function(t,n){if(!i(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function a(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var s=i.then;if("function"==typeof s)return void s.call(i,(function(t){a(e,t)}),n)}r[e]=i,0==--o&&t(r)}catch(e){n(e)}}for(var s=0;s<r.length;s++)a(s,r[s])}))},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,n){n(e)}))},s.race=function(e){return new s((function(t,n){if(!i(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=e.length;r<o;r++)s.resolve(e[r]).then(t,n)}))},s._immediateFn="function"==typeof n&&function(e){n(e)}||function(e){o(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.exports=s},{}],40:[function(e,n,r){(function(t){"use strict";var r=t.navigator&&t.navigator.userAgent,o=e("@braintree/browser-detection/is-android"),i=e("@braintree/browser-detection/is-chrome-os"),a=e("@braintree/browser-detection/is-chrome"),s=e("@braintree/browser-detection/is-ios"),l=e("@braintree/browser-detection/is-ie9"),c=/Version\/\d\.\d* Chrome\/\d*\.0\.0\.0/;n.exports={isIE9:l,isAndroidChrome:function(e){var t=e||r;return(o(t)||i(t))&&a(t)},isIos:s,isKitKatWebview:function(e){var t=e||r;return o(t)&&c.test(t)},isSamsungBrowser:function(e){return/SamsungBrowser/.test(e=e||r)||function(e){return!a(e)&&e.indexOf("Samsung")>-1}(e)}}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@braintree/browser-detection/is-android":3,"@braintree/browser-detection/is-chrome":5,"@braintree/browser-detection/is-chrome-os":4,"@braintree/browser-detection/is-ie9":11,"@braintree/browser-detection/is-ios":16}],41:[function(e,t,n){"use strict";var r=e("./lib/device");t.exports=function(){return!r.isSamsungBrowser()}},{"./lib/device":40}],42:[function(e,t,n){"use strict";var r=e("../lib/braintree-error"),o=e("./errors"),i=e("../lib/assign").assign,a=e("../lib/promise"),s=e("../lib/methods"),l=e("../lib/convert-methods-to-error"),c=e("@braintree/wrap-promise");function u(e){this._client=e.client}u.prototype.getRewardsBalance=function(e){var t,n=e.nonce;return n?(delete(t=i({_meta:{source:"american-express"},paymentMethodNonce:n},e)).nonce,this._client.request({method:"get",endpoint:"payment_methods/amex_rewards_balance",data:t}).catch((function(e){return a.reject(new r({type:o.AMEX_NETWORK_ERROR.type,code:o.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express rewards balance.",details:{originalError:e}}))}))):a.reject(new r({type:o.AMEX_NONCE_REQUIRED.type,code:o.AMEX_NONCE_REQUIRED.code,message:"getRewardsBalance must be called with a nonce."}))},u.prototype.getExpressCheckoutProfile=function(e){return e.nonce?this._client.request({method:"get",endpoint:"payment_methods/amex_express_checkout_cards/"+e.nonce,data:{_meta:{source:"american-express"},paymentMethodNonce:e.nonce}}).catch((function(e){return a.reject(new r({type:o.AMEX_NETWORK_ERROR.type,code:o.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express Checkout nonce profile.",details:{originalError:e}}))})):a.reject(new r({type:o.AMEX_NONCE_REQUIRED.type,code:o.AMEX_NONCE_REQUIRED.code,message:"getExpressCheckoutProfile must be called with a nonce."}))},u.prototype.teardown=function(){return l(this,s(u.prototype)),a.resolve()},t.exports=c.wrapPrototype(u)},{"../lib/assign":95,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/methods":130,"../lib/promise":132,"./errors":43,"@braintree/wrap-promise":30}],43:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={AMEX_NONCE_REQUIRED:{type:r.types.MERCHANT,code:"AMEX_NONCE_REQUIRED"},AMEX_NETWORK_ERROR:{type:r.types.NETWORK,code:"AMEX_NETWORK_ERROR"}}},{"../lib/braintree-error":98}],44:[function(e,t,n){"use strict";var r=e("./american-express"),o=e("../lib/basic-component-verification"),i=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),s=e("@braintree/wrap-promise");t.exports={create:s((function(e){var t="American Express";return o.verify({name:t,client:e.client,authorization:e.authorization}).then((function(){return i.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:t})})).then((function(t){return e.client=t,new r(e)}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"./american-express":42,"@braintree/wrap-promise":30}],45:[function(e,n,r){(function(t){"use strict";var r=e("../lib/braintree-error"),o=e("../lib/analytics"),i=e("./errors"),a=e("../lib/promise"),s=e("../lib/methods"),l=e("../lib/convert-methods-to-error"),c=e("@braintree/wrap-promise");function u(e){this._client=e.client,Object.defineProperty(this,"merchantIdentifier",{value:this._client.getConfiguration().gatewayConfiguration.applePayWeb.merchantIdentifier,configurable:!1,writable:!1})}u.prototype.createPaymentRequest=function(e){var t=this._client.getConfiguration().gatewayConfiguration.applePayWeb,n={countryCode:t.countryCode,currencyCode:t.currencyCode,merchantCapabilities:t.merchantCapabilities||["supports3DS"],supportedNetworks:t.supportedNetworks.map((function(e){return"mastercard"===e?"masterCard":e}))};return Object.assign({},n,e)},u.prototype.performValidation=function(e){var n,s=this;return e&&e.validationURL?(n={validationUrl:e.validationURL,domainName:e.domainName||t.location.hostname,merchantIdentifier:e.merchantIdentifier||this.merchantIdentifier},null!=e.displayName&&(n.displayName=e.displayName),this._client.request({method:"post",endpoint:"apple_pay_web/sessions",data:{_meta:{source:"apple-pay"},applePayWebSession:n}}).then((function(e){return o.sendEvent(s._client,"applepay.performValidation.succeeded"),a.resolve(e)})).catch((function(e){return o.sendEvent(s._client,"applepay.performValidation.failed"),"CLIENT_REQUEST_ERROR"===e.code?a.reject(new r({type:i.APPLE_PAY_MERCHANT_VALIDATION_FAILED.type,code:i.APPLE_PAY_MERCHANT_VALIDATION_FAILED.code,message:i.APPLE_PAY_MERCHANT_VALIDATION_FAILED.message,details:{originalError:e.details.originalError}})):a.reject(new r({type:i.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.type,code:i.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.code,message:i.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.message,details:{originalError:e}}))}))):a.reject(new r(i.APPLE_PAY_VALIDATION_URL_REQUIRED))},u.prototype.tokenize=function(e){var t=this;return e.token?this._client.request({method:"post",endpoint:"payment_methods/apple_payment_tokens",data:{_meta:{source:"apple-pay"},applePaymentToken:Object.assign({},e.token,{paymentData:btoa(JSON.stringify(e.token.paymentData))})}}).then((function(e){return o.sendEvent(t._client,"applepay.tokenize.succeeded"),a.resolve(e.applePayCards[0])})).catch((function(e){return o.sendEvent(t._client,"applepay.tokenize.failed"),a.reject(new r({type:i.APPLE_PAY_TOKENIZATION.type,code:i.APPLE_PAY_TOKENIZATION.code,message:i.APPLE_PAY_TOKENIZATION.message,details:{originalError:e}}))})):a.reject(new r(i.APPLE_PAY_PAYMENT_TOKEN_REQUIRED))},u.prototype.teardown=function(){return l(this,s(u.prototype)),a.resolve()},n.exports=c.wrapPrototype(u)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/analytics":93,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/methods":130,"../lib/promise":132,"./errors":46,"@braintree/wrap-promise":30}],46:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={APPLE_PAY_NOT_ENABLED:{type:r.types.MERCHANT,code:"APPLE_PAY_NOT_ENABLED",message:"Apple Pay is not enabled for this merchant."},APPLE_PAY_VALIDATION_URL_REQUIRED:{type:r.types.MERCHANT,code:"APPLE_PAY_VALIDATION_URL_REQUIRED",message:"performValidation must be called with a validationURL."},APPLE_PAY_MERCHANT_VALIDATION_NETWORK:{type:r.types.NETWORK,code:"APPLE_PAY_MERCHANT_VALIDATION_NETWORK",message:"A network error occurred when validating the Apple Pay merchant."},APPLE_PAY_MERCHANT_VALIDATION_FAILED:{type:r.types.MERCHANT,code:"APPLE_PAY_MERCHANT_VALIDATION_FAILED",message:"Make sure you have registered your domain name in the Braintree Control Panel."},APPLE_PAY_PAYMENT_TOKEN_REQUIRED:{type:r.types.MERCHANT,code:"APPLE_PAY_PAYMENT_TOKEN_REQUIRED",message:"tokenize must be called with a payment token."},APPLE_PAY_TOKENIZATION:{type:r.types.NETWORK,code:"APPLE_PAY_TOKENIZATION",message:"A network error occurred when processing the Apple Pay payment."}}},{"../lib/braintree-error":98}],47:[function(e,t,n){"use strict";var r=e("../lib/braintree-error"),o=e("./apple-pay"),i=e("../lib/analytics"),a=e("../lib/basic-component-verification"),s=e("../lib/create-deferred-client"),l=e("../lib/create-assets-url"),c=e("./errors"),u=e("../lib/promise"),d=e("@braintree/wrap-promise");t.exports={create:d((function(e){return a.verify({name:"Apple Pay",client:e.client,authorization:e.authorization}).then((function(){return s.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:l.create(e.authorization),name:"Apple Pay"})})).then((function(t){return e.client=t,e.client.getConfiguration().gatewayConfiguration.applePayWeb?(i.sendEvent(e.client,"applepay.initialized"),new o(e)):u.reject(new r(c.APPLE_PAY_NOT_ENABLED))}))})),VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./apple-pay":45,"./errors":46,"@braintree/wrap-promise":30}],48:[function(e,t,n){"use strict";var r=e("@braintree/browser-detection/is-ie"),o=e("@braintree/browser-detection/is-ie9");t.exports={isIe:r,isIe9:o}},{"@braintree/browser-detection/is-ie":8,"@braintree/browser-detection/is-ie9":11}],49:[function(e,t,n){"use strict";var r=e("./constants").BRAINTREE_VERSION,o=e("./request/graphql"),i=e("./request"),a=e("../lib/is-verified-domain"),s=e("../lib/braintree-error"),l=e("../lib/convert-to-braintree-error"),c=e("./get-configuration").getConfiguration,u=e("../lib/create-authorization-data"),d=e("../lib/add-metadata"),p=e("../lib/promise"),f=e("@braintree/wrap-promise"),h=e("../lib/once"),m=e("../lib/deferred"),g=e("../lib/assign").assign,b=e("../lib/analytics"),v=e("./errors"),y=e("../lib/constants").VERSION,O=e("../lib/constants").GRAPHQL_URLS,x=e("../lib/methods"),j=e("../lib/convert-methods-to-error"),E=e("../lib/assets"),S=e("../lib/constants").FRAUDNET_FNCLS,C=e("../lib/constants").FRAUDNET_SOURCE,_=e("../lib/constants").FRAUDNET_URL,A={};function N(e){var t,n;if(e=e||{},t=JSON.stringify(e),!(n=e.gatewayConfiguration))throw new s(v.CLIENT_MISSING_GATEWAY_CONFIGURATION);["assetsUrl","clientApiUrl","configUrl"].forEach((function(e){if(e in n&&!a(n[e]))throw new s({type:v.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:v.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:e+" property is on an invalid domain."})})),this.getConfiguration=function(){return JSON.parse(t)},this._request=i,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=n.clientApiUrl+"/v1/",n.graphQL&&(this._graphQL=new o({graphQL:n.graphQL}))}N.initialize=function(e){var t,n,r=A[e.authorization];if(r)return b.sendEvent(r,"custom.client.load.cached"),r;try{n=u(e.authorization)}catch(e){return p.reject(new s(v.CLIENT_INVALID_AUTHORIZATION))}return r=c(n).then((function(n){return e.debug&&(n.isDebug=!0),n.authorization=e.authorization,t=new N(n)})),A[e.authorization]=r,b.sendEvent(r,"custom.client.load.initialized"),r.then((function(e){return b.sendEvent(t,"custom.client.load.succeeded"),e})).catch((function(t){return delete A[e.authorization],p.reject(t)}))},N.clearCache=function(){A={}},N.prototype._findOrCreateFraudnetJSON=function(e){var t,n,r,o,i=document.querySelector('script[fncls="'+S+'"]');i||((i=document.body.appendChild(document.createElement("script"))).type="application/json",i.setAttribute("fncls",S)),t=this.getConfiguration(),n={rda_tenant:"bt_card",mid:t.gatewayConfiguration.merchantId},(r=t.authorizationFingerprint)&&r.split("&").forEach((function(e){var t=e.split("=");"customer_id"===t[0]&&t.length>1&&(n.cid=t[1])})),o={f:e.substr(0,32),fp:n,bu:!1,s:C},i.text=JSON.stringify(o)},N.prototype.request=function(e,t){var n=this,o=new p((function(t,o){var i,a,c,u,p,f=Boolean("payment_methods/credit_cards"===e.endpoint&&n.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if("graphQLApi"!==e.api&&(e.method?e.endpoint||(i="options.endpoint"):i="options.method"),i)throw new s({type:v.CLIENT_OPTION_REQUIRED.type,code:v.CLIENT_OPTION_REQUIRED.code,message:i+" is required when making a request."});if(a="api"in e?e.api:"clientApi",u={method:e.method,graphQL:n._graphQL,timeout:e.timeout,metadata:n._configuration.analyticsMetadata},"clientApi"===a)c=n._clientApiBaseUrl,u.data=d(n._configuration,e.data);else{if("graphQLApi"!==a)throw new s({type:v.CLIENT_OPTION_INVALID.type,code:v.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});c=O[n._configuration.gatewayConfiguration.environment],e.endpoint="",u.method="post",u.data=g({clientSdkMetadata:{source:n._configuration.analyticsMetadata.source,integration:n._configuration.analyticsMetadata.integration,sessionId:n._configuration.analyticsMetadata.sessionId}},e.data),u.headers={Authorization:"Bearer "+((p=n._configuration).authorizationFingerprint||p.authorization),"Braintree-Version":r}}u.url=c+e.endpoint,u.sendAnalyticsEvent=function(e){b.sendEvent(n,e)},n._request(u,(function(e,r,i){var c,u;(u=function(e,t){var n;if(-1===e?n=new s(v.CLIENT_REQUEST_TIMEOUT):403===e?n=new s(v.CLIENT_AUTHORIZATION_INSUFFICIENT):429===e?n=new s(v.CLIENT_RATE_LIMITED):e>=500?n=new s(v.CLIENT_GATEWAY_NETWORK):(e<200||e>=400)&&(n=l(t,{type:v.CLIENT_REQUEST_ERROR.type,code:v.CLIENT_REQUEST_ERROR.code,message:v.CLIENT_REQUEST_ERROR.message})),n)return n.details=n.details||{},n.details.httpStatus=e,n}(i,e))?o(u):"graphQLApi"===a&&r.errors?o(l(r.errors,{type:v.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:v.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:v.CLIENT_GRAPHQL_REQUEST_ERROR.message})):(c=g({_httpStatus:i},r),f&&c.creditCards&&c.creditCards.length>0&&(n._findOrCreateFraudnetJSON(c.creditCards[0].nonce),E.loadScript({src:_,forceScriptReload:!0})),t(c))}))}));return"function"==typeof t?(t=h(m(t)),void o.then((function(e){t(null,e,e._httpStatus)})).catch((function(e){var n=e&&e.details&&e.details.httpStatus;t(e,null,n)}))):o},N.prototype.toJSON=function(){return this.getConfiguration()},N.prototype.getVersion=function(){return y},N.prototype.teardown=f((function(){return delete A[this.getConfiguration().authorization],j(this,x(N.prototype)),p.resolve()})),t.exports=N},{"../lib/add-metadata":92,"../lib/analytics":93,"../lib/assets":94,"../lib/assign":95,"../lib/braintree-error":98,"../lib/constants":103,"../lib/convert-methods-to-error":104,"../lib/convert-to-braintree-error":105,"../lib/create-authorization-data":107,"../lib/deferred":109,"../lib/is-verified-domain":128,"../lib/methods":130,"../lib/once":131,"../lib/promise":132,"./constants":50,"./errors":51,"./get-configuration":52,"./request":64,"./request/graphql":62,"@braintree/wrap-promise":30}],50:[function(e,t,n){"use strict";t.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],51:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:r.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:r.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:r.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:r.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:r.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:r.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:r.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:r.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:r.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:r.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."}}},{"../lib/braintree-error":98}],52:[function(e,n,r){(function(t){"use strict";var r=e("../lib/braintree-error"),o=e("../lib/promise"),i=e("@braintree/wrap-promise"),a=e("./request"),s=e("../lib/vendor/uuid"),l=e("../lib/constants"),c=e("./errors"),u=e("./request/graphql"),d=e("../lib/constants").GRAPHQL_URLS,p=e("../lib/is-date-string-before-or-on"),f=e("./constants").BRAINTREE_VERSION;n.exports={getConfiguration:i((function(e){return new o((function(n,o){var i,h,m,g,b=s(),v={merchantAppId:t.location.host,platform:l.PLATFORM,sdkVersion:l.VERSION,source:l.SOURCE,integration:l.INTEGRATION,integrationType:l.INTEGRATION,sessionId:b};h=e.attrs,m=e.configUrl,h._meta=v,h.braintreeLibraryVersion=l.BRAINTREE_LIBRARY_VERSION,h.configVersion="3",g={url:m,method:"GET",data:h},h.authorizationFingerprint&&e.graphQL?(p(e.graphQL.date,f)&&(g.graphQL=new u({graphQL:{url:e.graphQL.url,features:["configuration"]}})),g.metadata=v):h.tokenizationKey&&(g.graphQL=new u({graphQL:{url:d[e.environment],features:["configuration"]}}),g.metadata=v),a(g,(function(e,t,a){var s;if(e)return s=403===a?c.CLIENT_AUTHORIZATION_INSUFFICIENT:c.CLIENT_GATEWAY_NETWORK,void o(new r({type:s.type,code:s.code,message:s.message,details:{originalError:e}}));i={authorizationType:h.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:h.authorizationFingerprint,analyticsMetadata:v,gatewayConfiguration:t},n(i)}))}))}))}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/braintree-error":98,"../lib/constants":103,"../lib/is-date-string-before-or-on":126,"../lib/promise":132,"../lib/vendor/uuid":136,"./constants":50,"./errors":51,"./request":64,"./request/graphql":62,"@braintree/wrap-promise":30}],53:[function(e,t,n){"use strict";var r=e("../lib/braintree-error"),o=e("./client"),i=e("../lib/promise"),a=e("@braintree/wrap-promise"),s=e("../lib/errors");t.exports={create:a((function(e){return e.authorization?o.initialize(e):i.reject(new r({type:s.INSTANTIATION_OPTION_REQUIRED.type,code:s.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))})),VERSION:"3.58.0"}},{"../lib/braintree-error":98,"../lib/errors":112,"../lib/promise":132,"./client":49,"@braintree/wrap-promise":30}],54:[function(e,t,n){"use strict";var r=e("../../lib/querystring"),o=e("../../lib/assign").assign,i=e("./prep-body"),a=e("./parse-body"),s=e("./xhr"),l=s.isAvailable,c=e("./graphql/request"),u=e("./default-request");t.exports={request:function(e,t){!function e(t,n,d){var p,f,h,m,g,b,v,y=t.url,O=t.graphQL,x=t.timeout,j=s.getRequestObject(),E=d,S=Boolean(O&&O.isGraphQLRequest(y,t.data));t.headers=o({"Content-Type":"application/json"},t.headers),y=(h=S?new c(t):new u(t)).getUrl(),m=h.getBody(),g=h.getMethod(),b=h.getHeaders(),"GET"===g&&(y=r.queryify(y,m),m=null),l?j.onreadystatechange=function(){if(4===j.readyState){if(0===j.status&&S)return delete t.graphQL,void e(t,n,d);if(v=a(j.responseText),f=h.adaptResponseBody(v),(p=h.determineStatus(j.status,v))>=400||p<200){if(S&&function(e){var t=!e.data&&e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorClass;return"UNKNOWN"===t||"INTERNAL"===t}(v))return delete t.graphQL,void e(t,n,d);if(n<1&&function(e){return!e||408===e}(p))return n++,void e(t,n,d);E(f||"error",null,p||500)}else E(null,f,p)}}:(t.headers&&(y=r.queryify(y,b)),j.onload=function(){E(null,a(j.responseText),j.status)},j.onerror=function(){E("error",null,500)},j.onprogress=function(){},j.ontimeout=function(){E("timeout",null,-1)});try{j.open(g,y,!0)}catch(r){if(!S)throw r;return delete t.graphQL,void e(t,n,d)}j.timeout=x,l&&Object.keys(b).forEach((function(e){j.setRequestHeader(e,b[e])}));try{j.send(i(g,m))}catch(e){}}(e,0,t)}}},{"../../lib/assign":95,"../../lib/querystring":133,"./default-request":55,"./graphql/request":63,"./parse-body":67,"./prep-body":68,"./xhr":69}],55:[function(e,t,n){"use strict";function r(e){this._url=e.url,this._data=e.data,this._method=e.method,this._headers=e.headers}r.prototype.getUrl=function(){return this._url},r.prototype.getBody=function(){return this._data},r.prototype.getMethod=function(){return this._method},r.prototype.getHeaders=function(){return this._headers},r.prototype.adaptResponseBody=function(e){return e},r.prototype.determineStatus=function(e){return e},t.exports=r},{}],56:[function(e,n,r){(function(e){"use strict";n.exports=function(){return e.navigator.userAgent}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],57:[function(e,t,n){"use strict";var r=e("./error"),o=e("../../../../lib/assign").assign,i={AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},a={VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex"},s={VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},l={VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex"},c={VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"};function u(e,t){return e.reduce((function(e,n){return t.hasOwnProperty(n)?e.concat(t[n]):e}),[])}t.exports=function(e,t){return e.data&&!e.errors?function(e,t){var n,r=e.data.clientConfiguration;return n={environment:r.environment.toLowerCase(),clientApiUrl:r.clientApiUrl,assetsUrl:r.assetsUrl,analytics:{url:r.analyticsUrl},merchantId:r.merchantId,venmo:"off"},r.supportedFeatures&&(n.graphQL={url:t._graphQL._config.url,features:r.supportedFeatures.map((function(e){return e.toLowerCase()}))}),r.braintreeApi&&(n.braintreeApi=r.braintreeApi),r.applePayWeb&&(n.applePayWeb=r.applePayWeb,n.applePayWeb.supportedNetworks=u(r.applePayWeb.supportedCardBrands,a),delete n.applePayWeb.supportedCardBrands),r.ideal&&(n.ideal=r.ideal),r.kount&&(n.kount={kountMerchantId:r.kount.merchantId}),r.creditCard?(n.challenges=r.creditCard.challenges.map((function(e){return e.toLowerCase()})),n.creditCards={supportedCardTypes:u(r.creditCard.supportedCardBrands,i)},n.threeDSecureEnabled=r.creditCard.threeDSecureEnabled,n.threeDSecure=r.creditCard.threeDSecure):(n.challenges=[],n.creditCards={supportedCardTypes:[]},n.threeDSecureEnabled=!1),r.googlePay&&(n.androidPay={displayName:r.googlePay.displayName,enabled:!0,environment:r.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:r.googlePay.googleAuthorization,supportedNetworks:u(r.googlePay.supportedCardBrands,l)}),r.venmo&&(n.payWithVenmo={merchantId:r.venmo.merchantId,accessToken:r.venmo.accessToken,environment:r.venmo.environment.toLowerCase()}),r.paypal?(n.paypalEnabled=!0,n.paypal=o({},r.paypal),n.paypal.currencyIsoCode=n.paypal.currencyCode,n.paypal.environment=n.paypal.environment.toLowerCase(),delete n.paypal.currencyCode):n.paypalEnabled=!1,r.unionPay&&(n.unionPay={enabled:!0,merchantAccountId:r.unionPay.merchantAccountId}),r.visaCheckout&&(n.visaCheckout={apikey:r.visaCheckout.apiKey,externalClientId:r.visaCheckout.externalClientId,supportedCardTypes:u(r.visaCheckout.supportedCardBrands,s)}),r.masterpass&&(n.masterpass={merchantCheckoutId:r.masterpass.merchantCheckoutId,supportedNetworks:u(r.masterpass.supportedCardBrands,c)}),r.usBankAccount&&(n.usBankAccount={routeId:r.usBankAccount.routeId,plaid:{publicKey:r.usBankAccount.plaidPublicKey}}),n}(e,t):r(e)}},{"../../../../lib/assign":95,"./error":59}],58:[function(e,t,n){"use strict";var r=e("./error"),o={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"Union Pay",VISA:"Visa"},i={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},a={PSDTWO:"psd2"};t.exports=function(e){return e.data&&!e.errors?(s=e.data.tokenizeCreditCard,l=s.creditCard,c=l.last4?l.last4.substr(2,4):"",(u=l.binData)&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach((function(e){u[e]?u[e]=i[u[e]]:u[e]="Unknown"})),["issuingBank","countryOfIssuance","productId"].forEach((function(e){u[e]||(u[e]="Unknown")}))),t={creditCards:[{binData:u,consumed:!1,description:c?"ending in "+c:"",nonce:s.token,details:{expirationMonth:l.expirationMonth,expirationYear:l.expirationYear,bin:l.bin||"",cardType:o[l.brandCode]||"Unknown",lastFour:l.last4||"",lastTwo:c},type:"CreditCard",threeDSecureInfo:null}]},s.authenticationInsight&&(n=s.authenticationInsight.customerAuthenticationRegulationEnvironment,t.creditCards[0].authenticationInsight={regulationEnvironment:a[n]||n.toLowerCase()}),t):r(e);var t,n,s,l,c,u}},{"./error":59}],59:[function(e,t,n){"use strict";t.exports=function(e){var t=e.errors&&e.errors[0]&&e.errors[0].extensions&&e.errors[0].extensions.errorClass;return"VALIDATION"===t?function(e){var t,n,r=function(e){var t=[];return e.forEach((function(e){e.extensions&&e.extensions.inputPath&&function e(t,n,r){var o,i=n.extensions.legacyCode,a=t[0];1!==t.length?(r.forEach((function(e){e.field===a&&(o=e)})),o||(o={field:a,fieldErrors:[]},r.push(o)),e(t.slice(1),n,o.fieldErrors)):r.push({code:i,field:a,message:n.message})}(e.extensions.inputPath.slice(1),e,t)})),t}(e.errors);return 0===r.length?{error:{message:e.errors[0].message}}:{error:{message:(t=r,n=t[0].field,{creditCard:"Credit card is invalid"}[n])},fieldErrors:r}}(e):t?function(e){return{error:{message:e.errors[0].message},fieldErrors:[]}}(e):{error:{message:"There was a problem serving your request"},fieldErrors:[]}}},{}],60:[function(e,t,n){"use strict";t.exports=function(){return{query:"query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment     }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }",operationName:"ClientConfiguration"}}},{}],61:[function(e,t,n){"use strict";var r=e("../../../../lib/assign").assign;function o(e,t){var n=e.creditCard,o=n&&n.billingAddress,i=n&&n.expirationDate,a=n&&(n.expirationMonth||i&&i.split("/")[0].trim()),s=n&&(n.expirationYear||i&&i.split("/")[1].trim()),l={input:{creditCard:{number:n&&n.number,expirationMonth:a,expirationYear:s,cvv:n&&n.cvv,cardholderName:n&&n.cardholderName},options:{}}};return t.hasAuthenticationInsight&&(l.authenticationInsightInput={merchantAccountId:e.merchantAccountId}),o&&(l.input.creditCard.billingAddress=o),l.input=function(e,t){var n;return e.creditCard&&e.creditCard.options&&"boolean"==typeof e.creditCard.options.validate?n=e.creditCard.options.validate:e.authorizationFingerprint&&e.tokenizationKey||e.authorizationFingerprint?n=!0:e.tokenizationKey&&(n=!1),"boolean"==typeof n&&(t.options=r({validate:n},t.options)),t}(e,l.input),l}t.exports=function(e){var t,n,r,i={hasAuthenticationInsight:Boolean(e.authenticationInsight&&e.merchantAccountId)};return{query:(t=i,n=t.hasAuthenticationInsight,r="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!",n&&(r+=", $authenticationInsightInput: AuthenticationInsightInput!"),r+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } ",n&&(r+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),r+="  } }"),variables:o(e,i),operationName:"TokenizeCreditCard"}}},{"../../../../lib/assign":95}],62:[function(e,t,n){"use strict";var r=e("../../browser-detection"),o={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},i=["creditCard.options.unionPayEnrollment"];function a(e){this._config=e.graphQL}a.prototype.getGraphQLEndpoint=function(){return this._config.url},a.prototype.isGraphQLRequest=function(e,t){var n,a=this.getClientApiPath(e);return!(!this._isGraphQLEnabled()||!a||r.isIe9())&&(n=this._config.features.some((function(e){return o[e]===a})),!function(e){return i.some((function(t){return void 0!==t.split(".").reduce((function(e,t){return e&&e[t]}),e)}))}(t)&&n)},a.prototype.getClientApiPath=function(e){var t,n=e.split("/client_api/v1/");return n.length>1&&(t=n[1].split("?")[0]),t},a.prototype._isGraphQLEnabled=function(){return Boolean(this._config)},t.exports=a},{"../../browser-detection":48}],63:[function(e,t,n){"use strict";var r=e("../../constants").BRAINTREE_VERSION,o=e("../../../lib/assign").assign,i=e("./generators/credit-card-tokenization"),a=e("./adapters/credit-card-tokenization"),s=e("./generators/configuration"),l=e("./adapters/configuration"),c={"payment_methods/credit_cards":i,configuration:s},u={"payment_methods/credit_cards":a,configuration:l};function d(e){var t=e.graphQL.getClientApiPath(e.url);this._graphQL=e.graphQL,this._data=e.data,this._method=e.method,this._headers=e.headers,this._clientSdkMetadata={source:e.metadata.source,integration:e.metadata.integration,sessionId:e.metadata.sessionId},this._sendAnalyticsEvent=e.sendAnalyticsEvent||Function.prototype,this._generator=c[t],this._adapter=u[t],this._sendAnalyticsEvent("graphql.init")}d.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},d.prototype.getBody=function(){var e=function e(t){var n={};return Object.keys(t).forEach((function(r){var o,i=-1===(o=r).indexOf("_")?o:o.toLowerCase().replace(/(\_\w)/g,(function(e){return e[1].toUpperCase()}));"object"==typeof t[r]?n[i]=e(t[r]):"number"==typeof t[r]?n[i]=String(t[r]):n[i]=t[r]})),n}(this._data),t=this._generator(e),n=o({clientSdkMetadata:this._clientSdkMetadata},t);return JSON.stringify(n)},d.prototype.getMethod=function(){return"POST"},d.prototype.getHeaders=function(){var e,t;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),e=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),e=this._data.tokenizationKey),t={Authorization:"Bearer "+e,"Braintree-Version":r},o({},this._headers,t)},d.prototype.adaptResponseBody=function(e){return this._adapter(e,this)},d.prototype.determineStatus=function(e,t){var n,r;return 200===e?(r=t.errors&&t.errors[0]&&t.errors[0].extensions&&t.errors[0].extensions.errorClass,n=t.data&&!t.errors?200:"VALIDATION"===r?422:"AUTHORIZATION"===r?403:"AUTHENTICATION"===r?401:function(e,t){return!e&&t.errors[0].message}(r,t)?403:500):n=e||500,this._sendAnalyticsEvent("graphql.status."+e),this._sendAnalyticsEvent("graphql.determinedStatus."+n),n},t.exports=d},{"../../../lib/assign":95,"../../constants":50,"./adapters/configuration":57,"./adapters/credit-card-tokenization":58,"./generators/configuration":60,"./generators/credit-card-tokenization":61}],64:[function(e,t,n){"use strict";var r,o=e("../../lib/once"),i=e("./jsonp-driver"),a=e("./ajax-driver"),s=e("./get-user-agent"),l=e("./is-http");t.exports=function(e,t){t=o(t||Function.prototype),e.method=(e.method||"GET").toUpperCase(),e.timeout=null==e.timeout?6e4:e.timeout,e.data=e.data||{},null==r&&(r=!(l()&&/MSIE\s(8|9)/.test(s()))),r?a.request(e,t):i.request(e,t)}},{"../../lib/once":131,"./ajax-driver":54,"./get-user-agent":56,"./is-http":65,"./jsonp-driver":66}],65:[function(e,n,r){(function(e){"use strict";n.exports=function(){return"http:"===e.location.protocol}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],66:[function(e,n,r){(function(t){"use strict";var r,o=e("../../lib/vendor/uuid"),i=e("../../lib/querystring"),a={};function s(e){try{delete t[e]}catch(n){t[e]=null}}n.exports={request:function(e,n){var l,c="callback_json_"+o().replace(/-/g,""),u=e.url,d=e.data,p=e.method,f=e.timeout;u=i.queryify(u,d),function(e,n,r){t[r]=function(t){var o=t.status||500,i=null,l=null;delete t.status,o>=400||o<200?i=t:l=t,s(r),function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}(e),clearTimeout(a[r]),n(i,l,o)}}(l=function(e,n){var r=document.createElement("script"),o=!1;return r.src=e,r.async=!0,r.onerror=function(){t[n]({message:"error",status:500})},r.onload=r.onreadystatechange=function(){o||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(o=!0,r.onload=r.onreadystatechange=null)},r}(u=i.queryify(u,{_method:p,callback:c}),c),n,c),function(e,n){a[n]=setTimeout((function(){a[n]=null,t[n]({error:"timeout",status:-1}),t[n]=function(){s(n)}}),e)}(f,c),r||(r=document.getElementsByTagName("head")[0]),r.appendChild(l)}}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/querystring":133,"../../lib/vendor/uuid":136}],67:[function(e,t,n){"use strict";t.exports=function(e){try{e=JSON.parse(e)}catch(e){}return e}},{}],68:[function(e,t,n){"use strict";t.exports=function(e,t){if("string"!=typeof e)throw new Error("Method must be a string");return"get"!==e.toLowerCase()&&null!=t&&(t="string"==typeof t?t:JSON.stringify(t)),t}},{}],69:[function(e,n,r){(function(e){"use strict";var t=e.XMLHttpRequest&&"withCredentials"in new e.XMLHttpRequest;n.exports={isAvailable:t,getRequestObject:function(){return t?new e.XMLHttpRequest:new e.XDomainRequest}}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],70:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={DATA_COLLECTOR_KOUNT_NOT_ENABLED:{type:r.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_NOT_ENABLED",message:"Kount is not enabled for this merchant."},DATA_COLLECTOR_KOUNT_ERROR:{type:r.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_ERROR"},DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:r.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/braintree-error":98}],71:[function(e,t,n){"use strict";var r,o=e("../lib/constants").FRAUDNET_FNCLS,i=e("../lib/constants").FRAUDNET_SOURCE,a=e("../lib/constants").FRAUDNET_URL,s=e("../lib/assets").loadScript,l=e("../lib/promise");function c(){}function u(e){e&&e.parentNode&&e.parentNode.removeChild(e)}c.prototype.initialize=function(){var e,t,n=this;return this.sessionId=r=function(){var e,t="";for(e=0;e<32;e++)t+=Math.floor(16*Math.random()).toString(16);return t}(),this._beaconId=(e=this.sessionId,t=(new Date).getTime()/1e3,"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+e+"&t="+t+"&a=14"),this._parameterBlock=function(e,t){var n=document.body.appendChild(document.createElement("script"));return n.type="application/json",n.setAttribute("fncls",o),n.text=JSON.stringify({f:e,s:i,b:t}),n}(this.sessionId,this._beaconId),s({src:a}).then((function(e){return n._thirdPartyBlock=e,n})).catch((function(){return null}))},c.prototype.teardown=function(){u(document.querySelector('iframe[title="ppfniframe"]')),u(document.querySelector('iframe[title="pbf"]')),u(this._parameterBlock),u(this._thirdPartyBlock)},t.exports={setup:function(){var e=new c;return r?(e.sessionId=r,l.resolve(e)):e.initialize()},clearSessionIdCache:function(){r=null}}},{"../lib/assets":94,"../lib/constants":103,"../lib/promise":132}],72:[function(e,t,n){"use strict";var r=e("./kount"),o=e("./fraudnet"),i=e("../lib/braintree-error"),a=e("../lib/basic-component-verification"),s=e("../lib/create-deferred-client"),l=e("../lib/create-assets-url"),c=e("../lib/methods"),u=e("../lib/convert-methods-to-error"),d=e("../lib/promise"),p=e("@braintree/wrap-promise"),f=e("./errors");t.exports={create:p((function(e){var t,n="Data Collector",h={},m=[];return a.verify({name:n,client:e.client,authorization:e.authorization}).then((function(){return s.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:l.create(e.authorization),name:n})})).then((function(n){var o,a=n.getConfiguration();if(!0===e.kount&&a.gatewayConfiguration.kount){try{o=r.setup({environment:a.gatewayConfiguration.environment,merchantId:a.gatewayConfiguration.kount.kountMerchantId})}catch(e){return d.reject(new i({type:f.DATA_COLLECTOR_KOUNT_ERROR.type,code:f.DATA_COLLECTOR_KOUNT_ERROR.code,message:e.message}))}t=o.deviceData,m.push(o)}else t={};return d.resolve()})).then((function(){return o.setup().then((function(e){e&&(t.correlation_id=e.sessionId,m.push(e))}))})).then((function(){return 0===m.length?d.reject(new i(f.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(h.deviceData=JSON.stringify(t),h.rawDeviceData=t,h.teardown=function(e,t){return p((function(){return new d((function(n){t.forEach((function(e){e&&e.teardown()})),u(e,c(e)),n()}))}))}(h,m),h)}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/methods":130,"../lib/promise":132,"./errors":70,"./fraudnet":71,"./kount":73,"@braintree/wrap-promise":30}],73:[function(e,t,n){"use strict";var r=e("./vendor/sjcl"),o=e("../lib/camel-case-to-snake-case"),i="https://assets.qa.braintreepayments.com/data",a={development:i,qa:i,sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"},s={};function l(e){var t=l.getCachedDeviceData(e.merchantId);if(t)return this.deviceData=t,void(this._isCached=!0);this._currentEnvironment=this._initializeEnvironment(e),r.random.startCollectors(),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),l.setCachedDeviceData(e.merchantId,this.deviceData),this._iframe=this._setupIFrame()}l.getCachedDeviceData=function(e){return s[e]},l.setCachedDeviceData=function(e,t){s[e]=t},l.prototype.teardown=function(){this._isCached||(r.random.stopCollectors(),this._removeIframe())},l.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},l.prototype._getDeviceData=function(){return o({deviceSessionId:this._deviceSessionId,fraudMerchantId:this._currentEnvironment.id})},l.prototype._generateDeviceSessionId=function(){var e;return e=r.random.randomWords(4,0),r.codec.hex.fromBits(e)},l.prototype._setupIFrame=function(){var e,t,n=this;return e="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,(t=document.createElement("iframe")).width=1,t.id="braintreeDataFrame-"+this._deviceSessionId,t.height=1,t.frameBorder=0,t.scrolling="no",t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",t.title="Braintree-Kount-iframe",t.setAttribute("aria-hidden","true"),document.body.appendChild(t),setTimeout((function(){t.src=n._currentEnvironment.url+"/logo.htm"+e,t.innerHTML='<img src="'+n._currentEnvironment.url+"/logo.gif"+e+'" alt="" />'}),10),t},l.prototype._initializeEnvironment=function(e){var t=a[e.environment];if(null==t)throw new Error(e.environment+" is not a valid environment for kount.environment");return{url:t,name:e.environment,id:e.merchantId}},t.exports={setup:function(e){return new l(null!=e?e:{})},Kount:l,environmentUrls:a}},{"../lib/camel-case-to-snake-case":102,"./vendor/sjcl":74}],74:[function(e,t,n){"use strict";var r={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};function o(e,t,n){if(4!==t.length)throw new r.exception.invalid("invalid aes block size");var o=e.b[n],i=t[0]^o[0],a=t[n?3:1]^o[1],s=t[2]^o[2];t=t[n?1:3]^o[3];var l,c,u,d,p=o.length/4-2,f=4,h=[0,0,0,0];e=(l=e.l[n])[0];var m=l[1],g=l[2],b=l[3],v=l[4];for(d=0;d<p;d++)l=e[i>>>24]^m[a>>16&255]^g[s>>8&255]^b[255&t]^o[f],c=e[a>>>24]^m[s>>16&255]^g[t>>8&255]^b[255&i]^o[f+1],u=e[s>>>24]^m[t>>16&255]^g[i>>8&255]^b[255&a]^o[f+2],t=e[t>>>24]^m[i>>16&255]^g[a>>8&255]^b[255&s]^o[f+3],f+=4,i=l,a=c,s=u;for(d=0;4>d;d++)h[n?3&-d:d]=v[i>>>24]<<24^v[a>>16&255]<<16^v[s>>8&255]<<8^v[255&t]^o[f++],l=i,i=a,a=s,s=t,t=l;return h}function i(e,t){var n,r,o,i=e.u,a=e.b,s=i[0],l=i[1],c=i[2],u=i[3],d=i[4],p=i[5],f=i[6],h=i[7];for(n=0;64>n;n++)16>n?r=t[n]:(r=t[n+1&15],o=t[n+14&15],r=t[15&n]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+t[15&n]+t[n+9&15]|0),r=r+h+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(p^f))+a[n],h=f,f=p,p=d,d=u+r|0,u=c,c=l,s=r+((l=s)&c^u&(l^c))+(l>>>2^l>>>13^l>>>22^l<<30^l<<19^l<<10)|0;i[0]=i[0]+s|0,i[1]=i[1]+l|0,i[2]=i[2]+c|0,i[3]=i[3]+u|0,i[4]=i[4]+d|0,i[5]=i[5]+p|0,i[6]=i[6]+f|0,i[7]=i[7]+h|0}function a(e,t){var n,o=r.random.B[e],i=[];for(n in o)o.hasOwnProperty(n)&&i.push(o[n]);for(n=0;n<i.length;n++)i[n](t)}function s(e,t){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?e.addEntropy(window.performance.now(),t,"loadtime"):e.addEntropy((new Date).valueOf(),t,"loadtime")}function l(e){e.b=c(e).concat(c(e)),e.C=new r.cipher.aes(e.b)}function c(e){for(var t=0;4>t&&(e.g[t]=e.g[t]+1|0,!e.g[t]);t++);return e.C.encrypt(e.g)}function u(e,t){return function(){t.apply(e,arguments)}}r.cipher.aes=function(e){this.l[0][0][0]||this.G();var t,n,o,i,a=this.l[0][4],s=this.l[1],l=1;if(4!==(t=e.length)&&6!==t&&8!==t)throw new r.exception.invalid("invalid aes key size");for(this.b=[o=e.slice(0),i=[]],e=t;e<4*t+28;e++)n=o[e-1],(0==e%t||8===t&&4==e%t)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],0==e%t&&(n=n<<8^n>>>24^l<<24,l=l<<1^283*(l>>7))),o[e]=o[e-t]^n;for(t=0;e;t++,e--)n=o[3&t?e:e-4],i[t]=4>=e||4>t?n:s[0][a[n>>>24]]^s[1][a[n>>16&255]]^s[2][a[n>>8&255]]^s[3][a[255&n]]},r.cipher.aes.prototype={encrypt:function(e){return o(this,e,0)},decrypt:function(e){return o(this,e,1)},l:[[[],[],[],[],[]],[[],[],[],[],[]]],G:function(){var e,t,n,r,o,i,a,s=this.l[0],l=this.l[1],c=s[4],u=l[4],d=[],p=[];for(e=0;256>e;e++)p[(d[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!c[t];t^=r||1,n=p[n]||1)for(i=(i=n^n<<1^n<<2^n<<3^n<<4)>>8^255&i^99,c[t]=i,u[i]=t,a=16843009*(o=d[e=d[r=d[t]]])^65537*e^257*r^16843008*t,o=257*d[i]^16843008*i,e=0;4>e;e++)s[e][t]=o=o<<24^o>>>8,l[e][i]=a=a<<24^a>>>8;for(e=0;5>e;e++)s[e]=s[e].slice(0),l[e]=l[e].slice(0)}},r.bitArray={bitSlice:function(e,t,n){return e=r.bitArray.M(e.slice(t/32),32-(31&t)).slice(1),void 0===n?e:r.bitArray.clamp(e,n-t)},extract:function(e,t,n){var r=Math.floor(-t-n&31);return(-32&(t+n-1^t)?e[t/32|0]<<32-r^e[t/32+1|0]>>>r:e[t/32|0]>>>r)&(1<<n)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var n=e[e.length-1],o=r.bitArray.getPartial(n);return 32===o?e.concat(t):r.bitArray.M(t,o,0|n,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+r.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(32*e.length<t)return e;var n=(e=e.slice(0,Math.ceil(t/32))).length;return t&=31,0<n&&t&&(e[n-1]=r.bitArray.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial:function(e,t,n){return 32===e?t:(n?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(r.bitArray.bitLength(e)!==r.bitArray.bitLength(t))return!1;var n,o=0;for(n=0;n<e.length;n++)o|=e[n]^t[n];return 0===o},M:function(e,t,n,o){var i;for(i=0,void 0===o&&(o=[]);32<=t;t-=32)o.push(n),n=0;if(0===t)return o.concat(e);for(i=0;i<e.length;i++)o.push(n|e[i]>>>t),n=e[i]<<32-t;return i=e.length?e[e.length-1]:0,e=r.bitArray.getPartial(i),o.push(r.bitArray.partial(t+e&31,32<t+e?n:o.pop(),1)),o},Y:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]},byteswapM:function(e){var t,n;for(t=0;t<e.length;++t)n=e[t],e[t]=n>>>24|n>>>8&65280|(65280&n)<<8|n<<24;return e}},r.codec.utf8String={fromBits:function(e){var t,n,o="",i=r.bitArray.bitLength(e);for(t=0;t<i/8;t++)0==(3&t)&&(n=e[t/4]),o+=String.fromCharCode(n>>>8>>>8>>>8),n<<=8;return decodeURIComponent(escape(o))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,n=[],o=0;for(t=0;t<e.length;t++)o=o<<8|e.charCodeAt(t),3==(3&t)&&(n.push(o),o=0);return 3&t&&n.push(r.bitArray.partial(8*(3&t),o)),n}},r.codec.hex={fromBits:function(e){var t,n="";for(t=0;t<e.length;t++)n+=(0xf00000000000+(0|e[t])).toString(16).substr(4);return n.substr(0,r.bitArray.bitLength(e)/4)},toBits:function(e){var t,n,o=[];for(n=(e=e.replace(/\s|0x/g,"")).length,e+="00000000",t=0;t<e.length;t+=8)o.push(0^parseInt(e.substr(t,8),16));return r.bitArray.clamp(o,4*n)}},r.hash.sha256=function(e){this.b[0]||this.G(),e?(this.u=e.u.slice(0),this.o=e.o.slice(0),this.h=e.h):this.reset()},r.hash.sha256.hash=function(e){return(new r.hash.sha256).update(e).finalize()},r.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.K.slice(0),this.o=[],this.h=0,this},update:function(e){"string"==typeof e&&(e=r.codec.utf8String.toBits(e));var t,n=this.o=r.bitArray.concat(this.o,e);if(t=this.h,9007199254740991<(e=this.h=t+r.bitArray.bitLength(e)))throw new r.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var o=new Uint32Array(n),a=0;for(t=512+t-(512+t&511);t<=e;t+=512)i(this,o.subarray(16*a,16*(a+1))),a+=1;n.splice(0,16*a)}else for(t=512+t-(512+t&511);t<=e;t+=512)i(this,n.splice(0,16));return this},finalize:function(){var e,t=this.o,n=this.u;for(e=(t=r.bitArray.concat(t,[r.bitArray.partial(1,1)])).length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this.h/4294967296)),t.push(0|this.h);t.length;)i(this,t.splice(0,16));return this.reset(),n},K:[],b:[],G:function(){function e(e){return 4294967296*(e-Math.floor(e))|0}for(var t,n,r=0,o=2;64>r;o++){for(n=!0,t=2;t*t<=o;t++)if(0==o%t){n=!1;break}n&&(8>r&&(this.K[r]=e(Math.pow(o,.5))),this.b[r]=e(Math.pow(o,1/3)),r++)}}},r.prng=function(e){this.c=[new r.hash.sha256],this.i=[0],this.H=0,this.v={},this.F=0,this.J={},this.L=this.f=this.j=this.T=0,this.b=[0,0,0,0,0,0,0,0],this.g=[0,0,0,0],this.C=void 0,this.D=e,this.s=!1,this.B={progress:{},seeded:{}},this.m=this.S=0,this.w=1,this.A=2,this.O=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.P=3e4,this.N=80},r.prng.prototype={randomWords:function(e,t){var n,o,i=[];if((n=this.isReady(t))===this.m)throw new r.exception.notReady("generator isn't seeded");if(n&this.A){n=!(n&this.w),o=[];var a,s=0;for(this.L=o[0]=(new Date).valueOf()+this.P,a=0;16>a;a++)o.push(4294967296*Math.random()|0);for(a=0;a<this.c.length&&(o=o.concat(this.c[a].finalize()),s+=this.i[a],this.i[a]=0,n||!(this.H&1<<a));a++);for(this.H>=1<<this.c.length&&(this.c.push(new r.hash.sha256),this.i.push(0)),this.f-=s,s>this.j&&(this.j=s),this.H++,this.b=r.hash.sha256.hash(this.b.concat(o)),this.C=new r.cipher.aes(this.b),n=0;4>n&&(this.g[n]=this.g[n]+1|0,!this.g[n]);n++);}for(n=0;n<e;n+=4)0==(n+1)%this.O&&l(this),o=c(this),i.push(o[0],o[1],o[2],o[3]);return l(this),i.slice(0,e)},setDefaultParanoia:function(e,t){if(0===e&&"Setting paranoia=0 will ruin your security; use it only for testing"!==t)throw new r.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.D=e},addEntropy:function(e,t,n){n=n||"user";var o,i,s=(new Date).valueOf(),l=this.v[n],c=this.isReady(),u=0;switch(void 0===(o=this.J[n])&&(o=this.J[n]=this.T++),void 0===l&&(l=this.v[n]=0),this.v[n]=(this.v[n]+1)%this.c.length,typeof e){case"number":void 0===t&&(t=1),this.c[l].update([o,this.F++,1,t,s,1,0|e]);break;case"object":if("[object Uint32Array]"===(n=Object.prototype.toString.call(e))){for(i=[],n=0;n<e.length;n++)i.push(e[n]);e=i}else for("[object Array]"!==n&&(u=1),n=0;n<e.length&&!u;n++)"number"!=typeof e[n]&&(u=1);if(!u){if(void 0===t)for(n=t=0;n<e.length;n++)for(i=e[n];0<i;)t++,i>>>=1;this.c[l].update([o,this.F++,2,t,s,e.length].concat(e))}break;case"string":void 0===t&&(t=e.length),this.c[l].update([o,this.F++,3,t,s,e.length]),this.c[l].update(e);break;default:u=1}if(u)throw new r.exception.bug("random: addEntropy only supports number, array of numbers or string");this.i[l]+=t,this.f+=t,c===this.m&&(this.isReady()!==this.m&&a("seeded",Math.max(this.j,this.f)),a("progress",this.getProgress()))},isReady:function(e){return e=this.I[void 0!==e?e:this.D],this.j&&this.j>=e?this.i[0]>this.N&&(new Date).valueOf()>this.L?this.A|this.w:this.w:this.f>=e?this.A|this.m:this.m},getProgress:function(e){return e=this.I[e||this.D],this.j>=e||this.f>e?1:this.f/e},startCollectors:function(){if(!this.s){if(this.a={loadTimeCollector:u(this,this.V),mouseCollector:u(this,this.W),keyboardCollector:u(this,this.U),accelerometerCollector:u(this,this.R),touchCollector:u(this,this.X)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new r.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.s=!0}},stopCollectors:function(){this.s&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.s=!1)},addEventListener:function(e,t){this.B[e][this.S++]=t},removeEventListener:function(e,t){var n,r,o=this.B[e],i=[];for(r in o)o.hasOwnProperty(r)&&o[r]===t&&i.push(r);for(n=0;n<i.length;n++)delete o[r=i[n]]},U:function(){s(this,1)},W:function(e){var t,n;try{t=e.x||e.clientX||e.offsetX||0,n=e.y||e.clientY||e.offsetY||0}catch(e){n=t=0}0!=t&&0!=n&&this.addEntropy([t,n],2,"mouse"),s(this,0)},X:function(e){e=e.touches[0]||e.changedTouches[0],this.addEntropy([e.pageX||e.clientX,e.pageY||e.clientY],1,"touch"),s(this,0)},V:function(){s(this,2)},R:function(e){if(e=e.accelerationIncludingGravity.x||e.accelerationIncludingGravity.y||e.accelerationIncludingGravity.z,window.orientation){var t=window.orientation;"number"==typeof t&&this.addEntropy(t,1,"accelerometer")}e&&this.addEntropy(e,2,"accelerometer"),s(this,0)}},r.random=new r.prng(6);e:try{var d,p,f,h;if(h=void 0!==t&&t.exports){var m;try{m=e("crypto")}catch(e){m=null}h=p=m}if(h&&p.randomBytes)d=p.randomBytes(128),d=new Uint32Array(new Uint8Array(d).buffer),r.random.addEntropy(d,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(f=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(f);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(f)}r.random.addEntropy(f,1024,"crypto['getRandomValues']")}}catch(e){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(e))}void 0!==t&&t.exports&&(t.exports=r)},{crypto:void 0}],75:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={GOOGLE_PAYMENT_NOT_ENABLED:{type:r.types.MERCHANT,code:"GOOGLE_PAYMENT_NOT_ENABLED",message:"Google Pay is not enabled for this merchant."},GOOGLE_PAYMENT_GATEWAY_ERROR:{code:"GOOGLE_PAYMENT_GATEWAY_ERROR",message:"There was an error when tokenizing the Google Pay payment method.",type:r.types.UNKNOWN},GOOGLE_PAYMENT_UNSUPPORTED_VERSION:{code:"GOOGLE_PAYMENT_UNSUPPORTED_VERSION",type:r.types.MERCHANT}}},{"../lib/braintree-error":98}],76:[function(e,t,n){"use strict";var r=e("../lib/analytics"),o=e("../lib/assign").assign,i=e("../lib/convert-methods-to-error"),a=e("../lib/find"),s=e("../lib/generate-google-pay-configuration"),l=e("../lib/braintree-error"),c=e("./errors"),u=e("../lib/methods"),d=e("../lib/promise"),p=e("@braintree/wrap-promise"),f={1:"_createV1PaymentDataRequest",2:"_createV2PaymentDataRequest"};function h(e){this._client=e.client,this._googlePayVersion=e.googlePayVersion||1,this._googleMerchantId=e.googleMerchantId}h.prototype._initialize=function(){return this._isUnsupportedGooglePayAPIVersion()?d.reject(new l({code:c.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.code,message:"The Braintree SDK does not support Google Pay version "+this._googlePayVersion+". Please upgrade the version of your Braintree SDK and contact support if this error persists.",type:c.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.type})):d.resolve(this)},h.prototype._isUnsupportedGooglePayAPIVersion=function(){return!(this._googlePayVersion in f)},h.prototype._getDefaultConfig=function(){return this._defaultConfig||(this._defaultConfig=s(this._client.getConfiguration(),this._googlePayVersion,this._googleMerchantId)),this._defaultConfig},h.prototype._createV1PaymentDataRequest=function(e){var t=this._getDefaultConfig(),n=e.cardRequirements&&e.cardRequirements.allowedCardNetworks,r=t.cardRequirements.allowedCardNetworks,i=n||r;return(e=o({},t,e)).cardRequirements.allowedCardNetworks=i,e},h.prototype._createV2PaymentDataRequest=function(e){var t=this._getDefaultConfig();return e.allowedPaymentMethods&&e.allowedPaymentMethods.forEach((function(e){var n=a(t.allowedPaymentMethods,"type",e.type);n&&function(e,t){Object.keys(t).forEach((function(n){"object"==typeof t[n]?e[n]=o({},t[n],e[n]):e[n]=e[n]||t[n]}))}(e,n)})),e=o({},t,e)},h.prototype.createPaymentDataRequest=function(e){var t=o({},e),n=this._googlePayVersion,i=f[n];return r.sendEvent(this._client,"google-payment.v"+n+".createPaymentDataRequest"),this[i](t)},h.prototype.parseResponse=function(e){var t=this._client;return d.resolve().then((function(){var n,o=2===e.apiVersion?e.paymentMethodData.tokenizationData.token:e.paymentMethodToken.token,i=JSON.parse(o),a=i.error;return a?d.reject(a):(r.sendEvent(t,"google-payment.parseResponse.succeeded"),i.paypalAccounts?(n=i.paypalAccounts[0],r.sendEvent(t,"google-payment.parseResponse.succeeded.paypal"),d.resolve({nonce:n.nonce,type:n.type,description:n.description})):(n=i.androidPayCards[0],r.sendEvent(t,"google-payment.parseResponse.succeeded.google-payment"),d.resolve({nonce:n.nonce,type:n.type,description:n.description,details:{cardType:n.details.cardType,lastFour:n.details.lastFour,lastTwo:n.details.lastTwo,isNetworkTokenized:n.details.isNetworkTokenized},binData:n.binData})))})).catch((function(e){return r.sendEvent(t,"google-payment.parseResponse.failed"),d.reject(new l({code:c.GOOGLE_PAYMENT_GATEWAY_ERROR.code,message:c.GOOGLE_PAYMENT_GATEWAY_ERROR.message,type:c.GOOGLE_PAYMENT_GATEWAY_ERROR.type,details:{originalError:e}}))}))},h.prototype.teardown=function(){return i(this,u(h.prototype)),d.resolve()},t.exports=p.wrapPrototype(h)},{"../lib/analytics":93,"../lib/assign":95,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/find":113,"../lib/generate-google-pay-configuration":125,"../lib/methods":130,"../lib/promise":132,"./errors":75,"@braintree/wrap-promise":30}],77:[function(e,t,n){"use strict";var r=e("../lib/basic-component-verification"),o=e("../lib/braintree-error"),i=e("./errors"),a=e("./google-payment"),s=e("../lib/create-deferred-client"),l=e("../lib/create-assets-url"),c=e("../lib/promise"),u=e("@braintree/wrap-promise");t.exports={create:u((function(e){return r.verify({name:"Google Pay",client:e.client,authorization:e.authorization}).then((function(){return s.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:l.create(e.authorization),name:"Google Pay"})})).then((function(t){return e.client=t,e.client.getConfiguration().gatewayConfiguration.androidPay?new a(e)._initialize():c.reject(new o(i.GOOGLE_PAYMENT_NOT_ENABLED))}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./errors":75,"./google-payment":76,"@braintree/wrap-promise":30}],78:[function(e,t,n){"use strict";var r=e("../../lib/braintree-error"),o=e("../shared/errors"),i=e("../shared/constants").allowedAttributes;t.exports=function(e,t){var n;return i.hasOwnProperty(e)?null==t||function(e,t){return"string"===i[e]?"string"==typeof t||"number"==typeof t:"boolean"===i[e]&&("true"===String(t)||"false"===String(t))}(e,t)||(n=new r({type:o.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.type,code:o.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.code,message:'Value "'+t+'" is not allowed for "'+e+'" attribute.'})):n=new r({type:o.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.type,code:o.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.code,message:'The "'+e+'" attribute is not supported in Hosted Fields.'}),n}},{"../../lib/braintree-error":98,"../shared/constants":86,"../shared/errors":87}],79:[function(e,t,n){"use strict";var r=e("../shared/constants"),o=e("../../lib/use-min");t.exports=function(e,t,n){return e+"/web/"+r.VERSION+"/html/hosted-fields-frame"+o(n)+".html#"+t}},{"../../lib/use-min":134,"../shared/constants":86}],80:[function(e,t,n){"use strict";var r=e("../shared/constants").navigationDirections,o=e("../shared/browser-detection"),i=e("../shared/focus-intercept"),a=e("../shared/find-parent-tags"),s=["INPUT","SELECT","TEXTAREA"],l=["hidden","button","reset","submit","checkbox","radio","file"];function c(e){return o.hasSoftwareKeyboard()?s.indexOf(e.tagName)>-1&&l.indexOf(e.type)<0:"hidden"!==e.type}function u(e){var t,n;for(t=0;t<e.length;t++)if(c(n=e[t]))return n;return null}t.exports={removeExtraFocusElements:function(e,t){var n=Array.prototype.slice.call(e.elements);[u(n),u(n.reverse())].forEach((function(e){e&&i.matchFocusElement(e.getAttribute("id"))&&t(e.getAttribute("id"))}))},createFocusChangeHandler:function(e){return function(t,n){var o,s,l,u,d=document.getElementById("bt-"+t+"-"+n);if(d)if(l=a(d,"form")[0],document.forms.length<1||!l)e.onRemoveFocusIntercepts();else{o=(l=[].slice.call(l.elements)).indexOf(d),u=function(e,t){switch(e){case r.BACK:return{checkIndexBounds:function(e){return e<0},indexChange:-1};case r.FORWARD:return{checkIndexBounds:function(e){return e>t-1},indexChange:1}}return{}}(n,l.length);do{if(o+=u.indexChange,u.checkIndexBounds(o))return;s=l[o]}while(!c(s));i.matchFocusElement(s.getAttribute("id"))?e.onTriggerInputFocus(s.getAttribute("data-braintree-type")):s.focus()}}}}},{"../shared/browser-detection":85,"../shared/constants":86,"../shared/find-parent-tags":88,"../shared/focus-intercept":89}],81:[function(e,t,n){"use strict";var r=e("../shared/constants").allowedStyles;t.exports=function(e){var t,n=document.createElement("input"),o={};return"."===e[0]&&(e=e.substring(1)),n.className=e,n.style.display="none !important",n.style.position="fixed !important",n.style.left="-99999px !important",n.style.top="-99999px !important",document.body.appendChild(n),t=window.getComputedStyle(n),r.forEach((function(e){var n=t[e];n&&(o[e]=n)})),document.body.removeChild(n),o}},{"../shared/constants":86}],82:[function(e,n,r){(function(t){"use strict";var r=e("../../lib/assign").assign,o=e("../../lib/create-assets-url"),i=e("../../lib/destructor"),a=e("@braintree/class-list"),s=e("@braintree/iframer"),l=e("../../lib/bus"),c=e("../../lib/create-deferred-client"),u=e("../../lib/braintree-error"),d=e("./compose-url"),p=e("./get-styles-from-class"),f=e("../shared/constants"),h=e("../shared/errors"),m=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,g=e("../../lib/vendor/uuid"),b=e("../shared/find-parent-tags"),v=e("../shared/browser-detection"),y=f.events,O=e("@braintree/event-emitter"),x=e("./inject-frame"),j=e("../../lib/analytics"),E=f.allowedFields,S=e("../../lib/methods"),C=e("../../lib/convert-methods-to-error"),_=e("../../lib/errors"),A=e("../shared/get-card-types"),N=e("./attribute-validation-error"),T=e("../../lib/promise"),w=e("@braintree/wrap-promise"),P=e("./focus-change"),R=e("../shared/focus-intercept").destroy;function I(e){return function(t){var n,r=t.merchantPayload,o=r.emittedBy,i=e[o].containerElement;Object.keys(r.fields).forEach((function(t){r.fields[t].container=e[t].containerElement})),n=r.fields[o],"blur"===t.type&&function(e){var t;v.isIos()&&document.activeElement===document.body&&((t=e.querySelector("input"))||((t=document.createElement("input")).type="button",t.style.height="0px",t.style.width="0px",t.style.opacity="0",t.style.padding="0",t.style.position="absolute",t.style.left="-200%",t.style.top="0px",e.insertBefore(t,e.firstChild)),t.focus(),t.blur())}(i),a.toggle(i,f.externalClasses.FOCUSED,n.isFocused),a.toggle(i,f.externalClasses.VALID,n.isValid),a.toggle(i,f.externalClasses.INVALID,!n.isPotentiallyValid),this._state={cards:r.cards,fields:r.fields},this._emit(t.type,r)}}function D(e){var n,b,E,N,w,k=this,M={},L={},U=[],F=g();if(this._merchantConfigurationOptions=r({},e),e.client?(E=(b=e.client.getConfiguration()).gatewayConfiguration.assetsUrl,N=b.isDebug):(E=o.create(e.authorization),N=Boolean(e.isDebug)),this._clientPromise=c.create({client:e.client,authorization:e.authorization,debug:N,assetsUrl:E,name:"Hosted Fields"}),w=d(E,F,N),!e.fields||0===Object.keys(e.fields).length)throw new u({type:_.INSTANTIATION_OPTION_REQUIRED.type,code:_.INSTANTIATION_OPTION_REQUIRED.code,message:"options.fields is required when instantiating Hosted Fields."});O.call(this),this._injectedNodes=[],this._destructor=new i,this._fields=M,this._state={fields:{},cards:A("")},this._bus=new l({channel:F,merchantUrl:location.href}),this._destructor.registerFunctionForTeardown((function(){k._bus.teardown()})),e.client?j.sendEvent(this._clientPromise,"custom.hosted-fields.initialized"):j.sendEvent(this._clientPromise,"custom.hosted-fields.initialized.deferred-client"),Object.keys(e.fields).forEach(function(t){var n,r,o,i;if(!f.allowedFields.hasOwnProperty(t))throw new u({type:h.HOSTED_FIELDS_INVALID_FIELD_KEY.type,code:h.HOSTED_FIELDS_INVALID_FIELD_KEY.code,message:'"'+t+'" is not a valid field.'});if("string"==typeof(r=(n=e.fields[t]).container||n.selector)&&(r=document.querySelector(r)),!r||1!==r.nodeType)throw new u({type:h.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.type,code:h.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.code,message:h.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.message,details:{fieldSelector:n.selector,fieldContainer:n.container,fieldKey:t}});if(r.querySelector('iframe[name^="braintree-"]'))throw new u({type:h.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.type,code:h.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.code,message:h.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.message,details:{fieldSelector:n.selector,fieldContainer:n.container,fieldKey:t}});if(n.maxlength&&"number"!=typeof n.maxlength)throw new u({type:h.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:h.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for maxlength must be a number.",details:{fieldKey:t}});if(n.minlength&&"number"!=typeof n.minlength)throw new u({type:h.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:h.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for minlength must be a number.",details:{fieldKey:t}});o=s({type:t,name:"braintree-hosted-field-"+t,style:f.defaultIFrameStyle,title:"Secure Credit Card Frame - "+f.allowedFields[t].label}),this._injectedNodes.push.apply(this._injectedNodes,x(o,r,(function(){k._bus.emit(y.TRIGGER_INPUT_FOCUS,t)}))),this._setupLabelFocus(t,r),M[t]={frameElement:o,containerElement:r},i=new T((function(e){L[t]=e})),U.push(i),this._state.fields[t]={isEmpty:!0,isValid:!1,isPotentiallyValid:!0,isFocused:!1,container:r},setTimeout((function(){v.isIE()||v.isEdge()?(o.src="about:blank",setTimeout((function(){o.src=w}),0)):o.src=w}),0)}.bind(this)),this._merchantConfigurationOptions.styles&&Object.keys(this._merchantConfigurationOptions.styles).forEach((function(e){var t=k._merchantConfigurationOptions.styles[e];"string"==typeof t&&(k._merchantConfigurationOptions.styles[e]=p(t))})),this._bus.on(y.REMOVE_FOCUS_INTERCEPTS,R),this._bus.on(y.TRIGGER_FOCUS_CHANGE,P.createFocusChangeHandler({onRemoveFocusIntercepts:function(e){k._bus.emit(y.REMOVE_FOCUS_INTERCEPTS,e)},onTriggerInputFocus:function(e){k._bus.emit(y.TRIGGER_INPUT_FOCUS,e)}})),this._bus.on(y.READY_FOR_CLIENT,(function(e){k._clientPromise.then((function(t){e(t)}))})),this._bus.on(y.CARD_FORM_ENTRY_HAS_BEGUN,(function(){j.sendEvent(k._clientPromise,"hosted-fields.input.started")})),this._bus.on(y.BIN_AVAILABLE,(function(e){k._emit("binAvailable",{bin:e})})),n=setTimeout((function(){j.sendEvent(k._clientPromise,"custom.hosted-fields.load.timed-out"),k._emit("timeout")}),m),T.all(U).then((function(e){var t,o,i=e[0];clearTimeout(n),i((t=k._merchantConfigurationOptions,(o=r({},t)).fields=r({},o.fields),Object.keys(o.fields).forEach((function(e){o.fields[e]=r({},o.fields[e]),delete o.fields[e].container})),o)),k._cleanUpFocusIntercepts(),k._emit("ready")})),this._bus.on(y.FRAME_READY,(function(e,t){L[e.field](t)})),this._bus.on(y.INPUT_EVENT,I(M).bind(this)),v.isIos()&&this._bus.on(y.TRIGGER_INPUT_FOCUS,(function(e){var n=M[e].containerElement;setTimeout((function(){var e,r,o;e=n.getBoundingClientRect(),r=Math.floor(e.height/2),o=Math.floor(e.width/2),e.top<(t.innerHeight-r||document.documentElement.clientHeight-r)&&e.right>o&&e.bottom>r&&e.left<(t.innerWidth-o||document.documentElement.clientWidth-o)||n.scrollIntoView()}),5)})),this._destructor.registerFunctionForTeardown((function(){var e,t,n;for(e=0;e<k._injectedNodes.length;e++)(n=(t=k._injectedNodes[e]).parentNode).removeChild(t),a.remove(n,f.externalClasses.FOCUSED,f.externalClasses.INVALID,f.externalClasses.VALID)})),this._destructor.registerFunctionForTeardown((function(){R()})),this._destructor.registerFunctionForTeardown((function(){var e=S(D.prototype).concat(S(O.prototype));C(k,e)}))}O.createChild(D),D.prototype._setupLabelFocus=function(e,t){var n,r,o=v.isIos(),i=this._bus;if(!o&&null!=t.id){for(n=(n=Array.prototype.slice.call(document.querySelectorAll('label[for="'+t.id+'"]'))).concat(b(t,"label")),r=0;r<n.length;r++)n[r].addEventListener("click",a,!1);this._destructor.registerFunctionForTeardown((function(){for(r=0;r<n.length;r++)n[r].removeEventListener("click",a,!1)}))}function a(){i.emit(y.TRIGGER_INPUT_FOCUS,e)}},D.prototype._getAnyFieldContainer=function(){var e=this;return Object.keys(this._fields).reduce((function(t,n){return t||e._fields[n].containerElement}),null)},D.prototype._cleanUpFocusIntercepts=function(){var e,t;document.forms.length<1?this._bus.emit(y.REMOVE_FOCUS_INTERCEPTS):(e=this._getAnyFieldContainer(),(t=b(e,"form")[0])?P.removeExtraFocusElements(t,function(e){this._bus.emit(y.REMOVE_FOCUS_INTERCEPTS,e)}.bind(this)):this._bus.emit(y.REMOVE_FOCUS_INTERCEPTS))},D.prototype._attachInvalidFieldContainersToError=function(e){e.details&&e.details.invalidFieldKeys&&e.details.invalidFieldKeys.length>0&&(e.details.invalidFields={},e.details.invalidFieldKeys.forEach(function(t){e.details.invalidFields[t]=this._fields[t].containerElement}.bind(this)))},D.prototype.teardown=function(){var e=this;return new T((function(t,n){e._destructor.teardown((function(r){j.sendEvent(e._clientPromise,"custom.hosted-fields.teardown-completed"),r?n(r):t()}))}))},D.prototype.tokenize=function(e){var t=this;return e||(e={}),new T((function(n,r){t._bus.emit(y.TOKENIZATION_REQUEST,e,(function(e){var o=e[0],i=e[1];o?(t._attachInvalidFieldContainersToError(o),r(new u(o))):n(i)}))}))},D.prototype.addClass=function(e,t){var n;return E.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(y.ADD_CLASS,e,t):n=new u({type:h.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:h.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot add class to "'+e+'" field because it is not part of the current Hosted Fields options.'}):n=new u({type:h.HOSTED_FIELDS_FIELD_INVALID.type,code:h.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when adding a class.'}),n?T.reject(n):T.resolve()},D.prototype.removeClass=function(e,t){var n;return E.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(y.REMOVE_CLASS,e,t):n=new u({type:h.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:h.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove class from "'+e+'" field because it is not part of the current Hosted Fields options.'}):n=new u({type:h.HOSTED_FIELDS_FIELD_INVALID.type,code:h.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when removing a class.'}),n?T.reject(n):T.resolve()},D.prototype.setAttribute=function(e){var t,n;return E.hasOwnProperty(e.field)?this._fields.hasOwnProperty(e.field)?(t=N(e.attribute,e.value))?n=t:this._bus.emit(y.SET_ATTRIBUTE,e.field,e.attribute,e.value):n=new u({type:h.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:h.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot set attribute for "'+e.field+'" field because it is not part of the current Hosted Fields options.'}):n=new u({type:h.HOSTED_FIELDS_FIELD_INVALID.type,code:h.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e.field+'" is not a valid field. You must use a valid field option when setting an attribute.'}),n?T.reject(n):T.resolve()},D.prototype.setMonthOptions=function(e){var t,n=this,r=this._merchantConfigurationOptions.fields;return r.expirationMonth?r.expirationMonth.select||(t="Expiration month field must be a select element."):t="Expiration month field must exist to use setMonthOptions.",t?T.reject(new u({type:h.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:h.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:t})):new T((function(t){n._bus.emit(y.SET_MONTH_OPTIONS,e,t)}))},D.prototype.setMessage=function(e){this._bus.emit(y.SET_MESSAGE,e.field,e.message)},D.prototype.removeAttribute=function(e){var t,n;return E.hasOwnProperty(e.field)?this._fields.hasOwnProperty(e.field)?(t=N(e.attribute))?n=t:this._bus.emit(y.REMOVE_ATTRIBUTE,e.field,e.attribute):n=new u({type:h.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:h.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove attribute for "'+e.field+'" field because it is not part of the current Hosted Fields options.'}):n=new u({type:h.HOSTED_FIELDS_FIELD_INVALID.type,code:h.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e.field+'" is not a valid field. You must use a valid field option when removing an attribute.'}),n?T.reject(n):T.resolve()},D.prototype.setPlaceholder=function(e,t){return this.setAttribute({field:e,attribute:"placeholder",value:t})},D.prototype.clear=function(e){var t;return E.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(y.CLEAR_FIELD,e):t=new u({type:h.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:h.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot clear "'+e+'" field because it is not part of the current Hosted Fields options.'}):t=new u({type:h.HOSTED_FIELDS_FIELD_INVALID.type,code:h.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when clearing a field.'}),t?T.reject(t):T.resolve()},D.prototype.focus=function(e){var t;return E.hasOwnProperty(e)?this._fields.hasOwnProperty(e)?this._bus.emit(y.TRIGGER_INPUT_FOCUS,e):t=new u({type:h.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:h.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot focus "'+e+'" field because it is not part of the current Hosted Fields options.'}):t=new u({type:h.HOSTED_FIELDS_FIELD_INVALID.type,code:h.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+e+'" is not a valid field. You must use a valid field option when focusing a field.'}),t?T.reject(t):T.resolve()},D.prototype.getState=function(){return this._state},n.exports=w.wrapPrototype(D)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":93,"../../lib/assign":95,"../../lib/braintree-error":98,"../../lib/bus":101,"../../lib/constants":103,"../../lib/convert-methods-to-error":104,"../../lib/create-assets-url":106,"../../lib/create-deferred-client":108,"../../lib/destructor":110,"../../lib/errors":112,"../../lib/methods":130,"../../lib/promise":132,"../../lib/vendor/uuid":136,"../shared/browser-detection":85,"../shared/constants":86,"../shared/errors":87,"../shared/find-parent-tags":88,"../shared/focus-intercept":89,"../shared/get-card-types":90,"./attribute-validation-error":78,"./compose-url":79,"./focus-change":80,"./get-styles-from-class":81,"./inject-frame":83,"@braintree/class-list":20,"@braintree/event-emitter":21,"@braintree/iframer":23,"@braintree/wrap-promise":30}],83:[function(e,t,n){"use strict";var r=e("../shared/focus-intercept"),o=e("../shared/constants").navigationDirections;t.exports=function(e,t,n){var i=e.getAttribute("type"),a=document.createElement("div"),s=document.createDocumentFragment(),l=r.generate(i,o.BACK,n),c=r.generate(i,o.FORWARD,n);return a.style.clear="both",s.appendChild(l),s.appendChild(e),s.appendChild(c),s.appendChild(a),t.appendChild(s),[e,a]}},{"../shared/constants":86,"../shared/focus-intercept":89}],84:[function(e,t,n){"use strict";var r=e("./external/hosted-fields"),o=e("../lib/basic-component-verification"),i=e("./shared/errors"),a=e("restricted-input/supports-input-formatting"),s=e("@braintree/wrap-promise"),l=e("../lib/braintree-error"),c=e("../lib/promise");t.exports={supportsInputFormatting:a,create:s((function(e){return o.verify({name:"Hosted Fields",authorization:e.authorization,client:e.client}).then((function(){var t=new r(e);return new c((function(e,n){t.on("ready",(function(){e(t)})),t.on("timeout",(function(){n(new l(i.HOSTED_FIELDS_TIMEOUT))}))}))}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/promise":132,"./external/hosted-fields":82,"./shared/errors":87,"@braintree/wrap-promise":30,"restricted-input/supports-input-formatting":41}],85:[function(e,t,n){"use strict";var r=e("@braintree/browser-detection/is-android"),o=e("@braintree/browser-detection/is-chrome-os"),i=e("@braintree/browser-detection/is-ios");t.exports={isIE:e("@braintree/browser-detection/is-ie"),isEdge:e("@braintree/browser-detection/is-edge"),isIe9:e("@braintree/browser-detection/is-ie9"),isIe10:e("@braintree/browser-detection/is-ie10"),isAndroid:r,isChromeOS:o,isFirefox:e("@braintree/browser-detection/is-firefox"),isIos:i,isIosWebview:e("@braintree/browser-detection/is-ios-webview"),hasSoftwareKeyboard:function(){return r()||o()||i()}}},{"@braintree/browser-detection/is-android":3,"@braintree/browser-detection/is-chrome-os":4,"@braintree/browser-detection/is-edge":6,"@braintree/browser-detection/is-firefox":7,"@braintree/browser-detection/is-ie":8,"@braintree/browser-detection/is-ie10":9,"@braintree/browser-detection/is-ie9":11,"@braintree/browser-detection/is-ios":16,"@braintree/browser-detection/is-ios-webview":14}],86:[function(e,t,n){"use strict";var r=e("../../lib/enumerate"),o=e("./errors"),i={VERSION:"3.58.0",maxExpirationYearAge:19,externalEvents:{FOCUS:"focus",BLUR:"blur",EMPTY:"empty",NOT_EMPTY:"notEmpty",VALIDITY_CHANGE:"validityChange",CARD_TYPE_CHANGE:"cardTypeChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},navigationDirections:{BACK:"before",FORWARD:"after"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%",float:"left"},tokenizationErrorCodes:{81724:o.HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE,81736:o.HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED},allowedStyles:["-moz-appearance","-moz-osx-font-smoothing","-moz-tap-highlight-color","-moz-transition","-webkit-appearance","-webkit-font-smoothing","-webkit-tap-highlight-color","-webkit-transition","appearance","color","direction","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","letter-spacing","line-height","margin","opacity","outline","padding","text-shadow","transition"],allowedFields:{number:{name:"credit-card-number",label:"Credit Card Number"},cvv:{name:"cvv",label:"CVV"},expirationDate:{name:"expiration",label:"Expiration Date"},expirationMonth:{name:"expiration-month",label:"Expiration Month"},expirationYear:{name:"expiration-year",label:"Expiration Year"},postalCode:{name:"postal-code",label:"Postal Code"}},allowedAttributes:{"aria-invalid":"boolean","aria-required":"boolean",disabled:"boolean",placeholder:"string"},autocompleteMappings:{"credit-card-number":"cc-number",expiration:"cc-exp","expiration-month":"cc-exp-month","expiration-year":"cc-exp-year",cvv:"cc-csc","postal-code":"billing postal-code"}};i.events=r(["ADD_CLASS","AUTOFILL_EXPIRATION_DATE","BIN_AVAILABLE","CARD_FORM_ENTRY_HAS_BEGUN","CLEAR_FIELD","CONFIGURATION","FRAME_READY","INPUT_EVENT","READY_FOR_CLIENT","REMOVE_ATTRIBUTE","REMOVE_CLASS","REMOVE_FOCUS_INTERCEPTS","SET_ATTRIBUTE","SET_MESSAGE","SET_MONTH_OPTIONS","TOKENIZATION_REQUEST","TRIGGER_FOCUS_CHANGE","TRIGGER_INPUT_FOCUS","VALIDATE_STRICT"],"hosted-fields:"),t.exports=i},{"../../lib/enumerate":111,"./errors":87}],87:[function(e,t,n){"use strict";var r=e("../../lib/braintree-error");t.exports={HOSTED_FIELDS_TIMEOUT:{type:r.types.UNKNOWN,code:"HOSTED_FIELDS_TIMEOUT",message:"Hosted Fields timed out when attempting to set up."},HOSTED_FIELDS_INVALID_FIELD_KEY:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_KEY"},HOSTED_FIELDS_INVALID_FIELD_SELECTOR:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_SELECTOR",message:"Selector does not reference a valid DOM node."},HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME",message:"Element already contains a Braintree iframe."},HOSTED_FIELDS_FIELD_INVALID:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_INVALID"},HOSTED_FIELDS_FIELD_NOT_PRESENT:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_NOT_PRESENT"},HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR:{type:r.types.NETWORK,code:"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE:{type:r.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE",message:"This credit card already exists in the merchant's vault."},HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED:{type:r.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED",message:"CVV verification failed during tokenization."},HOSTED_FIELDS_FAILED_TOKENIZATION:{type:r.types.CUSTOMER,code:"HOSTED_FIELDS_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."},HOSTED_FIELDS_FIELDS_EMPTY:{type:r.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_EMPTY",message:"All fields are empty. Cannot tokenize empty card fields."},HOSTED_FIELDS_FIELDS_INVALID:{type:r.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_INVALID",message:"Some payment input fields are invalid. Cannot tokenize invalid card fields."},HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED"},HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED"},HOSTED_FIELDS_FIELD_PROPERTY_INVALID:{type:r.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_PROPERTY_INVALID"}}},{"../../lib/braintree-error":98}],88:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=e.parentNode,r=[];null!=n;)null!=n.tagName&&n.tagName.toLowerCase()===t&&r.push(n),n=n.parentNode;return r}},{}],89:[function(e,t,n){"use strict";var r=e("./browser-detection"),o=e("@braintree/class-list"),i=e("./constants"),a=Object.keys(i.allowedFields),s=i.navigationDirections,l={generate:function(e,t,n){var i=document.createElement("input");return r.hasSoftwareKeyboard()||r.isFirefox()||r.isIE()?(i.setAttribute("aria-hidden","true"),i.setAttribute("autocomplete","off"),i.setAttribute("data-braintree-direction",t),i.setAttribute("data-braintree-type",e),i.setAttribute("id","bt-"+e+"-"+t),i.setAttribute("style",JSON.stringify({border:"none !important",display:"block !important",height:"1px !important",left:"-1px !important",opacity:"0 !important",position:"absolute !important",top:"-1px !important",width:"1px !important"}).replace(/[{}"]/g,"").replace(/,/g,";")),o.add(i,"focus-intercept"),i.addEventListener("focus",(function(e){n(e),r.hasSoftwareKeyboard()||i.blur()})),i):document.createDocumentFragment()},destroy:function(e){var t;e?t=[document.getElementById(e)]:(t=document.querySelectorAll("[data-braintree-direction]"),t=[].slice.call(t)),t.forEach((function(e){e&&1===e.nodeType&&l.matchFocusElement(e.getAttribute("id"))&&e.parentNode.removeChild(e)}))},matchFocusElement:function(e){var t,n,r,o;return!!e&&3===(t=e.split("-")).length&&(n="bt"===t[0],r=a.indexOf(t[1])>-1,o=t[2]===s.BACK||t[2]===s.FORWARD,Boolean(n&&r&&o))}};t.exports=l},{"./browser-detection":85,"./constants":86,"@braintree/class-list":20}],90:[function(e,t,n){"use strict";var r=e("credit-card-type");t.exports=function(e){var t=r(e);return t.forEach((function(e){"mastercard"===e.type&&(e.type="master-card")})),t}},{"credit-card-type":31}],91:[function(e,t,n){"use strict";var r=e("./american-express"),o=e("./apple-pay"),i=e("./client"),a=e("./data-collector"),s=e("./hosted-fields"),l=e("./local-payment"),c=e("./masterpass"),u=e("./payment-request"),d=e("./paypal"),p=e("./paypal-checkout"),f=e("./google-payment"),h=e("./three-d-secure"),m=e("./unionpay"),g=e("./us-bank-account"),b=e("./vault-manager"),v=e("./venmo"),y=e("./visa-checkout"),O=e("./preferred-payment-methods");t.exports={americanExpress:r,applePay:o,client:i,dataCollector:a,hostedFields:s,localPayment:l,masterpass:c,googlePayment:f,paymentRequest:u,paypal:d,paypalCheckout:p,threeDSecure:h,unionpay:m,usBankAccount:g,vaultManager:b,venmo:v,visaCheckout:y,preferredPaymentMethods:O,VERSION:"3.58.0"}},{"./american-express":44,"./apple-pay":47,"./client":53,"./data-collector":72,"./google-payment":77,"./hosted-fields":84,"./local-payment":139,"./masterpass":142,"./payment-request":147,"./paypal":154,"./paypal-checkout":151,"./preferred-payment-methods":157,"./three-d-secure":167,"./unionpay":171,"./us-bank-account":177,"./vault-manager":180,"./venmo":182,"./visa-checkout":189}],92:[function(e,t,n){"use strict";var r=e("./create-authorization-data"),o=e("./json-clone"),i=e("./constants");t.exports=function(e,t){var n,a=t?o(t):{},s=r(e.authorization).attrs,l=o(e.analyticsMetadata);for(n in a.braintreeLibraryVersion=i.BRAINTREE_LIBRARY_VERSION,a._meta)a._meta.hasOwnProperty(n)&&(l[n]=a._meta[n]);return a._meta=l,s.tokenizationKey?a.tokenizationKey=s.tokenizationKey:a.authorizationFingerprint=s.authorizationFingerprint,a}},{"./constants":103,"./create-authorization-data":107,"./json-clone":129}],93:[function(e,t,n){"use strict";var r=e("./promise"),o=e("./constants"),i=e("./add-metadata");t.exports={sendEvent:function(e,t,n){var a=Date.now();return r.resolve(e).then((function(e){var r=Date.now(),s=e.getConfiguration(),l=e._request,c=s.gatewayConfiguration.analytics.url,u={analytics:[{kind:o.ANALYTICS_PREFIX+t,isAsync:Math.floor(r/1e3)!==Math.floor(a/1e3),timestamp:a}]};l({url:c,method:"post",data:i(s,u),timeout:o.ANALYTICS_REQUEST_TIMEOUT_MS},n)}))}}},{"./add-metadata":92,"./constants":103,"./promise":132}],94:[function(e,t,n){"use strict";var r=e("@braintree/asset-loader/load-script");t.exports={loadScript:r}},{"@braintree/asset-loader/load-script":2}],95:[function(e,t,n){"use strict";var r="function"==typeof Object.assign?Object.assign:o;function o(e){var t,n,r;for(t=1;t<arguments.length;t++)for(r in n=arguments[t])n.hasOwnProperty(r)&&(e[r]=n[r]);return e}t.exports={assign:r,_assign:o}},{}],96:[function(e,t,n){"use strict";var r=e("./braintree-error"),o=e("./promise"),i=e("./errors");t.exports={verify:function(e){var t,n,a;return e?(a=e.name,t=e.client,n=e.authorization,t||n?n||"3.58.0"===t.getVersion()?o.resolve():o.reject(new r({type:i.INCOMPATIBLE_VERSIONS.type,code:i.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+t.getVersion()+") and "+a+" (version 3.58.0) components must be from the same SDK version."})):o.reject(new r({type:i.INSTANTIATION_OPTION_REQUIRED.type,code:i.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+a+"."}))):o.reject(new r({type:i.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:i.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}}},{"./braintree-error":98,"./errors":112,"./promise":132}],97:[function(e,t,n){"use strict";var r=e("./once");function o(e,t){0===e.length?(e(),t(null)):e(t)}t.exports=function(e,t){var n,i=e.length,a=i,s=r(t);if(0!==i)for(n=0;n<i;n++)o(e[n],l);else s(null);function l(e){e?s(e):0==(a-=1)&&s(null)}}},{"./once":131}],98:[function(e,t,n){"use strict";var r=e("./enumerate");function o(e){if(!o.types.hasOwnProperty(e.type))throw new Error(e.type+" is not a valid type.");if(!e.code)throw new Error("Error code required.");if(!e.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=e.code,this.message=e.message,this.type=e.type,this.details=e.details}o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.types=r(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),o.findRootError=function(e){return e instanceof o&&e.details&&e.details.originalError?o.findRootError(e.details.originalError):e},t.exports=o},{"./enumerate":111}],99:[function(e,t,n){"use strict";var r=e("../is-verified-domain");t.exports={checkOrigin:function(e,t){var n,o=document.createElement("a");return o.href=t,n="https:"===o.protocol?o.host.replace(/:443$/,""):"http:"===o.protocol?o.host.replace(/:80$/,""):o.host,o.protocol+"//"+n===e||(o.href=e,r(e))}}},{"../is-verified-domain":128}],100:[function(e,t,n){"use strict";var r=e("../enumerate");t.exports=r(["CONFIGURATION_REQUEST"],"bus:")},{"../enumerate":111}],101:[function(e,t,n){"use strict";var r=e("framebus"),o=e("./events"),i=e("./check-origin").checkOrigin,a=e("../braintree-error");function s(e){if(e=e||{},this.channel=e.channel,!this.channel)throw new a({type:a.types.INTERNAL,code:"MISSING_CHANNEL_ID",message:"Channel ID must be specified."});this.merchantUrl=e.merchantUrl,this._isDestroyed=!1,this._isVerbose=!1,this._listeners=[],this._log("new bus on channel "+this.channel,[location.href])}s.prototype.on=function(e,t){var n,o,a=t,s=this;this._isDestroyed||(this.merchantUrl&&(a=function(){i(this.origin,s.merchantUrl)&&t.apply(this,arguments)}),n=this._namespaceEvent(e),(o=Array.prototype.slice.call(arguments))[0]=n,o[1]=a,this._log("on",o),r.on.apply(r,o),this._listeners.push({eventName:e,handler:a,originalHandler:t}))},s.prototype.emit=function(e){var t;this._isDestroyed||((t=Array.prototype.slice.call(arguments))[0]=this._namespaceEvent(e),this._log("emit",t),r.emit.apply(r,t))},s.prototype._offDirect=function(e){var t=Array.prototype.slice.call(arguments);this._isDestroyed||(t[0]=this._namespaceEvent(e),this._log("off",t),r.off.apply(r,t))},s.prototype.off=function(e,t){var n,r,o=t;if(!this._isDestroyed){if(this.merchantUrl)for(n=0;n<this._listeners.length;n++)(r=this._listeners[n]).originalHandler===t&&(o=r.handler);this._offDirect(e,o)}},s.prototype._namespaceEvent=function(e){return["braintree",this.channel,e].join(":")},s.prototype.teardown=function(){var e,t;for(t=0;t<this._listeners.length;t++)e=this._listeners[t],this._offDirect(e.eventName,e.handler);this._listeners.length=0,this._isDestroyed=!0},s.prototype._log=function(e,t){this._isVerbose&&console.log(e,t)},s.events=o,t.exports=s},{"../braintree-error":98,"./check-origin":99,"./events":100,framebus:38}],102:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).reduce((function(t,n){return t[function(e){return e.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}(n)]=e[n],t}),{})}},{}],103:[function(e,t,n){"use strict";t.exports={ANALYTICS_PREFIX:"web.",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:{production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},CLIENT_API_URLS:{production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",GRAPHQL_URLS:{production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"},INTEGRATION_TIMEOUT_MS:6e4,VERSION:"3.58.0",INTEGRATION:"custom",SOURCE:"client",PLATFORM:"web",BRAINTREE_LIBRARY_VERSION:"braintree/web/3.58.0"}},{}],104:[function(e,t,n){"use strict";var r=e("./braintree-error"),o=e("./errors");t.exports=function(e,t){t.forEach((function(t){e[t]=function(){throw new r({type:o.METHOD_CALLED_AFTER_TEARDOWN.type,code:o.METHOD_CALLED_AFTER_TEARDOWN.code,message:t+" cannot be called after teardown."})}}))}},{"./braintree-error":98,"./errors":112}],105:[function(e,t,n){"use strict";var r=e("./braintree-error");t.exports=function(e,t){return e instanceof r?e:new r({type:t.type,code:t.code,message:t.message,details:{originalError:e}})}},{"./braintree-error":98}],106:[function(e,t,n){"use strict";var r=e("./constants").ASSETS_URLS;t.exports={create:function(e){return r.production}}},{"./constants":103}],107:[function(e,t,n){"use strict";var r=e("../lib/vendor/polyfill").atob,o=e("../lib/constants").CLIENT_API_URLS;t.exports=function(e){var t,n,i,a,s={attrs:{},configUrl:""};return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(e)?(i=e.split("_"),a=i[0],n={merchantId:i.slice(2).join("_"),environment:a},s.environment=n.environment,s.attrs.tokenizationKey=e,s.configUrl=o[n.environment]+"/merchants/"+n.merchantId+"/client_api/v1/configuration"):(t=JSON.parse(r(e)),s.environment=t.environment,s.attrs.authorizationFingerprint=t.authorizationFingerprint,s.configUrl=t.configUrl,s.graphQL=t.graphQL),s}},{"../lib/constants":103,"../lib/vendor/polyfill":135}],108:[function(e,n,r){(function(t){"use strict";var r=e("./braintree-error"),o=e("./promise"),i=e("./assets"),a=e("./errors");n.exports={create:function(e){var n=o.resolve();return e.client?o.resolve(e.client):(t.braintree&&t.braintree.client||(n=i.loadScript({src:e.assetsUrl+"/web/3.58.0/js/client.min.js"}).catch((function(e){return o.reject(new r({type:a.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:a.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:a.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:e}}))}))),n.then((function(){return"3.58.0"!==t.braintree.client.VERSION?o.reject(new r({type:a.INCOMPATIBLE_VERSIONS.type,code:a.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+t.braintree.client.VERSION+") and "+e.name+" (version 3.58.0) components must be from the same SDK version."})):t.braintree.client.create({authorization:e.authorization,debug:e.debug})})))}}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./assets":94,"./braintree-error":98,"./errors":112,"./promise":132}],109:[function(e,t,n){"use strict";t.exports=function(e){return function(){var t=arguments;setTimeout((function(){e.apply(null,t)}),1)}}},{}],110:[function(e,t,n){"use strict";var r=e("./batch-execute-functions");function o(){this._teardownRegistry=[],this._isTearingDown=!1}o.prototype.registerFunctionForTeardown=function(e){"function"==typeof e&&this._teardownRegistry.push(e)},o.prototype.teardown=function(e){this._isTearingDown?e(new Error("Destructor is already tearing down")):(this._isTearingDown=!0,r(this._teardownRegistry,function(t){this._teardownRegistry=[],this._isTearingDown=!1,"function"==typeof e&&e(t)}.bind(this)))},t.exports=o},{"./batch-execute-functions":97}],111:[function(e,t,n){"use strict";t.exports=function(e,t){return t=null==t?"":t,e.reduce((function(e,n){return e[n]=t+n,e}),{})}},{}],112:[function(e,t,n){"use strict";var r=e("./braintree-error");t.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:r.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:r.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:r.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:r.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":98}],113:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r;for(r=0;r<e.length;r++)if(e[r].hasOwnProperty(t)&&e[r][t]===n)return e[r];return null}},{}],114:[function(e,n,r){(function(t){"use strict";var r=e("./strategies/popup"),o=e("./strategies/popup-bridge"),i=e("./strategies/modal"),a=e("../../bus"),s=e("../shared/events"),l=e("../shared/errors"),c=e("../shared/constants"),u=e("../../vendor/uuid"),d=e("@braintree/iframer"),p=e("../../braintree-error"),f=e("../shared/browser-detection"),h=e("../../is-https"),m=e("./../../assign").assign,g=["name","dispatchFrameUrl","openFrameUrl"];function b(){}function v(e){!function(e){if(!e)throw new Error("Valid configuration is required");if(g.forEach((function(t){if(!e.hasOwnProperty(t))throw new Error("A valid frame "+t+" must be provided")})),!/^[\w_]+$/.test(e.name))throw new Error("A valid frame name must be provided")}(e),this._serviceId=u().replace(/-/g,""),this._options={name:e.name+"_"+this._serviceId,dispatchFrameUrl:e.dispatchFrameUrl,openFrameUrl:e.openFrameUrl,height:e.height,width:e.width,top:e.top,left:e.left},this.state=e.state||{},this._bus=new a({channel:this._serviceId}),this._setBusEvents()}v.prototype.initialize=function(e){var t=function(){e(),this._bus.off(s.DISPATCH_FRAME_READY,t)}.bind(this);this._bus.on(s.DISPATCH_FRAME_READY,t),this._writeDispatchFrame()},v.prototype._writeDispatchFrame=function(){var e=c.DISPATCH_FRAME_NAME+"_"+this._serviceId,t=this._options.dispatchFrameUrl;this._dispatchFrame=d({"aria-hidden":!0,name:e,title:e,src:t,class:c.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},v.prototype._setBusEvents=function(){this._bus.on(s.DISPATCH_FRAME_REPORT,function(e,t){this._onCompleteCallback&&this._onCompleteCallback.call(null,e.err,e.payload),this._frame.close(),this._onCompleteCallback=null,t&&t()}.bind(this)),this._bus.on(a.events.CONFIGURATION_REQUEST,function(e){e(this.state)}.bind(this))},v.prototype.open=function(e,t){if(e=e||{},this._frame=this._getFrameForEnvironment(e),this._frame.initialize(t),!(this._frame instanceof o)){if(m(this.state,e.state),this._onCompleteCallback=t,this._frame.open(),this.isFrameClosed())return this._cleanupFrame(),void(t&&t(f.isIE()&&!h.isHTTPS()?new p(l.FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG):new p(l.FRAME_SERVICE_FRAME_OPEN_FAILED)));this._pollForPopupClose()}},v.prototype.redirect=function(e){this._frame&&!this.isFrameClosed()&&this._frame.redirect(e)},v.prototype.close=function(){this.isFrameClosed()||this._frame.close()},v.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},v.prototype.createHandler=function(e){return e=e||{},{close:function(){e.beforeClose&&e.beforeClose(),this.close()}.bind(this),focus:function(){e.beforeFocus&&e.beforeFocus(),this.focus()}.bind(this)}},v.prototype.createNoopHandler=function(){return{close:b,focus:b}},v.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},v.prototype.isFrameClosed=function(){return null==this._frame||this._frame.isClosed()},v.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},v.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval(function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new p(l.FRAME_SERVICE_FRAME_CLOSED)))}.bind(this),c.POPUP_POLL_INTERVAL),this._popupInterval},v.prototype._getFrameForEnvironment=function(e){var n=f.supportsPopups(),a=Boolean(t.popupBridge),s=m({},this._options,e);return a?new o(s):n?new r(s):new i(s)},n.exports=v}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../braintree-error":98,"../../bus":101,"../../is-https":127,"../../vendor/uuid":136,"../shared/browser-detection":121,"../shared/constants":122,"../shared/errors":123,"../shared/events":124,"./../../assign":95,"./strategies/modal":116,"./strategies/popup":119,"./strategies/popup-bridge":117,"@braintree/iframer":23}],115:[function(e,t,n){"use strict";var r=e("./frame-service");t.exports={create:function(e,t){var n=new r(e);n.initialize((function(){t(n)}))}}},{"./frame-service":114}],116:[function(e,n,r){(function(t){"use strict";var r=e("@braintree/iframer"),o=e("../../../assign").assign,i=e("../../shared/browser-detection"),a={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};function s(){}function l(e){this._closed=null,this._frame=null,this._options=e||{},this._container=this._options.container||document.body}l.prototype.initialize=s,l.prototype.open=function(){var e={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:o({},a),title:"Lightbox Frame"};i.isIos()?(i.isIosWKWebview()&&(this._lockScrolling(),e.style={}),this._el=document.createElement("div"),o(this._el.style,a,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=r(e),this._el.appendChild(this._frame)):this._el=this._frame=r(e),this._closed=!1,this._container.appendChild(this._el)},l.prototype.focus=s,l.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,i.isIosWKWebview()&&this._unlockScrolling()},l.prototype.isClosed=function(){return Boolean(this._closed)},l.prototype.redirect=function(e){this._frame.src=e},l.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,t.scrollTo(this._savedBodyProperties.left,this._savedBodyProperties.top),delete this._savedBodyProperties},l.prototype._lockScrolling=function(){var e=document.documentElement;this._savedBodyProperties={left:(t.pageXOffset||e.scrollLeft)-(e.clientLeft||0),top:(t.pageYOffset||e.scrollTop)-(e.clientTop||0),overflowStyle:document.body.style.overflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.position="fixed",t.scrollTo(0,0)},n.exports=l}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../assign":95,"../../shared/browser-detection":121,"@braintree/iframer":23}],117:[function(e,n,r){(function(t){"use strict";var r=e("../../../braintree-error"),o=e("../../shared/errors");function i(){}function a(e){this._closed=null,this._options=e}a.prototype.initialize=function(e){var n=this;t.popupBridge.onComplete=function(t,i){var a=!i&&!t;n._closed=!0,t||a?e(new r(o.FRAME_SERVICE_FRAME_CLOSED)):e(null,i)}},a.prototype.open=function(e){var n;n=(e=e||{}).openFrameUrl||this._options.openFrameUrl,this._closed=!1,t.popupBridge.open(n)},a.prototype.focus=i,a.prototype.close=i,a.prototype.isClosed=function(){return Boolean(this._closed)},a.prototype.redirect=function(e){this.open({openFrameUrl:e})},n.exports=a}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../braintree-error":98,"../../shared/errors":123}],118:[function(e,t,n){"use strict";var r=e("../../../shared/constants"),o=e("./position");function i(e,t,n){return void 0!==t?t:o[e](n)}t.exports=function(e){var t=e.height||r.DEFAULT_POPUP_HEIGHT,n=e.width||r.DEFAULT_POPUP_WIDTH,o=i("top",e.top,t),a=i("left",e.left,n);return[r.POPUP_BASE_OPTIONS,"height="+t,"width="+n,"top="+o,"left="+a].join(",")}},{"../../../shared/constants":122,"./position":120}],119:[function(e,n,r){(function(t){"use strict";var r=e("./compose-options");function o(e){this._frame=null,this._options=e||{},this.open()}o.prototype.initialize=function(){},o.prototype.open=function(){this._frame=t.open(this._options.openFrameUrl,this._options.name,r(this._options))},o.prototype.focus=function(){this._frame.focus()},o.prototype.close=function(){this._frame.closed||this._frame.close()},o.prototype.isClosed=function(){return!this._frame||Boolean(this._frame.closed)},o.prototype.redirect=function(e){this._frame.location.href=e},n.exports=o}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./compose-options":118}],120:[function(e,n,r){(function(e){"use strict";function t(e,t,n){return(e-t)/2+n}n.exports={top:function(n){return t(e.outerHeight||document.documentElement.clientHeight,n,null==e.screenY?e.screenTop:e.screenY)},left:function(n){return t(e.outerWidth||document.documentElement.clientWidth,n,null==e.screenX?e.screenLeft:e.screenX)},center:t}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],121:[function(e,t,n){"use strict";t.exports={isIos:e("@braintree/browser-detection/is-ios"),isIosWKWebview:e("@braintree/browser-detection/is-ios-wkwebview"),isIE:e("@braintree/browser-detection/is-ie"),supportsPopups:e("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ie":8,"@braintree/browser-detection/is-ios":16,"@braintree/browser-detection/is-ios-wkwebview":15,"@braintree/browser-detection/supports-popups":19}],122:[function(e,t,n){"use strict";t.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],123:[function(e,t,n){"use strict";var r=e("../../braintree-error");t.exports={FRAME_SERVICE_FRAME_CLOSED:{type:r.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:r.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."},FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG:{type:r.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG",message:"Could not open frame. This may be due to a bug in IE browsers when attempting to open an HTTPS page from a HTTP page. https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11324352/"}}},{"../../braintree-error":98}],124:[function(e,t,n){"use strict";var r=e("../../enumerate");t.exports=r(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":111}],125:[function(e,t,n){"use strict";var r=e("./assign").assign;function o(e,t){var n=e.analyticsMetadata,o={gateway:"braintree","braintree:merchantId":e.gatewayConfiguration.merchantId,"braintree:apiVersion":"v1","braintree:sdkVersion":"3.58.0","braintree:metadata":JSON.stringify({source:n.source,integration:n.integration,sessionId:n.sessionId,version:"3.58.0",platform:n.platform})};return r({},o,t)}t.exports=function(e,t,n){var r,i,a=e.gatewayConfiguration.androidPay,s="production"===e.gatewayConfiguration.environment?"PRODUCTION":"TEST";return 2===t?(r={apiVersion:2,apiVersionMinor:0,environment:s,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:a.supportedNetworks.map((function(e){return e.toUpperCase()}))},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:o(e,{"braintree:authorizationFingerprint":a.googleAuthorizationFingerprint})}}]},n&&(r.merchantInfo={merchantId:n}),a.paypalClientId&&(i={type:"PAYPAL",parameters:{purchase_context:{purchase_units:[{payee:{client_id:a.paypalClientId},recurring_payment:!0}]}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:o(e,{"braintree:paypalClientId":a.paypalClientId})}},r.allowedPaymentMethods.push(i))):(r={environment:s,allowedPaymentMethods:["CARD","TOKENIZED_CARD"],paymentMethodTokenizationParameters:{tokenizationType:"PAYMENT_GATEWAY",parameters:o(e,{"braintree:authorizationFingerprint":a.googleAuthorizationFingerprint})},cardRequirements:{allowedCardNetworks:a.supportedNetworks.map((function(e){return e.toUpperCase()}))}},"TOKENIZATION_KEY"===e.authorizationType&&(r.paymentMethodTokenizationParameters.parameters["braintree:clientKey"]=e.authorization),n&&(r.merchantId=n),t&&(r.apiVersion=t)),r}},{"./assign":95}],126:[function(e,t,n){"use strict";function r(e){var t=e.split("-");return new Date(t[0],t[1],t[2])}t.exports=function(e,t){return r(e)<=r(t)}},{}],127:[function(e,n,r){(function(e){"use strict";n.exports={isHTTPS:function(t){return"https:"===(t=t||e.location.protocol)}}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],128:[function(e,t,n){"use strict";var r,o={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};t.exports=function(e){var t;return e=e.toLowerCase(),!!/^https:/.test(e)&&((r=r||document.createElement("a")).href=e,t=r.hostname.split(".").slice(-2).join("."),o.hasOwnProperty(t))}},{}],129:[function(e,t,n){"use strict";t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],130:[function(e,t,n){"use strict";t.exports=function(e){return Object.keys(e).filter((function(t){return"function"==typeof e[t]}))}},{}],131:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],132:[function(e,n,r){(function(t){"use strict";var r=t.Promise||e("promise-polyfill"),o=e("@braintree/extended-promise");o.suppressUnhandledPromiseMessage=!0,o.setPromise(r),n.exports=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@braintree/extended-promise":22,"promise-polyfill":39}],133:[function(e,n,r){(function(e){"use strict";function t(e,n){var r,o,i,a,s=[];for(i in e)e.hasOwnProperty(i)&&(o=e[i],r=n?(a=e)&&"object"==typeof a&&"number"==typeof a.length&&"[object Array]"===Object.prototype.toString.call(a)?n+"[]":n+"["+i+"]":i,"object"==typeof o?s.push(t(o,r)):s.push(encodeURIComponent(r)+"="+encodeURIComponent(o)));return s.join("&")}n.exports={parse:function(t){return t=t||e.location.href,/\?/.test(t)?t.replace(/#.*$/,"").replace(/^.*\?/,"").split("&").reduce((function(e,t){var n=t.split("="),r=decodeURIComponent(n[0]),o=decodeURIComponent(n[1]);return e[r]=o,e}),{}):{}},stringify:t,queryify:function(e,n){return e=e||"",null!=n&&"object"==typeof n&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}(n)&&(e+=-1===e.indexOf("?")?"?":"",e+=-1!==e.indexOf("=")?"&":"",e+=t(n)),e}}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],134:[function(e,t,n){"use strict";t.exports=function(e){return e?"":".min"}},{}],135:[function(e,n,r){(function(e){"use strict";var t="function"==typeof e.atob?e.atob:r;function r(e){var t,n,r,o,i,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";if(!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(e))throw new Error("Non base64 encoded input passed to window.atob polyfill");a=0;do{t=(63&s.indexOf(e.charAt(a++)))<<2|(o=s.indexOf(e.charAt(a++)))>>4&3,n=(15&o)<<4|(i=s.indexOf(e.charAt(a++)))>>2&15,r=(3&i)<<6|63&s.indexOf(e.charAt(a++)),l+=String.fromCharCode(t)+(n?String.fromCharCode(n):"")+(r?String.fromCharCode(r):"")}while(a<e.length);return l}n.exports={atob:function(n){return t.call(e,n)},_atob:r}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],136:[function(e,t,n){"use strict";t.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},{}],137:[function(e,t,n){"use strict";t.exports={REQUIRED_OPTIONS_FOR_START_PAYMENT:["onPaymentStart","paymentType","amount","fallback"]}},{}],138:[function(e,n,r){(function(t){"use strict";var r=e("../../lib/frame-service/external"),o=e("../../lib/braintree-error"),i=e("../../lib/use-min"),a=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,s=e("../../lib/analytics"),l=e("../../lib/methods"),c=e("../../lib/convert-methods-to-error"),u=e("../../lib/convert-to-braintree-error"),d=e("../../lib/promise"),p=e("../../lib/querystring"),f=e("@braintree/wrap-promise"),h=e("./constants"),m=e("../shared/errors");function g(e){this._client=e.client,this._assetsUrl=e.client.getConfiguration().gatewayConfiguration.assetsUrl+"/web/3.58.0",this._isDebug=e.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/local-payment-landing-frame"+i(this._isDebug)+".html",this._authorizationInProgress=!1,this._paymentType="unknown",this._merchantAccountId=e.merchantAccountId}g.prototype._initialize=function(){var e=this,t=this._client,n=setTimeout((function(){s.sendEvent(t,"local-payment.load.timed-out")}),a);return new d((function(o){r.create({name:"localpaymentlandingpage",dispatchFrameUrl:e._assetsUrl+"/html/dispatch-frame"+i(e._isDebug)+".html",openFrameUrl:e._loadingFrameUrl},(function(r){e._frameService=r,clearTimeout(n),s.sendEvent(t,"local-payment.load.succeeded"),o(e)}))}))},g.prototype.startPayment=function(e){var t,n,r=this,a=this._frameService._serviceId;return function(e){var t,n;if(!e)return!0;for(t=0;t<h.REQUIRED_OPTIONS_FOR_START_PAYMENT.length;t++)if(n=h.REQUIRED_OPTIONS_FOR_START_PAYMENT[t],!e.hasOwnProperty(n))return!0;return!e.fallback.url||!e.fallback.buttonText}(e)?d.reject(new o(m.LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION)):(t=e.address||{},n={intent:"sale",returnUrl:p.queryify(r._assetsUrl+"/html/local-payment-redirect-frame"+i(r._isDebug)+".html",{channel:a,r:e.fallback.url,t:e.fallback.buttonText}),cancelUrl:p.queryify(r._assetsUrl+"/html/cancel-frame"+i(r._isDebug)+".html",{channel:a}),experienceProfile:{noShipping:!e.shippingAddressRequired},fundingSource:e.paymentType,amount:e.amount,currencyIsoCode:e.currencyCode,firstName:e.givenName,lastName:e.surname,payerEmail:e.email,phone:e.phone,line1:t.streetAddress,line2:t.extendedAddress,city:t.locality,state:t.region,postalCode:t.postalCode,countryCode:t.countryCode,merchantAccountId:r._merchantAccountId},r._paymentType=e.paymentType.toLowerCase(),r._authorizationInProgress?(s.sendEvent(r._client,r._paymentType+".local-payment.start-payment.error.already-opened"),d.reject(new o(m.LOCAL_PAYMENT_ALREADY_IN_PROGRESS))):(r._authorizationInProgress=!0,new d((function(t,i){r._startPaymentCallback=r._createStartPaymentCallback(t,i),r._frameService.open({},r._startPaymentCallback),r._client.request({method:"post",endpoint:"local_payments/create",data:n}).then((function(t){s.sendEvent(r._client,r._paymentType+".local-payment.start-payment.opened"),r._startPaymentOptions=e,e.onPaymentStart({paymentId:t.paymentResource.paymentToken},(function(){r._frameService.redirect(t.paymentResource.redirectUrl)}))})).catch((function(e){var t=e.details&&e.details.httpStatus;r._frameService.close(),r._authorizationInProgress=!1,i(422!==t?u(e,{type:m.LOCAL_PAYMENT_START_PAYMENT_FAILED.type,code:m.LOCAL_PAYMENT_START_PAYMENT_FAILED.code,message:m.LOCAL_PAYMENT_START_PAYMENT_FAILED.message}):new o({type:m.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.type,code:m.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.code,message:m.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.message,details:{originalError:e}}))}))}))))},g.prototype.tokenize=function(e){var n=this,r=this._client;return e=e||p.parse(),r.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(e)}).then((function(e){var o=n._formatTokenizePayload(e);return t.popupBridge?s.sendEvent(r,n._paymentType+".local-payment.tokenization.success-popupbridge"):s.sendEvent(r,n._paymentType+".local-payment.tokenization.success"),o})).catch((function(e){return s.sendEvent(r,n._paymentType+".local-payment.tokenization.failed"),d.reject(u(e,{type:m.LOCAL_PAYMENT_TOKENIZATION_FAILED.type,code:m.LOCAL_PAYMENT_TOKENIZATION_FAILED.code,message:m.LOCAL_PAYMENT_TOKENIZATION_FAILED.message}))}))},g.prototype.closeWindow=function(){this._authoriztionInProgress&&s.sendEvent(this._client,this._paymentType+".local-payment.start-payment.closed.by-merchant"),this._frameService.close()},g.prototype.focusWindow=function(){this._frameService.focus()},g.prototype._createStartPaymentCallback=function(e,n){var r=this,i=this._client;return function(a,l){r._authorizationInProgress=!1,a?"FRAME_SERVICE_FRAME_CLOSED"===a.code?(s.sendEvent(i,r._paymentType+".local-payment.tokenization.closed.by-user"),n(new o(m.LOCAL_PAYMENT_WINDOW_CLOSED))):a.code&&a.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1&&n(new o({code:m.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.code,type:m.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.type,message:m.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.message,details:{originalError:a}})):l&&(t.popupBridge||r._frameService.redirect(r._loadingFrameUrl),r.tokenize(l).then(e).catch(n).then((function(){r._frameService.close()})))}},g.prototype._formatTokenizePayload=function(e){var t,n={};return e.paypalAccounts&&(n=e.paypalAccounts[0]),t={nonce:n.nonce,details:{},type:n.type},n.details&&(n.details.payerInfo&&(t.details=n.details.payerInfo),n.details.correlationId&&(t.correlationId=n.details.correlationId)),t},g.prototype.hasTokenizationParams=function(){var e=p.parse();return Boolean(e.btLpToken&&e.btLpPaymentId&&e.btLpPayerId)},g.prototype._formatTokenizeData=function(e){var t=this._client.getConfiguration().gatewayConfiguration;return{merchantAccountId:this._merchantAccountId,paypalAccount:{correlationId:e.btLpToken||e.token,paymentToken:e.btLpPaymentId||e.paymentId,payerId:e.btLpPayerId||e.PayerID,unilateral:t.paypal.unvettedMerchant,intent:"sale"}}},g.prototype.teardown=function(){return this._frameService.teardown(),c(this,l(g.prototype)),s.sendEvent(this._client,"local-payment.teardown-completed"),d.resolve()},n.exports=f.wrapPrototype(g)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":93,"../../lib/braintree-error":98,"../../lib/constants":103,"../../lib/convert-methods-to-error":104,"../../lib/convert-to-braintree-error":105,"../../lib/frame-service/external":115,"../../lib/methods":130,"../../lib/promise":132,"../../lib/querystring":133,"../../lib/use-min":134,"../shared/errors":140,"./constants":137,"@braintree/wrap-promise":30}],139:[function(e,t,n){"use strict";var r=e("../lib/analytics"),o=e("../lib/basic-component-verification"),i=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),s=e("./external/local-payment"),l=e("../lib/promise"),c=e("@braintree/wrap-promise"),u=e("../lib/braintree-error"),d=e("./shared/errors");t.exports={create:c((function(e){var t="Local Payment";return o.verify({name:t,client:e.client,authorization:e.authorization}).then((function(){return i.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:t})})).then((function(t){var n=t.getConfiguration();return e.client=t,!0!==n.gatewayConfiguration.paypalEnabled?l.reject(new u(d.LOCAL_PAYMENT_NOT_ENABLED)):(r.sendEvent(t,"local-payment.initialized"),new s(e)._initialize())}))})),VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./external/local-payment":138,"./shared/errors":140,"@braintree/wrap-promise":30}],140:[function(e,t,n){"use strict";var r=e("../../lib/braintree-error");t.exports={LOCAL_PAYMENT_NOT_ENABLED:{type:r.types.MERCHANT,code:"LOCAL_PAYMENT_NOT_ENABLED",message:"LocalPayment is not enabled for this merchant."},LOCAL_PAYMENT_ALREADY_IN_PROGRESS:{type:r.types.MERCHANT,code:"LOCAL_PAYMENT_ALREADY_IN_PROGRESS",message:"LocalPayment payment is already in progress."},LOCAL_PAYMENT_WINDOW_CLOSED:{type:r.types.CUSTOMER,code:"LOCAL_PAYMENT_WINDOW_CLOSED",message:"Customer closed LocalPayment window before authorizing."},LOCAL_PAYMENT_WINDOW_OPEN_FAILED:{type:r.types.MERCHANT,code:"LOCAL_PAYMENT_WINDOW_OPEN_FAILED",message:"LocalPayment window failed to open; make sure startPayment was called in response to a user action."},LOCAL_PAYMENT_START_PAYMENT_FAILED:{type:r.types.NETWORK,code:"LOCAL_PAYMENT_START_PAYMENT_FAILED",message:"LocalPayment startPayment failed."},LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION:{type:r.types.MERCHANT,code:"LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION",message:"Missing required option for startPayment."},LOCAL_PAYMENT_TOKENIZATION_FAILED:{type:r.types.NETWORK,code:"LOCAL_PAYMENT_TOKENIZATION_FAILED",message:"Could not tokenize user's local payment method."},LOCAL_PAYMENT_INVALID_PAYMENT_OPTION:{type:r.types.MERCHANT,code:"LOCAL_PAYMENT_INVALID_PAYMENT_OPTION",message:"Local payment options are invalid."}}},{"../../lib/braintree-error":98}],141:[function(e,n,r){(function(t){"use strict";var r=e("../../lib/promise"),o=e("../../lib/frame-service/external"),i=e("../../lib/braintree-error"),a=e("../shared/errors"),s=e("../../lib/methods"),l=e("@braintree/wrap-promise"),c=e("../../lib/analytics"),u=e("../../lib/convert-methods-to-error"),d=e("../../lib/convert-to-braintree-error"),p=e("../shared/constants"),f=e("../../lib/constants").INTEGRATION_TIMEOUT_MS;function h(e){var n=e.client.getConfiguration();this._client=e.client,this._assetsUrl=n.gatewayConfiguration.assetsUrl+"/web/3.58.0",this._isDebug=n.isDebug,this._authInProgress=!1,t.popupBridge&&"function"==typeof t.popupBridge.getReturnUrlPrefix?this._callbackUrl=t.popupBridge.getReturnUrlPrefix()+"return":this._callbackUrl=this._assetsUrl+"/html/redirect-frame"+(this._isDebug?"":".min")+".html"}h.prototype._initialize=function(){var e=this;return new r((function(t){var n=setTimeout((function(){c.sendEvent(e._client,"masterpass.load.timed-out")}),f);o.create({name:p.LANDING_FRAME_NAME,height:p.POPUP_HEIGHT,width:p.POPUP_WIDTH,dispatchFrameUrl:e._assetsUrl+"/html/dispatch-frame"+(e._isDebug?"":".min")+".html",openFrameUrl:e._assetsUrl+"/html/masterpass-landing-frame"+(e._isDebug?"":".min")+".html"},(function(r){e._frameService=r,clearTimeout(n),c.sendEvent(e._client,"masterpass.load.succeeded"),t(e)}))}))},h.prototype.tokenize=function(e){var t=this;return!e||function(e){var t,n;for(t=0;t<p.REQUIRED_OPTIONS_FOR_TOKENIZE.length;t++)if(n=p.REQUIRED_OPTIONS_FOR_TOKENIZE[t],!e.hasOwnProperty(n))return!0;return!1}(e)?r.reject(new i(a.MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION)):t._authInProgress?r.reject(new i(a.MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS)):new r((function(n,r){t._navigateFrameToLoadingPage(e).catch(r),t._frameService.open(e.frameOptions,t._createFrameOpenHandler(n,r))}))},h.prototype._navigateFrameToLoadingPage=function(e){var n=this;return this._authInProgress=!0,this._client.request({method:"post",endpoint:"masterpass/request_token",data:{requestToken:{originUrl:t.location.protocol+"//"+t.location.hostname,subtotal:e.subtotal,currencyCode:e.currencyCode,callbackUrl:this._callbackUrl}}}).then((function(t){var r,o=n._assetsUrl+"/html/masterpass-loading-frame"+(n._isDebug?"":".min")+".html?",i=n._client.getConfiguration().gatewayConfiguration,a=e.config||{};r={environment:i.environment,requestToken:t.requestToken,callbackUrl:n._callbackUrl,merchantCheckoutId:i.masterpass.merchantCheckoutId,allowedCardTypes:i.masterpass.supportedNetworks,version:p.MASTERPASS_VERSION},Object.keys(a).forEach((function(e){"function"!=typeof a[e]&&(r[e]=a[e])})),o+=Object.keys(r).map((function(e){return e+"="+r[e]})).join("&"),n._frameService.redirect(o)})).catch((function(e){var t=e.details&&e.details.httpStatus;return n._closeWindow(),422===t?r.reject(d(e,a.MASTERPASS_INVALID_PAYMENT_OPTION)):r.reject(d(e,a.MASTERPASS_FLOW_FAILED))}))},h.prototype._createFrameOpenHandler=function(e,n){var r=this;return t.popupBridge?function(t,o){return r._authInProgress=!1,t?(c.sendEvent(r._client,"masterpass.tokenization.closed-popupbridge.by-user"),void n(d(t,a.MASTERPASS_POPUP_CLOSED))):o.queryItems?void r._tokenizeMasterpass(o.queryItems).then(e).catch(n):(c.sendEvent(r._client,"masterpass.tokenization.failed-popupbridge"),void n(new i(a.MASTERPASS_FLOW_FAILED)))}:function(t,o){if(t)return r._authInProgress=!1,"FRAME_SERVICE_FRAME_CLOSED"===t.code?(c.sendEvent(r._client,"masterpass.tokenization.closed.by-user"),void n(new i(a.MASTERPASS_POPUP_CLOSED))):t.code&&t.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1?(c.sendEvent(r._client,"masterpass.tokenization.failed.to-open"),void n(new i({code:a.MASTERPASS_POPUP_OPEN_FAILED.code,type:a.MASTERPASS_POPUP_OPEN_FAILED.type,message:a.MASTERPASS_POPUP_OPEN_FAILED.message,details:{originalError:t}}))):(c.sendEvent(r._client,"masterpass.tokenization.failed"),r._closeWindow(),void n(d(t,a.MASTERPASS_FLOW_FAILED)));r._tokenizeMasterpass(o).then(e).catch(n)}},h.prototype._tokenizeMasterpass=function(e){var n=this;return"success"!==e.mpstatus?(c.sendEvent(n._client,"masterpass.tokenization.closed.by-user"),n._closeWindow(),r.reject(new i(a.MASTERPASS_POPUP_CLOSED))):function(e){return[e.oauth_verifier,e.oauth_token,e.checkout_resource_url].some((function(e){return null==e||"null"===e}))}(e)?(c.sendEvent(n._client,"masterpass.tokenization.closed.missing-payload"),n._closeWindow(),r.reject(new i(a.MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS))):n._client.request({endpoint:"payment_methods/masterpass_cards",method:"post",data:{masterpassCard:{checkoutResourceUrl:e.checkout_resource_url,requestToken:e.oauth_token,verifierToken:e.oauth_verifier}}}).then((function(e){return n._closeWindow(),t.popupBridge?c.sendEvent(n._client,"masterpass.tokenization.success-popupbridge"):c.sendEvent(n._client,"masterpass.tokenization.success"),e.masterpassCards[0]})).catch((function(e){return n._closeWindow(),t.popupBridge?c.sendEvent(n._client,"masterpass.tokenization.failed-popupbridge"):c.sendEvent(n._client,"masterpass.tokenization.failed"),r.reject(d(e,a.MASTERPASS_ACCOUNT_TOKENIZATION_FAILED))}))},h.prototype._closeWindow=function(){this._authInProgress=!1,this._frameService.close()},h.prototype.teardown=function(){var e=this;return new r((function(t){e._frameService.teardown(),u(e,s(h.prototype)),c.sendEvent(e._client,"masterpass.teardown-completed"),t()}))},n.exports=l.wrapPrototype(h)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":93,"../../lib/braintree-error":98,"../../lib/constants":103,"../../lib/convert-methods-to-error":104,"../../lib/convert-to-braintree-error":105,"../../lib/frame-service/external":115,"../../lib/methods":130,"../../lib/promise":132,"../shared/constants":144,"../shared/errors":145,"@braintree/wrap-promise":30}],142:[function(e,n,r){(function(t){"use strict";var r=e("../lib/braintree-error"),o=e("../lib/basic-component-verification"),i=e("./shared/browser-detection"),a=e("./external/masterpass"),s=e("../lib/create-deferred-client"),l=e("../lib/create-assets-url"),c=e("./shared/errors"),u=e("../lib/promise"),d=e("@braintree/wrap-promise");function p(){return Boolean(t.popupBridge||i.supportsPopups())}n.exports={create:d((function(e){return o.verify({name:"Masterpass",client:e.client,authorization:e.authorization}).then((function(){return p()?u.resolve():u.reject(new r(c.MASTERPASS_BROWSER_NOT_SUPPORTED))})).then((function(){return s.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:l.create(e.authorization),name:"Masterpass"})})).then((function(t){return e.client=t,e.client.getConfiguration().gatewayConfiguration.masterpass?new a(e)._initialize():u.reject(new r(c.MASTERPASS_NOT_ENABLED))}))})),isSupported:p,VERSION:"3.58.0"}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./external/masterpass":141,"./shared/browser-detection":143,"./shared/errors":145,"@braintree/wrap-promise":30}],143:[function(e,t,n){"use strict";t.exports={supportsPopups:e("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/supports-popups":19}],144:[function(e,t,n){"use strict";t.exports={LANDING_FRAME_NAME:"braintreemasterpasslanding",POPUP_WIDTH:450,POPUP_HEIGHT:660,MASTERPASS_VERSION:"v6",REQUIRED_OPTIONS_FOR_TOKENIZE:["subtotal","currencyCode"]}},{}],145:[function(e,t,n){"use strict";var r=e("../../lib/braintree-error");t.exports={MASTERPASS_BROWSER_NOT_SUPPORTED:{type:r.types.CUSTOMER,code:"MASTERPASS_BROWSER_NOT_SUPPORTED",message:"Browser is not supported."},MASTERPASS_NOT_ENABLED:{type:r.types.MERCHANT,code:"MASTERPASS_NOT_ENABLED",message:"Masterpass is not enabled for this merchant."},MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION:{type:r.types.MERCHANT,code:"MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION",message:"Missing required option for tokenize."},MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS:{type:r.types.MERCHANT,code:"MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS",message:"Masterpass tokenization is already in progress."},MASTERPASS_ACCOUNT_TOKENIZATION_FAILED:{type:r.types.NETWORK,code:"MASTERPASS_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's Masterpass account."},MASTERPASS_POPUP_OPEN_FAILED:{type:r.types.MERCHANT,code:"MASTERPASS_POPUP_OPEN_FAILED",message:"Masterpass popup failed to open. Make sure to tokenize in response to a user action, such as a click."},MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS:{type:r.types.MERCHANT,code:"MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS",message:"Masterpass popup failed to return all required parameters needed to continue tokenization."},MASTERPASS_POPUP_CLOSED:{type:r.types.CUSTOMER,code:"MASTERPASS_POPUP_CLOSED",message:"Customer closed Masterpass popup before authorizing."},MASTERPASS_INVALID_PAYMENT_OPTION:{type:r.types.MERCHANT,code:"MASTERPASS_INVALID_PAYMENT_OPTION",message:"Masterpass payment options are invalid."},MASTERPASS_FLOW_FAILED:{type:r.types.NETWORK,code:"MASTERPASS_FLOW_FAILED",message:"Could not initialize Masterpass flow."}}},{"../../lib/braintree-error":98}],146:[function(e,n,r){(function(t){"use strict";var r=e("../../lib/analytics"),o=e("../../lib/assign").assign,i=e("../../lib/bus"),a=e("../../lib/convert-methods-to-error"),s=e("../../lib/generate-google-pay-configuration"),l=e("@braintree/iframer"),c=e("../../lib/vendor/uuid"),u=e("../../lib/use-min"),d=e("../../lib/methods"),p=e("../../lib/promise"),f=e("@braintree/event-emitter"),h=e("../../lib/braintree-error"),m=e("../shared/constants"),g=m.events,b=m.errors,v=e("@braintree/wrap-promise"),y={Visa:"visa",MasterCard:"mastercard","American Express":"amex","Diners Club":"diners",Discover:"discover",JCB:"jcb",UnionPay:"unionpay",Maestro:"maestro"};function O(e){var t=e.enabledPaymentMethods||{};f.call(this),this._componentId=c(),this._client=e.client,this._enabledPaymentMethods={basicCard:!1!==t.basicCard,googlePay:!1!==t.googlePay},this._googlePayVersion=2===e.googlePayVersion?2:1,this._googleMerchantId="18278000977346790994",this._supportedPaymentMethods=this._constructDefaultSupportedPaymentMethods(),this._defaultSupportedPaymentMethods=Object.keys(this._supportedPaymentMethods).map(function(e){return this._supportedPaymentMethods[e]}.bind(this)),this._bus=new i({channel:this._componentId})}f.createChild(O),O.prototype._constructDefaultSupportedPaymentMethods=function(){var e=this._client.getConfiguration(),t=e.gatewayConfiguration.androidPay,n=e.gatewayConfiguration.creditCards,r={};return this._enabledPaymentMethods.basicCard&&n&&n.supportedCardTypes.length>0&&(r.basicCard={supportedMethods:"basic-card",data:{supportedNetworks:n.supportedCardTypes.reduce((function(e,t){return t in y&&e.push(y[t]),e}),[])}}),this._enabledPaymentMethods.googlePay&&t&&t.enabled&&(r.googlePay={supportedMethods:"https://google.com/pay",data:s(e,this._googlePayVersion,this._googleMerchantId)}),r},O.prototype.initialize=function(){var e=this._client.getConfiguration(),t=this;return this._frame=l({allowPaymentRequest:!0,name:"braintree-payment-request-frame",class:"braintree-payment-request-frame",height:0,width:0,style:{position:"absolute",left:"-9999px"},title:"Secure Payment Frame"}),0===this._defaultSupportedPaymentMethods.length?p.reject(new h(b.PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS)):new p((function(n){var o,i,a;t._bus.on(g.FRAME_READY,(function(e){e(t._client)})),t._bus.on(g.FRAME_CAN_MAKE_REQUESTS,(function(){r.sendEvent(t._client,"payment-request.initialized"),t._bus.on(g.SHIPPING_ADDRESS_CHANGE,(function(e){var n={target:{shippingAddress:e},updateWith:function(e){t._bus.emit(g.UPDATE_SHIPPING_ADDRESS,e)}};t._emit("shippingAddressChange",n),t._emit("shippingaddresschange",n)})),t._bus.on(g.SHIPPING_OPTION_CHANGE,(function(e){var n={target:{shippingOption:e},updateWith:function(e){t._bus.emit(g.UPDATE_SHIPPING_OPTION,e)}};t._emit("shippingOptionChange",n),t._emit("shippingoptionchange",n)})),n(t)})),t._frame.src=(o=e.gatewayConfiguration.assetsUrl,i=t._componentId,a=e.isDebug,o+"/web/3.58.0/html/payment-request-frame"+u(a)+".html#"+i),document.body.appendChild(t._frame)}))},O.prototype.createSupportedPaymentMethodsConfiguration=function(e,t){var n;if(!e)throw new h(b.PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE);if(!this._enabledPaymentMethods[e])throw new h(b.PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED);return(n=o({},this._supportedPaymentMethods[e])).data=o({},n.data,t),n},O.prototype.tokenize=function(e){var t=this;return new p((function(n,o){t._bus.emit(g.PAYMENT_REQUEST_INITIALIZED,{supportedPaymentMethods:e.supportedPaymentMethods||t._defaultSupportedPaymentMethods,details:e.details,options:e.options},(function(e){var i=e[0],a=e[1];i?o(t._formatTokenizationError(i)):(r.sendEvent(t._client,"payment-request.tokenize.succeeded"),n({nonce:a.nonce,type:a.type,description:a.description,details:{rawPaymentResponse:a.details.rawPaymentResponse,cardType:a.details.cardType,lastFour:a.details.lastFour,lastTwo:a.details.lastTwo},binData:a.binData}))}))}))},O.prototype.canMakePayment=function(e){var n,o=this;return t.PaymentRequest?e.supportedPaymentMethods&&(e.supportedPaymentMethods.forEach((function(e){var t=e.supportedMethods;t in m.SUPPORTED_METHODS||(n=t)})),n)?p.reject(new h({type:b.PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD.type,code:b.PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD.code,message:n+" is not a supported payment method."})):new p((function(t,n){o._bus.emit(g.CAN_MAKE_PAYMENT,{supportedPaymentMethods:e.supportedPaymentMethods||o._defaultSupportedPaymentMethods,details:e.details,options:e.options},(function(e){var i=e[0],a=e[1];i?n(o._formatCanMakePaymentError(i)):(r.sendEvent(o._client,"payment-request.can-make-payment."+a),t(a))}))})):(r.sendEvent(o._client,"payment-request.can-make-payment.not-available"),p.resolve(!1))},O.prototype.teardown=function(){return this._bus.teardown(),this._frame.parentNode.removeChild(this._frame),a(this,d(O.prototype)),r.sendEvent(this._client,"payment-request.teardown-completed"),p.resolve()},O.prototype._formatTokenizationError=function(e){var t;switch(e.name){case"AbortError":return t=new h({type:b.PAYMENT_REQUEST_CANCELED.type,code:b.PAYMENT_REQUEST_CANCELED.code,message:b.PAYMENT_REQUEST_CANCELED.message,details:{originalError:e}}),r.sendEvent(this._client,"payment-request.tokenize.canceled"),t;case"PAYMENT_REQUEST_INITIALIZATION_FAILED":t=new h({type:b.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.type,code:b.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.code,message:b.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.message,details:{originalError:e}});break;case"BRAINTREE_GATEWAY_GOOGLE_PAYMENT_TOKENIZATION_ERROR":t=new h({type:b.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.type,code:b.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.code,message:b.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.message,details:{originalError:e}});break;case"BRAINTREE_GATEWAY_GOOGLE_PAYMENT_PARSING_ERROR":t=new h({type:b.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.type,code:b.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.code,message:b.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.message,details:{originalError:e}});break;default:t=new h({code:b.PAYMENT_REQUEST_NOT_COMPLETED.code,type:e.type||h.types.CUSTOMER,message:b.PAYMENT_REQUEST_NOT_COMPLETED.message,details:{originalError:e}})}return r.sendEvent(this._client,"payment-request.tokenize.failed"),t},O.prototype._formatCanMakePaymentError=function(e){var t;switch(e.name){case"PAYMENT_REQUEST_INITIALIZATION_FAILED":t=new h({type:b.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.type,code:b.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.code,message:b.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.message,details:{originalError:e}});break;case"NotAllowedError":t=new h({type:b.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.type,code:b.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.code,message:b.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.message,details:{originalError:e}});break;default:t=new h({code:b.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.code,type:b.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.type,message:b.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.message,details:{originalError:e}})}return r.sendEvent(this._client,"payment-request.can-make-payment.failed"),t},n.exports=v.wrapPrototype(O)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":93,"../../lib/assign":95,"../../lib/braintree-error":98,"../../lib/bus":101,"../../lib/convert-methods-to-error":104,"../../lib/generate-google-pay-configuration":125,"../../lib/methods":130,"../../lib/promise":132,"../../lib/use-min":134,"../../lib/vendor/uuid":136,"../shared/constants":148,"@braintree/event-emitter":21,"@braintree/iframer":23,"@braintree/wrap-promise":30}],147:[function(e,t,n){"use strict";var r=e("./external/payment-request"),o=e("../lib/basic-component-verification"),i=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),s=e("@braintree/wrap-promise");t.exports={create:s((function(e){var t="Payment Request";return o.verify({name:t,client:e.client,authorization:e.authorization}).then((function(){return i.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:t})})).then((function(t){return e.client=t,new r(e).initialize()}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"./external/payment-request":146,"@braintree/wrap-promise":30}],148:[function(e,t,n){"use strict";var r=e("../../lib/enumerate"),o=e("./errors"),i={};i.events=r(["CAN_MAKE_PAYMENT","FRAME_READY","FRAME_CAN_MAKE_REQUESTS","PAYMENT_REQUEST_INITIALIZED","SHIPPING_ADDRESS_CHANGE","UPDATE_SHIPPING_ADDRESS","SHIPPING_OPTION_CHANGE","UPDATE_SHIPPING_OPTION"],"payment-request:"),i.errors=o,i.SUPPORTED_METHODS={"basic-card":!0,"https://google.com/pay":!0},t.exports=i},{"../../lib/enumerate":111,"./errors":149}],149:[function(e,t,n){"use strict";var r=e("../../lib/braintree-error");t.exports={PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS:{type:r.types.MERCHANT,code:"PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS",message:"There are no supported payment methods associated with this account."},PAYMENT_REQUEST_CANCELED:{type:r.types.CUSTOMER,code:"PAYMENT_REQUEST_CANCELED",message:"Payment request was canceled."},PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED:{type:r.types.MERCHANT,code:"PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED",message:"Something went wrong when configuring the payment request."},PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED:{type:r.types.UNKNOWN,code:"PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED",message:"Something went wrong when calling `canMakePayment`"},PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED:{type:r.types.MERCHANT,code:"PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED",message:"Something went wrong when calling `canMakePayment`. Most likely, `canMakePayment` was called multiple times with different supportedMethods configurations."},PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD:{type:r.types.MERCHANT,code:"PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD"},PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE:{type:r.types.MERCHANT,code:"PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE",message:"Something went wrong when tokenizing the Google Pay card."},PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR:{type:r.types.UNKNOWN,code:"PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR",message:"Something went wrong when tokenizing the Google Pay card."},PAYMENT_REQUEST_NOT_COMPLETED:{code:"PAYMENT_REQUEST_NOT_COMPLETED",message:"Payment request could not be completed."},PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE:{type:r.types.MERCHANT,code:"PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE",message:"createSupportedPaymentMethodsConfiguration must include a type parameter."},PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED:{type:r.types.MERCHANT,code:"PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED",message:"createSupportedPaymentMethodsConfiguration type parameter must be valid or enabled."}}},{"../../lib/braintree-error":98}],150:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={PAYPAL_NOT_ENABLED:{type:r.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED:{type:r.types.MERCHANT,code:"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",message:"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developers.braintreepayments.com/guides/paypal/testing-go-live/#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:r.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:r.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:r.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../lib/braintree-error":98}],151:[function(e,t,n){"use strict";var r=e("../lib/basic-component-verification"),o=e("@braintree/wrap-promise"),i=e("./paypal-checkout");t.exports={create:o((function(e){return r.verify({name:"PayPal Checkout",client:e.client,authorization:e.authorization}).then((function(){return new i(e)._initialize(e)}))})),isSupported:function(){return!0},VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"./paypal-checkout":152,"@braintree/wrap-promise":30}],152:[function(e,t,n){"use strict";var r=e("../lib/analytics"),o=e("../lib/create-deferred-client"),i=e("../lib/create-assets-url"),a=e("../lib/promise"),s=e("@braintree/wrap-promise"),l=e("../lib/braintree-error"),c=e("../lib/convert-to-braintree-error"),u=e("./errors"),d=e("../paypal/shared/constants"),p=e("../lib/methods"),f=e("../lib/convert-methods-to-error");function h(e){this._merchantAccountId=e.merchantAccountId}h.prototype._initialize=function(e){return this._clientPromise=o.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:i.create(e.authorization),name:"PayPal Checkout"}).then(function(e){return this._configuration=e.getConfiguration(),this._merchantAccountId||(this._configuration.gatewayConfiguration.paypalEnabled?!0===this._configuration.gatewayConfiguration.paypal.environmentNoNetwork&&(this._setupError=new l(u.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED)):this._setupError=new l(u.PAYPAL_NOT_ENABLED)),this._setupError?a.reject(this._setupError):(r.sendEvent(e,"paypal-checkout.initialized"),e)}.bind(this)),e.client?this._clientPromise.then(function(){return this}.bind(this)):a.resolve(this)},h.prototype.createPayment=function(e){var t,n=this;return e&&d.FLOW_ENDPOINTS.hasOwnProperty(e.flow)?(t="paypal_hermes/"+d.FLOW_ENDPOINTS[e.flow],r.sendEvent(this._clientPromise,"paypal-checkout.createPayment"),!0===e.offerCredit&&r.sendEvent(this._clientPromise,"paypal-checkout.credit.offered"),this._clientPromise.then((function(r){return r.request({endpoint:t,method:"post",data:n._formatPaymentResourceData(e)})})).then((function(t){return"checkout"===e.flow?t.paymentResource.redirectUrl.match(/EC-\w+/)[0]:t.agreementSetup.tokenId})).catch((function(e){return n._setupError?a.reject(n._setupError):422===(e.details&&e.details.httpStatus)?a.reject(new l({type:u.PAYPAL_INVALID_PAYMENT_OPTION.type,code:u.PAYPAL_INVALID_PAYMENT_OPTION.code,message:u.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:e}})):a.reject(c(e,{type:u.PAYPAL_FLOW_FAILED.type,code:u.PAYPAL_FLOW_FAILED.code,message:u.PAYPAL_FLOW_FAILED.message}))}))):a.reject(new l(u.PAYPAL_FLOW_OPTION_REQUIRED))},h.prototype.tokenizePayment=function(e){var t,n=this,o={flow:e.billingToken?"vault":"checkout",intent:e.intent},i={ecToken:e.paymentToken,billingToken:e.billingToken,payerId:e.payerID,paymentId:e.paymentID,shippingOptionsId:e.shippingOptionsId};return r.sendEvent(this._clientPromise,"paypal-checkout.tokenization.started"),this._clientPromise.then((function(e){return e.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:n._formatTokenizeData(o,i)})})).then((function(e){return t=n._formatTokenizePayload(e),r.sendEvent(n._clientPromise,"paypal-checkout.tokenization.success"),t.creditFinancingOffered&&r.sendEvent(n._clientPromise,"paypal-checkout.credit.accepted"),t})).catch((function(e){return n._setupError?a.reject(n._setupError):(r.sendEvent(n._clientPromise,"paypal-checkout.tokenization.failed"),a.reject(c(e,{type:u.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:u.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:u.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message})))}))},h.prototype._formatPaymentResourceData=function(e){var t,n=this._configuration.gatewayConfiguration,r=e.intent,o={returnUrl:"https://www.paypal.com/checkoutnow/error",cancelUrl:"https://www.paypal.com/checkoutnow/error",offerPaypalCredit:!0===e.offerCredit,merchantAccountId:this._merchantAccountId,experienceProfile:{brandName:e.displayName||n.paypal.displayName,localeCode:e.locale,noShipping:(!e.enableShippingAddress).toString(),addressOverride:!1===e.shippingAddressEditable,landingPageType:e.landingPageType},shippingOptions:e.shippingOptions};if("checkout"===e.flow)for(t in o.amount=e.amount,o.currencyIsoCode=e.currency,r&&("capture"===r&&(r="sale"),o.intent=r),e.hasOwnProperty("lineItems")&&(o.lineItems=e.lineItems),e.hasOwnProperty("vaultInitiatedCheckoutPaymentMethodToken")&&(o.vaultInitiatedCheckoutPaymentMethodToken=e.vaultInitiatedCheckoutPaymentMethodToken),e.hasOwnProperty("shippingOptions")&&(o.shippingOptions=e.shippingOptions),e.shippingAddressOverride)e.shippingAddressOverride.hasOwnProperty(t)&&(o[t]=e.shippingAddressOverride[t]);else o.shippingAddress=e.shippingAddressOverride,e.billingAgreementDescription&&(o.description=e.billingAgreementDescription);return o},h.prototype._formatTokenizeData=function(e,t){var n=this._configuration,r=n.gatewayConfiguration,o="TOKENIZATION_KEY"===n.authorizationType,i={paypalAccount:{correlationId:t.billingToken||t.ecToken,options:{validate:"vault"===e.flow&&!o}}};return t.billingToken?i.paypalAccount.billingAgreementToken=t.billingToken:(i.paypalAccount.paymentToken=t.paymentId,i.paypalAccount.payerId=t.payerId,i.paypalAccount.unilateral=r.paypal.unvettedMerchant,e.intent&&(i.paypalAccount.intent=e.intent)),this._merchantAccountId&&(i.merchantAccountId=this._merchantAccountId),i},h.prototype._formatTokenizePayload=function(e){var t,n={};return e.paypalAccounts&&(n=e.paypalAccounts[0]),t={nonce:n.nonce,details:{},type:n.type},n.details&&n.details.payerInfo&&(t.details=n.details.payerInfo),n.details&&n.details.creditFinancingOffered&&(t.creditFinancingOffered=n.details.creditFinancingOffered),n.details&&n.details.shippingOptionId&&(t.shippingOptionId=n.details.shippingOptionId),t},h.prototype.teardown=function(){return f(this,p(h.prototype)),a.resolve()},t.exports=s.wrapPrototype(h)},{"../lib/analytics":93,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/convert-to-braintree-error":105,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/methods":130,"../lib/promise":132,"../paypal/shared/constants":155,"./errors":150,"@braintree/wrap-promise":30}],153:[function(e,n,r){(function(t){"use strict";var r=e("../../lib/frame-service/external"),o=e("../../lib/braintree-error"),i=e("../../lib/convert-to-braintree-error"),a=e("../../lib/use-min"),s=e("../../lib/once"),l=e("../shared/constants"),c=e("../../lib/constants").INTEGRATION_TIMEOUT_MS,u=e("../../lib/analytics"),d=e("../../lib/methods"),p=e("../../lib/deferred"),f=e("../shared/errors"),h=e("../../lib/convert-methods-to-error"),m=e("../../lib/querystring"),g=e("../../lib/promise"),b=e("@braintree/wrap-promise");function v(e){this._client=e.client,this._assetsUrl=e.client.getConfiguration().gatewayConfiguration.paypal.assetsUrl+"/web/3.58.0",this._isDebug=e.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+a(this._isDebug)+".html",this._authorizationInProgress=!1}v.prototype._initialize=function(){var e=this,t=this._client,n=setTimeout((function(){u.sendEvent(t,"paypal.load.timed-out")}),c);return new g((function(o){r.create({name:l.LANDING_FRAME_NAME,dispatchFrameUrl:e._assetsUrl+"/html/dispatch-frame"+a(e._isDebug)+".html",openFrameUrl:e._loadingFrameUrl},(function(r){e._frameService=r,clearTimeout(n),u.sendEvent(t,"paypal.load.succeeded"),o(e)}))}))},v.prototype.tokenize=function(e,n){var r,i,a=this,c=this._client;return n&&(n=s(p(n))),e&&l.FLOW_ENDPOINTS.hasOwnProperty(e.flow)?(r=new g((function(n,r){a._authorizationInProgress?(u.sendEvent(c,"paypal.tokenization.error.already-opened"),r(new o(f.PAYPAL_TOKENIZATION_REQUEST_ACTIVE))):(a._authorizationInProgress=!0,t.popupBridge||u.sendEvent(c,"paypal.tokenization.opened"),!0===e.offerCredit&&u.sendEvent(c,"paypal.credit.offered"),a._navigateFrameToAuth(e).catch(r),a._frameService.open({},a._createFrameServiceCallback(e,n,r)))})),n?(r.then((function(e){n(null,e)})).catch(n),this._frameService.createHandler({beforeClose:function(){u.sendEvent(c,"paypal.tokenization.closed.by-merchant")}})):r):(i=new o(f.PAYPAL_FLOW_OPTION_REQUIRED),n?(n(i),this._frameService.createNoopHandler()):g.reject(i))},v.prototype._createFrameServiceCallback=function(e,n,r){var i=this,a=this._client;return t.popupBridge?function(t,s){var l=s&&s.path&&"/cancel"===s.path.substring(0,7);i._authorizationInProgress=!1,t||l?(u.sendEvent(a,"paypal.tokenization.closed-popupbridge.by-user"),r(new o(f.PAYPAL_POPUP_CLOSED))):s&&i._tokenizePayPal(e,s.queryItems).then(n).catch(r)}:function(t,s){i._authorizationInProgress=!1,t?"FRAME_SERVICE_FRAME_CLOSED"===t.code?(u.sendEvent(a,"paypal.tokenization.closed.by-user"),r(new o(f.PAYPAL_POPUP_CLOSED))):t.code&&t.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1&&r(new o({code:f.PAYPAL_POPUP_OPEN_FAILED.code,type:f.PAYPAL_POPUP_OPEN_FAILED.type,message:f.PAYPAL_POPUP_OPEN_FAILED.message,details:{originalError:t}})):s&&i._tokenizePayPal(e,s).then(n).catch(r)}},v.prototype._tokenizePayPal=function(e,n){var r=this,o=this._client;return t.popupBridge||this._frameService.redirect(this._loadingFrameUrl),o.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(e,n)}).then((function(e){var n=r._formatTokenizePayload(e);return t.popupBridge?u.sendEvent(o,"paypal.tokenization.success-popupbridge"):u.sendEvent(o,"paypal.tokenization.success"),n.creditFinancingOffered&&u.sendEvent(o,"paypal.credit.accepted"),r._frameService.close(),n})).catch((function(e){return t.popupBridge?u.sendEvent(o,"paypal.tokenization.failed-popupbridge"):u.sendEvent(o,"paypal.tokenization.failed"),r._frameService.close(),g.reject(i(e,{type:f.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:f.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:f.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message}))}))},v.prototype._formatTokenizePayload=function(e){var t,n={};return e.paypalAccounts&&(n=e.paypalAccounts[0]),t={nonce:n.nonce,details:{},type:n.type},n.details&&n.details.payerInfo&&(t.details=n.details.payerInfo),n.details&&n.details.creditFinancingOffered&&(t.creditFinancingOffered=n.details.creditFinancingOffered),t},v.prototype._formatTokenizeData=function(e,t){var n=this._client.getConfiguration(),r=n.gatewayConfiguration,o="TOKENIZATION_KEY"===n.authorizationType,i={paypalAccount:{correlationId:t.ba_token||t.token,options:{validate:"vault"===e.flow&&!o}}};return t.ba_token?i.paypalAccount.billingAgreementToken=t.ba_token:(i.paypalAccount.paymentToken=t.paymentId,i.paypalAccount.payerId=t.PayerID,i.paypalAccount.unilateral=r.paypal.unvettedMerchant,e.hasOwnProperty("intent")&&(i.paypalAccount.intent=e.intent)),i},v.prototype._navigateFrameToAuth=function(e){var n=this,r=this._client,a="paypal_hermes/"+l.FLOW_ENDPOINTS[e.flow];return r.request({endpoint:a,method:"post",data:this._formatPaymentResourceData(e)}).then((function(o){var i;i="checkout"===e.flow?o.paymentResource.redirectUrl:o.agreementSetup.approvalUrl,"commit"===e.useraction&&(i=m.queryify(i,{useraction:"commit"})),t.popupBridge&&u.sendEvent(r,"paypal.tokenization.opened-popupbridge"),n._frameService.redirect(i)})).catch((function(e){var t=e.details&&e.details.httpStatus;return n._frameService.close(),n._authorizationInProgress=!1,422===t?g.reject(new o({type:f.PAYPAL_INVALID_PAYMENT_OPTION.type,code:f.PAYPAL_INVALID_PAYMENT_OPTION.code,message:f.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:e}})):g.reject(i(e,{type:f.PAYPAL_FLOW_FAILED.type,code:f.PAYPAL_FLOW_FAILED.code,message:f.PAYPAL_FLOW_FAILED.message}))}))},v.prototype._formatPaymentResourceData=function(e){var n,r=this._client.getConfiguration().gatewayConfiguration,o=this._frameService._serviceId,i={returnUrl:r.paypal.assetsUrl+"/web/3.58.0/html/redirect-frame"+a(this._isDebug)+".html?channel="+o,cancelUrl:r.paypal.assetsUrl+"/web/3.58.0/html/cancel-frame"+a(this._isDebug)+".html?channel="+o,offerPaypalCredit:!0===e.offerCredit,experienceProfile:{brandName:e.displayName||r.paypal.displayName,localeCode:e.locale,noShipping:(!e.enableShippingAddress).toString(),addressOverride:!1===e.shippingAddressEditable,landingPageType:e.landingPageType}};if(t.popupBridge&&"function"==typeof t.popupBridge.getReturnUrlPrefix&&(i.returnUrl=t.popupBridge.getReturnUrlPrefix()+"return",i.cancelUrl=t.popupBridge.getReturnUrlPrefix()+"cancel"),"checkout"===e.flow)for(n in i.amount=e.amount,i.currencyIsoCode=e.currency,e.hasOwnProperty("intent")&&(i.intent=e.intent),e.shippingAddressOverride)e.shippingAddressOverride.hasOwnProperty(n)&&(i[n]=e.shippingAddressOverride[n]);else i.shippingAddress=e.shippingAddressOverride,e.billingAgreementDescription&&(i.description=e.billingAgreementDescription);return i},v.prototype.closeWindow=function(){this._authorizationInProgress&&u.sendEvent(this._client,"paypal.tokenize.closed.by-merchant"),this._frameService.close()},v.prototype.focusWindow=function(){this._frameService.focus()},v.prototype.teardown=b((function(){return this._frameService.teardown(),h(this,d(v.prototype)),u.sendEvent(this._client,"paypal.teardown-completed"),g.resolve()})),n.exports=v}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/analytics":93,"../../lib/braintree-error":98,"../../lib/constants":103,"../../lib/convert-methods-to-error":104,"../../lib/convert-to-braintree-error":105,"../../lib/deferred":109,"../../lib/frame-service/external":115,"../../lib/methods":130,"../../lib/once":131,"../../lib/promise":132,"../../lib/querystring":133,"../../lib/use-min":134,"../shared/constants":155,"../shared/errors":156,"@braintree/wrap-promise":30}],154:[function(e,t,n){"use strict";var r=e("../lib/analytics"),o=e("../lib/basic-component-verification"),i=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),s=e("../lib/braintree-error"),l=e("./shared/errors"),c=e("./external/paypal"),u=e("@braintree/wrap-promise"),d=e("../lib/promise");t.exports={create:u((function(e){return o.verify({name:"PayPal",client:e.client,authorization:e.authorization}).then((function(){return i.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:"PayPal"})})).then((function(t){var n=t.getConfiguration();return e.client=t,!0!==n.gatewayConfiguration.paypalEnabled?d.reject(new s(l.PAYPAL_NOT_ENABLED)):(r.sendEvent(e.client,"paypal.initialized"),new c(e)._initialize())}))})),isSupported:function(){return!0},VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./external/paypal":153,"./shared/errors":156,"@braintree/wrap-promise":30}],155:[function(e,t,n){"use strict";t.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"}}},{}],156:[function(e,t,n){"use strict";var r=e("../../lib/braintree-error");t.exports={PAYPAL_NOT_ENABLED:{type:r.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_TOKENIZATION_REQUEST_ACTIVE:{type:r.types.MERCHANT,code:"PAYPAL_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:r.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:r.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_POPUP_OPEN_FAILED:{type:r.types.MERCHANT,code:"PAYPAL_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to tokenize in response to a user action."},PAYPAL_POPUP_CLOSED:{type:r.types.CUSTOMER,code:"PAYPAL_POPUP_CLOSED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:r.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../../lib/braintree-error":98}],157:[function(e,t,n){"use strict";var r=e("@braintree/wrap-promise"),o=e("../lib/basic-component-verification"),i=e("./preferred-payment-methods");t.exports={create:r((function(e){return o.verify({name:"PreferredPaymentMethods",client:e.client,authorization:e.authorization}).then((function(){return(new i).initialize(e)}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"./preferred-payment-methods":158,"@braintree/wrap-promise":30}],158:[function(e,t,n){"use strict";var r=e("@braintree/wrap-promise"),o=e("../lib/analytics"),i=e("../lib/create-assets-url"),a=e("../lib/create-deferred-client"),s=e("../lib/promise");function l(){}l.prototype.initialize=function(e){var t=this;return this._clientPromise=a.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:i.create(e.authorization),name:"PreferredPaymentMethods"}).catch((function(e){return t._setupError=e,s.reject(e)})),o.sendEvent(this._clientPromise,"preferred-payment-methods.initialized"),s.resolve(this)},l.prototype.fetchPreferredPaymentMethods=function(){var e,t=this;return this._clientPromise.then((function(t){return(e=t).request({api:"graphQLApi",data:{query:"query ClientConfiguration { clientConfiguration { paypal { paymentMethodAvailableOnDevice } } }"}})})).then((function(t){var n=t.data.clientConfiguration.paypal.paymentMethodAvailableOnDevice;return o.sendEvent(e,"preferred-payment-methods.paypal.api-detected."+n),{paypalPreferred:n}})).catch((function(){return t._setupError?s.reject(t._setupError):(o.sendEvent(e,"preferred-payment-methods.api-error"),{paypalPreferred:!1})}))},t.exports=r.wrapPrototype(l)},{"../lib/analytics":93,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"@braintree/wrap-promise":30}],159:[function(e,n,r){(function(t){"use strict";var r=e("../../../lib/assign").assign,o=e("../../../lib/analytics"),i=e("../../../lib/braintree-error"),a=e("../../../lib/promise"),s=e("@braintree/extended-promise"),l=e("@braintree/event-emitter"),c=e("../../shared/errors"),u=e("@braintree/iframer"),d=e("../../../lib/bus"),p=e("../../shared/constants"),f=e("../../../lib/vendor/uuid"),h=e("../../shared/events"),m=e("../../../lib/use-min");function g(e){l.call(this),this._client=e.client,this._isDebug=this._client.getConfiguration().isDebug,this._assetsUrl=this._client.getConfiguration().gatewayConfiguration.assetsUrl+"/web/3.58.0",this._createOptions=e}l.createChild(g),g.prototype.setUpEventListeners=function(){throw new i(c.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},g.prototype.verifyCard=function(e,t){var n,r,i=this;return t=t||{},(r=this._checkForVerifyCardError(e,t))?a.reject(r):(this._verifyCardInProgress=!0,n=this._formatVerifyCardOptions(e),this._formatLookupData(n).then((function(e){return o.sendEvent(i._client,"three-d-secure.verification-flow.started"),i._performLookup(n.nonce,e)})).then((function(e){return o.sendEvent(i._client,"three-d-secure.verification-flow.3ds-version."+e.lookup.threeDSecureVersion),i._onLookupComplete(e,n)})).then((function(e){return i.initializeChallengeWithLookupResponse(e,n)})).then((function(e){return i._resetVerificationState(),o.sendEvent(i._client,"three-d-secure.verification-flow.completed"),e})).catch((function(e){return i._resetVerificationState(),o.sendEvent(i._client,"three-d-secure.verification-flow.failed"),a.reject(e)})))},g.prototype._checkForFrameworkSpecificVerifyCardErrors=function(){throw new i(c.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},g.prototype._presentChallenge=function(){throw new i(c.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},g.prototype.prepareLookup=function(){throw new i(c.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},g.prototype._resetVerificationState=function(){this._verifyCardInProgress=!1,this._verifyCardPromisePlus=null},g.prototype._performLookup=function(e,t){var n=this,r="payment_methods/"+e+"/three_d_secure/lookup";return this._client.request({endpoint:r,method:"post",data:t}).catch((function(e){var t,r=e&&e.details&&e.details.httpStatus,s="three-d-secure.verification-flow.lookup-failed";return 404===r?(t=c.THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR,s+=".404"):422===r?(t=c.THREEDS_LOOKUP_VALIDATION_ERROR,s+=".422"):t=c.THREEDS_LOOKUP_ERROR,o.sendEvent(n._client,s),a.reject(new i({type:t.type,code:t.code,message:t.message,details:{originalError:e}}))}))},g.prototype._checkForVerifyCardError=function(e,t){var n;return!0===this._verifyCardInProgress?new i(c.THREEDS_AUTHENTICATION_IN_PROGRESS):(e.nonce?e.amount||(n="an amount"):n="a nonce",n||(n=this._checkForFrameworkSpecificVerifyCardErrors(e,t)),n?new i({type:c.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:c.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include "+n+"."}):null)},g.prototype.initializeChallengeWithLookupResponse=function(e,t){var n=this;return t=t||{},this._lookupPaymentMethod=e.paymentMethod,n._verifyCardPromisePlus=n._verifyCardPromisePlus||new s,n._handleLookupResponse(e,t),n._verifyCardPromisePlus.then((function(e){return o.sendEvent(n._client,"three-d-secure.verification-flow.liability-shifted."+String(e.liabilityShifted)),o.sendEvent(n._client,"three-d-secure.verification-flow.liability-shift-possible."+String(e.liabilityShiftPossible)),e}))},g.prototype._handleLookupResponse=function(e,t){var n,r=Boolean(e.lookup&&e.lookup.acsUrl);o.sendEvent(this._client,"three-d-secure.verification-flow.challenge-presented."+String(r)),r?this._presentChallenge(e,t):((n=this._formatAuthResponse(e.paymentMethod,e.threeDSecureInfo)).verificationDetails=e.threeDSecureInfo,this._verifyCardPromisePlus.resolve(n))},g.prototype._onLookupComplete=function(e){return this._lookupPaymentMethod=e.paymentMethod,this._verifyCardPromisePlus=new s,a.resolve(e)},g.prototype._formatAuthResponse=function(e,t){return{nonce:e.nonce,binData:e.binData,details:e.details,description:e.description&&e.description.replace(/\+/g," "),liabilityShifted:t&&t.liabilityShifted,liabilityShiftPossible:t&&t.liabilityShiftPossible,threeDSecureInfo:e.threeDSecureInfo}},g.prototype._formatVerifyCardOptions=function(e){return r({},e)},g.prototype._formatLookupData=function(e){var t={amount:e.amount};return a.resolve(t)},g.prototype._handleV1AuthResponse=function(e){var t=JSON.parse(e.auth_response);t.success?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(t.paymentMethod,t.threeDSecureInfo)):t.threeDSecureInfo&&t.threeDSecureInfo.liabilityShiftPossible?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(this._lookupPaymentMethod,t.threeDSecureInfo)):this._verifyCardPromisePlus.reject(new i({type:i.types.UNKNOWN,code:"UNKNOWN_AUTH_RESPONSE",message:t.error.message}))},g.prototype.cancelVerifyCard=function(){var e,t;return this._verifyCardInProgress=!1,this._lookupPaymentMethod?(t=this._lookupPaymentMethod.threeDSecureInfo,e=r({},this._lookupPaymentMethod,{liabilityShiftPossible:t&&t.liabilityShiftPossible,liabilityShifted:t&&t.liabilityShifted,verificationDetails:t&&t.verificationDetails}),a.resolve(e)):a.reject(new i(c.THREEDS_NO_VERIFICATION_PAYLOAD))},g.prototype._setupV1Bus=function(e){var n=t.location.href.split("#")[0],r=e.lookupResponse,o=new d({channel:f(),merchantUrl:t.location.href}),i=this._assetsUrl+"/html/three-d-secure-authentication-complete-frame.html?channel="+encodeURIComponent(o.channel)+"&";return o.on(d.events.CONFIGURATION_REQUEST,(function(e){e({acsUrl:r.acsUrl,pareq:r.pareq,termUrl:r.termUrl+"&three_d_secure_version=3.58.0&authentication_complete_base_url="+encodeURIComponent(i),md:r.md,parentUrl:n})})),o.on(h.AUTHENTICATION_COMPLETE,e.handleAuthResponse),o},g.prototype._setupV1Iframe=function(e){var t=this._assetsUrl+"/html/three-d-secure-bank-frame"+m(this._isDebug)+".html?showLoader="+e.showLoader;return u({src:t,height:400,width:400,name:p.LANDING_FRAME_NAME+"_"+this._v1Bus.channel,title:"3D Secure Authorization Frame"})},g.prototype._setupV1Elements=function(e){this._v1Bus=this._setupV1Bus(e),this._v1Iframe=this._setupV1Iframe(e)},g.prototype._teardownV1Elements=function(){this._v1Bus&&(this._v1Bus.teardown(),this._v1Bus=null),this._v1Iframe&&this._v1Iframe.parentNode&&(this._v1Iframe.parentNode.removeChild(this._v1Iframe),this._v1Iframe=null),this._onV1Keyup&&(document.removeEventListener("keyup",this._onV1Keyup),this._onV1Keyup=null)},g.prototype.teardown=function(){return o.sendEvent(this._client,"three-d-secure.teardown-completed"),this._teardownV1Elements(),a.resolve()},n.exports=g}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/analytics":93,"../../../lib/assign":95,"../../../lib/braintree-error":98,"../../../lib/bus":101,"../../../lib/promise":132,"../../../lib/use-min":134,"../../../lib/vendor/uuid":136,"../../shared/constants":168,"../../shared/errors":169,"../../shared/events":170,"@braintree/event-emitter":21,"@braintree/extended-promise":22,"@braintree/iframer":23}],160:[function(e,t,n){"use strict";var r=e("./songbird");function o(e){r.call(this,e)}o.prototype=Object.create(r.prototype,{constructor:r}),o.prototype._createV1IframeModalElement=function(e){var t=document.createElement("div");return t.innerHTML='<div class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="CCAFrameModal-label" aria-hidden="true" style="display: block;"><div class="modal-dialog" style="width:440px;z-index:999999;"><div class="modal-content"><div class="modal-body" data-braintree-v1-fallback-iframe-container><button type="button" data-braintree-v1-fallback-close-button class="close" data-dismiss="modal" aria-hidden="true">Ã</button></div></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;cursor: pointer;z-index: 999998;top: 0;left: 0;width: 100%;height: 100%;"></div></div>',t.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(e),t},o.prototype._createCardinalConfigurationOptions=function(e){var t=r.prototype._createCardinalConfigurationOptions.call(this,e);return t.payment.framework="bootstrap3",t},t.exports=o},{"./songbird":165}],161:[function(e,t,n){"use strict";var r=e("./songbird");function o(e){r.call(this,e)}o.prototype=Object.create(r.prototype,{constructor:r}),o.prototype._createV1IframeModalElement=function(e){var t=document.createElement("div"),n=Boolean(this._createOptions&&this._createOptions.cardinalSDKConfig&&this._createOptions.cardinalSDKConfig.payment&&this._createOptions.cardinalSDKConfig.payment.displayExitButton);return t.innerHTML='<div style="position: fixed;z-index: 999999;top: 50%;left: 50%;padding: 24px 20px;transform: translate(-50%,-50%);border-radius: 2px;background: #fff;max-width: 100%;overflow: auto;"><div><button data-braintree-v1-fallback-close-button style="font-family: Helvetica,Arial,sans-serif;font-size: 25px;line-height: 12px;position: absolute;top: 2px;right: 0px;cursor: pointer;color: #999;border: 0;outline: none;background: none;" onMouseOver="this.style.color=\'#000\'" onMouseOut="this.style.color=\'#999\'">Ã</button></div><div data-braintree-v1-fallback-iframe-container style="height: 400px;"></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;z-index: 999998;cursor: pointer;top: 0;left: 0;width: 100%;height: 100%;transition: opacity 1ms ease;background: rgba(0,0,0,.6);"></div>',n||(t.querySelector("[data-braintree-v1-fallback-close-button]").style.display="none"),t.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(e),t},t.exports=o},{"./songbird":165}],162:[function(e,t,n){"use strict";var r=e("./legacy"),o=e("./cardinal-modal"),i=e("./bootstrap3-modal"),a=e("./inline-iframe");t.exports={legacy:r,"cardinal-modal":o,"bootstrap3-modal":i,"inline-iframe":a}},{"./bootstrap3-modal":160,"./cardinal-modal":161,"./inline-iframe":163,"./legacy":164}],163:[function(e,t,n){"use strict";var r=e("./songbird"),o=e("../../../lib/braintree-error"),i=e("../../shared/errors"),a=e("../../../lib/enumerate");function s(e){r.call(this,e)}s.prototype=Object.create(r.prototype,{constructor:r}),s.events=a(["AUTHENTICATION_IFRAME_AVAILABLE"],"inline-iframe-framework:"),s.prototype.setUpEventListeners=function(e){r.prototype.setUpEventListeners.call(this,e),this.on(s.events.AUTHENTICATION_IFRAME_AVAILABLE,(function(t,n){e("authentication-iframe-available",t,n)}))},s.prototype._createCardinalConfigurationOptions=function(e){var t=r.prototype._createCardinalConfigurationOptions.call(this,e);return t.payment.framework="inline",t},s.prototype._addV1IframeToPage=function(){this._emit(s.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:this._v1Modal},(function(){}))},s.prototype._setupFrameworkSpecificListeners=function(){this.setCardinalListener("ui.inline.setup",this._onInlineSetup.bind(this))},s.prototype._onInlineSetup=function(e,t,n,r){var a,l;e&&t?("CCA"!==t.paymentType||"suppress"!==t.data.mode&&"static"!==t.data.mode)&&(l=!0):l=!0,l?r(new o(i.THREEDS_INLINE_IFRAME_DETAILS_INCORRECT)):((a=document.createElement("div")).innerHTML=e,"suppress"===t.data.mode?(a.style.display="none",document.body.appendChild(a),n()):"static"===t.data.mode&&this._emit(s.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:a},(function(){n()})))},t.exports=s},{"../../../lib/braintree-error":98,"../../../lib/enumerate":111,"../../shared/errors":169,"./songbird":165}],164:[function(e,t,n){"use strict";var r=e("./base"),o=e("../../../lib/deferred");function i(e){r.call(this,e)}i.prototype=Object.create(r.prototype,{constructor:i}),i.prototype.setUpEventListeners=function(){},i.prototype.transformV1CustomerBillingAddress=function(e){return e.billingAddress.line1=e.billingAddress.streetAddress,e.billingAddress.line2=e.billingAddress.extendedAddress,e.billingAddress.city=e.billingAddress.locality,e.billingAddress.state=e.billingAddress.region,e.billingAddress.countryCode=e.billingAddress.countryCodeAlpha2,delete e.billingAddress.streetAddress,delete e.billingAddress.extendedAddress,delete e.billingAddress.locality,delete e.billingAddress.region,delete e.billingAddress.countryCodeAlpha2,e},i.prototype._createIframe=function(e){var t=this;return this._setupV1Elements({lookupResponse:e.lookupResponse,showLoader:e.showLoader,handleAuthResponse:function(n){t._handleAuthResponse(n,e)}}),this._v1Iframe},i.prototype._handleAuthResponse=function(e,t){this._v1Bus.teardown(),t.removeFrame(),o(function(){this._handleV1AuthResponse(e)}.bind(this))()},i.prototype._checkForFrameworkSpecificVerifyCardErrors=function(e){var t;return"function"!=typeof e.addFrame?t="an addFrame function":"function"!=typeof e.removeFrame&&(t="a removeFrame function"),t},i.prototype._formatVerifyCardOptions=function(e){var t=r.prototype._formatVerifyCardOptions.call(this,e);return t.addFrame=o(e.addFrame),t.removeFrame=o(e.removeFrame),t.showLoader=!1!==e.showLoader,t},i.prototype._formatLookupData=function(e){var t=this;return r.prototype._formatLookupData.call(this,e).then((function(n){return e.customer&&e.customer.billingAddress&&(n.customer=t.transformV1CustomerBillingAddress(e.customer)),n}))},i.prototype._presentChallenge=function(e,t){t.addFrame(null,this._createIframe({showLoader:t.showLoader,lookupResponse:e.lookup,removeFrame:t.removeFrame}))},t.exports=i},{"../../../lib/deferred":109,"./base":159}],165:[function(e,n,r){(function(t){"use strict";var r=e("./base"),o=e("../../../lib/assign").assign,i=e("../../../lib/deferred"),a=e("../../../lib/braintree-error"),s=e("../../../lib/convert-to-braintree-error"),l=e("../../../lib/analytics"),c=e("../../../lib/assets"),u=e("../../shared/errors"),d=e("../../../lib/enumerate"),p=e("../../shared/constants"),f=e("../../../lib/promise"),h=e("@braintree/extended-promise"),m=e("../../../lib/constants").INTEGRATION_TIMEOUT_MS,g=e("../../../lib/constants").PLATFORM;function b(e){r.call(this,e),this._useV1Fallback=!1,this._clientMetadata={requestedThreeDSecureVersion:"2",sdkVersion:g+"/3.58.0"},this._getDfReferenceIdPromisePlus=new h,this.setupSongbird(e),this._cardinalEvents=[]}function v(e,t,n){t[n+"Line1"]=e.streetAddress,t[n+"Line2"]=e.extendedAddress,t[n+"Line3"]=e.line3,t[n+"City"]=e.locality,t[n+"State"]=e.region,t[n+"PostalCode"]=e.postalCode,t[n+"CountryCode"]=e.countryCodeAlpha2}b.prototype=Object.create(r.prototype,{constructor:b}),b.events=d(["ON_LOOKUP_COMPLETE"],"songbird-framework:"),b.prototype.setUpEventListeners=function(e){this.on(b.events.ON_LOOKUP_COMPLETE,(function(t,n){e("lookup-complete",t,n)}))},b.prototype.prepareLookup=function(e){var t=o({},e),n=this;return this.getDfReferenceId().then((function(e){t.dfReferenceId=e})).then((function(){return n._triggerCardinalBinProcess(e.bin)})).catch((function(){})).then((function(){return t.clientMetadata=n._clientMetadata,t.authorizationFingerprint=n._client.getConfiguration().authorizationFingerprint,t.braintreeLibraryVersion="braintree/web/3.58.0",t}))},b.prototype.initializeChallengeWithLookupResponse=function(e,t){return this.setupSongbird().then(function(){return r.prototype.initializeChallengeWithLookupResponse.call(this,e,t)}.bind(this))},b.prototype._initiateV1Fallback=function(e){this._useV1Fallback=!0,l.sendEvent(this._client,"three-d-secure.v1-fallback."+e),this._songbirdPromise.resolve()},b.prototype._triggerCardinalBinProcess=function(e){var n=this,r=Date.now();return e?t.Cardinal.trigger("bin.process",e).then((function(e){n._clientMetadata.issuerDeviceDataCollectionTimeElapsed=Date.now()-r,n._clientMetadata.issuerDeviceDataCollectionResult=e&&e.Status})):f.resolve()},b.prototype.transformBillingAddress=function(e,t){return t&&(v(t,e,"billing"),e.billingPhoneNumber=t.phoneNumber,e.billingGivenName=t.givenName,e.billingSurname=t.surname),e},b.prototype.transformShippingAddress=function(e){var t=e.shippingAddress;return t&&(v(t,e,"shipping"),delete e.shippingAddress),e},b.prototype._createV1IframeModalElement=function(e){var t=document.createElement("div");return t.innerHTML='<div data-braintree-v1-fallback-iframe-container="true" style="height: 400px;"></div>',t.querySelector('[data-braintree-v1-fallback-iframe-container="true"]').appendChild(e),t},b.prototype._createV1IframeModal=function(e){var t=this._createV1IframeModalElement(e),n=t.querySelector("[data-braintree-v1-fallback-close-button]"),r=t.querySelector("[data-braintree-v1-fallback-backdrop]"),o=this;function i(){t.parentNode.removeChild(t),o.cancelVerifyCard(u.THREEDS_CARDINAL_SDK_CANCELED),document.removeEventListener("keyup",o._onV1Keyup),o._onV1Keyup=null}return this._onV1Keyup=function(e){"Escape"===e.key&&t.parentNode&&i()},n&&n.addEventListener("click",i),r&&r.addEventListener("click",i),document.addEventListener("keyup",this._onV1Keyup),t},b.prototype._addV1IframeToPage=function(){document.body.appendChild(this._v1Modal)},b.prototype._handleAuthResponseFromV1Fallback=function(e){this._teardownV1Elements(),this._v1Modal.parentNode.removeChild(this._v1Modal),this._handleV1AuthResponse(e)},b.prototype._presentChallengeWithV1Fallback=function(e){var t=this;this._setupV1Elements({lookupResponse:e,showLoader:!0,handleAuthResponse:function(e){t._handleAuthResponseFromV1Fallback(e)}}),this._v1Modal=this._createV1IframeModal(this._v1Iframe),this._addV1IframeToPage()},b.prototype.setupSongbird=function(e){var n=this,r=Date.now();return this._songbirdPromise||(e=e||{},this._songbirdPromise=new h,this._v2SetupFailureReason="reason-unknown",n._loadCardinalScript(e).then((function(){return t.Cardinal?n._configureCardinalSdk({setupOptions:e,setupStartTime:r}):(n._v2SetupFailureReason="cardinal-global-unavailable",f.reject(new a(u.THREEDS_CARDINAL_SDK_SETUP_FAILED)))})).catch((function(e){var r=s(e,{type:u.THREEDS_CARDINAL_SDK_SETUP_FAILED.type,code:u.THREEDS_CARDINAL_SDK_SETUP_FAILED.code,message:u.THREEDS_CARDINAL_SDK_SETUP_FAILED.message});n._getDfReferenceIdPromisePlus.reject(r),t.clearTimeout(n._songbirdSetupTimeoutReference),l.sendEvent(n._client,"three-d-secure.cardinal-sdk.init.setup-failed"),n._initiateV1Fallback("cardinal-sdk-setup-failed."+n._v2SetupFailureReason)}))),this._songbirdPromise},b.prototype._configureCardinalSdk=function(e){var n=this;return f.resolve().then((function(){var r=n._client.getConfiguration().gatewayConfiguration.threeDSecure.cardinalAuthenticationJWT,o=e.setupOptions,i=e.setupStartTime,a=n._createCardinalConfigurationOptions(o);n.setCardinalListener("payments.setupComplete",n._createPaymentsSetupCompleteCallback()),n._setupFrameworkSpecificListeners(),t.Cardinal.configure(a),t.Cardinal.setup("init",{jwt:r}),n._clientMetadata.cardinalDeviceDataCollectionTimeElapsed=Date.now()-i,n.setCardinalListener("payments.validated",n._createPaymentsValidatedCallback())})).catch((function(e){return n._v2SetupFailureReason="cardinal-configuration-threw-error",f.reject(e)}))},b.prototype.setCardinalListener=function(e,n){this._cardinalEvents.push(e),t.Cardinal.on(e,n)},b.prototype._setupFrameworkSpecificListeners=function(){},b.prototype._createCardinalConfigurationOptions=function(e){var t=e.cardinalSDKConfig||{},n=t.payment||{};return!t.logging&&e.loggingEnabled&&(t.logging={level:"verbose"}),t.payment={},n.hasOwnProperty("displayLoading")&&(t.payment.displayLoading=n.displayLoading),n.hasOwnProperty("displayExitButton")&&(t.payment.displayExitButton=n.displayExitButton),t},b.prototype._loadCardinalScript=function(e){var n=this,r=p.CARDINAL_SCRIPT_SOURCE.sandbox,o="production"===this._client.getConfiguration().gatewayConfiguration.environment;return this._songbirdSetupTimeoutReference=t.setTimeout((function(){l.sendEvent(n._client,"three-d-secure.cardinal-sdk.init.setup-timeout"),n._initiateV1Fallback("cardinal-sdk-setup-timeout")}),e.timeout||m),o&&(r=p.CARDINAL_SCRIPT_SOURCE.production),c.loadScript({src:r}).catch((function(e){return n._v2SetupFailureReason="songbird-js-failed-to-load",f.reject(s(e,u.THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED))}))},b.prototype._createPaymentsSetupCompleteCallback=function(){var e=this;return function(n){e._getDfReferenceIdPromisePlus.resolve(n.sessionId),t.clearTimeout(e._songbirdSetupTimeoutReference),l.sendEvent(e._client,"three-d-secure.cardinal-sdk.init.setup-completed"),e._songbirdPromise.resolve()}},b.prototype.getDfReferenceId=function(){return this._getDfReferenceIdPromisePlus},b.prototype._performJWTValidation=function(e){var t=this._lookupPaymentMethod.nonce,n="payment_methods/"+t+"/three_d_secure/authenticate_from_jwt",r=this;return l.sendEvent(r._client,"three-d-secure.verification-flow.upgrade-payment-method.started"),this._client.request({method:"post",endpoint:n,data:{jwt:e,paymentMethodNonce:t}}).then((function(e){var t=e.paymentMethod||r._lookupPaymentMethod,n=r._formatAuthResponse(t,e.threeDSecureInfo);return l.sendEvent(r._client,"three-d-secure.verification-flow.upgrade-payment-method.succeeded"),f.resolve(n)})).catch((function(e){var t=new a({type:u.THREEDS_JWT_AUTHENTICATION_FAILED.type,code:u.THREEDS_JWT_AUTHENTICATION_FAILED.code,message:u.THREEDS_JWT_AUTHENTICATION_FAILED.message,details:{originalError:e}});return l.sendEvent(r._client,"three-d-secure.verification-flow.upgrade-payment-method.errored"),f.reject(t)}))},b.prototype._createPaymentsValidatedCallback=function(){var e=this;return function(t,n){var r;if(l.sendEvent(e._client,"three-d-secure.verification-flow.cardinal-sdk.action-code."+t.ActionCode.toLowerCase()),e._verifyCardPromisePlus)switch(t.ActionCode){case"SUCCESS":case"NOACTION":case"FAILURE":e._performJWTValidation(n).then((function(t){e._verifyCardPromisePlus.resolve(t)})).catch((function(t){e._verifyCardPromisePlus.reject(t)}));break;case"ERROR":switch(l.sendEvent(e._client,"three-d-secure.verification-flow.cardinal-sdk-error."+t.ErrorNumber),t.ErrorNumber){case 10001:case 10002:r=new a(u.THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT);break;case 10003:case 10007:case 10009:r=new a(u.THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT);break;case 10005:case 10006:r=new a(u.THREEDS_CARDINAL_SDK_BAD_CONFIG);break;case 10008:case 10010:r=new a(u.THREEDS_CARDINAL_SDK_BAD_JWT);break;case 10011:l.sendEvent(e._client,"three-d-secure.verification-flow.canceled"),r=new a(u.THREEDS_CARDINAL_SDK_CANCELED);break;default:r=new a(u.THREEDS_CARDINAL_SDK_ERROR)}r.details={originalError:{code:t.ErrorNumber,description:t.ErrorDescription}},e._verifyCardPromisePlus.reject(r)}else e._initiateV1Fallback("cardinal-sdk-setup-error.number-"+t.ErrorNumber)}},b.prototype._checkForVerifyCardError=function(e,t){return r.prototype._checkForVerifyCardError.call(this,e,t)},b.prototype._checkForFrameworkSpecificVerifyCardErrors=function(e,t){var n;return"function"==typeof e.onLookupComplete||t.ignoreOnLookupCompleteRequirement||(n="an onLookupComplete function"),n},b.prototype._formatVerifyCardOptions=function(e){var t=r.prototype._formatVerifyCardOptions.call(this,e),n=t.additionalInformation||{};return n=this.transformBillingAddress(n,e.billingAddress),n=this.transformShippingAddress(n),e.onLookupComplete&&(t.onLookupComplete=i(e.onLookupComplete)),e.email&&(n.email=e.email),e.mobilePhoneNumber&&(n.mobilePhoneNumber=e.mobilePhoneNumber),t.additionalInformation=n,t},b.prototype._onLookupComplete=function(e,t){var n=this;return r.prototype._onLookupComplete.call(this,e).then((function(e){return new f((function(r,o){function i(){r(e)}e.requiresUserAuthentication=Boolean(e.lookup&&e.lookup.acsUrl),n._verifyCardPromisePlus.catch(o),t.onLookupComplete?t.onLookupComplete(e,i):n._emit(b.events.ON_LOOKUP_COMPLETE,e,i)}))}))},b.prototype._presentChallenge=function(e){this._useV1Fallback?this._presentChallengeWithV1Fallback(e.lookup):t.Cardinal.continue("cca",{AcsUrl:e.lookup.acsUrl,Payload:e.lookup.pareq},{OrderDetails:{TransactionId:e.lookup.transactionId}})},b.prototype._formatLookupData=function(e){var t=this;return r.prototype._formatLookupData.call(this,e).then((function(n){return n.additionalInfo=e.additionalInformation,e.challengeRequested&&(n.challengeRequested=e.challengeRequested),e.exemptionRequested&&(n.exemptionRequested=e.exemptionRequested),e.bin&&(n.bin=e.bin),t.prepareLookup(n)}))},b.prototype.cancelVerifyCard=function(e){var t=this;return r.prototype.cancelVerifyCard.call(this).then((function(n){return t._verifyCardPromisePlus&&(e=e||new a(u.THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT),t._verifyCardPromisePlus.reject(e)),n}))},b.prototype.teardown=function(){return t.Cardinal&&this._cardinalEvents.forEach((function(e){t.Cardinal.off(e)})),r.prototype.teardown.call(this)},n.exports=b}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../lib/analytics":93,"../../../lib/assets":94,"../../../lib/assign":95,"../../../lib/braintree-error":98,"../../../lib/constants":103,"../../../lib/convert-to-braintree-error":105,"../../../lib/deferred":109,"../../../lib/enumerate":111,"../../../lib/promise":132,"../../shared/constants":168,"../../shared/errors":169,"./base":159,"@braintree/extended-promise":22}],166:[function(e,t,n){"use strict";var r=e("@braintree/wrap-promise"),o=e("../../lib/methods"),i=e("../../lib/convert-methods-to-error"),a=e("@braintree/event-emitter"),s=e("./frameworks");function l(e){var t=this,n=s[e.framework];a.call(this),this._framework=new n(e),this._framework.setUpEventListeners((function(){t._emit.apply(t,arguments)}))}a.createChild(l),l.prototype.verifyCard=function(e){var t;return this.hasListener("lookup-complete")&&(t={ignoreOnLookupCompleteRequirement:!0}),this._framework.verifyCard(e,t)},l.prototype.initializeChallengeWithLookupResponse=function(e){return"string"==typeof e&&(e=JSON.parse(e)),this._framework.initializeChallengeWithLookupResponse(e)},l.prototype.prepareLookup=function(e){return this._framework.prepareLookup(e).then((function(e){return JSON.stringify(e)}))},l.prototype.cancelVerifyCard=function(){return this._framework.cancelVerifyCard()},l.prototype.teardown=function(){var e=o(l.prototype).concat(o(a.prototype));return i(this,e),this._framework.teardown()},t.exports=r.wrapPrototype(l)},{"../../lib/convert-methods-to-error":104,"../../lib/methods":130,"./frameworks":162,"@braintree/event-emitter":21,"@braintree/wrap-promise":30}],167:[function(e,t,n){"use strict";var r=e("./external/three-d-secure"),o=e("../lib/is-https").isHTTPS,i=e("../lib/basic-component-verification"),a=e("../lib/create-deferred-client"),s=e("../lib/create-assets-url"),l=e("../lib/braintree-error"),c=e("../lib/analytics"),u=e("./shared/errors"),d=e("../lib/promise"),p=e("@braintree/wrap-promise");t.exports={create:p((function(e){return i.verify({name:"3D Secure",client:e.client,authorization:e.authorization}).then((function(){return a.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:s.create(e.authorization),name:"3D Secure"})})).then((function(t){var n,i=t.getConfiguration(),a=i.gatewayConfiguration,s=function(e){var t=String(e.version||"");if(!t||"1"===t)return"legacy";switch(t){case"2":case"2-cardinal-modal":return"cardinal-modal";case"2-bootstrap3-modal":return"bootstrap3-modal";case"2-inline-iframe":return"inline-iframe";default:throw new l({code:u.THREEDS_UNRECOGNIZED_VERSION.code,type:u.THREEDS_UNRECOGNIZED_VERSION.type,message:"Version `"+e.version+"` is not a recognized version. You may need to update the version of your Braintree SDK to support this version."})}}(e);return e.client=t,a.threeDSecureEnabled||(n=u.THREEDS_NOT_ENABLED),"TOKENIZATION_KEY"===i.authorizationType&&(n=u.THREEDS_CAN_NOT_USE_TOKENIZATION_KEY),"production"===a.environment&&!o()&&(n=u.THREEDS_HTTPS_REQUIRED),"legacy"===s||a.threeDSecure&&a.threeDSecure.cardinalAuthenticationJWT||(c.sendEvent(e.client,"three-d-secure.initialization.failed.missing-cardinalAuthenticationJWT"),n=u.THREEDS_NOT_ENABLED_FOR_V2),n?d.reject(new l(n)):(c.sendEvent(e.client,"three-d-secure.initialized"),new r({client:e.client,loggingEnabled:e.loggingEnabled,cardinalSDKConfig:e.cardinalSDKConfig,framework:s}))}))})),VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/is-https":127,"../lib/promise":132,"./external/three-d-secure":166,"./shared/errors":169,"@braintree/wrap-promise":30}],168:[function(e,t,n){"use strict";t.exports={LANDING_FRAME_NAME:"braintreethreedsecurelanding",CARDINAL_SCRIPT_SOURCE:{production:"https://songbird.cardinalcommerce.com/edge/v1/songbird.js",sandbox:"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js"}}},{}],169:[function(e,t,n){"use strict";var r=e("../../lib/braintree-error");t.exports={THREEDS_NOT_ENABLED:{type:r.types.MERCHANT,code:"THREEDS_NOT_ENABLED",message:"3D Secure is not enabled for this merchant."},THREEDS_CAN_NOT_USE_TOKENIZATION_KEY:{type:r.types.MERCHANT,code:"THREEDS_CAN_NOT_USE_TOKENIZATION_KEY",message:"3D Secure can not use a tokenization key for authorization."},THREEDS_HTTPS_REQUIRED:{type:r.types.MERCHANT,code:"THREEDS_HTTPS_REQUIRED",message:"3D Secure requires HTTPS."},THREEDS_NOT_ENABLED_FOR_V2:{type:r.types.MERCHANT,code:"THREEDS_NOT_ENABLED_FOR_V2",message:"3D Secure version 2 is not enabled for this merchant. Contact Braintree Support for assistance at https://help.braintreepayments.com/"},THREEDS_UNRECOGNIZED_VERSION:{type:r.types.MERCHANT,code:"THREEDS_UNRECOGNIZED_VERSION"},THREEDS_CARDINAL_SDK_SETUP_FAILED:{type:r.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_FAILED",message:"Something went wrong setting up Cardinal's Songbird.js library."},THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED:{type:r.types.NETWORK,code:"THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED",message:"Cardinal's Songbird.js library could not be loaded."},THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT:{type:r.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT",message:"Cardinal's Songbird.js took too long to setup."},THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT:{type:r.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT",message:"Cardinal's API took too long to respond."},THREEDS_CARDINAL_SDK_BAD_CONFIG:{type:r.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_CONFIG",message:"JWT or other required field missing. Please check your setup configuration."},THREEDS_CARDINAL_SDK_BAD_JWT:{type:r.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_JWT",message:"Cardinal JWT missing or malformed. Please check your setup configuration."},THREEDS_CARDINAL_SDK_ERROR:{type:r.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_ERROR",message:"A general error has occurred with Cardinal. See description for more information."},THREEDS_CARDINAL_SDK_CANCELED:{type:r.types.CUSTOMER,code:"THREEDS_CARDINAL_SDK_CANCELED",message:"Canceled by user."},THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT:{type:r.types.MERCHANT,code:"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT",message:"3D Secure verfication canceled by merchant."},THREEDS_AUTHENTICATION_IN_PROGRESS:{type:r.types.MERCHANT,code:"THREEDS_AUTHENTICATION_IN_PROGRESS",message:"Cannot call verifyCard while existing authentication is in progress."},THREEDS_MISSING_VERIFY_CARD_OPTION:{type:r.types.MERCHANT,code:"THREEDS_MISSING_VERIFY_CARD_OPTION"},THREEDS_JWT_AUTHENTICATION_FAILED:{type:r.types.UNKNOWN,code:"THREEDS_JWT_AUTHENTICATION_FAILED",message:"Something went wrong authenticating the JWT from Cardinal"},THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR:{type:r.types.MERCHANT,code:"THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR",message:"Either the payment method nonce passed to `verifyCard` does not exist, or it was already consumed"},THREEDS_LOOKUP_VALIDATION_ERROR:{type:r.types.CUSTOMER,code:"THREEDS_LOOKUP_VALIDATION_ERROR",message:"The data passed in `verifyCard` did not pass validation checks. See details for more info"},THREEDS_LOOKUP_ERROR:{type:r.types.UNKNOWN,code:"THREEDS_LOOKUP_ERROR",message:"Something went wrong during the 3D Secure lookup"},THREEDS_INLINE_IFRAME_DETAILS_INCORRECT:{type:r.types.UNKNOWN,code:"THREEDS_INLINE_IFRAME_DETAILS_INCORRECT",message:"Something went wrong when attempting to add the authentication iframe to the page."},THREEDS_NO_VERIFICATION_PAYLOAD:{type:r.types.MERCHANT,code:"THREEDS_NO_VERIFICATION_PAYLOAD",message:"No verification payload available."},THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN:{type:r.types.INTERNAL,code:"THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN",message:"Term Url must be on a Braintree domain."},THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED:{type:r.types.INTERNAL,code:"THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED",message:"Method not implemented for this framework."}}},{"../../lib/braintree-error":98}],170:[function(e,t,n){"use strict";var r=e("../../lib/enumerate");t.exports=r(["AUTHENTICATION_COMPLETE"],"threedsecure:")},{"../../lib/enumerate":111}],171:[function(e,t,n){"use strict";var r=e("./shared/unionpay"),o=e("../lib/basic-component-verification"),i=e("../lib/braintree-error"),a=e("../lib/create-deferred-client"),s=e("../lib/create-assets-url"),l=e("../lib/analytics"),c=e("./shared/errors"),u=e("../lib/promise"),d=e("@braintree/wrap-promise");t.exports={create:d((function(e){return o.verify({name:"UnionPay",client:e.client,authorization:e.authorization}).then((function(){return a.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:s.create(e.authorization),name:"UnionPay"})})).then((function(t){var n=t.getConfiguration();return e.client=t,n.gatewayConfiguration.unionPay&&!0===n.gatewayConfiguration.unionPay.enabled?(l.sendEvent(e.client,"unionpay.initialized"),new r(e)):u.reject(new i(c.UNIONPAY_NOT_ENABLED))}))})),VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./shared/errors":173,"./shared/unionpay":174,"@braintree/wrap-promise":30}],172:[function(e,t,n){"use strict";var r=e("../../lib/enumerate");t.exports={events:r(["HOSTED_FIELDS_FETCH_CAPABILITIES","HOSTED_FIELDS_ENROLL","HOSTED_FIELDS_TOKENIZE"],"union-pay:"),HOSTED_FIELDS_FRAME_NAME:"braintreeunionpayhostedfields"}},{"../../lib/enumerate":111}],173:[function(e,t,n){"use strict";var r=e("../../lib/braintree-error");t.exports={UNIONPAY_NOT_ENABLED:{type:r.types.MERCHANT,code:"UNIONPAY_NOT_ENABLED",message:"UnionPay is not enabled for this merchant."},UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID:{type:r.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID",message:"Found an invalid Hosted Fields instance. Please use a valid Hosted Fields instance."},UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:r.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"Could not find the Hosted Fields instance."},UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:r.types.MERCHANT,code:"UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"A card or a Hosted Fields instance is required. Please supply a card or a Hosted Fields instance."},UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES:{type:r.types.MERCHANT,code:"UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES",message:"Please supply either a card or a Hosted Fields instance, not both."},UNIONPAY_EXPIRATION_DATE_INCOMPLETE:{type:r.types.MERCHANT,code:"UNIONPAY_EXPIRATION_DATE_INCOMPLETE",message:"You must supply expiration month and year or neither."},UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID:{type:r.types.CUSTOMER,code:"UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID",message:"Enrollment failed due to user input error."},UNIONPAY_ENROLLMENT_NETWORK_ERROR:{type:r.types.NETWORK,code:"UNIONPAY_ENROLLMENT_NETWORK_ERROR",message:"Could not enroll UnionPay card."},UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR:{type:r.types.NETWORK,code:"UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR",message:"Could not fetch card capabilities."},UNIONPAY_TOKENIZATION_NETWORK_ERROR:{type:r.types.NETWORK,code:"UNIONPAY_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},UNIONPAY_MISSING_MOBILE_PHONE_DATA:{type:r.types.MERCHANT,code:"UNIONPAY_MISSING_MOBILE_PHONE_DATA",message:"A `mobile` with `countryCode` and `number` is required."},UNIONPAY_FAILED_TOKENIZATION:{type:r.types.CUSTOMER,code:"UNIONPAY_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."}}},{"../../lib/braintree-error":98}],174:[function(e,t,n){"use strict";var r=e("../../lib/analytics"),o=e("../../lib/braintree-error"),i=e("../../lib/bus"),a=e("./constants"),s=e("../../lib/use-min"),l=e("../../lib/convert-methods-to-error"),c=e("./errors"),u=a.events,d=e("@braintree/iframer"),p=e("../../lib/methods"),f=e("../../lib/vendor/uuid"),h=e("../../lib/promise"),m=e("@braintree/wrap-promise");function g(e){this._options=e}g.prototype.fetchCapabilities=function(e){var t=this,n=this._options.client,i=e.card?e.card.number:null,a=e.hostedFields;return i&&a?h.reject(new o(c.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):i?n.request({method:"get",endpoint:"payment_methods/credit_cards/capabilities",data:{_meta:{source:"unionpay"},creditCard:{number:i}}}).then((function(e){return r.sendEvent(n,"unionpay.capabilities-received"),e})).catch((function(e){var t=e.details&&e.details.httpStatus;return r.sendEvent(n,"unionpay.capabilities-failed"),403===t?h.reject(e):h.reject(new o({type:c.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.type,code:c.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.code,message:c.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.message,details:{originalError:e}}))})):a?a._bus?t._initializeHostedFields().then((function(){return new h((function(e,n){t._bus.emit(u.HOSTED_FIELDS_FETCH_CAPABILITIES,{hostedFields:a},(function(t){t.err?n(new o(t.err)):e(t.payload)}))}))})):h.reject(new o(c.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID)):h.reject(new o(c.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},g.prototype.enroll=function(e){var t,n=this,i=this._options.client,a=e.card,s=e.mobile,l=e.hostedFields;if(!s)return h.reject(new o(c.UNIONPAY_MISSING_MOBILE_PHONE_DATA));if(l)return l._bus?a?h.reject(new o(c.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):new h((function(e,t){n._initializeHostedFields().then((function(){n._bus.emit(u.HOSTED_FIELDS_ENROLL,{hostedFields:l,mobile:s},(function(n){n.err?t(new o(n.err)):e(n.payload)}))}))})):h.reject(new o(c.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID));if(a&&a.number){if(t={_meta:{source:"unionpay"},unionPayEnrollment:{number:a.number,mobileCountryCode:s.countryCode,mobileNumber:s.number}},a.expirationDate)t.unionPayEnrollment.expirationDate=a.expirationDate;else if(a.expirationMonth||a.expirationYear){if(!a.expirationMonth||!a.expirationYear)return h.reject(new o(c.UNIONPAY_EXPIRATION_DATE_INCOMPLETE));t.unionPayEnrollment.expirationYear=a.expirationYear,t.unionPayEnrollment.expirationMonth=a.expirationMonth}return i.request({method:"post",endpoint:"union_pay_enrollments",data:t}).then((function(e){return r.sendEvent(i,"unionpay.enrollment-succeeded"),{enrollmentId:e.unionPayEnrollmentId,smsCodeRequired:e.smsCodeRequired}})).catch((function(e){var t,n=e.details&&e.details.httpStatus;return 403===n?t=e:n<500?(t=new o(c.UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID)).details={originalError:e}:(t=new o(c.UNIONPAY_ENROLLMENT_NETWORK_ERROR)).details={originalError:e},r.sendEvent(i,"unionpay.enrollment-failed"),h.reject(t)}))}return h.reject(new o(c.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},g.prototype.tokenize=function(e){var t,n=this,i=this._options.client,a=e.card,s=e.hostedFields;return a&&s?h.reject(new o(c.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):a?(t={_meta:{source:"unionpay"},creditCard:{number:e.card.number,options:{unionPayEnrollment:{id:e.enrollmentId}}}},e.smsCode&&(t.creditCard.options.unionPayEnrollment.smsCode=e.smsCode),a.expirationDate?t.creditCard.expirationDate=a.expirationDate:a.expirationMonth&&a.expirationYear&&(t.creditCard.expirationYear=a.expirationYear,t.creditCard.expirationMonth=a.expirationMonth),e.card.cvv&&(t.creditCard.cvv=e.card.cvv),i.request({method:"post",endpoint:"payment_methods/credit_cards",data:t}).then((function(e){var t=e.creditCards[0];return delete t.consumed,delete t.threeDSecureInfo,r.sendEvent(i,"unionpay.nonce-received"),t})).catch((function(e){var t,n=e.details&&e.details.httpStatus;return r.sendEvent(i,"unionpay.nonce-failed"),403===n?t=e:n<500?(t=new o(c.UNIONPAY_FAILED_TOKENIZATION)).details={originalError:e}:(t=new o(c.UNIONPAY_TOKENIZATION_NETWORK_ERROR)).details={originalError:e},h.reject(t)}))):s?s._bus?new h((function(t,r){n._initializeHostedFields().then((function(){n._bus.emit(u.HOSTED_FIELDS_TOKENIZE,e,(function(e){e.err?r(new o(e.err)):t(e.payload)}))}))})):h.reject(new o(c.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID)):h.reject(new o(c.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},g.prototype.teardown=function(){return this._bus&&(this._hostedFieldsFrame.parentNode.removeChild(this._hostedFieldsFrame),this._bus.teardown()),l(this,p(g.prototype)),h.resolve()},g.prototype._initializeHostedFields=function(){var e,t,n=f(),r=this;return this._hostedFieldsInitializePromise||(this._hostedFieldsInitializePromise=new h((function(o){e=r._options.client.getConfiguration().gatewayConfiguration.assetsUrl,t=r._options.client.getConfiguration().isDebug,r._bus=new i({channel:n,merchantUrl:location.href}),r._hostedFieldsFrame=d({name:a.HOSTED_FIELDS_FRAME_NAME+"_"+n,src:e+"/web/3.58.0/html/unionpay-hosted-fields-frame"+s(t)+".html",height:0,width:0}),r._bus.on(i.events.CONFIGURATION_REQUEST,(function(e){e(r._options.client),o()})),document.body.appendChild(r._hostedFieldsFrame)}))),this._hostedFieldsInitializePromise},t.exports=m.wrapPrototype(g)},{"../../lib/analytics":93,"../../lib/braintree-error":98,"../../lib/bus":101,"../../lib/convert-methods-to-error":104,"../../lib/methods":130,"../../lib/promise":132,"../../lib/use-min":134,"../../lib/vendor/uuid":136,"./constants":172,"./errors":173,"@braintree/iframer":23,"@braintree/wrap-promise":30}],175:[function(e,t,n){"use strict";t.exports={PLAID_LINK_JS:"https://cdn.plaid.com/link/v2/stable/link-initialize.js"}},{}],176:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={US_BANK_ACCOUNT_OPTION_REQUIRED:{type:r.types.MERCHANT,code:"US_BANK_ACCOUNT_OPTION_REQUIRED"},US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS:{type:r.types.MERCHANT,code:"US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS"},US_BANK_ACCOUNT_LOGIN_LOAD_FAILED:{type:r.types.NETWORK,code:"US_BANK_ACCOUNT_LOGIN_LOAD_FAILED",message:"Bank login flow failed to load."},US_BANK_ACCOUNT_LOGIN_CLOSED:{type:r.types.CUSTOMER,code:"US_BANK_ACCOUNT_LOGIN_CLOSED",message:"Customer closed bank login flow before authorizing."},US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE:{type:r.types.MERCHANT,code:"US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE",message:"Another bank login tokenization request is active."},US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR:{type:r.types.NETWORK,code:"US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},US_BANK_ACCOUNT_FAILED_TOKENIZATION:{type:r.types.CUSTOMER,code:"US_BANK_ACCOUNT_FAILED_TOKENIZATION",message:"The supplied data failed tokenization."},US_BANK_ACCOUNT_NOT_ENABLED:{type:r.types.MERCHANT,code:"US_BANK_ACCOUNT_NOT_ENABLED",message:"US bank account is not enabled."},US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED:{type:r.types.MERCHANT,code:"US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED",message:"Bank login is not enabled."}}},{"../lib/braintree-error":98}],177:[function(e,t,n){"use strict";var r=e("../lib/basic-component-verification"),o=e("../lib/braintree-error"),i=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),s=e("./errors"),l=e("./us-bank-account"),c=e("../lib/promise"),u=e("@braintree/wrap-promise");t.exports={create:u((function(e){var t="US Bank Account";return r.verify({name:t,client:e.client,authorization:e.authorization}).then((function(){return i.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:t})})).then((function(t){return e.client=t,e.client.getConfiguration().gatewayConfiguration.usBankAccount?new l(e):c.reject(new o(s.US_BANK_ACCOUNT_NOT_ENABLED))}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./errors":176,"./us-bank-account":178,"@braintree/wrap-promise":30}],178:[function(e,n,r){(function(t){"use strict";var r=e("../lib/braintree-error"),o=e("./constants"),i=e("./errors"),a=e("../lib/errors"),s=e("../lib/analytics"),l=e("../lib/once"),c=e("../lib/convert-methods-to-error"),u=e("../lib/methods"),d=e("../lib/promise"),p=e("@braintree/wrap-promise"),f=x("UsBankAccount"),h=x("UsBankLogin");function m(e){this._client=e.client,this._isTokenizingBankLogin=!1,s.sendEvent(this._client,"usbankaccount.initialized")}function g(e){var t,n=e.details&&e.details.httpStatus;return(t=new r(401===n?a.BRAINTREE_API_ACCESS_RESTRICTED:n<500?i.US_BANK_ACCOUNT_FAILED_TOKENIZATION:i.US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR)).details={originalError:e},t}function b(e,t){var n=e.data[t].paymentMethod,r="US bank account ending in - "+n.details.last4;return{nonce:n.id,details:{},description:r,type:"us_bank_account"}}function v(e,n){function o(){var r=this.readyState;r&&"loaded"!==r&&"complete"!==r||(e.removeEventListener("error",a),e.removeEventListener("load",o),e.removeEventListener("readystatechange",o),n(null,t.Plaid))}function a(){e.parentNode.removeChild(e),n(new r(i.US_BANK_ACCOUNT_LOGIN_LOAD_FAILED))}e.addEventListener("error",a),e.addEventListener("load",o),e.addEventListener("readystatechange",o)}function y(e){return{streetAddress:e.streetAddress,extendedAddress:e.extendedAddress,city:e.locality,state:e.region,zipCode:e.postalCode}}function O(e,t){"personal"===t.ownershipType?e.individualOwner={firstName:t.firstName,lastName:t.lastName}:"business"===t.ownershipType&&(e.businessOwner={businessName:t.businessName})}function x(e){return"mutation Tokenize"+e+"($input: Tokenize"+e+"Input!) {  tokenize"+e+"(input: $input) {    paymentMethod {      id      details {        ... on UsBankAccountDetails {          last4        }      }    }  }}"}m.prototype.tokenize=function(e){return(e=e||{}).mandateText?e.bankDetails&&e.bankLogin?d.reject(new r({type:i.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.type,code:i.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.code,message:"tokenize must be called with bankDetails or bankLogin, not both."})):e.bankDetails?this._tokenizeBankDetails(e):e.bankLogin?this._tokenizeBankLogin(e):d.reject(new r({type:i.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:i.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"tokenize must be called with bankDetails or bankLogin."})):d.reject(new r({type:i.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:i.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"mandateText property is required."}))},m.prototype._tokenizeBankDetails=function(e){var t=this._client,n=e.bankDetails,r={achMandate:e.mandateText,routingNumber:n.routingNumber,accountNumber:n.accountNumber,accountType:n.accountType.toUpperCase(),billingAddress:y(n.billingAddress||{})};return O(r,n),t.request({api:"graphQLApi",data:{query:f,variables:{input:{usBankAccount:r}}}}).then((function(e){return s.sendEvent(t,"usbankaccount.bankdetails.tokenization.succeeded"),d.resolve(b(e,"tokenizeUsBankAccount"))})).catch((function(e){var n=g(e);return s.sendEvent(t,"usbankaccount.bankdetails.tokenization.failed"),d.reject(n)}))},m.prototype._tokenizeBankLogin=function(e){var t=this,n=this._client,o=n.getConfiguration().gatewayConfiguration,a="production"===o.environment,l=o.usBankAccount.plaid;return e.bankLogin.displayName?l?this._isTokenizingBankLogin?d.reject(new r(i.US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE)):(this._isTokenizingBankLogin=!0,new d((function(o,c){t._loadPlaid((function(u,d){u?c(u):(d.create({clientName:e.bankLogin.displayName,apiVersion:"v2",env:a?"production":"sandbox",key:l.publicKey,product:"auth",selectAccount:!0,onExit:function(){t._isTokenizingBankLogin=!1,s.sendEvent(n,"usbankaccount.banklogin.tokenization.closed.by-user"),c(new r(i.US_BANK_ACCOUNT_LOGIN_CLOSED))},onSuccess:function(r,i){var l=e.bankLogin,u={publicToken:r,accountId:a?i.account_id:"plaid_account_id",accountType:i.account.subtype.toUpperCase(),achMandate:e.mandateText,billingAddress:y(l.billingAddress||{})};O(u,l),n.request({api:"graphQLApi",data:{query:h,variables:{input:{usBankLogin:u}}}}).then((function(e){t._isTokenizingBankLogin=!1,s.sendEvent(n,"usbankaccount.banklogin.tokenization.succeeded"),o(b(e,"tokenizeUsBankLogin"))})).catch((function(e){var r;t._isTokenizingBankLogin=!1,r=g(e),s.sendEvent(n,"usbankaccount.banklogin.tokenization.failed"),c(r)}))}}).open(),s.sendEvent(n,"usbankaccount.banklogin.tokenization.started"))}))}))):d.reject(new r(i.US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED)):d.reject(new r({type:i.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:i.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"displayName property is required when using bankLogin."}))},m.prototype._loadPlaid=function(e){var n,r;e=l(e),t.Plaid?e(null,t.Plaid):(n=document.querySelector('script[src="'+o.PLAID_LINK_JS+'"]'))?v(n,e):((r=document.createElement("script")).src=o.PLAID_LINK_JS,r.async=!0,v(r,e),document.body.appendChild(r),this._plaidScript=r)},m.prototype.teardown=function(){return this._plaidScript&&document.body.removeChild(this._plaidScript),c(this,u(m.prototype)),d.resolve()},n.exports=p.wrapPrototype(m)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/analytics":93,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/errors":112,"../lib/methods":130,"../lib/once":131,"../lib/promise":132,"./constants":175,"./errors":176,"@braintree/wrap-promise":30}],179:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN:{type:r.types.MERCHANT,code:"VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN",message:"A client token with a customer id must be used to delete a payment method nonce."},VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND:{type:r.types.MERCHANT,code:"VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND"},VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR:{type:r.types.UNKNOWN,code:"VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR"}}},{"../lib/braintree-error":98}],180:[function(e,t,n){"use strict";var r=e("../lib/basic-component-verification"),o=e("../lib/create-deferred-client"),i=e("../lib/create-assets-url"),a=e("./vault-manager"),s=e("@braintree/wrap-promise");t.exports={create:s((function(e){var t="Vault Manager";return r.verify({name:t,client:e.client,authorization:e.authorization}).then((function(){return o.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:i.create(e.authorization),name:t})})).then((function(t){return e.client=t,new a(e)}))})),VERSION:"3.58.0"}},{"../lib/basic-component-verification":96,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"./vault-manager":181,"@braintree/wrap-promise":30}],181:[function(e,t,n){"use strict";var r=e("../lib/analytics"),o=e("../lib/braintree-error"),i=e("./errors"),a=e("../lib/convert-methods-to-error"),s=e("../lib/methods"),l=e("../lib/promise"),c=e("@braintree/wrap-promise");function u(e){this._client=e.client}function d(e){var t={nonce:e.nonce,default:e.default,details:e.details,hasSubscription:e.hasSubscription,type:e.type};return e.description&&(t.description=e.description),e.binData&&(t.binData=e.binData),t}u.prototype.fetchPaymentMethods=function(e){var t;return t=!0===(e=e||{}).defaultFirst?1:0,this._client.request({endpoint:"payment_methods",method:"get",data:{defaultFirst:t}}).then(function(e){return r.sendEvent(this._client,"vault-manager.fetch-payment-methods.succeeded"),e.paymentMethods.map(d)}.bind(this))},u.prototype.deletePaymentMethod=function(e){var t=this._client;return"CLIENT_TOKEN"===this._client.getConfiguration().authorizationType?this._client.request({api:"graphQLApi",data:{query:"mutation DeletePaymentMethodFromSingleUseToken($input: DeletePaymentMethodFromSingleUseTokenInput!) {  deletePaymentMethodFromSingleUseToken(input: $input) {    clientMutationId  }}",variables:{input:{singleUseTokenId:e}},operationName:"DeletePaymentMethodFromSingleUseToken"}}).then((function(){r.sendEvent(t,"vault-manager.delete-payment-method.succeeded")})).catch((function(n){var a,s=n.details.originalError;return r.sendEvent(t,"vault-manager.delete-payment-method.failed"),s[0]&&"NOT_FOUND"===s[0].extensions.errorClass&&(a=new o({type:i.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.type,code:i.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.code,message:"A payment method for payment method nonce `"+e+"` could not be found.",details:{originalError:s}})),a||(a=new o({type:i.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.type,code:i.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.code,message:"An unknown error occured when attempting to delete the payment method assocaited with the payment method nonce `"+e+"`.",details:{originalError:s}})),l.reject(a)})):l.reject(new o(i.VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN))},u.prototype.teardown=function(){return a(this,s(u.prototype)),l.resolve()},t.exports=c.wrapPrototype(u)},{"../lib/analytics":93,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/methods":130,"../lib/promise":132,"./errors":179,"@braintree/wrap-promise":30}],182:[function(e,t,n){"use strict";var r=e("../lib/analytics"),o=e("../lib/basic-component-verification"),i=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),s=e("./shared/errors"),l=e("@braintree/wrap-promise"),c=e("../lib/braintree-error"),u=e("./venmo"),d=e("../lib/promise"),p=e("./shared/supports-venmo");t.exports={create:l((function(e){return o.verify({name:"Venmo",client:e.client,authorization:e.authorization}).then((function(){return i.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:"Venmo"})})).then((function(t){var n,o=t.getConfiguration();return e.client=t,o.gatewayConfiguration.payWithVenmo?e.profileId&&"string"!=typeof e.profileId?d.reject(new c(s.VENMO_INVALID_PROFILE_ID)):e.deepLinkReturnUrl&&"string"!=typeof e.deepLinkReturnUrl?d.reject(new c(s.VENMO_INVALID_DEEP_LINK_RETURN_URL)):(n=new u(e),r.sendEvent(e.client,"venmo.initialized"),n._initialize()):d.reject(new c(s.VENMO_NOT_ENABLED))}))})),isBrowserSupported:function(e){return p.isBrowserSupported(e)},VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./shared/errors":185,"./shared/supports-venmo":186,"./venmo":187,"@braintree/wrap-promise":30}],183:[function(e,t,n){"use strict";var r=e("@braintree/browser-detection/is-android"),o=e("@braintree/browser-detection/is-chrome"),i=e("@braintree/browser-detection/is-ios"),a=e("@braintree/browser-detection/is-ios-safari"),s=e("@braintree/browser-detection/is-samsung"),l=e("@braintree/browser-detection/is-mobile-firefox");t.exports={isAndroid:r,isChrome:o,isIos:i,isIosSafari:a,isSamsungBrowser:s,isMobileFirefox:l}},{"@braintree/browser-detection/is-android":3,"@braintree/browser-detection/is-chrome":5,"@braintree/browser-detection/is-ios":16,"@braintree/browser-detection/is-ios-safari":13,"@braintree/browser-detection/is-mobile-firefox":17,"@braintree/browser-detection/is-samsung":18}],184:[function(e,t,n){"use strict";t.exports={DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY:500,DEFAULT_PROCESS_RESULTS_DELAY:1e3,VENMO_OPEN_URL:"https://venmo.com/braintree/checkout"}},{}],185:[function(e,t,n){"use strict";var r=e("../../lib/braintree-error");t.exports={VENMO_NOT_ENABLED:{type:r.types.MERCHANT,code:"VENMO_NOT_ENABLED",message:"Venmo is not enabled for this merchant."},VENMO_TOKENIZATION_REQUEST_ACTIVE:{type:r.types.MERCHANT,code:"VENMO_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},VENMO_APP_FAILED:{type:r.types.UNKNOWN,code:"VENMO_APP_FAILED",message:"Venmo app encountered a problem."},VENMO_APP_CANCELED:{type:r.types.CUSTOMER,code:"VENMO_APP_CANCELED",message:"Venmo app authorization was canceled."},VENMO_CANCELED:{type:r.types.CUSTOMER,code:"VENMO_CANCELED",message:"User canceled Venmo authorization, or Venmo app is not available."},VENMO_INVALID_PROFILE_ID:{type:r.types.MERCHANT,code:"VENMO_INVALID_PROFILE_ID",message:"Venmo profile ID is invalid."},VENMO_INVALID_DEEP_LINK_RETURN_URL:{type:r.types.MERCHANT,code:"VENMO_INVALID_DEEP_LINK_RETURN_URL",message:"Venmo deep link return URL is invalid."}}},{"../../lib/braintree-error":98}],186:[function(e,t,n){"use strict";var r=e("./browser-detection");t.exports={isBrowserSupported:function(e){var t=r.isAndroid()&&r.isChrome(),n=r.isIos()&&r.isChrome(),o=r.isIosSafari()||t,i=n||r.isSamsungBrowser()||r.isMobileFirefox();return e=e||{allowNewBrowserTab:!0},o||e.allowNewBrowserTab&&i}}},{"./browser-detection":183}],187:[function(e,n,r){(function(t){"use strict";var r=e("../lib/analytics"),o=e("./shared/supports-venmo"),i=e("./shared/constants"),a=e("./shared/errors"),s=e("../lib/querystring"),l=e("../lib/methods"),c=e("../lib/convert-methods-to-error"),u=e("@braintree/wrap-promise"),d=e("../lib/braintree-error"),p=e("../lib/promise");function f(e){var t;this._client=e.client,t=this._client.getConfiguration(),this._isDebug=t.isDebug,this._assetsUrl=t.gatewayConfiguration.assetsUrl+"/web/3.58.0",this._allowNewBrowserTab=!1!==e.allowNewBrowserTab,this._profileId=e.profileId,this._deepLinkReturnUrl=e.deepLinkReturnUrl}function h(){return t.location.hash.substring(1).split("&").reduce((function(e,t){var n=t.split("="),r=decodeURIComponent(n[0]).replace(/\W/g,""),o=decodeURIComponent(n[1]);return e[r]=o,e}),{})}function m(){var e;return void 0!==t.document.hidden?e="visibilitychange":void 0!==t.document.msHidden?e="msvisibilitychange":void 0!==t.document.webkitHidden&&(e="webkitvisibilitychange"),e}f.prototype._initialize=function(){var e={},n=this._deepLinkReturnUrl||t.location.href.replace(t.location.hash,""),r=this._client.getConfiguration().gatewayConfiguration.payWithVenmo,o=this._client.getConfiguration().analyticsMetadata,a={_meta:{version:o.sdkVersion,integration:o.integration,platform:o.platform,sessionId:o.sessionId}};return e["x-success"]=n+"#venmoSuccess=1",e["x-cancel"]=n+"#venmoCancel=1",e["x-error"]=n+"#venmoError=1",e.ua=t.navigator.userAgent,e.braintree_merchant_id=this._profileId||r.merchantId,e.braintree_access_token=r.accessToken,e.braintree_environment=r.environment,e.braintree_sdk_data=btoa(JSON.stringify(a)),this._url=i.VENMO_OPEN_URL+"?"+s.stringify(e),p.resolve(this)},f.prototype.isBrowserSupported=function(){return o.isBrowserSupported({allowNewBrowserTab:this._allowNewBrowserTab})},f.prototype.hasTokenizationResult=function(){var e=h();return void 0!==(e.venmoSuccess||e.venmoError||e.venmoCancel)},f.prototype.tokenize=function(e){var n=this;return e=e||{},!0===this._tokenizationInProgress?p.reject(new d(a.VENMO_TOKENIZATION_REQUEST_ACTIVE)):this.hasTokenizationResult()?this._processResults():new p((function(r,o){n._tokenizationInProgress=!0,n._previousHash=t.location.hash,n._deepLinkReturnUrl?t.location=n._url:t.open(n._url),n._visibilityChangeListener=function(){t.document.hidden||(n._tokenizationInProgress=!1,setTimeout((function(){n._processResults().then(r).catch(o).then((function(){t.location.hash=n._previousHash,n._removeVisibilityEventListener(),delete n._visibilityChangeListener}))}),e.processResultsDelay||i.DEFAULT_PROCESS_RESULTS_DELAY))},setTimeout((function(){t.document.addEventListener(m(),n._visibilityChangeListener)}),i.DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY)}))},f.prototype.teardown=function(){return this._removeVisibilityEventListener(),c(this,l(f.prototype)),p.resolve()},f.prototype._removeVisibilityEventListener=function(){t.document.removeEventListener(m(),this._visibilityChangeListener)},f.prototype._processResults=function(){var e=this,n=h();return new p((function(o,i){var s;n.venmoSuccess?(r.sendEvent(e._client,"venmo.appswitch.handle.success"),o({nonce:(s=n).paymentMethodNonce,type:"VenmoAccount",details:{username:s.username}})):n.venmoError?(r.sendEvent(e._client,"venmo.appswitch.handle.error"),i(new d({type:a.VENMO_APP_FAILED.type,code:a.VENMO_APP_FAILED.code,message:a.VENMO_APP_FAILED.message,details:{originalError:{message:decodeURIComponent(n.errorMessage),code:n.errorCode}}}))):n.venmoCancel?(r.sendEvent(e._client,"venmo.appswitch.handle.cancel"),i(new d(a.VENMO_APP_CANCELED))):(r.sendEvent(e._client,"venmo.appswitch.cancel-or-unavailable"),i(new d(a.VENMO_CANCELED))),"function"==typeof t.history.replaceState&&t.location.hash&&history.pushState({},"",t.location.href.slice(0,t.location.href.indexOf("#")))}))},n.exports=u.wrapPrototype(f)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/analytics":93,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/methods":130,"../lib/promise":132,"../lib/querystring":133,"./shared/constants":184,"./shared/errors":185,"./shared/supports-venmo":186,"@braintree/wrap-promise":30}],188:[function(e,t,n){"use strict";var r=e("../lib/braintree-error");t.exports={VISA_CHECKOUT_NOT_ENABLED:{type:r.types.MERCHANT,code:"VISA_CHECKOUT_NOT_ENABLED",message:"Visa Checkout is not enabled for this merchant."},VISA_CHECKOUT_INIT_OPTIONS_REQUIRED:{type:r.types.MERCHANT,code:"VISA_CHECKOUT_INIT_OPTIONS_REQUIRED",message:"initOptions requires an object."},VISA_CHECKOUT_PAYMENT_REQUIRED:{type:r.types.MERCHANT,code:"VISA_CHECKOUT_PAYMENT_REQUIRED",message:"tokenize requires callid, encKey, and encPaymentData."},VISA_CHECKOUT_TOKENIZATION:{type:r.types.NETWORK,code:"VISA_CHECKOUT_TOKENIZATION",message:"A network error occurred when processing the Visa Checkout payment."}}},{"../lib/braintree-error":98}],189:[function(e,t,n){"use strict";var r=e("../lib/basic-component-verification"),o=e("../lib/braintree-error"),i=e("../lib/create-deferred-client"),a=e("../lib/create-assets-url"),s=e("./visa-checkout"),l=e("../lib/analytics"),c=e("./errors"),u=e("../lib/promise"),d=e("@braintree/wrap-promise");t.exports={create:d((function(e){var t="Visa Checkout";return r.verify({name:t,client:e.client,authorization:e.authorization}).then((function(){return i.create({authorization:e.authorization,client:e.client,debug:e.debug,assetsUrl:a.create(e.authorization),name:t})})).then((function(t){return e.client=t,e.client.getConfiguration().gatewayConfiguration.visaCheckout?(l.sendEvent(e.client,"visacheckout.initialized"),new s(e)):u.reject(new o(c.VISA_CHECKOUT_NOT_ENABLED))}))})),VERSION:"3.58.0"}},{"../lib/analytics":93,"../lib/basic-component-verification":96,"../lib/braintree-error":98,"../lib/create-assets-url":106,"../lib/create-deferred-client":108,"../lib/promise":132,"./errors":188,"./visa-checkout":190,"@braintree/wrap-promise":30}],190:[function(e,t,n){"use strict";var r=e("../lib/braintree-error"),o=e("../lib/analytics"),i=e("./errors"),a=e("../lib/json-clone"),s=e("../lib/methods"),l=e("../lib/convert-methods-to-error"),c=e("../lib/promise"),u=e("@braintree/wrap-promise"),d={Visa:"VISA",MasterCard:"MASTERCARD",Discover:"DISCOVER","American Express":"AMEX"};function p(e){this._client=e.client}p.prototype.createInitOptions=function(e){var t,n=this._client.getConfiguration().gatewayConfiguration,o=n.visaCheckout;if(!e)throw new r(i.VISA_CHECKOUT_INIT_OPTIONS_REQUIRED);return(t=a(e)).apikey=t.apikey||o.apikey,t.externalClientId=t.externalClientId||o.externalClientId,t.settings=t.settings||{},t.settings.dataLevel="FULL",t.settings.payment=t.settings.payment||{},t.settings.payment.cardBrands||(t.settings.payment.cardBrands=n.visaCheckout.supportedCardTypes.reduce((function(e,t){return d.hasOwnProperty(t)?e.concat(d[t]):e}),[])),t},p.prototype.tokenize=function(e){var t=this;return e.callid&&e.encKey&&e.encPaymentData?this._client.request({method:"post",endpoint:"payment_methods/visa_checkout_cards",data:{_meta:{source:"visa-checkout"},visaCheckoutCard:{callId:e.callid,encryptedPaymentData:e.encPaymentData,encryptedKey:e.encKey}}}).then((function(e){return o.sendEvent(t._client,"visacheckout.tokenize.succeeded"),e.visaCheckoutCards[0]})).catch((function(e){return o.sendEvent(t._client,"visacheckout.tokenize.failed"),c.reject(new r({type:i.VISA_CHECKOUT_TOKENIZATION.type,code:i.VISA_CHECKOUT_TOKENIZATION.code,message:i.VISA_CHECKOUT_TOKENIZATION.message,details:{originalError:e}}))})):c.reject(new r(i.VISA_CHECKOUT_PAYMENT_REQUIRED))},p.prototype.teardown=function(){return l(this,s(p.prototype)),c.resolve()},t.exports=u.wrapPrototype(p)},{"../lib/analytics":93,"../lib/braintree-error":98,"../lib/convert-methods-to-error":104,"../lib/json-clone":129,"../lib/methods":130,"../lib/promise":132,"./errors":188,"@braintree/wrap-promise":30}]},{},[91])(91)}).call(this,n(/*! ./../../../webpack/buildin/global.js */44),n(/*! ./../../../timers-browserify/main.js */306).setImmediate)},1324:
/*!**************************************************************!*\
  !*** ../node_modules/react-async-script-loader/lib/index.js ***!
  \**************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r=n(/*! @babel/runtime/helpers/interopRequireDefault */200)(n(/*! @babel/runtime/helpers/typeof */34));Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.startLoadingScripts=y;var a=n(/*! react */8),s=d(a),l=d(n(/*! prop-types */3)),c=d(n(/*! hoist-non-react-statics */1325)),u=n(/*! ./utils */1326);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(0,r.default)(t)&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(0,r.default)(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var g=[],b={},v=[];function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.noop,n=function(e){if(g.indexOf(e)<0)return function(t){var n=b[e]||[];if(n.push(t),b[e]=n,1===n.length)return(0,u.newScript)(e)((function(t){b[e].forEach((function(n){return n(t,e)})),delete b[e]}))}},r=e.map((function(e){return Array.isArray(e)?e.map(n):n(e)}));u.series.apply(void 0,m(r))((function(e,t){e?v.push(t):Array.isArray(t)?t.forEach(O):O(t)}))((function(e){x(),t(e)}))}var O=function(e){g.indexOf(e)<0&&g.push(e)},x=function(){v.length>0&&(v.forEach((function(e){var t=document.querySelector("script[src='"+e+"']");null!=t&&t.parentNode.removeChild(t)})),v=[])};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=function(n){function r(e,t){p(this,r);var n=f(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.state={isScriptLoaded:!1,isScriptLoadSucceed:!1},n._isMounted=!1,n}return h(r,n),i(r,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,y(t,(function(t){e._isMounted&&e.setState({isScriptLoaded:!0,isScriptLoadSucceed:!t},(function(){t||e.props.onScriptLoaded()}))}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var t=o({},this.props,this.state);return s.default.createElement(e,t)}}]),r}(a.Component);return n.propTypes={onScriptLoaded:l.default.func},n.defaultProps={onScriptLoaded:u.noop},(0,c.default)(n,e)}}},1325:
/*!***********************************************************************************************!*\
  !*** ../node_modules/react-async-script-loader/node_modules/hoist-non-react-statics/index.js ***!
  \***********************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,n){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!(r[a[s]]||o[a[s]]||n&&n[a[s]]))try{e[a[s]]=t[a[s]]}catch(e){}}return e}},1326:
/*!**************************************************************!*\
  !*** ../node_modules/react-async-script-loader/lib/utils.js ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isDefined=function(e){return null!=e};var r=t.isFunction=function(e){return"function"==typeof e},o=(t.noop=function(e){},t.newScript=function(e){return function(t){var n=document.createElement("script");return n.src=e,n.addEventListener("load",(function(){return t(null,e)})),n.addEventListener("error",(function(){return t(!0,e)})),document.body.appendChild(n),n}},function(e){var t=Object.keys(e),n=-1;return{next:function(){return++n>=t.length?null:t[n]}}}),i=t.parallel=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){var o=!1,i=0,a=[];(t=t.filter(r)).length<=0?n(null):t.forEach((function(s,l){s((function(s){for(var c=arguments.length,u=Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];s?o=!0:(u.length<=1&&(u=u[0]),a[l]=u,i++),r(e)&&e.call(null,s,u,l),o?n(!0):t.length===i&&n(null,a)}))}))}}};t.series=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n){t=t.filter((function(e){return null!=e}));var a=o(t),s=function(){var n=a.next(),r=t[n];return Array.isArray(r)&&(r=i.apply(null,r).call(null,e)),[+n,r]},l=void 0,c=void 0,u=s();if(l=u[0],null==(c=u[1]))return n(null);var d=[];!function t(){c((function(o){for(var i=arguments.length,a=Array(i>1?i-1:0),p=1;p<i;p++)a[p-1]=arguments[p];if(a.length<=1&&(a=a[0]),r(e)&&e.call(null,o,a,l),o)n(o);else{if(d.push(a),u=s(),l=u[0],null==(c=u[1]))return n(null,d);t()}}))}()}}}},1327:
/*!**********************************************************!*\
  !*** ../node_modules/react-stripe-elements/lib/index.js ***!
  \**********************************************************/
/*! no static exports found */
/*! exports used: CardCvcElement, CardExpiryElement, CardNumberElement, Elements, StripeProvider, injectStripe */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuBankAccountElement=t.FpxBankElement=t.IdealBankElement=t.IbanElement=t.PaymentRequestButtonElement=t.CardCVCElement=t.CardCvcElement=t.CardExpiryElement=t.CardNumberElement=t.CardElement=t.Elements=t.injectStripe=t.StripeProvider=void 0;var r=l(n(/*! ./components/Provider */1090)),o=l(n(/*! ./components/inject */1328)),i=l(n(/*! ./components/Elements */1037)),a=l(n(/*! ./components/Element */1329)),s=l(n(/*! ./components/PaymentRequestButtonElement */1331));function l(e){return e&&e.__esModule?e:{default:e}}var c=(0,a.default)("card",{impliedTokenType:"card",impliedSourceType:"card",impliedPaymentMethodType:"card"}),u=(0,a.default)("cardNumber",{impliedTokenType:"card",impliedSourceType:"card",impliedPaymentMethodType:"card"}),d=(0,a.default)("cardExpiry"),p=(0,a.default)("cardCvc"),f=p,h=(0,a.default)("iban",{impliedTokenType:"bank_account",impliedSourceType:"sepa_debit"}),m=(0,a.default)("idealBank",{impliedSourceType:"ideal"}),g=(0,a.default)("fpxBank"),b=(0,a.default)("auBankAccount");t.StripeProvider=r.default,t.injectStripe=o.default,t.Elements=i.default,t.CardElement=c,t.CardNumberElement=u,t.CardExpiryElement=d,t.CardCvcElement=p,t.CardCVCElement=f,t.PaymentRequestButtonElement=s.default,t.IbanElement=h,t.IdealBankElement=m,t.FpxBankElement=g,t.AuBankAccountElement=b},1328:
/*!**********************************************************************!*\
  !*** ../node_modules/react-stripe-elements/lib/components/inject.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(/*! react */8),s=(r=a)&&r.__esModule?r:{default:r},l=n(/*! ./Elements */1037),c=n(/*! ./Provider */1090);function u(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.withRef,h=void 0!==a&&a;return n=t=function(t){function n(e,r){if(d(this,n),!r||!r.getRegisteredElements)throw new Error("It looks like you are trying to inject Stripe context outside of an Elements context.\nPlease be sure the component that calls createSource or createToken is within an <Elements> component.");var o=p(this,t.call(this,e,r));return o.parseElementOrData=function(e){return e&&"object"===(void 0===e?"undefined":i(e))&&e._frame&&"object"===i(e._frame)&&e._frame.id&&"string"==typeof e._frame.id&&"string"==typeof e._componentName?{type:"element",element:e}:{type:"data",data:e}},o.findElement=function(e,t){var n=o.context.getRegisteredElements().filter((function(t){return t[e]})),r="auto"===t?n:n.filter((function(n){return n[e]===t}));if(1===r.length)return r[0].element;if(r.length>1)throw new Error("You did not specify the type of Source, Token, or PaymentMethod to create.\n        We could not infer which Element you want to use for this operation.");return null},o.requireElement=function(e,t){var n=o.findElement(e,t);if(n)return n;throw new Error("You did not specify the type of Source, Token, or PaymentMethod to create.\n        We could not infer which Element you want to use for this operation.")},o.wrappedCreateToken=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t&&"object"===(void 0===t?"undefined":i(t))){var r=t,a=r.type,s=u(r,["type"]),l="string"==typeof a?a:"auto",c=o.requireElement("impliedTokenType",l);return e.createToken(c,s)}if("string"==typeof t){var d=t;return e.createToken(d,n)}throw new Error("Invalid options passed to createToken. Expected an object, got "+(void 0===t?"undefined":i(t))+".")}},o.wrappedCreateSource=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&"object"===(void 0===t?"undefined":i(t))){if("string"!=typeof t.type)throw new Error("Invalid Source type passed to createSource. Expected string, got "+i(t.type)+".");var n=o.findElement("impliedSourceType",t.type);return n?e.createSource(n,t):e.createSource(t)}throw new Error("Invalid options passed to createSource. Expected an object, got "+(void 0===t?"undefined":i(t))+".")}},o.wrappedCreatePaymentMethod=function(e){return function(t,n,r){if(t&&"object"===(void 0===t?"undefined":i(t)))return e.createPaymentMethod(t);if(!t||"string"!=typeof t)throw new Error("Invalid PaymentMethod type passed to createPaymentMethod. Expected a string, got "+(void 0===t?"undefined":i(t))+".");var a=o.parseElementOrData(n);if("element"===a.type){var s=a.element;return r?e.createPaymentMethod(t,s,r):e.createPaymentMethod(t,s)}var l=a.data,c=o.findElement("impliedPaymentMethodType",t);if(c)return l?e.createPaymentMethod(t,c,l):e.createPaymentMethod(t,c);if(l&&"object"===(void 0===l?"undefined":i(l)))return e.createPaymentMethod(t,l);throw l?new Error("Invalid data passed to createPaymentMethod. Expected an object, got "+(void 0===l?"undefined":i(l))+"."):new Error("Could not find an Element that can be used to create a PaymentMethod of type: "+t+".")}},o.wrappedHandleCardX=function(e,t){return function(n,r,a){if(!n||"string"!=typeof n)throw new Error("Invalid PaymentIntent client secret passed to handleCardPayment. Expected string, got "+(void 0===n?"undefined":i(n))+".");var s=o.parseElementOrData(r);if("element"===s.type){var l=s.element;return a?e[t](n,l,a):e[t](n,l)}var c=s.data,u=o.findElement("impliedPaymentMethodType","card");return u?c?e[t](n,u,c):e[t](n,u):c?e[t](n,c):e[t](n)}},"sync"===o.context.tag?o.state={stripe:o.stripeProps(o.context.stripe)}:o.state={stripe:null},o}return f(n,t),n.prototype.componentDidMount=function(){var e=this;"async"===this.context.tag&&this.context.addStripeLoadListener((function(t){e.setState({stripe:e.stripeProps(t)})}))},n.prototype.getWrappedInstance=function(){if(!h)throw new Error("To access the wrapped instance, the `{withRef: true}` option must be set when calling `injectStripe()`");return this.wrappedInstance},n.prototype.stripeProps=function(e){return o({},e,{createToken:this.wrappedCreateToken(e),createSource:this.wrappedCreateSource(e),createPaymentMethod:this.wrappedCreatePaymentMethod(e),handleCardPayment:this.wrappedHandleCardX(e,"handleCardPayment"),handleCardSetup:this.wrappedHandleCardX(e,"handleCardSetup")})},n.prototype.render=function(){var t=this;return s.default.createElement(e,o({},this.props,{stripe:this.state.stripe,elements:this.context.elements,ref:h?function(e){t.wrappedInstance=e}:null}))},n}(s.default.Component),t.contextTypes=o({},c.providerContextTypes,l.injectContextTypes),t.displayName="InjectStripe("+(e.displayName||e.name||"Component")+")",n}},1329:
/*!***********************************************************************!*\
  !*** ../node_modules/react-stripe-elements/lib/components/Element.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(/*! react */8)),o=s(n(/*! prop-types */3)),i=s(n(/*! ../utils/isEqual */1330)),a=n(/*! ./Elements */1037);function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(){},p=function(e){e.id,e.className,e.onChange,e.onFocus,e.onBlur,e.onReady;return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["id","className","onChange","onFocus","onBlur","onReady"])},f=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};t.default=function(e){var t,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=t=function(t){function n(e,r){l(this,n);var o=c(this,t.call(this,e,r));o.handleRef=function(e){o._ref=e},o._element=null;var i=p(o.props);return o._options=i,o}return u(n,t),n.prototype.componentDidMount=function(){var t=this;this.context.addElementsLoadListener((function(n){if(t._ref){var r=n.create(e,t._options);t._element=r,t._setupEventListeners(r),r.mount(t._ref),(s.impliedTokenType||s.impliedSourceType||s.impliedPaymentMethodType)&&t.context.registerElement(r,s.impliedTokenType,s.impliedSourceType,s.impliedPaymentMethodType)}}))},n.prototype.componentDidUpdate=function(){var e=p(this.props);0===Object.keys(e).length||(0,i.default)(e,this._options)||(this._options=e,this._element&&this._element.update(e))},n.prototype.componentWillUnmount=function(){if(this._element){var e=this._element;e.destroy(),this.context.unregisterElement(e)}},n.prototype._setupEventListeners=function(e){var t=this;e.on("ready",(function(){t.props.onReady(t._element)})),e.on("change",(function(e){t.props.onChange(e)})),e.on("blur",(function(){var e;return(e=t.props).onBlur.apply(e,arguments)})),e.on("focus",(function(){var e;return(e=t.props).onFocus.apply(e,arguments)}))},n.prototype.render=function(){return r.default.createElement("div",{id:this.props.id,className:this.props.className,ref:this.handleRef})},n}(r.default.Component),t.propTypes={id:o.default.string,className:o.default.string,onChange:o.default.func,onBlur:o.default.func,onFocus:o.default.func,onReady:o.default.func},t.defaultProps={id:void 0,className:void 0,onChange:d,onBlur:d,onFocus:d,onReady:d},t.contextTypes=a.elementContextTypes,t.displayName=f(e)+"Element",n}},1330:
/*!******************************************************************!*\
  !*** ../node_modules/react-stripe-elements/lib/utils/isEqual.js ***!
  \******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){if("object"!==(void 0===t?"undefined":r(t))||"object"!==(void 0===n?"undefined":r(n)))return t===n;if(null===t||null===n)return t===n;var o=Array.isArray(t);if(o!==Array.isArray(n))return!1;var i="[object Object]"===Object.prototype.toString.call(t);if(i!==("[object Object]"===Object.prototype.toString.call(n)))return!1;if(!i&&!o)return!1;var a=Object.keys(t),s=Object.keys(n);if(a.length!==s.length)return!1;for(var l={},c=0;c<a.length;c+=1)l[a[c]]=!0;for(var u=0;u<s.length;u+=1)l[s[u]]=!0;var d=Object.keys(l);if(d.length!==a.length)return!1;var p=t,f=n;return d.every((function(t){return e(p[t],f[t])}))}},1331:
/*!*******************************************************************************************!*\
  !*** ../node_modules/react-stripe-elements/lib/components/PaymentRequestButtonElement.js ***!
  \*******************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(/*! react */8)),i=l(n(/*! prop-types */3)),a=l(n(/*! ../utils/shallowEqual */1332)),s=n(/*! ./Elements */1037);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){},u=function(e){e.id,e.className,e.onBlur,e.onClick,e.onFocus,e.onReady,e.paymentRequest;return function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["id","className","onBlur","onClick","onFocus","onReady","paymentRequest"])},d=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));o.handleRef=function(e){o._ref=e};var i=u(n);return o._options=i,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this.context.addElementsLoadListener((function(t){e._element=t.create("paymentRequestButton",r({paymentRequest:e.props.paymentRequest},e._options)),e._element.on("ready",(function(){e.props.onReady(e._element)})),e._element.on("focus",(function(){var t;return(t=e.props).onFocus.apply(t,arguments)})),e._element.on("click",(function(){var t;return(t=e.props).onClick.apply(t,arguments)})),e._element.on("blur",(function(){var t;return(t=e.props).onBlur.apply(t,arguments)})),e._element.mount(e._ref)}))},t.prototype.componentDidUpdate=function(e){this.props.paymentRequest!==e.paymentRequest&&console.warn("Unsupported prop change: paymentRequest is not a customizable property.");var t=u(this.props);0===Object.keys(t).length||(0,a.default)(t,this._options)||(this._options=t,this._element.update(t))},t.prototype.componentWillUnmount=function(){this._element.destroy()},t.prototype.render=function(){return o.default.createElement("div",{id:this.props.id,className:this.props.className,ref:this.handleRef})},t}(o.default.Component);d.propTypes={id:i.default.string,className:i.default.string,onBlur:i.default.func,onClick:i.default.func,onFocus:i.default.func,onReady:i.default.func,paymentRequest:i.default.shape({canMakePayment:i.default.func.isRequired,on:i.default.func.isRequired,show:i.default.func.isRequired}).isRequired},d.defaultProps={id:void 0,className:void 0,onBlur:c,onClick:c,onFocus:c,onReady:c},d.contextTypes=s.elementContextTypes,t.default=d},1332:
/*!***********************************************************************!*\
  !*** ../node_modules/react-stripe-elements/lib/utils/shallowEqual.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return t.hasOwnProperty(n)&&t[n]===e[n]}))}},1333:
/*!***********************************************************************************************!*\
  !*** ./common/components/Settings/MultiStepPaymentMethodModal/PaymentMethodRequiredModal.tsx ***!
  \***********************************************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";n(/*! react */8);var r=n(/*! js/common/components/Modal */42),o=n(/*! @emotion/core */1);t.a=function(e){var t=e.orgId,n=e.onClose,i="/v2#/org/".concat(t,"/billing/overview");return Object(o.jsx)(r.a,{onClose:n,title:"Payment Method Required"},Object(o.jsx)("p",null,"Payment method required. Please activate your activation code in Apply Code on the"," ",Object(o.jsx)("a",{href:i},"Billing page")," before proceeding."," "))}},1334:
/*!***********************************************!*\
  !*** ./project/common/util/insertIntoHash.js ***!
  \***********************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";function r(e,t,n){return e.replace(t,(function(e){return n+("?"===e&&/\?/.test(n)?"&":"")}))}n.d(t,"a",(function(){return r}))},1540:
/*!************************************************************************************************************!*\
  !*** ./common/components/Settings/MultiStepPaymentMethodModal/MultiStepPaymentMethodModal.js + 13 modules ***!
  \************************************************************************************************************/
/*! exports provided: default, MultiStepPaymentMethodModal */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/assertThisInitialized.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/classCallCheck.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/createClass.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/defineProperty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/getPrototypeOf.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/inherits.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/slicedToArray.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/regenerator/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@emotion/core/dist/core.browser.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@emotion/styled-base/dist/styled-base.browser.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/button/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/icon/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/palette/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/text-input/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/tooltip/dist/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Alert.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/ButtonWithLoaderAndLink.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Modal.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/MultiStepWizard.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Select.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Tooltip.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/app.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/settings.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/services/api/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./organization/services/errorHelper.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/segmentAnalytics.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/asyncToGenerator.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-async-script-loader/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/braintree-web/dist/browser/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-dom/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-redux/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-stripe-elements/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(6),o=n.n(r),i=n(9),a=n.n(i),s=n(23),l=n.n(s),c=n(24),u=n.n(c),d=n(14),p=n.n(d),f=n(27),h=n.n(f),m=n(28),g=n.n(m),b=n(17),v=n.n(b),y=n(4),O=n.n(y),x=n(30),j=n.n(x),E=n(8),S=n.n(E),C=n(12),_=n(3),A=n.n(_),N=n(1323),T=n.n(N),w=n(5),P=function(e){return e.find((function(e){return"ACTIVE"===e.status}))},R=function(e){return function(e){return e&&e.length>0&&!!P(e)||!1}(e)&&P(e).billingAddress||void 0},I=(A.a.shape({entitlementsDrawdownMinimumCents:A.a.number,entitlementsDrawdownPercentage:A.a.number,entitlementsDescription:A.a.string,cloudPlanType:A.a.string,ndsPlanType:A.a.string,elasticInvoicing:A.a.bool,elasticInvoicingActivationDate:A.a.string,gcpMarketplace:A.a.shape({entitlementId:A.a.string,accountId:A.a.string}),prepaidPlans:A.a.arrayOf(A.a.shape({activationCode:A.a.string.isRequired,startDate:A.a.string.isRequired,endDate:A.a.string.isRequired,skus:A.a.arrayOf(A.a.string),type:A.a.string.isRequired,creditId:A.a.string}))}),A.a.shape({payingOrgId:A.a.string,linkedOrgIds:A.a.Array}),A.a.shape({billingAddress:A.a.shape({addrLine1:A.a.string,addrLine2:A.a.string,city:A.a.string,state:A.a.string,zip:A.a.string,country:A.a.string}),type:A.a.string,nameOnCard:A.a.string,cardType:A.a.string,cardLast4:A.a.string,cardExpiration:A.a.string,stripeCustomerId:A.a.string,created:A.a.string,paypalEmailAddress:A.a.string})),D=A.a.arrayOf(I),k=A.a.shape({name:A.a.string.isRequired,groupType:A.a.string.isRequired,numBillableServers:A.a.number.isRequired,numCluster:A.a.number.isRequired,dataSizeBackedUpBytes:A.a.number.isRequired}),M=(A.a.arrayOf(k),A.a.shape({companyName:A.a.string,addrLine1:A.a.string,addrLine2:A.a.string,city:A.a.string,state:A.a.string,zip:A.a.string,country:A.a.string,vatNumber:A.a.string})),L=(A.a.shape({id:A.a.string.isRequired,endDate:A.a.string.isRequired,amountBilledCents:A.a.number.isRequired}),A.a.shape({id:A.a.string.isRequired,endDate:A.a.string.isRequired,amountBilledCents:A.a.number.isRequired}),A.a.arrayOf(A.a.shape({created:A.a.string.isRequired,activationCode:A.a.string,amountCents:A.a.number.isRequired,amountRemainingCents:A.a.number.isRequired,note:A.a.string,type:A.a.string.isRequired,startDate:A.a.string,endDate:A.a.string,planType:A.a.string})),A.a.arrayOf(A.a.shape({created:A.a.string.isRequired,activationCode:A.a.string.isRequired,amountCents:A.a.number.isRequired,amountRemainingCents:A.a.number.isRequired,note:A.a.string,type:A.a.string.isRequired,startDate:A.a.string.isRequired,endDate:A.a.string.isRequired,planType:A.a.string,totalBilledCents:A.a.number.isRequired,monthlyMinimum:A.a.number.isRequired})),A.a.arrayOf(A.a.shape({startDate:A.a.string.isRequired,endDate:A.a.string.isRequired,code:A.a.string.isRequired,description:A.a.string.isRequired,percentDiscount:A.a.number.isRequired})),A.a.shape({totalCents:A.a.number.isRequired,subtotalCents:A.a.number.isRequired}),A.a.shape({orgId:A.a.string.isRequired,paymentMethodToken:A.a.string.isRequired,payPalEmailAddress:A.a.string.isRequired})),U=n(15),F=n(13),B=n(42),z=n(920),V=n(20),q=n.n(V),G=n(22),H=n.n(G),W={AF:"Afghanistan",AX:"Ãland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua and Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia, Plurinational State of",BQ:"Bonaire, Sint Eustatius and Saba",BA:"Bosnia and Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",IC:"Canary Islands (Spanish)",CV:"Cape Verde",EA:"Ceuta (Spanish)",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, The Democratic Republic of the",CK:"Cook Islands",CR:"Costa Rica",CI:"CÃ´te D'ivoire",HR:"Croatia",CU:"Cuba",CW:"CuraÃ§ao",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island and McDonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic of",IQ:"Iraq",IE:"Ireland",IM:"Isle of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea, Republic of",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia, The Former Yugoslav Republic of",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States of",MD:"Moldova, Republic of",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PA:"Panama",PS:"Palestinian Territory, Occupied",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"RÃ©union",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint BarthÃ©lemy",SH:"Saint Helena, Ascension and Tristan Da Cunha",KN:"Saint Kitts and Nevis",LC:"Saint Lucia",MF:"Saint Martin (French Part)",PM:"Saint Pierre and Miquelon",VC:"Saint Vincent and The Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome and Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SX:"Sint Maarten (Dutch Part)",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia and The South Sandwich Islands",SS:"South Sudan",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard and Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania, United Republic of",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad and Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks and Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Minor Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela, Bolivarian Republic of",VN:"Vietnam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis and Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"};function Y(e){return e&&"US"!==e}var K=["EA","IC"];var Z={AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming",DC:"District of Columbia"},$={AB:"Alberta",BC:"British Columbia",MB:"Manitoba",NB:"New Brunswick",NL:"Newfoundland and Labrador",NT:"Northwest Territories",NS:"Nova Scotia",NU:"Nunavut",ON:"Ontario",PE:"Prince Edward Island",QC:"Quebec",SK:"Saskatchewan",YT:"Yukon"},X={ACT:"Australian Capital Territory",NSW:"New South Wales",NT:"Northern Territory",QLD:"Queensland",SA:"South Australia",TAS:"Tasmania",VIC:"Victoria",WA:"Western Australia"},J={AN:"Andaman and Nicobar",AP:"Andhra Pradesh",AR:"Arunachal Pradesh",AS:"Assam",BR:"Bihar",CH:"Chandigarh",CG:"Chhattisgarh",DD:"Dadra and Nagar Haveli and Daman & Diu",DL:"Delhi",GA:"Goa",GJ:"Gujarat",HR:"Haryana",HP:"Himachal Pradesh",JK:"Jammu and Kashmir",JH:"Jharkhand",KA:"Karnataka",KL:"Kerala",LA:"Ladakh",LD:"Lakshadweep",MP:"Madhya Pradesh",MH:"Maharashtra",MN:"Manipur",ML:"Meghalaya",MZ:"Mizoram",NL:"Nagaland",OD:"Odisha",PY:"Puducherry",PB:"Punjab",RJ:"Rajasthan",SK:"Sikkim",TN:"Tamil Nadu",TS:"Telangana",TR:"Tripura",UP:"Uttar Pradesh",UK:"Uttarakhand",WB:"West Bengal"},Q=n(143),ee=n(909),te=n(1);var ne=function(){return Object(te.jsx)("div",{className:"upgrade-info"},Object(te.jsx)("div",{className:"upgrade-info-title"},"Monthly Subscription"),Object(te.jsx)("h3",{className:"upgrade-info-price"},Object(te.jsx)("span",{className:"upgrade-info-price-highlight"},"$39")," / server / month"),Object(te.jsx)("div",{className:"upgrade-info-note"},"Prices do not include sales tax."))},re=Object.keys(W).map((function(e){return{label:W[e],value:e}})),oe=Object.keys(Z).map((function(e){return{label:Z[e],value:e}})),ie=Object.keys(J).map((function(e){return{label:J[e],value:e}})),ae=Object.keys(X).map((function(e){return{label:X[e],value:e}})),se=Object.keys($).map((function(e){return{label:$[e],value:e}}));function le(e){var t,n=e.useCompanyAddress,r=e.vatNumber,o=e.onChangeUseCompanyAddress,i=e.addrLine1,a=e.addrLine2,s=e.city,l=e.state,c=e.zip,u=e.country,d=e.canChooseCompanyAddress,p=e.onChangeAddress,f=e.onChangeVatNumber,h=e.isUpgrade,m=Object(E.useState)(!!u),g=q()(m,2),b=g[0],v=g[1],y=Object(E.useState)(!1),x=q()(y,2),j=x[0],C=x[1];function _(e){return function(t){p(O()({},e,t.target.value))}}var A={};"US"===u?(t="State",A.text="Select State",A.options=oe):"AU"===u?(t="State",A.text="Select State",A.options=ae):"CA"===u?(t="Province",A.text="Select Province",A.options=se):"IN"===u?(t="State/Union Territory",A.text="Select State/Union Territory",A.options=ie):t="State/Province/Region";var N=Object(te.jsx)("span",{className:"multi-step-payment-method-label"},t),T=A.text?Object(te.jsx)(ee.a,{className:"multi-step-payment-input",inputAreaClassName:"multi-step-payment-input-area",searchInputAutoComplete:"new-password",onChange:function(e){return p({state:e})},options:A.options,itemToString:function(e){return e?e.label:""},getItemKey:function(e){return e.value},dropdownTitle:A.text,value:l||"",title:A.text,searchable:!0,valueIsEqual:function(e,t){return e===t},disabled:n,openMenuOnButtonFocus:!0}):Object(te.jsx)("input",{className:"multi-step-payment-input multi-step-payment-input-is-text",type:"text",placeholder:"State/Province/Region",value:l||"",disabled:n,onChange:_("state"),autoComplete:"new-password"});return Object(te.jsx)("div",{className:H()("multi-step-payment-method",{"billing-address-pre-country":!u,"billing-address-vat":u&&Y(u),"billing-address-non-vat":u&&!Y(u),"billing-address-slides":j})},h&&Object(te.jsx)(ne,null),d&&Object(te.jsx)("div",{className:"multi-step-payment-method-use-company-address"},Object(te.jsx)("label",{htmlFor:"useCompanyAddress",className:"billing-form-label"},Object(te.jsx)("input",{className:"biling-form-label-checkbox",type:"checkbox",id:"useCompanyAddress",checked:n,onChange:o})," ","Â  Same as Invoice Address")),Object(te.jsx)("span",{className:"multi-step-payment-method-label"},"Country"),Object(te.jsx)(ee.a,{className:"multi-step-payment-input",inputAreaClassName:"multi-step-payment-input-area",searchInputAutoComplete:"new-password",onChange:function(e){b||(C(!0),v(!0),setTimeout((function(){C(!1)}),500)),p({country:e,state:""})},options:re,itemToString:function(e){return e?e.label:""},getItemKey:function(e){return e.value},dropdownTitle:"Select Country",value:u||"",title:"Select Country",searchable:!0,valueIsEqual:function(e,t){return e===t},disabled:n,openMenuOnButtonFocus:!0}),u&&Object(te.jsx)(S.a.Fragment,null,Y(u)&&Object(te.jsx)("div",null,Object(te.jsx)("span",{className:"multi-step-payment-method-label"},"VAT ID",Object(te.jsx)(Q.a,{content:"If you enter a valid VAT ID, we will not charge you VAT (except for customers in Ireland). VAT IDs typically contain a two letter country code followed by digits and letters. For example, MongoDB's VAT ID is IE9793087U",placement:"top",className:"multi-step-payment-method-tooltip",offset:{right:120}},Object(te.jsx)("i",{className:"fa fa-info-circle multi-step-payment-method-info-icon"})),Object(te.jsx)("span",{className:"multi-step-payment-method-optional"},"(Optional)")),Object(te.jsx)("input",{className:"multi-step-payment-input multi-step-payment-input-is-text",type:"text",placeholder:"VAT ID",value:r,disabled:n,onChange:f,autoComplete:"new-password"})),Object(te.jsx)("span",{className:"multi-step-payment-method-label"},"Address Line 1"),Object(te.jsx)("input",{className:"multi-step-payment-input multi-step-payment-input-is-text",type:"text",placeholder:"Address Line 1",value:i||"",disabled:n,onChange:_("addrLine1"),autoComplete:"new-password"}),Object(te.jsx)("span",{className:"multi-step-payment-method-label"},"Address Line 2 ",Object(te.jsx)("span",{className:"multi-step-payment-method-optional"},"(Optional)")),Object(te.jsx)("input",{className:"multi-step-payment-input multi-step-payment-input-is-text",type:"text",placeholder:"Address Line 2",value:a||"",disabled:n,onChange:_("addrLine2"),autoComplete:"new-password"}),Object(te.jsx)("span",{className:"multi-step-payment-method-label"},"City"),Object(te.jsx)("input",{className:"multi-step-payment-input multi-step-payment-input-is-text",type:"text",placeholder:"City",value:s||"",disabled:n,onChange:_("city"),autoComplete:"new-password"}),Object(te.jsx)("div",{className:"multi-step-payment-method-row"},Object(te.jsx)("div",{className:"multi-step-payment-method-column billing-address-float-left"},Object(te.jsx)(S.a.Fragment,null,N,T)),Object(te.jsx)("div",{className:"multi-step-payment-method-column"},Object(te.jsx)("span",{className:"multi-step-payment-method-label"},"ZIP or Postal Code"),Object(te.jsx)("input",{className:"multi-step-payment-input multi-step-payment-input-is-text",type:"text",placeholder:"ZIP or Postal Code",value:c||"",disabled:n,onChange:_("zip"),autoComplete:"new-password"})))))}le.propTypes={addrLine1:A.a.string.isRequired,addrLine2:A.a.string,city:A.a.string,state:A.a.string,zip:A.a.string,country:A.a.string,onChangeAddress:A.a.func,vatNumber:A.a.string,onChangeVatNumber:A.a.func,canChooseCompanyAddress:A.a.bool,onChangeUseCompanyAddress:A.a.func,useCompanyAddress:A.a.bool,isUpgrade:A.a.bool},le.defaultProps={addrLine2:"",city:"",state:"",zip:"",country:"",onChangeAddress:function(){},vatNumber:"",onChangeVatNumber:function(){},canChooseCompanyAddress:!1,onChangeUseCompanyAddress:function(){},useCompanyAddress:!1,isUpgrade:!1};var ce=le,ue=n(36),de=n.n(ue),pe=n(112),fe=n(99),he=n.n(fe),me=n(1324),ge=n.n(me);function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var ve=function(e){h()(n,e);var t=be(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).state={scriptsLoaded:!1},window.React=S.a,window.ReactDOM=he.a,r}return u()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isScriptLoaded,n=e.isScriptLoadSucceed;t&&n&&this.setState({scriptsLoaded:!0})}},{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,n=e.isScriptLoadSucceed;!this.state.scriptsLoaded&&!this.props.isScriptLoaded&&t&&n&&this.setState({scriptsLoaded:!0})}},{key:"render",value:function(){var e=window.PAYPAL,t=this.props,n=t.env,r=t.currency,o=t.payment,i=t.onAuthorize,a=t.onError,s=t.onCancel,l=!!(this.state.scriptsLoaded&&n&&o&&i&&a&&s);return Object(te.jsx)("div",null,l&&Object(te.jsx)(e.Button.react,{env:n,currency:r,payment:o,onAuthorize:i,onCancel:s,onError:a,style:{size:"large",label:"pay",tagline:!1}}))}}]),n}(E.Component);O()(ve,"propTypes",{env:A.a.string.isRequired,currency:A.a.string.isRequired,payment:A.a.func.isRequired,onAuthorize:A.a.func.isRequired,onError:A.a.func.isRequired,onCancel:A.a.func.isRequired});var ye=ge()("https://www.paypalobjects.com/api/checkout.js")(ve),Oe=n(921),xe=n.n(Oe),je=n(942),Ee=n.n(je),Se=n(304),Ce=n.n(Se),_e=n(26),Ae=n(1327);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=j()(xe.a,{target:"e9zhg5q0"})({name:"hq2o3a",styles:"& > label{display:none;}& p{margin:0 0 0;}"}),Pe={name:"1r2f04i",styles:"margin-bottom:10px;"},Re={name:"1v5z18m",styles:"width:300px;"},Ie=function(e){var t=e.isPromoEnabled,n=e.orgId,r=e.couponCode,o=e.onChange,i=e.activationCodeEntered;return t?Object(te.jsx)("div",{css:Pe},Object(te.jsx)("span",{className:"multi-step-payment-method-label"},Object(te.jsx)("span",null,"Promo Code"),Object(te.jsx)(Ee.a,{justify:"middle",variant:"dark",trigger:Object(te.jsx)("span",null,Object(te.jsx)(Ce.a,{glyph:"InfoWithCircle",fill:_e.uiColors.gray.base,size:"small"})),usePortal:!1},Object(te.jsx)("div",{css:Re},"For promo codes only. To apply an activation code, visit the"," ",Object(te.jsx)("a",{href:"/v2#/org/".concat(n,"/billing/overview"),target:"_blank",rel:"noopener noreferrer"},"Billing Overview")," ","page."))),Object(te.jsx)(we,{placeholder:"Enter Promo Code",value:r,onChange:o("couponCode"),state:i?"error":"none",errorMessage:i?"This code cannot be applied here.":null,optional:!0})):null};function De(e){var t=e.orgId,n=e.trackPaymentInfoEntry,r=e.isPayPalEnabled,o=e.nameOnCard,i=e.onChange,a=e.billingEstimate,s=e.couponCode,l=e.payPalButtonProps,c=e.linkPayPalSucceeded,u=e.onChangePayPalAccount,d=e.braintreeCustomer,p=e.changePayPalAccount,f=e.paymentMethodType,h=e.onChangePaymentMethodType,m=e.setStripeGetter,g=e.stripe,b=e.onCardFieldsValidityChange,v=e.initialAnyNewOrFailedPayments,y=e.isPromoEnabled,O=e.activationCodeEntered;m((function(){return g}));var x=Object(E.useState)({}),j=q()(x,1)[0],C=Object(E.useState)({}),_=q()(C,1)[0],A=Object(E.useState)(""),N=q()(A,2),T=N[0],w=N[1],P=function(e,t){return function(r){_[e]=r.error&&(t||r.error.message),j[e]=r.complete,"number"==e&&r.complete&&w(r.brand);var i=j.number&&j.cvc&&j.expiry;b(i),i&&o&&n(r.brand||T)}},R=function(e,t,n){return{style:{base:{color:"#464c4f",fontFamily:'Akzidenz, "Helvetica Neue", Helvetica, Arial, sans-serif',"::placeholder":{color:"#babdbe"}},invalid:{color:"#464c4f"}},classes:{base:"payment-step-input payment-step-input-stripe",invalid:"payment-step-input-error"},placeholder:e,onChange:P(t,n)}},I=Object(te.jsx)(S.a.Fragment,null,Object(te.jsx)("span",{className:"multi-step-payment-method-label"},"Name on Card"),Object(te.jsx)("input",{className:"payment-step-input",type:"text",placeholder:"Name on Card",value:o,onChange:i("nameOnCard"),autoComplete:"name-on-card"}),o&&Object(te.jsx)("i",{className:"fa fa-check","aria-hidden":"true"}),Object(te.jsx)("span",{className:"multi-step-payment-method-label"},"Card Number"),Object(te.jsx)("div",null,Object(te.jsx)(Ae.CardNumberElement,R("Card Number","number","The credit card number that was entered is invalid")),j.number&&Object(te.jsx)("i",{className:"fa fa-check","aria-hidden":"true"}),_.number&&Object(te.jsx)("span",{className:"payment-step-error"},Object(te.jsx)("i",{className:"fa fa-exclamation-circle","aria-hidden":"true"})," ",_.number)),Object(te.jsx)("div",{style:{display:"flex",direction:"row",justifyContent:"space-between"}},Object(te.jsx)("div",{className:"multi-step-payment-method-column"},Object(te.jsx)("span",{className:"multi-step-payment-method-label"},"Expiration Date"),Object(te.jsx)(Ae.CardExpiryElement,R("MM/YY","expiry","Invalid expiration date")),j.expiry&&Object(te.jsx)("i",{className:"fa fa-check","aria-hidden":"true"}),_.expiry&&Object(te.jsx)("span",{className:"payment-step-error"},Object(te.jsx)("i",{className:"fa fa-exclamation-circle","aria-hidden":"true"})," ",_.expiry)),Object(te.jsx)("div",{className:"payment-step-cvc"},Object(te.jsx)("span",{className:"multi-step-payment-method-label"},"CVC"),Object(te.jsx)(Ae.CardCvcElement,R("CVC","cvc","Invalid CVC")),_.cvc&&Object(te.jsx)("span",{className:"payment-step-error"},Object(te.jsx)("i",{className:"fa fa-exclamation-circle","aria-hidden":"true"})," ",_.cvc),j.cvc&&Object(te.jsx)("i",{className:"fa fa-check","aria-hidden":"true"}))),Object(te.jsx)("div",{className:"multi-step-payment-method-row multi-step-payment-method-row-secure-message"},Object(te.jsx)("i",{className:"fa fa-lock billing-form-lock-icon"})," Secure payment via SHA-256 with RSA encryption")),D="PAYPAL"===f,k="CREDIT_CARD"===f;return Object(te.jsx)(S.a.Fragment,null,r&&Object(te.jsx)("div",{className:"multi-step-payment-method payment-step"},Object(te.jsx)("div",{className:H()("payment-step-box",{"payment-step-box-inactive":!k})},Object(te.jsx)("div",{className:"payment-step-box-title",role:"radio","aria-checked":k,onClick:function(){return h("CREDIT_CARD")},tabIndex:0},Object(te.jsx)("label",null,Object(te.jsx)("input",{type:"radio",name:"paymentMethodType",value:"CREDIT_CARD",checked:k,readOnly:!0}),"Â  Credit Card"),Object(te.jsx)("img",{className:"payment-step-icon",src:"/static/images/visa-straight-64px.png",alt:"Visa"}),Object(te.jsx)("img",{className:"payment-step-icon",src:"/static/images/mastercard-straight-64px.png",alt:"MasterCard"}),Object(te.jsx)("img",{className:"payment-step-icon",src:"/static/images/american-express-straight-64px.png",alt:"American Express"}),Object(te.jsx)("img",{className:"payment-step-icon",src:"/static/images/discover-straight-64px.png",alt:"Discover"})),Object(te.jsx)("div",{className:H()("payment-step-box-container",{"payment-step-box-container-hidden":!k,"payment-step-box-content":k})},I)),Object(te.jsx)("div",{className:H()("payment-step-box",{"payment-step-box-inactive":!D})},Object(te.jsx)("div",{className:"payment-step-box-title",onClick:function(){return h("PAYPAL")},role:"radio","aria-checked":D,tabIndex:0},Object(te.jsx)("label",null,Object(te.jsx)("input",{type:"radio",name:"paymentMethodType",value:"PAYPAL",checked:D,readOnly:!0}),"Â  PayPal"),Object(te.jsx)("img",{className:"payment-step-icon",src:"/static/images/paypal-logo-200px.png",alt:"PayPal"})),Object(te.jsx)("div",{className:H()("payment-step-box-container payment-step-paypal",{"payment-step-box-container-hidden":!D,"payment-step-box-content":D})},c&&Object(te.jsx)(pe.a,{level:"success",className:"payment-step-paypal-text-top"},"Your account was successfully connected."),D&&Object(te.jsx)(S.a.Fragment,null,d&&!p?Object(te.jsx)("div",{className:"payment-step-paypal-linked"},Object(te.jsx)("b",null,"Account"),Object(te.jsx)("span",{className:"payment-step-paypal-linked-account"},d.payPalEmailAddress),Object(te.jsx)(de.a,{size:"xsmall",onClick:u},"Change")):Object(te.jsx)(S.a.Fragment,null,l&&Object(te.jsx)(ye,l),Object(te.jsx)("div",{className:"payment-step-paypal-text-bottom"},"Log into PayPal using your email and password."))))),Object(te.jsx)(Ie,{isPromoEnabled:y,orgId:t,couponCode:s,onChange:i,activationCodeEntered:O}),a),!r&&Object(te.jsx)("div",{className:"multi-step-payment-method payment-step"},Object(te.jsx)("span",{className:"multi-step-payment-method-title"},"Credit Card"),I,Object(te.jsx)("br",null),Object(te.jsx)(Ie,{isPromoEnabled:y,orgId:t,couponCode:s,onChange:i,activationCodeEntered:O}),a),Object(te.jsx)("div",{className:"multi-step-payment-method-row-italic"},"By submitting your payment information, you authorize us to charge your card a recurring monthly fee in accordance with your applicable cloud services agreement with MongoDB. You may be asked for additional authentication on the next page."),v&&Object(te.jsx)(pe.a,{className:"bem-alert-has-larger-font bem-alert-has-small-margin-top",level:"warning"},Object(te.jsx)("strong",null,"Heads up!")," We will charge the current failed invoices on your account to this card. View the"," ",Object(te.jsx)("a",{className:"bem-alert-link bem-alert-link-underlined",href:"v2#/org/".concat(t,"/billing/paymentHistory?filterStatus=CHARGE_FAILED"),target:"_blank",rel:"noreferrer noopener"},Object(te.jsx)("strong",null,"failed invoices")),"."))}var ke={orgId:A.a.string.isRequired,onCardFieldsValidityChange:A.a.func.isRequired,trackPaymentInfoEntry:A.a.func.isRequired,setStripeGetter:A.a.func.isRequired,isPayPalEnabled:A.a.bool,nameOnCard:A.a.string,couponCode:A.a.string,onChange:A.a.func.isRequired,billingEstimate:A.a.node,payPalButtonProps:A.a.shape({env:A.a.string.isRequired,currency:A.a.string.isRequired,payment:A.a.func.isRequired,onAuthorize:A.a.func.isRequired,onError:A.a.func.isRequired,onCancel:A.a.func.isRequired}),linkPayPalSucceeded:A.a.bool,onChangePayPalAccount:A.a.func.isRequired,braintreeCustomer:A.a.shape({orgId:A.a.string.isRequired,paymentMethodToken:A.a.string.isRequired,payPalEmailAddress:A.a.string.isRequired}),changePayPalAccount:A.a.bool,paymentMethodType:A.a.string.isRequired,onChangePaymentMethodType:A.a.func.isRequired,initialAnyNewOrFailedPayments:A.a.bool};De.propTypes=Te(Te({},ke),{},{stripe:A.a.object.isRequired}),De.defaultProps=Te({},{orgId:"",isPayPalEnabled:!1,nameOnCard:"",couponCode:"",billingEstimate:null,linkPayPalSucceeded:!1,braintreeCustomer:null,changePayPalAccount:!1,setStripeGetter:function(){},initialAnyNewOrFailedPayments:!1});var Me=Object(Ae.injectStripe)(De),Le=function(e){return Object(te.jsx)(Ae.StripeProvider,{apiKey:e.stripePubKey},Object(te.jsx)(Ae.Elements,null,Object(te.jsx)(Me,e)))};Le.propTypes=Te({stripePubKey:A.a.string.isRequired},ke);var Ue=Le,Fe=n(113),Be=["AR","BO","BR","BZ","CA","CL","CO","CR","EC","HN","GT","GY","JP","MX","NI","PA","PE","PY","SR","SV","US","UY","VE"],ze=function(e){return e?Be.indexOf(e)>=0?"MONGODB_INC":"MONGODB_LTD":null},Ve=n(50),qe=n(1024),Ge={incorrect_cvc:"The cardâs security code is incorrect.",incorrect_number:"The card number is incorrect.",incorrect_address:"The cardâs address is incorrect.",card_declined:"The card has been declined.",expired_card:"The card has expired.",incorrect_zip:"The cardâs ZIP code is incorrect.",testmode_charges_only:'We could not process your transaction at this time due to an issue with our upstream payment provider. Our team is actively working to correct this issue. Check out our <a href="https://status.cloud.mongodb.com/">status page</a> for more updates.'},He=function(e){return t=e.code,Ge[t]||"We're sorry, an unexpected error has occurred.";var t};function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var Ze=j()(pe.a,{target:"eer34660"})({name:"1r2f04i",styles:"margin-bottom:10px;"}),$e=function(e){h()(n,e);var t=Ke(n);function n(e){var r;l()(this,n),r=t.call(this,e),O()(p()(r),"componentDidMount",a()(o.a.mark((function e(){var t,n,i,s,l,c,u,d,p,f,h,m,g,b,v,y,O,x,j,E,S,C;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props,n=t.getAnyNewOrFailedPayments,i=t.companyAddress,s=t.getBraintreeClientToken,l=t.linkBraintreeCustomer,c=t.orgId,u=t.loadActiveOrgCompanyAddress,d=t.loadActiveOrgActivePaymentMethods,p=t.loadActiveOrgBraintreeCustomer,f=t.open,h=t.trackingContext,m=t.instanceSize,g=r.state,b=g.useCompanyAddress,v=g.address,f&&(y=Object(Ve.c)(c),Ve.d.track(Ve.b.PAYMENT_MODAL_SHOWN,{context:h,instance_size:m},{integrations:y})),O=function(){},u().catch(O),d().catch(O),p().catch(O),e.prev=7,e.next=10,n({orgId:c});case 10:return x=e.sent,e.next=13,s({orgId:c});case 13:return j=e.sent,e.next=16,T.a.client.create({authorization:j.clientToken});case 16:return E=e.sent,e.next=19,T.a.paypalCheckout.create({client:E});case 19:S=e.sent,C={env:j.environment,currency:"USD",payment:function(){return S.createPayment({flow:"vault"})},onAuthorize:function(){var e=a()(o.a.mark((function e(t){var n,a,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={addrLine1:(n=b?i:v).addrLine1,addrLine2:n.addrLine2,city:n.city,state:n.state,zip:n.zip,country:n.country},e.prev=2,e.next=5,S.tokenizePayment(t);case 5:return s=e.sent,e.next=8,l({orgId:c,paymentMethodNonce:s.nonce,billingAddress:a});case 8:return e.next=10,p();case 10:r.setState({linkPayPalSucceeded:!0,changePayPalAccount:!1,showError:!1,activationCodeEntered:!1,customErrorMessage:"",brand:"paypal"}),r.trackPaymentInfoEntry(),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(2),e.t0.errorCode,u=e.t0.message,r.setState({linkPayPalSucceeded:!1,showError:!!u,customErrorMessage:u});case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),onCancel:function(){},onError:function(){}},r.setState({payPalButtonProps:C,initialAnyNewOrFailedPayments:x.anyNewOrFailedPayments||!1}),e.next=26;break;case 24:e.prev=24,e.t0=e.catch(7);case 26:case"end":return e.stop()}}),e,null,[[7,24]])})))),O()(p()(r),"componentDidUpdate",(function(e){var t=r.props,n=t.open,o=t.instanceSize,i=t.trackingContext,a=t.orgId,s=r.state.checkoutStarted;if(!e.paymentMethods||0===e.paymentMethods.length){var l=r.props.paymentMethods,c=R(l);c&&r.setState({address:c})}var u=Object(Ve.c)(a);n&&!e.open&&(Ve.d.track(Ve.b.PAYMENT_MODAL_SHOWN,{context:i,instance_size:o},{integrations:u}),s||"Cluster Builder"!==i||(Ve.d.track(Ve.b.CHECKOUT_STARTED,{context:i,instance_size:o},{integrations:u}),Ve.d.track(Ve.b.CHECKOUT_STEP_VIEWED,{context:i,instance_size:o,step:"Address"},{integrations:u}),r.setState({checkoutStarted:!0})))})),O()(p()(r),"onClose",(function(){var e=r.props,t=e.onHide,n=e.trackingContext,o=e.instanceSize,i=e.orgId,a=r.state.activeStep;Ve.d.track(Ve.b.PAYMENT_MODAL_CLOSED,{context:n,instance_size:o,step:1===a?"Address":"Payment"},{integrations:Object(Ve.c)(i)}),t(!1)})),O()(p()(r),"onBack",(function(){var e=r.state.activeStep;r.setState({activeStep:e-1,showError:!1,showHtmlError:!1,activationCodeEntered:!1,customErrorMessage:null})})),O()(p()(r),"onChangeAddress",(function(e){var t=Ye(Ye({},r.state.address),e);r.setState({address:t})})),O()(p()(r),"haveRequiredAddressFields",(function(e){return e.country&&e.addrLine1&&e.city&&e.state&&!!e.zip})),O()(p()(r),"haveRequiredPaymentFields",(function(){var e=r.state,t=e.nameOnCard,n=e.cardFieldsValid;return t&&n})),O()(p()(r),"onChangeField",(function(e){return function(t){var n=r.state.activationCodeEntered;"couponCode"===e&&n&&r.setState({activationCodeEntered:!1}),r.setState(O()({},e,t.target.value))}})),O()(p()(r),"onChangePayPalAccount",(function(){r.setState({linkPayPalSucceeded:!1,changePayPalAccount:!0})})),O()(p()(r),"onChangePaymentMethodType",(function(e){r.setState({paymentMethodType:e})})),O()(p()(r),"onNext",a()(o.a.mark((function e(){var t,n,i,a,s,l,c,u,d,p,f,h,m,g,b,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state,n=t.activeStep,i=t.useCompanyAddress,a=t.address,s=t.paymentStepVisited,l=r.props,c=l.validateAddress,u=l.orgId,d=l.companyAddress,p=l.trackingContext,f=l.instanceSize,h=i?d:a,r.setState({showError:!1,showHtmlError:!1,customErrorMessage:null,submitInProgress:!0}),m=Object(Ve.c)(u),e.prev=5,e.next=8,c({orgId:u,address:{addrLine1:h.addrLine1,addrLine2:h.addrLine2,city:h.city,state:h.state,zip:h.zip,country:h.country}});case 8:e.next=18;break;case 10:return e.prev=10,e.t0=e.catch(5),g=e.t0.errorCode,b=e.t0.message,v="INVALID_COMPANY_ADDRESS"===g?"The address that was entered is invalid. ".concat(b):"An error occurred while attempting to validate the address.",r.setState({showError:!0,activationCodeEntered:!1,showHtmlError:!1,submitInProgress:!1,customErrorMessage:v}),Ve.d.track(Ve.b.PAYMENT_INFO_ERROR,{context:p,instance_size:f,error_message:v},{integrations:m}),e.abrupt("return");case 18:s||"Cluster Builder"!==p||(Ve.d.track(Ve.b.CHECKOUT_STEP_COMPLETED,{context:p,instance_size:f,step:"Address"},{integrations:m}),Ve.d.track(Ve.b.CHECKOUT_STEP_VIEWED,{context:p,instance_size:f,step:"Payment"},{integrations:m})),r.setState({activeStep:n+1,submitInProgress:!1,paymentStepVisited:!0});case 20:case"end":return e.stop()}}),e,null,[[5,10]])})))),O()(p()(r),"onSubmit",a()(o.a.mark((function e(){var t,n,i,a,s,l,c,u,d,p,f,h,m,g,b,v,y,O,x,j,E,S,C,_,A,N,T,w,P,R,I,D,k,M,L,U;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props,n=t.orgId,i=t.isUpgrade,a=t.companyAddress,s=t.updatePaymentMethod,l=t.updatePlan,c=t.trackingContext,u=t.instanceSize,d=t.onHide,p=t.confirmationStep,f=t.getStripeSetupIntentSecret,h=t.saveCluster,m=t.onPaymentUpdateSuccess,g=t.onPaymentUpdateFailedPastPayments,b=t.initialPaymentStatus,v=r.state,y=v.address,O=v.vatNumber,x=v.nameOnCard,j=v.couponCode,E=v.useCompanyAddress,S=v.activeStep,C=v.paymentMethodType,_=v.brand,A=v.initialAnyNewOrFailedPayments,r.setState({submitInProgress:!0,showError:!1,showHtmlError:!1,customErrorMessage:null}),N=E?a:y,T=Object(Ve.c)(n),w=function(e,t){r.setState({submitInProgress:!1,customErrorMessage:e,showError:e&&!t,showHtmlError:e&&t,activationCodeEntered:!1}),Ve.d.track(Ve.b.PAYMENT_INFO_ERROR,{context:c,instance_size:u,code_value:j,error_message:e},{integrations:T})},e.prev=6,P=ze(N.country),"CREDIT_CARD"!==C){e.next=20;break}return e.next=11,f({orgId:n,billingAccount:P});case 11:return I=e.sent,D=r.getStripe(),e.next=15,D.handleCardSetup(I,{payment_method_data:{billing_details:{name:x,address:{line1:N.addrLine1,line2:N.addrLine2,city:N.city,state:N.state,postal_code:N.zip,country:(o=N.country,K.includes(o)?"ES":o)}}}});case 15:if(!(k=e.sent).error){e.next=19;break}return w(He(k.error),!0),e.abrupt("return");case 19:R=k.setupIntent.payment_method;case 20:return e.prev=20,L=(M="PAYPAL"===C)?{addrLine1:N.addrLine1,addrLine2:N.addrLine2,city:N.city,state:N.state,zip:N.zip,country:N.country}:{country:N.country},e.next=25,s(Ye({orgId:n,billingAccount:P,stripePaymentMethodId:R,vatNumber:O,couponCode:j,linkBraintree:M},L));case 25:m(A,b),e.next=36;break;case 28:if(e.prev=28,e.t0=e.catch(20),"FAILED_PAYMENT_RETRY_FAILED"!==e.t0.errorCode){e.next=34;break}g(),e.next=36;break;case 34:return"ACTIVATION_CODE_NOT_PERMITTED_THOUGH_PAYMENT_METHOD"===e.t0.errorCode?r.setState({showError:!1,showHtmlError:!1,activationCodeEntered:!0,submitInProgress:!1}):w(Object(qe.b)(e.t0),!0),e.abrupt("return");case 36:if(!i){e.next=39;break}return e.next=39,l({orgId:n,plan:{planType:"STANDARD"}});case 39:Ve.d.track(Ve.b.PAYMENT_INFO_SUBMITTED_SUCCESSFULLY,{context:c,instance_size:u,code_value:j,brand:_},{integrations:T}),"Cluster Builder"===c&&Ve.d.track(Ve.b.ORDER_COMPLETED,{context:c,instance_size:u,brand:_},{integrations:T}),p?h({onSuccess:function(){r.setState({submitInProgress:!1,activeStep:S+1})},onError:function(){d(!1)}}):d(!0),e.next=48;break;case 44:e.prev=44,e.t1=e.catch(6),U=Object(qe.b)(e.t1),w(U,!1);case 48:case"end":return e.stop()}var o}),e,null,[[6,44],[20,28]])}))));var i=e.paymentMethods,s=R(i)||{addrLine1:"",addrLine2:"",city:"",state:"",zip:"",country:""};return r.state={address:s,vatNumber:r.props.companyAddress.vatNumber,useCompanyAddress:!1,nameOnCard:r.props.nameOnCard,cardFieldsValid:!1,couponCode:r.props.couponCode,activeStep:1,customErrorMessage:"",checkoutStarted:!1,paymentStepVisited:!1,payPalButtonProps:null,linkPayPalSucceeded:!1,changePayPalAccount:!1,paymentMethodType:r.props.initialPaymentMethodType,brand:null,initialAnyNewOrFailedPayments:!1,activationCodeEntered:!1},r}return u()(n,[{key:"getStripePubKey",value:function(){var e=this.props,t=e.publishableKeyInc,n=e.publishableKeyLtd,r=e.companyAddress,o=this.state,i=o.address,a=o.useCompanyAddress;return"MONGODB_INC"===ze((a?r:i).country)?t:n}},{key:"trackPaymentInfoEntry",value:function(){var e=this.props,t=e.trackingContext,n=e.instanceSize,r=e.orgId,o=this.state.brand;Ve.d.track(Ve.b.PAYMENT_INFO_ENTERED,{context:t,instance_size:n,brand:o},{integrations:Object(Ve.c)(r)})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.orgId,o=n.isPayPalEnabled,i=n.companyAddress,a=n.isUpgrade,s=n.title,l=n.billingEstimate,c=n.confirmationStep,u=n.braintreeCustomer,d=n.open,p=n.isPromoEnabled,f=this.state,h=f.useCompanyAddress,m=f.address,g=f.vatNumber,b=f.nameOnCard,v=f.couponCode,y=f.activeStep,O=f.submitInProgress,x=f.showError,j=f.customErrorMessage,E=f.showHtmlError,S=f.payPalButtonProps,C=f.linkPayPalSucceeded,_=f.changePayPalAccount,A=f.paymentMethodType,N=f.initialAnyNewOrFailedPayments,T=f.activationCodeEntered,w=h?i:m,P=2===y,R=P?"CREDIT_CARD"===A&&this.haveRequiredPaymentFields()||"PAYPAL"===A&&u&&u.payPalEmailAddress&&!_&&!0||!1:this.haveRequiredAddressFields(w),I=Object(te.jsx)(Fe.a,{variant:"primary",name:"next",onClick:P?this.onSubmit:this.onNext,disabled:!R||O,showLoader:O},P?"Submit":"Next"),D=3===y?Object(te.jsx)(z.a,null):Object(te.jsx)(z.a,null,Object(te.jsx)("nav",{className:"multi-step-wizard-nav"},Object(te.jsx)("div",null,Object(te.jsx)("button",{type:"button",className:"button multi-step-wizard-cancel-button",onClick:P?this.onBack:this.onClose},P?"Back":"Cancel")),Object(te.jsx)("div",null,I)));e=a?"Upgrade":3===y?"Thank you!":s;var k=3===y?function(){}:this.onClose;return Object(te.jsx)(B.a,{open:d,size:"small",title:e,confirmBtnLabel:"Submit",onClose:k,customModalClass:"multi-step-payment-method-modal",hideClose:3===y},x&&Object(te.jsx)("div",{className:"billing-error billing-error-margin-bottom"},Object(te.jsx)("i",{className:"billing-error-icon"})," ",j),E&&Object(te.jsx)("div",{className:"billing-error billing-error-margin-bottom"},Object(te.jsx)("i",{className:"billing-error-icon"})," ",Object(te.jsx)("div",{className:"billing-error-message",dangerouslySetInnerHTML:{__html:j}})),T&&Object(te.jsx)(Ze,{level:"warning"},Object(te.jsx)("b",null,"This code cannot be applied here."),Object(te.jsx)("div",null,"Visit the"," ",Object(te.jsx)("a",{href:"/v2#/org/".concat(r,"/billing/overview"),target:"_blank",rel:"noopener noreferrer"},"Billing Overview")," ","page to apply this activation code to your organization.")),Object(te.jsx)(z.c,{activeStep:y,completeText:"Submit",customFooter:D,showTopNav:!1,onCancel:function(){},onBack:function(){},onNext:function(){},onComplete:function(){},nextEnabled:!0,showNextLoader:!0},Object(te.jsx)(z.c.Step,{title:"Billing Address"},Object(te.jsx)(ce,{addrLine1:w.addrLine1,addrLine2:w.addrLine2,city:w.city,state:w.state,zip:w.zip,country:w.country,useCompanyAddress:h,onChangeAddress:this.onChangeAddress,onChangeVatNumber:function(e){return t.setState({vatNumber:e.target.value.toUpperCase()})},onChangeUseCompanyAddress:function(e){return t.setState({useCompanyAddress:e.target.checked})},vatNumber:g,canChooseCompanyAddress:i&&!!i.addrLine1,isUpgrade:a})),Object(te.jsx)(z.c.Step,{title:"Payment"},Object(te.jsx)(Ue,{orgId:r,stripePubKey:this.getStripePubKey(),setStripeGetter:function(e){return t.getStripe=e},trackPaymentInfoEntry:function(e){t.setState({brand:e}),t.trackPaymentInfoEntry()},onCardFieldsValidityChange:function(e){return t.setState({cardFieldsValid:e})},isPayPalEnabled:o,nameOnCard:b,couponCode:v,onChange:this.onChangeField,billingEstimate:l,payPalButtonProps:S,linkPayPalSucceeded:C,changePayPalAccount:_,onChangePayPalAccount:this.onChangePayPalAccount,onChangePaymentMethodType:this.onChangePaymentMethodType,braintreeCustomer:u,paymentMethodType:A,initialAnyNewOrFailedPayments:N,isPromoEnabled:p,activationCodeEntered:T})),c&&Object(te.jsx)(z.c.Step,{title:"Confirmation"},c)))}}]),n}(E.Component);O()($e,"propTypes",{validateAddress:A.a.func,updatePaymentMethod:A.a.func,updatePlan:A.a.func,getAnyNewOrFailedPayments:A.a.func,getBraintreeClientToken:A.a.func,getStripeSetupIntentSecret:A.a.func,linkBraintreeCustomer:A.a.func,publishableKeyInc:A.a.string.isRequired,publishableKeyLtd:A.a.string.isRequired,isPayPalEnabled:A.a.bool,orgId:A.a.string.isRequired,companyAddress:M,paymentMethods:D,nameOnCard:A.a.string,couponCode:A.a.string,isUpgrade:A.a.bool,billingEstimate:A.a.node,onHide:A.a.func.isRequired,title:A.a.string.isRequired,trackingContext:A.a.string.isRequired,instanceSize:A.a.string,confirmationStep:A.a.node,braintreeCustomer:L,initialPaymentMethodType:A.a.string,loadActiveOrgCompanyAddress:A.a.func.isRequired,loadActiveOrgActivePaymentMethods:A.a.func.isRequired,loadActiveOrgBraintreeCustomer:A.a.func.isRequired,saveCluster:A.a.func,onPaymentUpdateSuccess:A.a.func,onPaymentUpdateFailedPastPayments:A.a.func,open:A.a.bool,initialPaymentStatus:A.a.string,isPromoEnabled:A.a.bool}),O()($e,"defaultProps",{validateAddress:w.d.validateAddress,updatePaymentMethod:w.d.updatePaymentMethod,updatePlan:w.d.updatePlan,getAnyNewOrFailedPayments:w.d.getAnyNewOrFailedPayments,getBraintreeClientToken:w.d.getBraintreeClientToken,getStripeSetupIntentSecret:w.d.getStripeSetupIntentSecret,linkBraintreeCustomer:w.d.linkBraintreeCustomer,isPayPalEnabled:!1,companyAddress:{},nameOnCard:"",couponCode:"",isUpgrade:!1,billingEstimate:null,instanceSize:"",confirmationStep:null,paymentMethods:[],braintreeCustomer:null,initialPaymentMethodType:"CREDIT_CARD",saveCluster:function(){},onPaymentUpdateSuccess:function(){},onPaymentUpdateFailedPastPayments:function(){},open:!0,initialPaymentStatus:null,isPromoEnabled:!0});t.a=Object(C.connect)((function(e){return{publishableKeyInc:U.v(e),publishableKeyLtd:U.w(e),isPayPalEnabled:U.B(e,"PAYPAL"),companyAddress:F.t(e),paymentMethods:F.B(e),braintreeCustomer:F.r(e)}}),{loadActiveOrgCompanyAddress:F.T,loadActiveOrgActivePaymentMethods:F.R,loadActiveOrgBraintreeCustomer:F.S})($e)},1541:
/*!**************************************************************************!*\
  !*** ./project/nds/clusters/components/GeoZoneLocations.js + 13 modules ***!
  \**************************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/assertThisInitialized.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/classCallCheck.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/createClass.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/defineProperty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/getPrototypeOf.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/inherits.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/regenerator/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@emotion/core/dist/core.browser.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/button/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/ButtonWithLoaderAndLink.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/DropdownSelect.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/SplashViewGraphic.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Tooltip.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/nds/geoZoneMap.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/services/api/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/deepClone.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/components/NDSClusterForm/schema.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/util/clusterEditorUtils.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/util/replicationSpecUtils.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/asyncToGenerator.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/d3-geo/dist/d3-geo.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/d3-selection/dist/d3-selection.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/d3-shape/dist/d3-shape.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/d3-zoom/dist/d3-zoom.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-redux/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/topojson-client/dist/topojson-client.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/underscore/underscore.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(6),o=n.n(r),i=n(9),a=n.n(i),s=n(23),l=n.n(s),c=n(24),u=n.n(c),d=n(14),p=n.n(d),f=n(27),h=n.n(f),m=n(28),g=n.n(m),b=n(17),v=n.n(b),y=n(4),O=n.n(y),x=n(8),j=n.n(x),E=n(3),S=n.n(E),C=n(22),_=n.n(C),A=n(2),N=n.n(A),T=n(5),w=n(322),P=n(113),R=n(36),I=n.n(R),D=n(879),k=n(301),M=n(1);function L(e){var t=e.geoSharding,n=e.setClusterFormValue,r=e.setTab,o=e.updateQuery,i=e.tab,a=e.showTemplates,s=e.templateOverlayShown,l=e.hideNavigation,c=e.isMapInteractive,u=Object.keys(t.customZoneMapping).length>0;return Object(M.jsx)(j.a.Fragment,null,s&&Object(M.jsx)("div",{className:"geo-zone-locations-header"},Object(M.jsx)("div",{className:"geo-zone-locations-header-left"},Object(M.jsx)("strong",null,"Get started with a template"),Object(M.jsx)("p",{className:"geo-zone-locations-description"},"The below examples distribute zones evenly across the world."))),!s&&Object(M.jsx)(j.a.Fragment,null,!c&&Object(M.jsx)("div",{className:"geo-zone-locations-header geo-zone-locations-header-is-less-padding"},Object(M.jsx)("div",{className:"geo-zone-locations-header-center"},Object(M.jsx)("strong",null,"Your selected region's approximate write latency is shown below"))),c&&"TAB_MAP"===i&&Object(M.jsx)("div",{className:"geo-zone-locations-header geo-zone-locations-header-is-map"},Object(M.jsx)("div",{className:"geo-zone-locations-header-left"},Object(M.jsx)("strong",null,"View your latency across the globe"),Object(M.jsx)("p",{className:"geo-zone-locations-description"},"Customize your deployments with primaries in high-volume areas to suit your application's needs.")),Object(M.jsx)("div",{className:"geo-zone-locations-header-right"},!l&&Object(M.jsx)(j.a.Fragment,null,Object(M.jsx)("div",{className:"geo-zone-locations-header-right-buttons"},Object(M.jsx)(P.a,{className:"geo-zone-locations-tab-button",isLink:!0,onClick:function(){return r("TAB_TABLE")}},"Configure Location Mappings")),Object(M.jsx)(I.a,{size:"xsmall",onClick:function(){return a()}},"View Zone Templates")))),"TAB_TABLE"===i&&Object(M.jsx)("div",{className:"geo-zone-locations-header"},Object(M.jsx)("div",{className:"geo-zone-locations-header-left"},Object(M.jsx)("strong",null,l?"Zone Mapping":"Configure Zone Mapping"),Object(M.jsx)("p",{className:_()("geo-zone-locations-description",{"geo-zone-locations-description-is-lower":!l})},"We automatically map every location in the world to the zone with the closest preferred region.")),Object(M.jsx)("div",{className:"geo-zone-locations-header-right"},!l&&Object(M.jsx)("div",{className:_()("geo-zone-locations-header-right-buttons",{"geo-zone-locations-header-right-buttons-has-multiple":u})},u&&Object(M.jsx)(I.a,{size:"xsmall",onClick:function(){var e=Object(k.a)(t);e.customZoneMapping={},n("geoSharding",e)}},Object(M.jsx)("i",{className:"fa fa-undo"}),"Â Reset All Zone Mappings"),Object(M.jsx)(P.a,{className:"geo-zone-locations-tab-button",isLink:!0,onClick:function(){return r("TAB_MAP")}},"Back to map")),Object(M.jsx)("div",{className:"geo-zone-locations-search-container"},Object(M.jsx)("input",{className:"geo-zone-locations-search",type:"text",placeholder:"Search for a location",onChange:function(e){return o(e.target.value)}}),Object(M.jsx)("i",{className:"fa fa-search geo-zone-locations-search-icon"}))))))}L.propTypes={geoSharding:S.a.shape(D.n),setClusterFormValue:S.a.func,setTab:S.a.func.isRequired,updateQuery:S.a.func.isRequired,showTemplates:S.a.func.isRequired,tab:S.a.oneOf(["TAB_MAP","TAB_TABLE"]).isRequired,templateOverlayShown:S.a.bool.isRequired,hideNavigation:S.a.bool,isMapInteractive:S.a.bool},L.defaultProps={geoSharding:{managedNamespaces:[],customZoneMapping:{}},setClusterFormValue:function(){},hideNavigation:!1,isMapInteractive:!0};var U=L,F=n(891),B=n(885);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var V=function(e){h()(n,e);var t=z(n);function n(){var e;l()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),O()(p()(e),"state",{isExpanded:e.props.defaultExpanded}),e}return u()(n,[{key:"onClickRow",value:function(){this.setState({isExpanded:!this.state.isExpanded})}},{key:"onChangeZone",value:function(e,t){var n=this.props,r=n.setClusterFormValue,o=n.geoSharding,i=n.subdivisions,a=Object(k.a)(o);this._getCodesToUpdate(t).forEach((function(t){i.find((function(e){return e.isoCode===t})).generatedReplicationSpecId!==e.value?a.customZoneMapping[t]=e.value:delete a.customZoneMapping[t]})),r("geoSharding",a)}},{key:"onResetMapping",value:function(e){var t=this.props,n=t.setClusterFormValue,r=t.geoSharding,o=Object(k.a)(r);this._getCodesToUpdate(e).forEach((function(e){delete o.customZoneMapping[e]})),n("geoSharding",o)}},{key:"getZoneNameById",value:function(e){var t=this.props.replicationSpecs.find((function(t){return t.id===e}));return t&&t.zoneName}},{key:"getPreferredRegionById",value:function(e){var t=this.props.replicationSpecs.find((function(t){return t.id===e}));return t&&B.a.getPreferredRegionNameReadable(t)}},{key:"getZoneDropdownOptions",value:function(){var e=this;return this.props.replicationSpecs.map((function(t){return{value:t.id,label:"".concat(t.zoneName," (").concat(e.getPreferredRegionById(t.id),")")}}))}},{key:"_getCodesToUpdate",value:function(e){var t=this.props.subdivisions;return t.length>1&&-1===e.indexOf("-")?t.map((function(e){return e.isoCode})):[e]}},{key:"render",value:function(){var e=this,t=this.props,n=t.subdivisions,r=t.numSubdivisions,o=t.allowZoneEdit,i=t.replicationSpecs,a=t.geoSharding,s=this.state.isExpanded,l=o&&i.length>1;return Object(M.jsx)(j.a.Fragment,null,n.map((function(t,n){var o=r>1&&0===n,i=r>1&&n>0;return(s||0===n)&&Object(M.jsx)("div",{key:"".concat(t.isoCode),className:_()("geo-zone-locations-row",{"geo-zone-locations-row-is-expandable":o})},Object(M.jsx)("div",{className:"geo-zone-locations-row-left",onClick:o?function(){e.onClickRow()}:function(){},role:"presentation"},Object(M.jsx)("div",{className:_()("geo-zone-locations-row-left-inner",{"geo-zone-locations-row-left-inner-has-caret":o,"geo-zone-locations-row-left-inner-is-nested":i})},o&&Object(M.jsx)("strong",null,Object(M.jsx)("i",{className:_()("fa fa-angle-right geo-zone-locations-caret",{"geo-zone-locations-caret-is-down":s})})),t.readableName," (",t.isoCode,")",o&&Object(M.jsx)("div",{className:"bubble-text bubble-text-is-dark geo-zone-locations-bubble"},r," Subdivision",r>1?"s":""))),Object(M.jsx)("div",{className:"geo-zone-locations-row-right"},Object(M.jsx)("div",{className:_()("geo-zone-locations-row-right-inner",{"geo-zone-locations-row-right-inner-has-select":l})},e.getZoneNameById(t.replicationSpecId)?Object(M.jsx)(j.a.Fragment,null,l?Object(M.jsx)(j.a.Fragment,null,Object(M.jsx)(F.a,{value:a.customZoneMapping[t.isoCode]||t.generatedReplicationSpecId,options:e.getZoneDropdownOptions(),className:"dropdown-select geo-zone-locations-select",onChange:function(n){e.onChangeZone(n,t.isoCode)}}),a.customZoneMapping[t.isoCode]&&Object(M.jsx)(I.a,{size:"xsmall",onClick:function(){e.onResetMapping(t.isoCode)}},Object(M.jsx)("i",{className:"fa fa-undo"}),"Â Reset")):Object(M.jsx)("span",null,Object(M.jsx)("strong",null,e.getZoneNameById(t.replicationSpecId)),"Â  (",e.getPreferredRegionById(t.replicationSpecId),")")):Object(M.jsx)("span",{className:"geo-zone-locations-row-loading"},"Loading",Object(M.jsx)("span",{className:"inline-pending"})))))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!t.isExpanded&&e.defaultExpanded?{isExpanded:!0}:null}}]),n}(j.a.Component);O()(V,"propTypes",{subdivisions:S.a.arrayOf(S.a.object).isRequired,replicationSpecs:S.a.arrayOf(S.a.shape(D.x)).isRequired,geoSharding:S.a.shape(D.n).isRequired,numSubdivisions:S.a.number.isRequired,allowZoneEdit:S.a.bool.isRequired,setClusterFormValue:S.a.func,defaultExpanded:S.a.bool}),O()(V,"defaultProps",{setClusterFormValue:function(){},defaultExpanded:!1});var q=V;function G(e){return e?N.a.groupBy(Object.values(e),(function(e){return e.typeOneIsoCode})):{}}function H(e){var t=e.locationMapping,n=e.replicationSpecs,r=e.geoSharding,o=e.query,i=e.allowZoneEdit,a=e.setClusterFormValue,s=G(t),l=function(e,t){return e.sort((function(e,n){var r=t[e].country,o=t[n].country;return r>o?1:r<o?-1:0}))}(Object.keys(s),t);function c(e){return-1!==e.readableName.toLowerCase().indexOf(o.toLowerCase())}return o&&(l=l.filter((function(e){return s[e].some(c)}))),Object(M.jsx)(j.a.Fragment,null,Object(M.jsx)("div",{className:"geo-zone-locations-row"},Object(M.jsx)("div",{className:"geo-zone-locations-row-left"},Object(M.jsx)("div",{className:"geo-zone-locations-row-left-inner"},Object(M.jsx)("strong",null,"Location Name"))),Object(M.jsx)("div",{className:"geo-zone-locations-row-right"},Object(M.jsx)("div",{className:"geo-zone-locations-row-right-inner"},Object(M.jsx)("strong",null,"Zone")))),l.length>0&&l.map((function(e){var t=s[e],l=t.length-1,u=!1;if(o){var d=t[0],p=t.slice(1,t.length).filter(c);u=p.length>0,t=[d].concat(p)}return Object(M.jsx)(q,{key:e,subdivisions:t,replicationSpecs:n,geoSharding:r,defaultExpanded:u,numSubdivisions:l,allowZoneEdit:i,setClusterFormValue:a})})),0===l.length&&Object(M.jsx)("div",{className:"geo-zone-locations-empty"},Object(M.jsx)("em",null,"No locations found")))}H.propTypes={locationMapping:D.q.isRequired,replicationSpecs:S.a.arrayOf(S.a.shape(D.x)).isRequired,geoSharding:S.a.shape(D.n).isRequired,query:S.a.string.isRequired,allowZoneEdit:S.a.bool.isRequired,setClusterFormValue:S.a.func},H.defaultProps={setClusterFormValue:function(){}};var W=H;function Y(e){var t=e.provider,n=e.defaultTemplates,r=e.setClusterFormValue,o=e.hideOverlay;return Object(M.jsx)("div",{className:"geo-zone-locations-templates"},Object(M.jsx)("div",{className:"geo-zone-locations-templates-options"},Object(M.jsx)("div",{className:"geo-zone-locations-templates-option",onClick:function(){var e=n[t].geoSharded3Zone.replicationSpecs;r("replicationSpecs",e),o()},role:"presentation"},Object(M.jsx)("div",{className:"geo-zone-locations-templates-option-graphic"},Object(M.jsx)("img",{className:"geo-zone-locations-template-image",src:"/static/images/threezones.png",alt:"Use a three zone template"})),Object(M.jsx)("div",{className:"geo-zone-locations-templates-option-label"},Object(M.jsx)("strong",null,"Global Performance"),Object(M.jsx)("div",{className:"geo-zone-locations-templates-option-label-caption"},Object(M.jsx)("strong",null,"Provide reasonable latency to the majority of the global population"),Object(M.jsx)("br",null),"(<120ms reads and writes from anywhere in the world)"))),Object(M.jsx)("div",{className:"geo-zone-locations-templates-option",role:"presentation",onClick:function(){var e=n[t].geoSharded6Zone.replicationSpecs;r("replicationSpecs",e),o()}},Object(M.jsx)("div",{className:"geo-zone-locations-templates-option-graphic"},Object(M.jsx)("img",{className:"geo-zone-locations-template-image",src:"/static/images/sixzones.png",alt:"Use a six zone template"})),Object(M.jsx)("div",{className:"geo-zone-locations-templates-option-label"},Object(M.jsx)("strong",null,"Excellent Global Performance"),Object(M.jsx)("div",{className:"geo-zone-locations-templates-option-label-caption"},Object(M.jsx)("strong",null,"Provide excellent latency to the majority of the global population"),Object(M.jsx)("br",null),"(<80ms reads and writes from anywhere in the world)")))),Object(M.jsx)("div",{className:"geo-zone-locations-templates-footer"},Object(M.jsx)(I.a,{size:"xsmall",onClick:o},"Configure zones myself"),Object(M.jsx)("div",{className:"geo-zone-locations-templates-footer-caption"},"(Zone templates can still be accessed at any time)")))}Y.propTypes={provider:S.a.oneOf(["AWS","AZURE","GCP"]).isRequired,defaultTemplates:S.a.shape({AWS:S.a.shape(D.k),AZURE:S.a.shape(D.k),GCP:S.a.shape(D.k),FREE:S.a.shape(D.k)}).isRequired,setClusterFormValue:S.a.func.isRequired,hideOverlay:S.a.func.isRequired};var K=Y,Z=n(12),$=n(143),X=n(892);function J(e){var t=e.color;return Object(M.jsx)("div",{className:"geo-zone-map-legend"},Object(M.jsx)("div",{className:"geo-zone-map-legend-title"},"Approximate write latencyÂ ",Object(M.jsx)($.a,{content:X.e("For optimal write latency, application servers should be located in the same regions as your cluster's zones")},Object(M.jsx)("i",{className:"fa fa-info-circle geo-zone-map-legend-title-icon"}))),Object(M.jsx)("div",{className:"geo-zone-map-legend-items"},Object(M.jsx)("div",{className:"geo-zone-map-legend-items-label"},"Low"),Object(M.jsx)("div",{className:"geo-zone-map-legend-color-key",style:{borderColor:t}},Object(M.jsx)("div",{className:"geo-zone-map-legend-color geo-zone-map-legend-color-is-0",style:{backgroundColor:t,borderColor:t}}),Object(M.jsx)("div",{className:"geo-zone-map-legend-color geo-zone-map-legend-color-is-1",style:{backgroundColor:t,borderColor:t}}),Object(M.jsx)("div",{className:"geo-zone-map-legend-color geo-zone-map-legend-color-is-2",style:{backgroundColor:t,borderColor:t}}),Object(M.jsx)("div",{className:"geo-zone-map-legend-color geo-zone-map-legend-color-is-3",style:{backgroundColor:t,borderColor:t}})),Object(M.jsx)("div",{className:"geo-zone-map-legend-items-label"},"High")))}J.propTypes={color:S.a.string},J.defaultProps={color:"#FFFFFF"};var Q=J,ee=n(356),te=n(888);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe="Primary",ie="Secondary",ae="Read-only",se={outerBackground:{radius:16,fill:"rgba(255, 255, 255, 0.3)"},innerBackground:{radius:11,fill:"rgba(255, 255, 255, 0.45)"},innerShadow:{radius:8,isDropShadow:!0,fill:"url(#bubble-shadow-gradient)"},innerBorder:{radius:6,fill:"#fff"}},le={outerBackground:{radius:22,fill:"rgba(255, 255, 255, 0.3)"},innerBackground:{radius:18,fill:"rgba(255, 255, 255, 0.45)"},innerShadow:{radius:14,isDropShadow:!0,fill:"url(#bubble-shadow-gradient)"},innerBorder:{radius:12,fill:"#fff"}},ce={innerBackground:{radius:9,fill:"rgba(255, 255, 255, 0.45)"},innerShadow:{radius:6,isDropShadow:!0,fill:"url(#bubble-shadow-gradient)"},innerBorder:{radius:4,fill:"#fff"}},ue={innerBackground:{radius:9,fill:"rgba(255, 255, 255, 0.45)"},innerShadow:{radius:4,isDropShadow:!0,fill:"url(#bubble-shadow-gradient)"},innerBorder:{radius:2,fill:"#fff"}};function de(e){return e.map((function(e){return"".concat(e.zoneName,"_").concat(e.replicationSpecId,"_").concat(e.locationName,"_").concat(e.zoneIndex)}))}function pe(e){var t=N.a.groupBy(e,(function(e){return e.locationName}));return Object.keys(t).length}function fe(e,t,n){return e?"#42494c":t===ae?"#fff":D.y[D.z[n]].rgb}function he(e,t){if(e)return 11;switch(t){case oe:return 5;case ie:return 3;default:return 1}}function me(e,t,n){var r=1/n,o=[];return e.forEach((function(n,i){if(!n.collapsed){var a=n.zone.id,s=t&&t===a;if(n.regionType===oe||s){var l=[{latitude:n.latitude,longitude:n.longitude}],c=[{locationName:n.region.regionView.location,replicationSpecId:a,zoneIndex:n.zoneIndex,zoneName:n.zone.zoneName,regionType:n.regionType,numNodes:n.numNodes,emphasized:s}],u=n.x,d=n.y;e.forEach((function(e,o){var a=t&&t===e.zone.id;o===i||e.collapsed||e.regionType!==oe&&!a||Math.abs(d-e.y)<46*r&&Math.abs(u-e.x)<140*r&&(n.collapsed=!0,e.collapsed=!0,l.push({latitude:e.latitude,longitude:e.longitude}),c.push({locationName:e.region.regionView.location,replicationSpecId:e.zone.id,zoneIndex:e.zoneIndex,zoneName:e.zone.zoneName,regionType:e.regionType,numNodes:e.numNodes,emphasized:a}))}));var p=n.collapsed&&pe(c)>1,f=function(e,t){if(e)return le;switch(t){case oe:return se;case ie:return ce;default:return ue}}(p,n.regionType),h=function(e){if(1===e.length)return e[0];var t=[],n=Math.PI/180;e.forEach((function(e){var r=Math.cos(e.latitude*n);t.push({x:r*Math.cos(e.longitude*n),y:r*Math.sin(e.longitude*n),z:Math.sin(e.latitude*n)})}));var r=0,o=0,i=0;t.forEach((function(e){r+=e.x,o+=e.y,i+=e.z})),r/=t.length,o/=t.length,i/=t.length;var a=Math.sqrt(r*r+o*o);return{latitude:Math.atan2(i,a)*(1/n),longitude:Math.atan2(o,r)*(1/n)}}(l);Object.keys(f).forEach((function(e){var t=f[e];o.push({fill:t.fill,isBackground:!0,isDropShadow:t.isDropShadow,isLargestBackground:"outerBackground"===e,latitude:h.latitude,longitude:h.longitude,radius:t.radius*r,zones:c})})),o.push({fill:fe(p,n.regionType,c[0].zoneIndex),id:de(c),isBackground:!1,latitude:h.latitude,longitude:h.longitude,radius:he(p,n.regionType)*r,zones:c})}}})),o}function ge(e,t,n,r,o,i,a){e.select(".".concat("geo-zone-map-markers-group")).selectAll("*").remove();var s=me(function(e,t,n){var r=[];return t.forEach((function(t,o){n&&n!==t.id||Object.keys(t.regionsConfig).forEach((function(n){var i=t.regionsConfig[n],a=i.regionView,s=a.latitude,l=a.longitude,c=e([l,s]),u={latitude:s,longitude:l,region:t.regionsConfig[n],x:c[0],y:c[1],zone:t,zoneIndex:o};i.electableNodes>0&&r.push(re(re({},u),{},{numNodes:i.electableNodes,regionType:i.priority===B.a.MAX_PRIORITY?oe:ie})),i.readOnlyNodes>0&&r.push(re(re({},u),{},{numNodes:i.readOnlyNodes,regionType:ae}))}))})),r}(t,n,o),o,r),l=s.filter((function(e){return!e.isBackground})),c=e.select(".".concat("geo-zone-map-markers-group"));return s.forEach((function(e){var n=t([e.longitude,e.latitude]);e.x=n[0],e.y=n[1];var s=N.a.uniq(N.a.pluck(e.zones,"replicationSpecId")),u=e.zones.some((function(e){return e.regionType===oe}));c.append("circle").attr("class",_()("geo-zone-map-marker",O()({},"".concat("geo-zone-map-marker","-is-clickable"),a&&u&&1===pe(e.zones)&&(1!==l.length||o)))).attr("cx",n[0]).attr("cy",n[1]+(e.isDropShadow?1/r*1.5:0)).attr("r",e.radius).style("stroke","none").style("stroke-width",0).style("stroke-opacity",0).style("fill",e.fill).on("mousedown.intercept",(function(){a&&u&&1===e.zones.length&&(1!==l.length||o)&&te.event.stopPropagation()})).on("mouseup.emphasizeZone",(function(){a&&u&&1===e.zones.length&&(1!==l.length||o)?i(s[0]):te.event.stopPropagation()}))})),l}var be=n(1005),ve=10*Math.PI/180,ye=Object(be.line)().x((function(e){return e.x})).y((function(e){return e.y})).curve(be.curveBasis);function Oe(e){switch(e.regionType){case oe:return 16;case ie:case ae:return 9;default:return 22}}function xe(e,t,n,r){return{x:e.x+Math.cos(t)*n/r,y:e.y-Math.sin(t)*n/r}}function je(e,t){var n=(t.y-e.y)/(t.x-e.x);return{slope:n,yIntercept:e.y-n*e.x}}function Ee(e,t,n){e.select(".".concat("geo-zone-map-lines-group")).selectAll("*").remove();var r={};t.forEach((function(e){var t=function(e){var t={};return e.zones.forEach((function(e){var n=e.replicationSpecId;t[n]||(t[n]={},t[n].isPrimary=!1),e.regionType===oe&&(t[n].isPrimary=!0)})),1===e.zones.length&&(t[e.zones[0].replicationSpecId].regionType=e.zones[0].regionType),t}(e);Object.keys(t).forEach((function(n){var o=t[n].isPrimary,i={x:e.x,y:e.y,regionType:t[n].regionType};r[n]?o?r[n].unshift(i):r[n].push(i):(r[n]=[],r[n].push(i))}))}));var o=e.select(".".concat("geo-zone-map-lines-group"));Object.keys(r).forEach((function(e){!function(e,t,n){if(e.length>1){var r=e[0],o=Oe(r);e.slice(1,e.length).forEach((function(e){if(r.x!==e.x&&r.y!==e.y){var i,a,s=Oe(e),l=e.x-r.x,c=r.y-e.y,u=Math.atan2(c,l);l>0&&c>0?(i=u+ve,a=u+Math.PI-ve):l>0&&c<0?(i=u-ve,a=u-Math.PI+ve):l<0&&c<0?(i=u+ve,a=u-Math.PI-ve):l<0&&c>0&&(i=u-ve,a=u+Math.PI+ve);var d=xe(r,i,o,t),p=je(r,d),f=xe(e,a,s,t),h=je(e,f),m=(g=p,{x:v=((b=h).yIntercept-g.yIntercept)/(g.slope-b.slope),y:g.slope*v+g.yIntercept});n.append("path").attr("d",ye([d,m,f])).attr("stroke","#fff").attr("stroke-width",1/t).attr("stroke-dasharray","".concat(5/t,",").concat(2.5/t)).attr("stroke-opacity",.75).attr("fill","none").attr("class",_()("geo-zone-map-line"))}var g,b,v}))}}(r[e],n,o)}))}var Se=n(1314),Ce=n(1315),_e={OPTIMAL:[-1,1300],EXCELLENT:[1300,3500],ACCEPTABLE:[3500,7e3],NOT_OPTIMAL:[7e3]};function Ae(e,t){var n=Math.PI;return[3/(2*n)*e*Math.sqrt(Math.pow(n,2)/3-Math.pow(t,2)),t]}var Ne="geo-zone-map-zone-label";function Te(e){return e.replace(/\s+|\./g,"")}function we(e,t,n,r){var o='id="map-tspan-'.concat(e.replicationSpecId,"-").concat(Te(e.locationName),'"');return t&&(n||r)&&(o+=' class="'.concat(Ne,'-is-clickable" ')),o}function Pe(e,t){return e.regionType===oe||t.regionType===oe?oe:e.regionType===ie||t.regionType===ie?ie:ae}function Re(e,t,n,r,o,i,a,s,l){var c="".concat(12*s,"px"),u=""===a?0:15*s+(n&&o?7*s:0),d='<tspan x="'.concat(l,'" dy="').concat(u,'" class="geo-zone-map-zone-label-info ').concat(n&&r?"geo-zone-map-zone-label-name":"",'" style="font-size: ').concat(c,'">').concat(e.locationName,"</tspan>"),p="".concat(a).concat(d);if(e.emphasized&&i){var f="".concat(10*s,"px"),h=13*s,m='<tspan x="'.concat(l,'" dy="').concat(h,'" style="font-size: ').concat(f,'">').concat(function(e){var t=!1,n=!1,r=!1;e.forEach((function(e){switch(e.regionType){case oe:t=!0;break;case ie:n=!0;break;case ae:r=!0}}));var o="";return t&&(o+='<tspan class="geo-zone-map-zone-label-type-is-primary">'.concat(oe,"</tspan>")),n&&(o+="".concat(""===o?"":", ",'<tspan class="geo-zone-map-zone-label-type-is-secondary">').concat(ie,"</tspan>")),r&&(o+="".concat(""===o?"":", ",'<tspan class="geo-zone-map-zone-label-type-is-secondary">').concat(ae,"</tspan>")),o}(t),"</tspan>");p+="".concat(m)}return p}function Ie(e,t,n,r,o,i,a,s,l){return a?function(e,t,n,r,o,i,a,s){var l=o.some((function(e){return e.regionType===oe})),c="";if(l){var u="".concat(12*i,"px");c='<tspan class="geo-zone-map-zone-label-name" style="font-size: '.concat(u,'">').concat(n.zoneName,"</tspan>")}var d=Re(n,o,!0,l,a,s,c,i,e),p=t+28*r*i+7*r*i+(a&&!l?22*i:0);return'<tspan x="'.concat(e,'" y="').concat(p,'" ').concat(we(n,l,!0,s),">").concat(d,"</tspan>")}(e,t,n,r,o,i,s,l):function(e,t,n,r,o,i){var a="".concat(12*o,"px"),s=D.y[D.z[n.zoneIndex]].rgb,l='<tspan style="fill:'.concat(s,"; font-size:").concat(a,'">&#9679; </tspan>'),c='<tspan class="geo-zone-map-zone-label-name" style="font-size: '.concat(a,'">').concat(n.zoneName," - </tspan>"),u='<tspan class="geo-zone-map-zone-label-info" style="font-size: '.concat(a,'">').concat(n.locationName,"</tspan>"),d=t+15*r*o;return'<tspan x="'.concat(e,'" y="').concat(d,'" ').concat(we(n,n.regionType===oe,!1,i),">").concat(l).concat(c).concat(u,"</tspan>")}(e,t,n,r,i,l)}var De=function(){function e(){l()(this,e),O()(this,"labelDimensions",{})}return u()(e,[{key:"ensureLabelBackgroundDimensions",value:function(e,t){var n=document.getElementById("map-label-".concat(t)).getBoundingClientRect(),r=this.labelDimensions[e.id],o=r.height,i=r.width;o&&o===n.height||(r.height=n.height),i&&i===n.width||(r.width=n.width)}},{key:"measureNewLabel",value:function(e,t,n,r){var o=document.getElementById("map-label-".concat(e.markerIndex)).getBoundingClientRect(),i=this.labelDimensions[e.markerId];if(i.height=o.height,i.width=o.width,i.x+i.width>t&&i.x-16*r<t){var a=t-i.width-5*r;n.selectAll("#map-label-".concat(e.markerIndex," > *")).attr("x",a),n.selectAll("#map-label-".concat(e.markerIndex," > tspan > *")).attr("x",a),i.x=a}}},{key:"renderZoneLabels",value:function(e,t,n,r,o,i,a){var s=this;e.select(".".concat("geo-zone-map-zone-labels")).selectAll("*").remove();var l=1/n,c=e.attr("width")*l-r[0]*l,u=[];Object.prototype.hasOwnProperty.call(SVGElement.prototype,"innerHTML")||(Object.defineProperty(SVGElement.prototype,"innerHTML",{set:function(e){for(;this.firstChild;)this.removeChild(this.firstChild);try{var t=new DOMParser;t.async=!1;for(var n='<svg xmlns="http://www.w3.org/2000/svg">'.concat(e,"</svg>"),r=t.parseFromString(n,"text/xml").documentElement.firstChild;r;)this.appendChild(this.ownerDocument.importNode(r,!0)),r=r.nextSibling}catch(e){throw new Error("Error parsing XML string")}}}),Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(e){this.innerHTML=e}}));var d=t.length>1||1===t.length&&t[0].zones.length>1;t.forEach((function(t,n){var r="",p=t.x+16*l,f=t.y+24*l;if(s.labelDimensions[t.id]){var h=s.labelDimensions[t.id];p+h.width*l>c&&p-16*l<c&&(p=c-h.width*l-5*l)}else s.labelDimensions[t.id]={},u.push({markerId:t.id,markerIndex:n});s.labelDimensions[t.id].x=p,s.labelDimensions[t.id].y=f;var m,g=function(e){return N.a.groupBy(e.zones,(function(e){return e.locationName}))}(t),b=Object.keys(g);if(b.length>1){var v=b.some((function(e){return g[e].some((function(e){return e.regionType===oe}))}));if(function(e,t,n,r){e.select(".".concat("geo-zone-map-zone-labels")).append("text").attr("x",t.x-4*r).attr("y",t.y+4.5*r).attr("class",_()(Ne,"".concat(Ne,"-collapsed-text"))).style("font-size","".concat(14*r,"px")).text(n)}(e,t,b.length,l),o)(m=g,Object.keys(m).map((function(e){return[e,m[e]]})).sort((function(e,t){var n=1===e[1].length?e[1][0].regionType:e[1].reduce(Pe),r=1===t[1].length?t[1][0].regionType:t[1].reduce(Pe);return n!==r?n===oe?-1:r===oe?1:n===ie?-1:1:e[0].localeCompare(t[0])}))).forEach((function(e,t){r+=Ie(p,f,e[1][0],t,e[1],l,o,v,d)}));else b.forEach((function(e,t){var n=g[e];r+=Ie(p,f,n[0],t,n,l,o,v,d)}))}else{var y=t.zones[0],O=g[b[0]],x=O.some((function(e){return e.regionType===oe})),j="".concat(12*l,"px"),E="";o&&!x||(E='<tspan x="'.concat(p,'" dy="0" class="geo-zone-map-zone-label-name" style="font-size: ').concat(j,'">').concat(y.zoneName,"</tspan>")),r+=Re(y,O,o,x,!1,d,E,l,p),r="<tspan ".concat(we(y,x,o,d),">").concat(r,"</tspan>")}e.select(".".concat("geo-zone-map-zone-labels")).append("text").attr("x",p).attr("y",f).attr("class",_()(Ne)).attr("id","map-label-".concat(n)).html(r);var S=t.zones.some((function(e){return e.regionType===oe}));t.zones.length>1?t.zones.forEach((function(t){e.select("#map-tspan-".concat(t.replicationSpecId,"-").concat(Te(t.locationName))).on("mouseup",(function(){S&&(d||o)?a&&i(t.replicationSpecId):te.event.stopPropagation()}))})):e.select("#map-tspan-".concat(t.zones[0].replicationSpecId,"-").concat(Te(t.zones[0].locationName))).on("mouseup",(function(){S&&(d||o)?a&&i(t.zones[0].replicationSpecId):te.event.stopPropagation()})),s.ensureLabelBackgroundDimensions(t,n)})),u.forEach((function(t){return s.measureNewLabel(t,c,e,l)})),t.forEach((function(t){var n=s.labelDimensions[t.id],r=n.x,o=n.y,i=n.width,a=n.height;!function(e,t,n,r,o,i,a){e.select(".".concat("geo-zone-map-zone-labels")).insert("rect",":first-child").attr("x",n-5*a).attr("y",r-14*a).attr("rx",3*a).attr("ry",3*a).attr("width",o*a+10*a).attr("height",i*a+4*a).attr("class",_()("".concat(Ne,"-background")))}(e,0,r,o,i,a,l)}))}}]),e}(),ke=B.a.getReplicationSpecFromId;function Me(e,t){return"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(t,")")}var Le=N.a.object(N.a.flatten(N.a.map(D.z,(function(e){return[[e,D.y[e].rgb],["".concat(e,"-OPTIMAL"),Me(D.y[e],D.y[e].alphaOptimal||.75)],["".concat(e,"-EXCELLENT"),Me(D.y[e],D.y[e].alphaExcellent||.5)],["".concat(e,"-ACCEPTABLE"),Me(D.y[e],D.y[e].alphaAcceptable||.1)],["".concat(e,"-NOT_OPTIMAL"),"rgb(54,58,60)"]]})),!0)),Ue=function(){function e(){l()(this,e),O()(this,"projection",void 0)}return u()(e,[{key:"createAndRenderGeography",value:function(e,t,n,r,o){var i=o.offsetHeight,a=o.offsetWidth;Object(te.select)(o).selectAll("*").remove();var s=Object(te.select)(o).append("svg").attr("width",a).attr("height",i);this.mapSelector=s;var l=function(e,t){var n=Object(Ce.geoProjection)(Ae).scale((e+1)/1.6/Math.PI).translate([e/2.12,t/1.73]);return{path:Object(Ce.geoPath)().projection(n),projection:n}}(a,i);this.projection=l.projection;var c=s.append("g").attr("class","geo-zone-map-subunits"),u=Se.feature(n,n.objects.customWorld).features;return c.selectAll(".".concat("geo-zone-map-subunit")).data(u).enter().append("path").attr("d",l.path).style("vector-effect","non-scaling-stroke").each((function(e){var t=e.properties.ISO_3166_2?e.properties.ISO_3166_2:e.properties.ISO_A2;Object(te.select)(this).attr("class","".concat("geo-zone-map-subunit"," ").concat(t))})),s.append("g").attr("class","geo-zone-map-lines-group"),s.append("g").attr("class","geo-zone-map-markers-group"),s.append("g").attr("class","geo-zone-map-zone-labels"),Object(te.select)(o).append("div").attr("class","geo-zone-map-hover-tooltip").style("z-index",10001).style("position","absolute"),s}},{key:"getProjection",value:function(){return this.projection}},{key:"updateColoring",value:function(e,t,n,r,o,i){var a=N.a.object(N.a.map(n,(function(e,t){return[e.id,D.z[t]]}))),s=void 0!==document.documentElement.style.vectorEffect;this.mapSelector.selectAll(".".concat("geo-zone-map-subunit")).each((function(n){var r=n.properties.ISO_3166_2?n.properties.ISO_3166_2:n.properties.ISO_A2,o=Object(te.select)(this);if(e[r]){var s,l=e[r],c=(s=l.latency,N.a.findKey(_e,(function(e){return s>=e[0]&&(!e[1]||s<=e[1])}))),u=t[r],d=u&&t[r].length>1,p=d&&N.a.uniq(Object.values(t[r]).map((function(e){return e.replicationSpecId}))).length>1,f=a[l.replicationSpecId],h=d?"none":Le["".concat(f,"-").concat(c)],m=p?"#626668":Le[f],g=u?.65:.15,b=i&&i!==l.replicationSpecId;o.attr("fill",h).attr("fill-opacity",b?.3:1).attr("stroke-width",g).attr("stroke",m).attr("stroke-opacity",b?.3:1)}else o.remove()})).on("mouseover",(function(t){var i=Object(te.select)(this),a=t.properties.ISO_3166_2?t.properties.ISO_3166_2:t.properties.ISO_A2,l=1.3;s||(l*=1/o()),i.attr("data-previous-stroke-width",JSON.stringify(i.style("stroke-width"))).attr("stroke-width",l);var c=ke(n,e[a].replicationSpecId),u=c&&c.zoneName,d=e[a].readableName,p='<div class="geo-zone-map-hover-info"><strong>'.concat(d,"</strong><br />").concat(u,"</div>");i.on("mousemove",null),i.on("mousemove",(function(){var e=Object(te.mouse)(r);Object(te.select)(r).select(".".concat("geo-zone-map-hover-tooltip")).style("top","".concat(e[1]+20,"px")).style("left","".concat(e[0],"px")).html(p)})),Object(te.select)(r).select(".".concat("geo-zone-map-hover-tooltip")).style("display","block")})).on("mouseout",(function(){var e=Object(te.select)(this);e.attr("stroke-width",JSON.parse(e.attr("data-previous-stroke-width"))),e.on("mousemove",null),Object(te.select)(r).select(".".concat("geo-zone-map-hover-tooltip")).style("display","none")}))}}]),e}(),Fe=n(1317);var Be=function(){function e(){var t=this;l()(this,e),O()(this,"handleScroll",(function(){t.isScrolled=!0,t.updateZoom(te.event.transform)})),O()(this,"getScale",(function(){return t.currentScale})),O()(this,"getTranslation",(function(){return t.currentTranslation}))}return u()(e,[{key:"init",value:function(e,t,n,r){this.container=t,this.map=e,this.updateMapScale=n,this.scaleSet=function(){for(var e=[],t=Math.log(50),n=0;n<11;n++)e.push(Math.pow(Math.E,n*t*.1));return e}(),this.currentScaleIndex=0,this.currentScale=1,this.currentTranslation=[0,0],this.locationsByTypeOneIsoCode=r;var o=this.container.offsetWidth,i=this.container.offsetHeight;this.d3Zoom=Object(Fe.zoom)().scaleExtent([1,50]).translateExtent([[0,0],[o,i]]),this.map.call(this.d3Zoom.on("zoom",this.handleScroll)).on("dblclick.zoom",null)}},{key:"getNextZoomLevel",value:function(e){var t=this,n=this.scaleSet,r=this.currentScaleIndex;if(this.isScrolled){var o=Math.abs(n[0]-this.currentScale);N.a.each(n,(function(e,n){var i=Math.abs(e-t.currentScale);i<o&&(r=n,o=i)})),this.isScrolled=!1}if("ZOOM_OUT"===e)r=Math.max(0,r-1);else{var i=n.length-1;r=Math.min(i,r+1)}return this.currentScaleIndex=r,n[r]}},{key:"updateZoom",value:function(e){var t=this;this.currentScale=e.k;var n=[e.x,e.y];this.currentTranslation=n,void 0===document.documentElement.style.vectorEffect&&this.map.selectAll(".".concat("geo-zone-map-subunit")).style("stroke-width",(function(n){var r=n.properties.ISO_3166_2?n.properties.ISO_3166_2:n.properties.ISO_A2;return(t.locationsByTypeOneIsoCode[r]?.65:.15)*(1/e.k)})),window.chrome?this.map.selectAll(".".concat("geo-zone-map-subunit")).attr("transform","translate(".concat(n,") scale(").concat(e.k,")")):this.map.select(".".concat("geo-zone-map-subunits")).attr("transform","translate(".concat(n,") scale(").concat(e.k,")")),this.map.selectAll("g:not(.".concat("geo-zone-map-subunits",")")).attr("transform","translate(".concat(n,") scale(").concat(e.k,")"));var r=Math.round(Math.log(e.k)/Math.log(50)*100);this.updateMapScale(r)}},{key:"zoomInClicked",value:function(){var e=this.getNextZoomLevel("ZOOM_IN");this.d3Zoom.scaleTo(this.map,e)}},{key:"zoomOutClicked",value:function(){var e=this.getNextZoomLevel("ZOOM_OUT");this.d3Zoom.scaleTo(this.map,e)}}]),e}();function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}function Ve(){return Object(M.jsx)("svg",{className:"geo-zone-map-svg-guide"},Object(M.jsx)("defs",null,Object(M.jsx)("filter",{id:"bubble-shadow",x:"-50%",y:"-50%",width:"200%",height:"200%"},Object(M.jsx)("feDropShadow",{dx:"0",dy:"2",stdDeviation:"2",floodColor:"#000",floodOpacity:"0.5"})),Object(M.jsx)("radialGradient",{id:"bubble-shadow-gradient"},Object(M.jsx)("stop",{stopOpacity:"0.6",offset:"10%",stopColor:"rgba(0, 0, 0)"}),Object(M.jsx)("stop",{stopOpacity:"0",offset:"95%",stopColor:"rgba(0, 0, 0)"}))))}var qe=function(e){h()(n,e);var t=ze(n);function n(e){var r;return l()(this,n),r=t.call(this,e),O()(p()(r),"onMapMouseDown",(function(){r.clickStartTime=Date.now()})),O()(p()(r),"onMapMouseUp",(function(){Date.now()-r.clickStartTime<250&&r.map&&r.emphasizedZone&&r.emphasizeZone(null)})),O()(p()(r),"emphasizeZone",(function(e){e===r.emphasizedZone?r.emphasizedZone=null:r.emphasizedZone=e,r.updateMap(),r.updateMapColoring()})),O()(p()(r),"updateZoomPercentage",(function(e){r.updateMap(),r.setState({zoomPercentage:e})})),O()(p()(r),"updateMapColoring",(function(){var e=r.props,t=e.locationMapping,n=e.replicationSpecs;r.setState({isMapLoading:!0});var o=G(t);r.mapGeography.updateColoring(t,o,n,r.mapContainerRef.current,r.zoom.getScale,r.emphasizedZone),r.setState({isMapLoading:!1})})),O()(p()(r),"updateMap",(function(){var e=r.props,t=e.mapTopology,n=e.replicationSpecs,o=e.isMapInteractive;if(!N.a.isEmpty(t)&&r.mapContainerRef.current){r.map||r.createMap();var i=r.zoom.getScale(),a=r.zoom.getTranslation(),s=ge(r.map,r.mapProjection,n,i,r.emphasizedZone,r.emphasizeZone,o);r.zoneLabels.renderZoneLabels(r.map,s,i,a,r.emphasizedZone,r.emphasizeZone,o),Ee(r.map,s,i)}})),r.map=null,r.mapContainerRef=j.a.createRef(),r.mapGeography=new Ue,r.zoneLabels=new De,r.zoom=new Be,r.state={isMapLoading:!0,zoomPercentage:0},r}return u()(n,[{key:"componentDidMount",value:function(){N.a.isEmpty(this.props.mapTopology)?this.props.loadTopology():this.updateMap()}},{key:"componentDidUpdate",value:function(e){!this.map||N.a.isEqual(e.replicationSpecs,this.props.replicationSpecs)&&N.a.isEqual(e.locationMapping,this.props.locationMapping)||this.updateMapColoring(),N.a.isEqual(e,this.props)||this.updateMap()}},{key:"createMap",value:function(){var e=this.props,t=e.locationMapping,n=e.mapTopology,r=e.replicationSpecs,o=G(t);this.map=this.mapGeography.createAndRenderGeography(t,o,n,r,this.mapContainerRef.current,this.emphasizedZone),this.mapProjection=this.mapGeography.getProjection(),this.zoom.init(this.map,this.mapContainerRef.current,this.updateZoomPercentage,o),this.updateMapColoring()}},{key:"retryLoad",value:function(){this.props.loadTopology()}},{key:"renderMapZoomControls",value:function(){var e=this,t=this.state.zoomPercentage;return Object(M.jsx)("div",{className:"geo-zone-map-zoom"},Object(M.jsx)(I.a,{className:"geo-zone-map-zoom-button",onClick:function(){return e.zoom.zoomOutClicked()}},Object(M.jsx)("i",{className:"fa fa-minus"})),Object(M.jsx)("div",{className:"geo-zone-map-zoom-text"},t,"%"),Object(M.jsx)(I.a,{className:"geo-zone-map-zoom-button",onClick:function(){return e.zoom.zoomInClicked()}},Object(M.jsx)("i",{className:"fa fa-plus"})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.errorLoadingTopology,r=t.topologyIsLoading,o=t.replicationSpecs,i=this.state.isMapLoading,a=!n&&(i||r),s=!n&&!i&&!r,l=D.y[D.z[0]].rgb;return Object(M.jsx)("div",{className:"geo-zone-map-container"},n&&Object(M.jsx)("div",{className:"geo-zone-map-loader-error"},"There was an error loading the cluster map.",Object(M.jsx)(P.a,{className:"geo-zone-map-loader-error-retry",isLink:!0,onClick:function(){return e.retryLoad()}},"Retry")),a&&Object(M.jsx)("div",{className:"geo-zone-map-loader"},Object(M.jsx)(w.a,{isLoading:i})),Ve(),Object(M.jsx)("div",{className:"geo-zone-map-body ".concat(i?"geo-zone-map-body-is-loading":""),onMouseDown:this.onMapMouseDown,onMouseUp:this.onMapMouseUp,role:"presentation",ref:this.mapContainerRef}),s&&this.renderMapZoomControls(),s&&Object(M.jsx)(Q,{color:1===o.length?l:"#FFFFFF"}))}}]),n}(j.a.Component);O()(qe,"propTypes",{errorLoadingTopology:S.a.bool,locationMapping:D.q.isRequired,loadTopology:S.a.func,mapTopology:S.a.shape({type:S.a.string,objects:S.a.object,arcs:S.a.array}),replicationSpecs:S.a.arrayOf(S.a.shape(D.x)).isRequired,topologyIsLoading:S.a.bool,isMapInteractive:S.a.bool}),O()(qe,"defaultProps",{errorLoadingTopology:!1,loadTopology:function(){},mapTopology:{},topologyIsLoading:!0,isMapInteractive:!0});var Ge=Object(Z.connect)((function(e){return{errorLoadingTopology:ee.b(e),mapTopology:ee.d(e),topologyIsLoading:ee.c(e)}}),{loadTopology:ee.e})(qe);function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var We=function(e){h()(n,e);var t=He(n);function n(){var e;l()(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),O()(p()(e),"state",{locationMapping:null,isMappingLoading:!0,showTemplatesOverlay:!e.props.isEdit&&e.props.showTemplates,tab:"TAB_MAP",query:""}),O()(p()(e),"updateLocationMapping",a()(o.a.mark((function t(){var n,r,i,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.groupId,i=n.replicationSpecs,a=n.geoSharding,e.setState({isMappingLoading:!0}),t.next=4,T.m.clusterDescriptions.getLocationMapping(r,i,a.customZoneMapping);case 4:s=t.sent,e.setState({isMappingLoading:!1,locationMapping:s});case 6:case"end":return t.stop()}}),t)})))),e}return u()(n,[{key:"componentDidMount",value:function(){this.updateLocationMapping()}},{key:"componentDidUpdate",value:function(e){B.a.arePreferredRegionsAndZoneNamesEqual(e.replicationSpecs,this.props.replicationSpecs)&&N.a.isEqual(e.geoSharding,this.props.geoSharding)||(this.updateLocationMapping(),this.setShowTemplatesOverlay(!1));var t=this.props.isMapInteractive&&!e.isMapInteractive,n=this.props.provider!=e.provider;(t||n&&!e.isEdit&&this.state.showTemplatesOverlay)&&this.setShowTemplatesOverlay(!0)}},{key:"setShowTemplatesOverlay",value:function(e){var t={showTemplatesOverlay:e};!0===e&&"TAB_MAP"!==this.state.tab&&(t.tab="TAB_MAP"),this.setState(t)}},{key:"setTab",value:function(e){this.setState({tab:e,query:""})}},{key:"updateQuery",value:function(e){this.setState({query:e})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.replicationSpecs,o=n.geoSharding,i=n.isEdit,a=n.provider,s=n.defaultTemplates,l=n.setClusterFormValue,c=n.isInDataExplorer,u=n.isMapInteractive,d=this.state,p=d.isMappingLoading,f=d.locationMapping,h=d.tab,m=d.showTemplatesOverlay,g=d.query,b=!!f,v=!c&&u&&m;return e=c?"TAB_TABLE":u?h:"TAB_MAP",Object(M.jsx)("div",{className:_()("geo-zone-locations",{"geo-zone-locations-is-thinner":c})},Object(M.jsx)(U,{geoSharding:o,setClusterFormValue:l,setTab:function(e){return t.setTab(e)},updateQuery:function(e){return t.updateQuery(e)},tab:e,showTemplates:function(){t.setState({showTemplatesOverlay:!0})},templateOverlayShown:v,hideNavigation:c||!u,isMapInteractive:u}),Object(M.jsx)("div",{className:_()("geo-zone-locations-content",{"geo-zone-locations-content-table":"TAB_TABLE"===e})},v&&Object(M.jsx)(K,{isEdit:i,provider:a,defaultTemplates:s,setClusterFormValue:l,hideOverlay:function(){t.setState({showTemplatesOverlay:!1})}}),"TAB_MAP"===e&&Object(M.jsx)(j.a.Fragment,null,p?Object(M.jsx)("div",{className:"geo-zone-locations-loading"},Object(M.jsx)(w.a,{isLoading:!0})):Object(M.jsx)(Ge,{locationMapping:f,replicationSpecs:r,isMapInteractive:u})),"TAB_TABLE"===e&&Object(M.jsx)(j.a.Fragment,null,b?Object(M.jsx)(W,{locationMapping:f,replicationSpecs:r,geoSharding:o,allowZoneEdit:!c,setClusterFormValue:l,query:g}):Object(M.jsx)("div",{className:"geo-zone-locations-loading"},Object(M.jsx)(w.a,{isLoading:!0})))))}}]),n}(j.a.Component);O()(We,"propTypes",{groupId:S.a.string.isRequired,replicationSpecs:S.a.arrayOf(S.a.shape(D.x)).isRequired,geoSharding:S.a.shape(D.n).isRequired,setClusterFormValue:S.a.func,defaultTemplates:S.a.shape({AWS:S.a.shape(D.k),AZURE:S.a.shape(D.k),GCP:S.a.shape(D.k),FREE:S.a.shape(D.k)}),provider:S.a.oneOf(["AWS","AZURE","GCP"]),isEdit:S.a.bool.isRequired,isInDataExplorer:S.a.bool,isMapInteractive:S.a.bool,showTemplates:S.a.bool}),O()(We,"defaultProps",{setClusterFormValue:null,defaultTemplates:null,provider:null,isInDataExplorer:!1,isMapInteractive:!0,showTemplates:!0});t.a=We},1544:
/*!**********************************************************************!*\
  !*** ./organization/components/MlabAccount/MlabUtils.js + 2 modules ***!
  \**********************************************************************/
/*! exports provided: sanitizeNameToAscii, sanitizeProviderLabel, isValidProjectName, isValidDatabaseName, getSupportPlanDescription, isSupportPlanTabVisible */
/*! exports used: isSupportPlanTabVisible */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/numeral/numeral.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(1027);var r=["NDS_PRO","NDS_ENTERPRISE","NDS_PLATINUM"],o=function(e,t,n){return!!n&&!!n.name&&e&&!function(e){return r.includes(e)}(t)&&!(n.atlasSupportPlanInfo&&n.atlasSupportPlanInfo.noAtlasSupportPlanTab)}},1545:
/*!****************************************************************************************************!*\
  !*** ./project/nds/clusters/components/CloudProviderSelector/CloudProviderSelector.js + 2 modules ***!
  \****************************************************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@emotion/core/dist/core.browser.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Tooltip.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/components/CloudProviderSelector/schema.js because of ./project/nds/clusters/components/NDSClusterForm/NDSClusterFormController.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/util/clusterEditorUtils.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n(8);var r=n(3),o=n.n(r),i=n(143),a=n(22),s=n.n(a),l=n(941),c=n(1);function u(e){var t=e.provider,n=e.image,r=e.isChecked,o=e.isDisabled,i=e.onClick;return Object(c.jsx)("div",{className:"cloud-provider-selector-option-group"},Object(c.jsx)("label",{className:s()("rich-radio cloud-provider-selector-option",{"rich-radio-is-checked":r,"rich-radio-is-disabled rich-radio-is-disabled-not-allowed":o,"cloud-provider-selector-option-group-label-is-disabled":o}),htmlFor:t},Object(c.jsx)("input",{className:"rich-radio-radio-button rich-radio-radio-button-is-hidden",id:t,value:t,type:"radio",onChange:i,disabled:o,checked:r}),n))}u.propTypes={provider:o.a.oneOf(Object.values(l.a)).isRequired,image:o.a.node.isRequired,isChecked:o.a.bool.isRequired,isDisabled:o.a.bool,onClick:o.a.func.isRequired},u.defaultProps={isDisabled:!1};var d=u;function p(e){var t=e.provider,n=e.isDisabled;switch(t){case l.a.AWS:return Object(c.jsx)("img",{src:"/static/images/aws_logo_nds_cluster_form.png",alt:"AWS logo",style:{height:"38px"},className:s()("cloud-provider-selector-logo",{"cloud-provider-selector-logo-is-disabled":n})});case l.a.AZURE:return Object(c.jsx)("img",{src:"/static/images/azure_logo_nds_cluster_form.png",alt:"Azure logo",style:{height:"34px"},className:s()("cloud-provider-selector-logo",{"cloud-provider-selector-logo-is-disabled":n})});case l.a.GCP:return Object(c.jsx)("img",{src:"/static/images/gcp_logo_nds_cluster_form.png",alt:"GCP logo",style:{height:"34px"},className:s()("cloud-provider-selector-logo",{"cloud-provider-selector-logo-is-disabled":n})});default:return null}}p.propTypes={provider:o.a.oneOf(Object.values(l.a)).isRequired,isDisabled:o.a.bool},p.defaultProps={isDisabled:!1};var f=p,h=n(892);function m(e){var t=e.onChangeProvider,n=e.providers,r=e.selectedProvider;return Object(c.jsx)("div",{className:"cloud-provider-selector"},n.map((function(e){var n=r===e.name,o=e.disabled&&!n,a=Object(c.jsx)(d,{key:e.name,provider:e.name,onClick:function(e){return t(e.target.value)},isDisabled:o,isChecked:n,image:Object(c.jsx)(f,{provider:e.name,isDisabled:o})});return o?Object(c.jsx)(i.a,{key:"".concat(e.name,"-tooltip"),content:Object(h.e)(e.disabledReason)},a):a})))}m.propTypes={onChangeProvider:o.a.func.isRequired,providers:o.a.arrayOf(o.a.shape({name:o.a.oneOf(Object.values(l.a)),disabled:o.a.bool.isRequired,disabledReason:o.a.string})).isRequired,selectedProvider:o.a.oneOf(Object.values(l.a)).isRequired};t.a=m},1547:
/*!**********************************************************************!*\
  !*** ./project/nds/security/services/auditLogService.js + 1 modules ***!
  \**********************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/jqueryErrorHandler.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/backbone/backbone.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/jquery/dist/jquery-exposed.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(10),o=n.n(r),i=n(7),a=n.n(i).a.Model.extend({defaults:function(){return{enabled:!1,auditFilter:null,auditAuthorizationSuccess:!1,configurationType:a.CONFIGURATION_TYPE.NONE}},isEnabled:function(){return this.get("enabled")}},{CONFIGURATION_TYPE:{NONE:"NONE",FILTER_BUILDER:"FILTER_BUILDER",FILTER_JSON:"FILTER_JSON"}}),s=a,l=n(46);t.a={getAuditLog:function(e){return o.a.ajax({url:"/nds/".concat(e,"/auditLog"),method:"GET"}).then((function(e){return new s(e,{parse:!0})}),l.a)}}},1548:
/*!*************************************************************************************!*\
  !*** ./project/nds/clusters/services/clusterDetailCollectionService.js + 1 modules ***!
  \*************************************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/services/deploymentService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/services/groupStatusService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/services/openAlertsService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/models/ClusterDescription.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/models/ClusterDetail.js because of ./project/nds/clusters/router.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/services/capacityWarningService.js because of ./project/nds/clusters/router.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/services/clusterDescriptionService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/services/liveImportService.js because of ./project/nds/clusters/router.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/services/encryptionAtRestService.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/backbone/backbone.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/jquery/dist/jquery-exposed.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(10),o=n.n(r),i=n(7),a=n.n(i),s=n(298),l=n(204),c=n(175),u=n(125),d=n(1172),p=n(1001),f=n(1162),h=n(1111),m=n(206),g=a.a.Collection.extend({comparator:"id",getClusterDescriptions:function(){return this.clusterDescriptions},updateWithClusterDescriptions:function(e){var t=this;this.clusterDescriptions=e;var n=[];this.forEach((function(t){e.get(t.id)||n.push(t)})),this.remove(n),e.forEach((function(e){t.updateWithClusterDescription(e)})),this.trigger("update")},updateWithClusterDescription:function(e){var t=this.get(e.id);t?t.getClusterDescription().set(e.attributes):this.add(h.a.fromClusterDescription(e))},updateWithOpenAlerts:function(e){this.forEach((function(t){t.updateWithOpenAlerts(e)}))},updateWithCapacityWarnings:function(e){this.forEach((function(t){t.updateWithCapacityWarnings(e)}))},updateWithCurrentDeployment:function(e){this.forEach((function(t){var n=t.getClusterDescription();t.setDerivedBiConnectorState(n,e);var r=m.a.getDeploymentItemForClusterDescription(n,e);r&&t.setDeploymentItem(r)}))},updateWithLiveImports:function(e){this.forEach((function(t){t.updateWithLiveImport(e)}))},updateWithEncryptionAtRest:function(e){this.forEach((function(t){return t.updateWithEncryptionAtRest(e)}))},getInvalidEncryptionAtRestClusterDescriptions:function(){var e=this.getClusterDescriptions();return e&&e.where({encryptionAtRestValid:!1})||[]},hasRunLiveImportsBefore:function(){return this.some((function(e){return e.getLiveImport().isRunning()||e.getLiveImport().isCompleted()||e.getLiveImport().isFailed()}))},getClusterDetailByDeploymentItemId:function(e){return this.reduce((function(t,n){var r=n.getDeploymentItem().get("state").get("clusterId");return t||(r===e?n:null)}),null)}},{fromClusterDescriptions:function(e){var t=new g;return t.updateWithClusterDescriptions(e),t}}),b=g;t.a={createCollection:function(e){var t=s.a.reloadClusterDescriptions(e),n=l.a.loadDeployment({},e);return o.a.when(t,n).then((function(e){var t=b.fromClusterDescriptions(e);return function(e,t){var n=l.a.getDeployment(t);e.updateWithCurrentDeployment(n);var r=c.a.getEventSource(t);e.updateWithOpenAlerts(r);var o=d.a.getCapacityWarnings(t);e.updateWithCapacityWarnings(o);var i=p.a.getLiveImports(t);e.updateWithLiveImports(i);var a=f.a.getEncryptionAtRest(t);e.updateWithEncryptionAtRest(a)}(t),t}))},createClusterDetailCollectionPoller:function(e,t){var n=u.a.getGroupStatus(t),r=l.a.createCurrentDeploymentPoller(t),o=function(){return s.a.reloadClusterDescriptions(t)};return{start:function(){!function(e,t){var n=s.a.getClusterDescriptions(t);e.listenTo(n,"sync",(function(t){t instanceof a.a.Collection&&e.updateWithClusterDescriptions(t)}));var r=l.a.getDeployment(t);e.listenTo(r,"sync",e.updateWithCurrentDeployment);var o=c.a.getEventSource(t);e.listenTo(o,"sync",e.updateWithOpenAlerts);var i=d.a.getCapacityWarnings(t);e.listenTo(i,"sync",e.updateWithCapacityWarnings);var u=p.a.getLiveImports(t);e.listenTo(u,"sync",(function(){e.updateWithLiveImports(u)}));var h=f.a.getEncryptionAtRest(t);e.listenTo(h,"sync",(function(){e.updateWithEncryptionAtRest(h)}))}(e,t),n.on("sync",o),r.start(3e4),d.a.startPolling(t),f.a.startPolling(t)},stop:function(){e.stopListening(),n.off("sync",o),r.stop(t),d.a.stopPolling(t),f.a.stopPolling(t)},getCollection:function(){return e}}}}},1552:
/*!*************************************************************!*\
  !*** ./project/nds/clusters/views/clusterReapingStatus.hbs ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isExpiring"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:4},end:{line:13,column:12}}}))?i:""},2:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"timeRemaining"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:3,column:8},end:{line:12,column:15}}}))?i:""},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <span class="bubble-text bubble-text-is-dark">Reaping in:\n                '+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?a(t,"timeRemaining"):t)?a(i,"days"):i,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:5,column:16},end:{line:8,column:23}}}))?i:"")+"            </span>\n"},4:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression(e.lambda(null!=(i=null!=t?a(t,"timeRemaining"):t)?a(i,"days"):i,t))+" day(s)\n                "},6:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?a(t,"timeRemaining"):t)?a(i,"hours"):i,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o,loc:{start:{line:6,column:16},end:{line:8,column:16}}}))?i:""},7:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression(e.lambda(null!=(i=null!=t?a(t,"timeRemaining"):t)?a(i,"hours"):i,t))+" hour(s)\n                "},9:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression(e.lambda(null!=(i=null!=t?a(t,"timeRemaining"):t)?a(i,"minutes"):i,t))+" minute(s)\n                "},11:function(e,t,n,r,o){return'            <span class="bubble-text bubble-text-is-dark">Reaping in progress</span>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"unless").call(null!=t?t:e.nullContext||{},null!=(i=null!=t?a(t,"state"):t)?a(i,"isCreating"):i,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:14,column:11}}}))?i:""},useData:!0})},1553:
/*!***********************************************************!*\
  !*** ./project/nds/clusters/views/clusterOptionsMenu.hbs ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="js-options-menu" />\n'},useData:!0})},1554:
/*!*********************************************************!*\
  !*** ./project/nds/clusters/views/clusterChildList.hbs ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'     <li class="cluster-region">\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"name"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:8},end:{line:6,column:15}}}))?i:"")+'        <ul class="cluster-child-node-list">\n'+(null!=(i=s(n,"each").call(a,null!=t?s(t,"members"):t,{name:"each",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:8},end:{line:38,column:17}}}))?i:"")+"        </ul>\n    </li>\n"},2:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <span class="cluster-region-label">Region</span>\n            <span class="cluster-region-value">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"name")||(null!=t?a(t,"name"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:o,loc:{start:{line:5,column:47},end:{line:5,column:55}}}):i)+"</span>\n"},4:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isDeploying"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:9,column:12},end:{line:37,column:19}}}))?i:""},5:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <li class="cluster-child cluster-child-is-deploying">\n                    <i class="mms-icon-wrench cluster-child-status-icon"></i>\n                    <span class="cluster-child-name">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"name")||(null!=t?a(t,"name"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:o,loc:{start:{line:12,column:53},end:{line:12,column:61}}}):i)+"</span>\n                </li>\n"},7:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isMonitoringPaused"):t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:14,column:12},end:{line:37,column:12}}}))?i:""},8:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <li class="cluster-child cluster-child-is-paused">\n                    <i class="mms-icon-paused cluster-child-status-icon"></i>\n                    <span class="cluster-child-name"><a href="'+c("function"==typeof(a=null!=(a=u(n,"metricsUrl")||(null!=t?u(t,"metricsUrl"):t))?a:l)?a.call(s,{name:"metricsUrl",hash:{},data:o,loc:{start:{line:17,column:62},end:{line:17,column:76}}}):a)+'">'+c("function"==typeof(a=null!=(a=u(n,"name")||(null!=t?u(t,"name"):t))?a:l)?a.call(s,{name:"name",hash:{},data:o,loc:{start:{line:17,column:78},end:{line:17,column:86}}}):a)+"</a></span>\n                    "+(null!=(i=u(n,"if").call(s,null!=t?u(t,"replicaState"):t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:18,column:20},end:{line:18,column:122}}}))?i:"")+"\n                </li>\n"},9:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="cluster-child-status-text bubble-text">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"replicaState")||(null!=t?a(t,"replicaState"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"replicaState",hash:{},data:o,loc:{start:{line:18,column:92},end:{line:18,column:108}}}):i)+"</span>"},11:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isUnavailable"):t,{name:"if",hash:{},fn:e.program(12,o,0),inverse:e.program(14,o,0),data:o,loc:{start:{line:20,column:12},end:{line:37,column:12}}}))?i:""},12:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <li class="cluster-child cluster-child-is-unavailable">\n                    <i class="mms-icon-remove cluster-child-status-icon"></i>\n                    <span class="cluster-child-name"><a href="'+l("function"==typeof(i=null!=(i=c(n,"metricsUrl")||(null!=t?c(t,"metricsUrl"):t))?i:s)?i.call(a,{name:"metricsUrl",hash:{},data:o,loc:{start:{line:23,column:62},end:{line:23,column:76}}}):i)+'">'+l("function"==typeof(i=null!=(i=c(n,"name")||(null!=t?c(t,"name"):t))?i:s)?i.call(a,{name:"name",hash:{},data:o,loc:{start:{line:23,column:78},end:{line:23,column:86}}}):i)+"</a></span>\n                </li>\n"},14:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isDegraded"):t,{name:"if",hash:{},fn:e.program(15,o,0),inverse:e.program(17,o,0),data:o,loc:{start:{line:25,column:12},end:{line:37,column:12}}}))?i:""},15:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <li class="cluster-child cluster-child-is-degraded">\n                    <i class="fa fa-exclamation-triangle cluster-child-status-icon"></i>\n                    <span class="cluster-child-name"><a href="'+c("function"==typeof(a=null!=(a=u(n,"metricsUrl")||(null!=t?u(t,"metricsUrl"):t))?a:l)?a.call(s,{name:"metricsUrl",hash:{},data:o,loc:{start:{line:28,column:62},end:{line:28,column:76}}}):a)+'">'+c("function"==typeof(a=null!=(a=u(n,"name")||(null!=t?u(t,"name"):t))?a:l)?a.call(s,{name:"name",hash:{},data:o,loc:{start:{line:28,column:78},end:{line:28,column:86}}}):a)+"</a></span>\n                    "+(null!=(i=u(n,"if").call(s,null!=t?u(t,"replicaState"):t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:29,column:20},end:{line:29,column:122}}}))?i:"")+"\n                </li>\n"},17:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <li class="cluster-child">\n                    <i class="fa fa-circle cluster-child-status-icon"></i>\n                    <span class="cluster-child-name"><a href="'+c("function"==typeof(a=null!=(a=u(n,"metricsUrl")||(null!=t?u(t,"metricsUrl"):t))?a:l)?a.call(s,{name:"metricsUrl",hash:{},data:o,loc:{start:{line:34,column:62},end:{line:34,column:76}}}):a)+'">'+c("function"==typeof(a=null!=(a=u(n,"name")||(null!=t?u(t,"name"):t))?a:l)?a.call(s,{name:"name",hash:{},data:o,loc:{start:{line:34,column:78},end:{line:34,column:86}}}):a)+"</a></span>\n                    "+(null!=(i=u(n,"if").call(s,null!=t?u(t,"replicaState"):t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:35,column:20},end:{line:35,column:122}}}))?i:"")+"\n                </li>\n            "},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"childList"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:41,column:9}}}))?i:""},useData:!0})},1563:
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/react-transition-group/cjs/config.js ***!
  \***********************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default={disabled:!1},e.exports=t.default},1564:
/*!********************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/react-transition-group/cjs/utils/PropTypes.js ***!
  \********************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(/*! prop-types */3))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},1565:
/*!********************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/react-transition-group/cjs/TransitionGroup.js ***!
  \********************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;a(n(/*! prop-types */3));var r=a(n(/*! react */8)),o=a(n(/*! ./TransitionGroupContext */1322)),i=n(/*! ./utils/ChildMapping */1997);function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},c=function(e){var t,n;function a(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=a.prototype;return c.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},c.componentWillUnmount=function(){this.mounted=!1},a.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,i.getInitialChildMapping)(e,r):(0,i.getNextChildMapping)(e,n,r),firstRender:!1}},c.handleExited=function(e,t){var n=(0,i.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=s({},t.children);return delete n[e.key],{children:n}})))},c.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["component","childFactory"]),a=this.state.contextValue,s=l(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r.default.createElement(o.default.Provider,{value:a},s):r.default.createElement(o.default.Provider,{value:a},r.default.createElement(t,i,s))},a}(r.default.Component);c.propTypes={},c.defaultProps={component:"div",childFactory:function(e){return e}};var u=c;t.default=u,e.exports=t.default},1566:
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/lib/dist/index.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isComponentType=function(e,t){return null!=e&&"object"===s(e)&&"type"in e&&e.type.displayName===t},t.createDataProp=function(e){return{prop:a({},"data-leafygreen-ui",e),selector:"[".concat("data-leafygreen-ui",'="').concat(e,'"]')}},Object.defineProperty(t,"IdAllocator",{enumerable:!0,get:function(){return o.default}}),t.typeIs=t.AriaCurrentValue=t.keyMap=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(n(2));function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.typeIs=i,t.keyMap={ArrowUp:38,ArrowDown:40,ArrowLeft:37,ArrowRight:39,Enter:13,Escape:27,Space:32,Tab:9},t.AriaCurrentValue={Page:"page",Step:"step",Location:"location",Date:"date",Time:"time",True:"true",Unset:"false"}},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"value",0),a(this,"prefix",void 0),this.prefix=t}var t,n,o;return t=e,o=[{key:"create",value:function(t){var n,r=null!==(n=this.registry.get(t))&&void 0!==n?n:new e(t);return e.registry.set(t,r),r}},{key:"snapshot",value:function(){var e={};return this.registry.forEach((function(t){e[t.prefix]=t.value})),e}},{key:"restore",value:function(e){var t=this;this.registry.forEach((function(t){e&&t.prefix in e||(t.value=0)})),e&&Object.entries(e).forEach((function(e){var n,o=r(e,2),i=o[0],a=o[1];(null!==(n=t.registry.get(i))&&void 0!==n?n:t.create(i)).value=a}))}}],(n=[{key:"generate",value:function(){return"".concat(this.prefix,"-").concat(this.value++)}}])&&i(t.prototype,n),o&&i(t,o),e}();t.default=s,a(s,"registry",new Map)},function(e,t,n){"use strict";function r(e){return null!=e&&e.nodeType===Node.ELEMENT_NODE}Object.defineProperty(t,"__esModule",{value:!0}),t.element=r,t.button=function(e){return r(e)&&"button"===e.tagName.toLowerCase()},t.input=function(e){return r(e)&&"input"===e.tagName.toLowerCase()},t.array=function(e){return null!=e&&e instanceof Array}}])},1914:
/*!*******************************************************!*\
  !*** ./project/nds/clusters/views/clustersHeader.hbs ***!
  \*******************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <a name="buildCluster" href='+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"href")||(null!=t?l(t,"href"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"href",hash:{},data:o,loc:{start:{line:8,column:44},end:{line:8,column:52}}}):a)+' class="button button-is-primary js-create-new-cluster" '+(null!=(i=l(n,"if").call(s,null!=t?l(t,"isEmpty"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:108},end:{line:8,column:136}}}))?i:"")+">\n                  Create a New Cluster\n                </a>\n"},2:function(e,t,n,r,o){return"hidden"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},c='<div class="js-support-ad-window-region"></div>\n'+(null!=(i=e.invokePartial(l(r,"breadcrumbs"),t,{name:"breadcrumbs",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+'<header class="section-header section-header-has-tabs">\n    <h1 class="section-header-title">\n        <span class="section-header-title-text">Clusters</span>\n        <span class="section-header-title-actions">\n';return a=null!=(a=l(n,"isGroupOwner")||(null!=t?l(t,"isGroupOwner"):t))?a:e.hooks.helperMissing,s={name:"isGroupOwner",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:7,column:12},end:{line:11,column:29}}},i="function"==typeof a?a.call(null!=t?t:e.nullContext||{},s):a,l(n,"isGroupOwner")||(i=e.hooks.blockHelperMissing.call(t,i,s)),null!=i&&(c+=i),c+'        </span>\n    </h1>\n</header>\n\n<div class="js-edit-cluster-container"></div>\n'},usePartial:!0,useData:!0})},1915:
/*!***********************************************************!*\
  !*** ./project/nds/clusters/views/clusterExtendModal.hbs ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'            <option value="null">Infinity</option>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="alert alert-danger" hidden>\n    <i class="fa fa-exclamation-triangle"></i> <span class="alert-danger-msg"></span>\n</div>\n<div class="wizard-form-field wizard-form-field-is-without-hr">\n    <div class="wizard-form-field-label-group">\n        <label class="wizard-form-field-label">\n            Extension Period\n        </label>\n        <p class="wizard-form-field-label-description">\n            Choose an amount of time by which you want your cluster lifetime to be extended.\n        </p>\n    </div>\n    <div class="wizard-form-field-control-group">\n    <select class="form-control wizard-form-field-control" name="extensionTime">\n        <option value="12">12 Hours</option>\n        <option value="24">24 Hours</option>\n        <option value="72">3 Days</option>\n        <option value="168">7 Days</option>\n'+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isTenant"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:19,column:8},end:{line:21,column:15}}}))?i:"")+"    </select>\n    </div>\n</div>\n"},useData:!0})},1916:
/*!********************************************************************!*\
  !*** ./project/nds/clusters/views/clusterStartLiveImportModal.hbs ***!
  \********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="wizard-form-field wizard-form-field-is-stacked wizard-form-field-is-topless wizard-form-field-has-no-top-padding">\n        Enter the connection details of your existing MongoDB cluster.\n        <strong>\n            NOTE: In order for '+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"sitename")||(null!=t?l(t,"sitename"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"sitename",hash:{},data:o,loc:{start:{line:6,column:31},end:{line:6,column:43}}}):a)+" to process\n            the migration request, our servers need to be able to access your source cluster. Make sure to whitelist the\n            following ip address ranges in your firewall.\n        </strong>\n        <ul>\n"+(null!=(i=l(n,"each").call(s,null!=t?l(t,"liveImportWhitelistIPs"):t,{name:"each",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:11,column:12},end:{line:13,column:21}}}))?i:"")+"        </ul>\n    </div>\n"},2:function(e,t,n,r,o){return"                <li>"+e.escapeExpression(e.lambda(t,t))+"</li>\n"},4:function(e,t,n,r,o){return"                    any mongos in your source cluster\n"},6:function(e,t,n,r,o){return"                    the primary of your replica set\n"},8:function(e,t,n,r,o){return"                    requires a mongos to proceed\n"},10:function(e,t,n,r,o){return"                    will use the primary of the existing replica set as the source for the data copy.\n                    If the hostname supplied is not the primary, the system will automatically detect the primary.\n"},12:function(e,t,n,r,o){return"                    The supplied credentials must have backup role on the admin database and read permissions for all\n                    cluster shards.\n"},14:function(e,t,n,r,o){return"                    The user supplied must have readAnyDatabase role on the admin database and be able to read the oplog.\n                    You may omit the username/password if the existing replica set does not use MongoDB authentication.\n"},16:function(e,t,n,r,o){return'    <div class="wizard-form-field wizard-form-field-has-no-min-height">\n        <div class="wizard-form-field-label-group wizard-form-field-label-group-is-wide">\n          <label for="dropEnabled" class="wizard-form-field-label wizard-form-field-label-has-no-text-transform">\n              Clear any existing data on your target cluster?\n          </label>\n          <p class="wizard-form-field-label-description">\n              Any conflicting namespaces on your destination cluster will cause your migration to fail.\n              Turning this on will drop all existing data in the destination cluster at the beginning\n              of the migration (except for\n              <a href="https://docs.mongodb.com/manual/reference/system-collections/" target="_blank">\n                <b>system.*</b> collections <i class="fa fa-external-link"></i></a> ).\n          </p>\n        </div>\n        <div class="wizard-form-field-control-group wizard-form-field-control-group-is-narrow">\n            <div class="wizard-form-field-control wizard-form-field-control-is-right">\n                <input id="dropEnabled"\n                       name="dropEnabled"\n                       type="checkbox"\n                       class="make-switch"\n                       data-on-text="YES"\n                       data-off-text="NO">\n            </div>\n        </div>\n    </div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<form>\n"+(null!=(i=u(n,"if").call(s,null!=t?u(t,"hasWhitelistIPs"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:4},end:{line:16,column:11}}}))?i:"")+'\n    <div class="wizard-form-field wizard-form-field-is-stacked">\n        <div class="wizard-form-field-label-group">\n            <label class="wizard-form-field-label wizard-form-field-label-has-no-text-transform">\n                Hostname:Port of\n'+(null!=(i=u(n,"if").call(s,null!=t?u(t,"isSharded"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:22,column:16},end:{line:26,column:23}}}))?i:"")+'            </label>\n            <p class="wizard-form-field-label-description">\n                The migration process\n'+(null!=(i=u(n,"if").call(s,null!=t?u(t,"isSharded"):t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.program(10,o,0),data:o,loc:{start:{line:30,column:16},end:{line:35,column:23}}}))?i:"")+'            </p>\n        </div>\n        <div class="wizard-form-field-control-group">\n            <input type="text" class="form-control form-control-is-extra-wide wizard-form-field-control" name="hostname" placeholder="'+c("function"==typeof(a=null!=(a=u(n,"hostnamePlaceholder")||(null!=t?u(t,"hostnamePlaceholder"):t))?a:l)?a.call(s,{name:"hostnamePlaceholder",hash:{},data:o,loc:{start:{line:39,column:134},end:{line:39,column:157}}}):a)+'">\n        </div>\n        <div name="hostname-alert" class="alert" hidden>\n          <span class="hostname-warning-msg"></span>\n        </div>\n    </div>\n\n    <div class="wizard-form-field wizard-form-field-is-stacked">\n        <div class="wizard-form-field-label-group">\n            <label class="wizard-form-field-label">\n                Username/Password\n            </label>\n            <p class="wizard-form-field-label-description">\n'+(null!=(i=u(n,"if").call(s,null!=t?u(t,"isSharded"):t,{name:"if",hash:{},fn:e.program(12,o,0),inverse:e.program(14,o,0),data:o,loc:{start:{line:52,column:16},end:{line:58,column:23}}}))?i:"")+'            </p>\n        </div>\n        <div class="wizard-form-field-control-group">\n            <input type="text" class="form-control wizard-form-field-control" name="username" placeholder="Username">\n            '+c("function"==typeof(a=null!=(a=u(n,"chromePasswordAutofillHack")||(null!=t?u(t,"chromePasswordAutofillHack"):t))?a:l)?a.call(s,{name:"chromePasswordAutofillHack",hash:{},data:o,loc:{start:{line:63,column:12},end:{line:63,column:42}}}):a)+'\n            <input type="password" class="form-control wizard-form-field-control" name="password" placeholder="Password" autocomplete="new-password">\n        </div>\n    </div>\n\n    <div class="wizard-form-field wizard-form-field-has-no-min-height">\n        <div class="wizard-form-field-label-group wizard-form-field-label-group-is-wide">\n            <label for="sslEnabled" class="wizard-form-field-label wizard-form-field-label-has-no-text-transform">\n                Is SSL enabled?\n            </label>\n            <p class="js-atlas-ssl-info wizard-form-field-label-description" hidden>\n              Your source cluster appears to be an '+c("function"==typeof(a=null!=(a=u(n,"sitename")||(null!=t?u(t,"sitename"):t))?a:l)?a.call(s,{name:"sitename",hash:{},data:o,loc:{start:{line:74,column:51},end:{line:74,column:63}}}):a)+" cluster. "+c("function"==typeof(a=null!=(a=u(n,"sitename")||(null!=t?u(t,"sitename"):t))?a:l)?a.call(s,{name:"sitename",hash:{},data:o,loc:{start:{line:74,column:73},end:{line:74,column:85}}}):a)+' clusters always use SSL.\n            </p>\n        </div>\n        <div class="wizard-form-field-control-group wizard-form-field-control-group-is-narrow">\n            <div class="wizard-form-field-control wizard-form-field-control-is-right">\n                <input id="sslEnabled"\n                       name="sslEnabled"\n                       type="checkbox"\n                       class="make-switch"\n                       data-on-text="YES"\n                       data-off-text="NO">\n            </div>\n        </div>\n    </div>\n\n'+(null!=(i=u(n,"unless").call(s,null!=t?u(t,"isSharded"):t,{name:"unless",hash:{},fn:e.program(16,o,0),inverse:e.noop,data:o,loc:{start:{line:89,column:4},end:{line:114,column:15}}}))?i:"")+'\n    <div class="wizard-form-field wizard-form-field-is-stacked js-ca-file-section" hidden>\n        <div class="wizard-form-field-label-group">\n            <label class="wizard-form-field-label">\n                Upload CAFile\n            </label>\n            <p class="wizard-form-field-label-description">\n                If you connect to your mongo deployment using the --sslCAFile option, provide the contents of your Certificate Authority file here.\n                You can copy the contents through the command line by running <kbd>pbcopy &lt; path/to/ca.pem</kbd>.\n            </p>\n        </div>\n        <div class="wizard-form-field-control-group">\n            <textarea rows="10" class="form-control wizard-form-control" name="caFile" style="resize:none;" placeholder="Paste CAFile contents here"></textarea>\n        </div>\n    </div>\n</form>\n\n<div name="status-alert" class="alert" hidden>\n    <strong class="js-alert-exclamation"></strong>&nbsp;<span class="alert-msg"></span>\n    <a class="js-live-import-troubleshooting-docs" href="https://docs.atlas.mongodb.com/import/live-import-troubleshooting/" target="_blank" hidden>\n        Learn more about migration troubleshooting.\n    </a>\n</div>\n\n<footer class="view-modal-footer">\n    <hr>\n    <div class="view-modal-actions">\n        <div></div>\n        <div>\n            <div data-toggle="tooltip" title="Still working..." style="display:inline-block;">\n                <button class="button" name="validate">\n                    <span class="loading-spinner" hidden></span> <span class="js-validate-button-text">Validate</span>\n                </button>\n            </div>\n            <button class="button button-is-primary button-is-not-allowed" name="confirm" disabled>Start Migration</button>\n        </div>\n    </div>\n</footer>\n'},useData:!0})},1917:
/*!*******************************************************************!*\
  !*** ./project/nds/clusters/views/clusterLiveImportInfoModal.hbs ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="bem-alert bem-alert-is-warning bem-alert-has-margin-top bem-alert-has-sharp-corner">\n        Please note that all existing data on the destination '+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"sitename")||(null!=t?a(t,"sitename"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"sitename",hash:{},data:o,loc:{start:{line:6,column:62},end:{line:6,column:74}}}):i)+" cluster will be dropped as part of the\n        migration.\n    </div>\n"},3:function(e,t,n,r,o){return"                            of any mongos in your cluster\n"},5:function(e,t,n,r,o){return"                            of cluster's primary member\n"},7:function(e,t,n,r,o){return'                    <div>\n                        <em>Make sure your source cluster:</em>\n                        <ul style="padding-left:15px;">\n                            <li>has the <strong>same number of shards as your destination cluster</strong></li>\n                            <li>is a <strong>config server replica set (CSRS) cluster </strong>\n                                <a href="https://docs.mongodb.com/manual/tutorial/upgrade-config-servers-to-replica-set/">\n                                    (how to upgrade to a CSRS cluster)\n                                </a>\n                            </li>\n                            <li>has the <strong>same major version as your destination cluster</strong> (first two\n                                numbers\n                                are the same, e.g.\n                                3.4.10 and 3.4.6)\n                            </li>\n                        </ul>\n                    </div>\n                    <br/>\n'},9:function(e,t,n,r,o){return"https://docs.atlas.mongodb.com/import/live-import-sharded/"},11:function(e,t,n,r,o){return"https://docs.atlas.mongodb.com/import/live-import/"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return u(typeof(a=null!=(a=d(n,"sitename")||(null!=t?d(t,"sitename"):t))?a:l)===c?a.call(s,{name:"sitename",hash:{},data:o,loc:{start:{line:1,column:0},end:{line:1,column:12}}}):a)+" Live Migration Service allows you to migrate an existing MongoDB cluster to MongoDB "+u(typeof(a=null!=(a=d(n,"sitename")||(null!=t?d(t,"sitename"):t))?a:l)===c?a.call(s,{name:"sitename",hash:{},data:o,loc:{start:{line:1,column:97},end:{line:1,column:109}}}):a)+" with minimal downtime.\n<strong>Migrating your data to "+u(typeof(a=null!=(a=d(n,"sitename")||(null!=t?d(t,"sitename"):t))?a:l)===c?a.call(s,{name:"sitename",hash:{},data:o,loc:{start:{line:2,column:31},end:{line:2,column:43}}}):a)+" is a simple, 3-step process:</strong>\n\n"+(null!=(i=d(n,"if").call(s,null!=t?d(t,"isSharded"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:0},end:{line:9,column:7}}}))?i:"")+'\n<div class="view-modal-paragraph view-modal-paragraph-is-padded">\n    <ol class="step-indicator step-indicator-is-vertical">\n        <li class="step-indicator-step step-indicator-step-is-vertical-long">\n            Provide the connection details for your existing (source) cluster:\n            <div class="step-indicator-step-child">\n                <ul style="padding-left:15px;">\n                    <li>\n                        <strong>Hostname and port</strong>\n'+(null!=(i=d(n,"if").call(s,null!=t?d(t,"isSharded"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:19,column:24},end:{line:23,column:31}}}))?i:"")+"                    </li>\n                    <li><strong>Username/password</strong></li>\n                    <li><strong>CAFile</strong> (if you connect to MongoDB with the --sslCAFile option)\n                    </li>\n                </ul>\n                <br/>\n"+(null!=(i=d(n,"if").call(s,null!=t?d(t,"isSharded"):t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:30,column:16},end:{line:48,column:23}}}))?i:"")+'                If you\'re not sure how to get this information, view <a href="https://docs.atlas.mongodb.com/import/live-import/#live-import-security">Source Cluster Security</a> documentation.\n            </div>\n        </li>\n        <li class="step-indicator-step step-indicator-step-is-vertical-long">\n            Click <i>Start Migration</i>, and '+u(typeof(a=null!=(a=d(n,"sitename")||(null!=t?d(t,"sitename"):t))?a:l)===c?a.call(s,{name:"sitename",hash:{},data:o,loc:{start:{line:53,column:46},end:{line:53,column:58}}}):a)+" will copy the data from your source cluster to your "+u(typeof(a=null!=(a=d(n,"sitename")||(null!=t?d(t,"sitename"):t))?a:l)===c?a.call(s,{name:"sitename",hash:{},data:o,loc:{start:{line:53,column:111},end:{line:53,column:123}}}):a)+' cluster.\n        </li>\n        <li class="step-indicator-step step-indicator-step-is-vertical-long">\n            Once your data is copied, point your application towards your '+u(typeof(a=null!=(a=d(n,"sitename")||(null!=t?d(t,"sitename"):t))?a:l)===c?a.call(s,{name:"sitename",hash:{},data:o,loc:{start:{line:56,column:74},end:{line:56,column:86}}}):a)+" cluster.\n        </li>\n    </ol>\n    <span>\n        <strong>That's it!</strong> If you have any questions, view our detailed <a href=\""+(null!=(i=d(n,"if").call(s,null!=t?d(t,"isSharded"):t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:60,column:90},end:{line:60,column:230}}}))?i:"")+'">Live Migration</a> documentation\n        or <a href="#info/support">file a support ticket</a> so our team can help.\n    </span>\n</div>\n'},useData:!0})},1918:
/*!**********************************************************!*\
  !*** ./project/nds/clusters/views/clusterPauseModal.hbs ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="js-pause-modal" />\n'},useData:!0})},1919:
/*!***************************************************************************!*\
  !*** ./project/nds/clusters/views/clusterRestartPrimaryProgressModal.hbs ***!
  \***************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <header class="inline-pending restart-modal-text-header '+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isShardedCluster"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:64},end:{line:3,column:128}}}))?i:"")+'">\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isShardedCluster"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:4,column:12},end:{line:8,column:19}}}))?i:"")+'        </header>\n        <p class="restart-modal-text-description">\n            We\'re waiting to hear back that everything is back to normal.  Confirm that your app has correctly handled the failover.\n        </p>\n'},2:function(e,t,n,r,o){return"restart-modal-text-header-sharded"},4:function(e,t,n,r,o){return"                Primaries in all shards are restarting\n"},6:function(e,t,n,r,o){return"                Your primary is being restarted\n"},8:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <header class="restart-modal-text-header">\n'+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isShardedCluster"):t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:15,column:12},end:{line:19,column:19}}}))?i:"")+'        </header>\n        <p class="restart-modal-text-description">\n            Check your application to ensure reads and writes are still\n            working as expected.\n        </p>\n'},9:function(e,t,n,r,o){return"                All shards now have a new primary.\n"},11:function(e,t,n,r,o){return"                Your cluster now has a new primary.\n"},13:function(e,t,n,r,o){return"disabled"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="restart-modal-text">\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"restartPending"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(8,o,0),data:o,loc:{start:{line:2,column:4},end:{line:25,column:11}}}))?i:"")+'</div>\n\n<footer class="view-modal-footer">\n    <hr>\n    <div class="view-modal-actions">\n        <div></div>\n        <div>\n            <button class="button" name="close" '+(null!=(i=s(n,"if").call(a,null!=t?s(t,"restartPending"):t,{name:"if",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o,loc:{start:{line:33,column:48},end:{line:33,column:85}}}))?i:"")+">Close</button>\n        </div>\n    </div>\n</footer>\n"},useData:!0})},1920:
/*!***********************************************************************!*\
  !*** ./project/nds/clusters/views/clusterRestartPrimaryInfoModal.hbs ***!
  \***********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="alert alert-danger js-request-alert" hidden>\n    <i class="fa fa-exclamation-triangle"></i> <span class="alert-danger-msg"></span>\n</div>\n\n<p><strong>Here\'s what to expect when you test failover:</strong></p>\n\n<div class="row">\n    <ol class="step-indicator step-indicator-has-no-border">\n        <li class="step-indicator-step">\n            Primary is Shut Down\n            <div class="step-indicator-step-is-indented-back">\n                <div class="cluster-child cluster-child-is-degraded">\n                    <i class="fa fa-exclamation-triangle cluster-child-status-icon"></i>\n                    <span class="cluster-child-name empty-name-block"></span>\n                    <span class="cluster-child-status-text bubble-text">DOWN</span>\n                </div>\n                <div class="cluster-child">\n                    <i class="fa fa-circle cluster-child-status-icon"></i>\n                    <span class="cluster-child-name empty-name-block"></span>\n                    <span class="cluster-child-status-text bubble-text">SECONDARY</span>\n                </div>\n                <div class="cluster-child">\n                    <i class="fa fa-circle cluster-child-status-icon"></i>\n                    <span class="cluster-child-name empty-name-block"></span>\n                    <span class="cluster-child-status-text bubble-text">SECONDARY</span>\n                </div>\n                <p>\n                    By manually restarting your primary, your cluster\'s replica set\n                    will hold an election to choose which of the secondaries will become the new primary.\n                </p>\n            </div>\n        </li>\n        <li class="step-indicator-step">\n            New Primary Elected\n            <div class="step-indicator-step-is-indented-back">\n                <div class="cluster-child cluster-child-is-degraded">\n                    <i class="fa fa-exclamation-triangle cluster-child-status-icon"></i>\n                    <span class="cluster-child-name empty-name-block"></span>\n                    <span class="cluster-child-status-text bubble-text">RECOVERING</span>\n                </div>\n                <div class="cluster-child">\n                    <i class="fa fa-circle cluster-child-status-icon"></i>\n                    <span class="cluster-child-name empty-name-block"></span>\n                    <span class="cluster-child-status-text bubble-text">PRIMARY</span>\n                </div>\n                <div class="cluster-child">\n                    <i class="fa fa-circle cluster-child-status-icon"></i>\n                    <span class="cluster-child-name empty-name-block"></span>\n                    <span class="cluster-child-status-text bubble-text">SECONDARY</span>\n                </div>\n                <p>\n                    Once the original primary comes back online, it will catch up on\n                    the writes it missed from the new primary and then rejoin the replica set as a secondary.\n                </p>\n            </div>\n        </li>\n        <li class="step-indicator-step">\n            Review Failover\n            <div class="step-indicator-step-is-indented-back">\n                <div class="cluster-child">\n                    <i class="fa fa-circle cluster-child-status-icon"></i>\n                    <span class="cluster-child-name empty-name-block"></span>\n                    <span class="cluster-child-status-text bubble-text">SECONDARY</span>\n                </div>\n                <div class="cluster-child">\n                    <i class="fa fa-circle cluster-child-status-icon"></i>\n                    <span class="cluster-child-name empty-name-block"></span>\n                    <span class="cluster-child-status-text bubble-text">PRIMARY</span>\n                </div>\n                <div class="cluster-child">\n                    <i class="fa fa-circle cluster-child-status-icon"></i>\n                    <span class="cluster-child-name empty-name-block"></span>\n                    <span class="cluster-child-status-text bubble-text">SECONDARY</span>\n                </div>\n                <p>\n                    This process will reveal if your application experiences any\n                    downtime during a failover. It will also move the location of your primary for the time being.\n                </p>\n            </div>\n        </li>\n    </ol>\n</div>\n\n<p><strong>Do you wish to proceed?</strong></p>\n'},useData:!0})},1921:
/*!*********************************************************************************!*\
  !*** ./project/nds/clusters/views/clusterRestrictEmployeeAccessBypassModal.hbs ***!
  \*********************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="js-restrict-employee-access-bypass-modal" />\n'},useData:!0})},1922:
/*!***********************************************************!*\
  !*** ./project/nds/clusters/views/clusterResumeModal.hbs ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="js-resume-modal" />\n'},useData:!0})},1923:
/*!**************************************************************!*\
  !*** ./project/nds/clusters/views/clusterTerminateModal.hbs ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <p class="js-backup-alert"><strong>Note: </strong> This operation will delete the cluster and all of its data. Backup is currently active for this cluster. Terminating your cluster will delete all\n        of your backup snapshots immediately. If you want to keep old versions of your data, visit\n        the <a href="'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"backupEnabled"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:9,column:21},end:{line:9,column:56}}}))?i:"")+(null!=(i=s(n,"if").call(a,null!=t?s(t,"diskBackupEnabled"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:9,column:56},end:{line:9,column:113}}}))?i:"")+'">backup dashboard</a> and download your snapshots.</p>\n'},2:function(e,t,n,r,o){return"#backup"},4:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"#clusters/backup/"+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"name")||(null!=t?a(t,"name"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:o,loc:{start:{line:9,column:98},end:{line:9,column:106}}}):i)},6:function(e,t,n,r,o){return'        <p class="js-terminate-alert"><strong>Note:</strong> This operation will delete the cluster and all of its data.</p>\n'},8:function(e,t,n,r,o){return'        <p class="js-scoped-cluster-alert">For database users scoped to this cluster, they will still have access to the future cluster with the same name.</p>\n'},10:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"appsLoaded"):t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.program(15,o,0),data:o,loc:{start:{line:19,column:4},end:{line:36,column:11}}}))?i:""},11:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"stitchApps"):t,{name:"if",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o,loc:{start:{line:20,column:8},end:{line:30,column:15}}}))?i:""},12:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="alert alert-danger js-application-alert" role="alert">\n                <p><strong>Note:</strong> You currently have the following applications linked to your cluster:</p>\n                <ul>\n'+(null!=(i=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"stitchApps"):t,{name:"each",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o,loc:{start:{line:24,column:20},end:{line:26,column:29}}}))?i:"")+"                </ul>\n                <p>Terminating this cluster will also unlink it from your existing applications.</p>\n            </div>\n"},13:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        <li>"+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"name")||(null!=t?a(t,"name"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:o,loc:{start:{line:25,column:28},end:{line:25,column:36}}}):i)+"</li>\n"},15:function(e,t,n,r,o){return'        <div class="alert alert-warning js-application-unreachable-alert" role="alert">\n            <p><strong>Note:</strong> We are unable to reach the Realm application servers at this time.\n            If you have any application linked to this cluster, you can unlink them manually later.</p>\n        </div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="alert alert-danger js-request-alert" hidden>\n    <i class="fa fa-exclamation-triangle"></i> <span class="alert-danger-msg"></span>\n</div>\n\n<div class="alert alert-danger" role="alert">\n'+(null!=(i=u(n,"if").call(s,null!=t?u(t,"hasAnyBackupEnabled"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:6,column:4},end:{line:12,column:11}}}))?i:"")+(null!=(i=u(n,"if").call(s,null!=t?u(t,"hasScopedUserFeatureFlag"):t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.noop,data:o,loc:{start:{line:13,column:4},end:{line:15,column:11}}}))?i:"")+"</div>\n\n"+(null!=(i=u(n,"if").call(s,null!=t?u(t,"hasBaasEnabled"):t,{name:"if",hash:{},fn:e.program(10,o,0),inverse:e.noop,data:o,loc:{start:{line:18,column:0},end:{line:37,column:7}}}))?i:"")+'\n<div class="row">\n    <div class="col-sm-6">\n        Are you sure you want to terminate <br/>\n        <span id="cluster-terminate-breadcrumbs">\n            '+c("function"==typeof(a=null!=(a=u(n,"orgName")||(null!=t?u(t,"orgName"):t))?a:l)?a.call(s,{name:"orgName",hash:{},data:o,loc:{start:{line:43,column:12},end:{line:43,column:23}}}):a)+" &gt; "+c("function"==typeof(a=null!=(a=u(n,"groupName")||(null!=t?u(t,"groupName"):t))?a:l)?a.call(s,{name:"groupName",hash:{},data:o,loc:{start:{line:43,column:29},end:{line:43,column:42}}}):a)+" &gt; <strong>"+c("function"==typeof(a=null!=(a=u(n,"name")||(null!=t?u(t,"name"):t))?a:l)?a.call(s,{name:"name",hash:{},data:o,loc:{start:{line:43,column:56},end:{line:43,column:64}}}):a)+'</strong>?\n        </span>\n        <br />\n        Please enter the cluster name to continue.\n    </div>\n    <div class="col-sm-6">\n        <input type="text"\n            class="form-control cluster-terminate-clusterName-input"\n            name="clusterName"\n            placeholder="Enter cluster name"\n            autocomplete="off">\n    </div>\n</div>\n\n<footer class="view-modal-footer">\n    <hr>\n    <div class="view-modal-actions">\n        <div></div>\n        <div>\n            <button class="button" name="close">Cancel</button>\n            <button class="button button-is-danger" name="terminate" disabled>Terminate</button>\n        </div>\n    </div>\n</footer>\n'},useData:!0})},1924:
/*!************************************************!*\
  !*** ./project/metrics/views/downloadLogs.hbs ***!
  \************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="view-modal-row">\n  <div class="wizard-form-field-control-group wizard-form-field-control-group-is-wide download-logs-select">\n      <strong class="view-modal-row">Select process</strong>\n      <select name="processes" class="form-control wizard-form-field-control wizard-form-field-control-is-no-max-width download-logs-field-control">\n              <option name="process" value="mongodb">mongod</option>\n              '+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isAuditLogEnabled"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:9,column:14},end:{line:9,column:120}}}))?i:"")+"\n"+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isShardedCluster"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:10,column:14},end:{line:13,column:21}}}))?i:"")+"      </select>\n  </div>\n</div>\n"},2:function(e,t,n,r,o){return'<option name="process" value="mongodb-audit-log">mongod-audit-log</option>'},4:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                  <option name="process" value="mongos">mongos</option>\n                  '+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isAuditLogEnabled"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:12,column:18},end:{line:12,column:123}}}))?i:"")+"\n"},5:function(e,t,n,r,o){return'<option name="process" value="mongos-audit-log">mongos-audit-log</option>'},7:function(e,t,n,r,o){var i,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <option name="hostname" value='+s(a(null!=t?l(t,"hostname"):t,t))+">\n                    "+s(a(null!=t?l(t,"hostname"):t,t))+" "+(null!=(i=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"isPrimary"):t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.noop,data:o,loc:{start:{line:25,column:38},end:{line:25,column:76}}}))?i:"")+"\n                </option>\n"},8:function(e,t,n,r,o){return"(Primary)"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="download-logs-text">Logs are retained for a maximum of 30 days, and are downloaded as a .gz file.</p>\n\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"displayLogDownloadOptions"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:0},end:{line:17,column:7}}}))?i:"")+'\n<div class="view-modal-row">\n    <div class="wizard-form-field-control-group wizard-form-field-control-group-is-wide download-logs-select">\n        <strong class="view-modal-row">Select server</strong>\n        <select name="hostnames" class="form-control wizard-form-field-control wizard-form-field-control-is-no-max-width download-logs-field-control">\n'+(null!=(i=s(n,"each").call(a,null!=t?s(t,"hostnames"):t,{name:"each",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:23,column:12},end:{line:27,column:21}}}))?i:"")+'        </select>\n    </div>\n</div>\n\n<div class="view-modal-row download-logs-start-time">\n    <strong class="view-modal-row-item download-logs-time-control">Start Time</strong>\n    <div class="datetime-picker datetime-picker-is-date view-modal-row-item">\n        <input class="datetime-picker-input view-modal-row-item" name="startDate" />\n    </div>\n    <div class="js-start-time-container"></div>\n</div>\n<div class="view-modal-row download-logs-end-time">\n    <strong class="view-modal-row-item download-logs-time-control">End Time</strong>\n    <div class="datetime-picker datetime-picker-is-date view-modal-row-item">\n        <input class="datetime-picker-input view-modal-row-item" name="endDate" />\n    </div>\n    <div class="js-end-time-container"></div>\n</div>\n<p class="wizard-form-field-error-message"></p>\n\n<footer class="view-modal-footer">\n    <hr>\n    <div>\n        <button class="button download-logs-cancel-button" name="close">Cancel</button>\n        <button class="js-download-logs button button-is-primary" name="download">Download Logs</button>\n    </div>\n</footer>\n'},useData:!0})},1925:
/*!*****************************************************************!*\
  !*** ./project/nds/clusters/views/clusterTakeSnapshotModal.hbs ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="js-take-snapshot-modal" />\n'},useData:!0})},1926:
/*!**********************************************************************!*\
  !*** ./project/nds/clusters/views/clusterLoadSampleDatasetModal.hbs ***!
  \**********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="js-cluster-load-sample-dataset-modal"></div>\n'},useData:!0})},1927:
/*!************************************************************!*\
  !*** ./project/nds/clusters/views/awsClusterInfoPanel.hbs ***!
  \************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=e.invokePartial(a(r,"clusterInfoPanelHeader"),t,{name:"clusterInfoPanelHeader",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a(r,"clusterOptionsMenu"),t,{name:"clusterOptionsMenu",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a(r,"clusterInfoPanelStats"),t,{name:"clusterInfoPanelStats",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},1928:
/*!**************************************************************!*\
  !*** ./project/nds/clusters/views/azureClusterInfoPanel.hbs ***!
  \**************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=e.invokePartial(a(r,"clusterInfoPanelHeader"),t,{name:"clusterInfoPanelHeader",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a(r,"clusterOptionsMenu"),t,{name:"clusterOptionsMenu",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a(r,"clusterInfoPanelStats"),t,{name:"clusterInfoPanelStats",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},1929:
/*!************************************************************!*\
  !*** ./project/nds/clusters/views/gcpClusterInfoPanel.hbs ***!
  \************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=e.invokePartial(a(r,"clusterInfoPanelHeader"),t,{name:"clusterInfoPanelHeader",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a(r,"clusterOptionsMenu"),t,{name:"clusterOptionsMenu",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a(r,"clusterInfoPanelStats"),t,{name:"clusterInfoPanelStats",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},1930:
/*!*************************************************************!*\
  !*** ./project/nds/clusters/views/freeClusterInfoPanel.hbs ***!
  \*************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'        <span class="js-free-tier-badge"></span>\n'},3:function(e,t,n,r,o){return" link-is-disabled"},5:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=e.invokePartial(a(r,"clusterInfoPanelStats"),t,{name:"clusterInfoPanelStats",data:o,indent:"    ",helpers:n,partials:r,decorators:e.decorators}))?i:""},7:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <dl>\n        <dt class="cluster-info-panel-stat-label">Cluster Tier</dt>\n        <dd class="cluster-info-panel-stat-value">'+c("function"==typeof(a=null!=(a=u(n,"instanceSize")||(null!=t?u(t,"instanceSize"):t))?a:l)?a.call(s,{name:"instanceSize",hash:{},data:o,loc:{start:{line:16,column:50},end:{line:16,column:66}}}):a)+'</dd>\n        <dt class="cluster-info-panel-stat-label">Region</dt>\n        <dd class="cluster-info-panel-stat-value">'+c("function"==typeof(a=null!=(a=u(n,"regionReadable")||(null!=t?u(t,"regionReadable"):t))?a:l)?a.call(s,{name:"regionReadable",hash:{},data:o,loc:{start:{line:18,column:50},end:{line:18,column:68}}}):a)+'</dd>\n        <dt class="cluster-info-panel-stat-label">Type</dt>\n        <dd class="cluster-info-panel-stat-value">\n            Replica Set - '+c("function"==typeof(a=null!=(a=u(n,"totalNodes")||(null!=t?u(t,"totalNodes"):t))?a:l)?a.call(s,{name:"totalNodes",hash:{},data:o,loc:{start:{line:21,column:26},end:{line:21,column:40}}}):a)+" nodes\n        </dd>\n"+(null!=(i=e.invokePartial(u(r,"clusterApplicationStats"),t,{name:"clusterApplicationStats",data:o,indent:"        ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+"    </dl>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="cluster-info-panel-labels">\n'+(null!=(i=u(n,"if").call(s,null!=t?u(t,"showFreeClusterBadge"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:4},end:{line:4,column:11}}}))?i:"")+(null!=(i=e.invokePartial(u(r,"clusterReapingStatus"),t,{name:"clusterReapingStatus",data:o,indent:"    ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+"</div>\n"+(null!=(i=e.invokePartial(u(r,"ndsStateIcon"),t,{name:"ndsStateIcon",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+'<a class="cluster-detail-hostname link'+(null!=(i=u(n,"if").call(s,null!=t?u(t,"actionsDisabled"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:38},end:{line:8,column:85}}}))?i:"")+'" href="#clusters/detail/'+c("function"==typeof(a=null!=(a=u(n,"clusterId")||(null!=t?u(t,"clusterId"):t))?a:l)?a.call(s,{name:"clusterId",hash:{},data:o,loc:{start:{line:8,column:110},end:{line:8,column:123}}}):a)+'">'+c("function"==typeof(a=null!=(a=u(n,"name")||(null!=t?u(t,"name"):t))?a:l)?a.call(s,{name:"name",hash:{},data:o,loc:{start:{line:8,column:125},end:{line:8,column:133}}}):a)+'</a>\n<span class="cluster-info-panel-version">Version '+c("function"==typeof(a=null!=(a=u(n,"mongoDBVersion")||(null!=t?u(t,"mongoDBVersion"):t))?a:l)?a.call(s,{name:"mongoDBVersion",hash:{},data:o,loc:{start:{line:9,column:49},end:{line:9,column:67}}}):a)+"</span>\n"+(null!=(i=e.invokePartial(u(r,"clusterOptionsMenu"),t,{name:"clusterOptionsMenu",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=u(n,"if").call(s,null!=t?u(t,"hasBackupCapability"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:11,column:0},end:{line:25,column:7}}}))?i:"")},usePartial:!0,useData:!0})},1931:
/*!***************************************************************!*\
  !*** ./project/nds/clusters/views/clusterInfoPanelHeader.hbs ***!
  \***************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="bubble-text bubble-text-is-no-caps">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"pauseTimeRemaining")||(null!=t?a(t,"pauseTimeRemaining"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"pauseTimeRemaining",hash:{},data:o,loc:{start:{line:3,column:57},end:{line:3,column:79}}}):i)+"</span>\n"},3:function(e,t,n,r,o){return" link-is-disabled"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="cluster-info-panel-labels">\n'+(null!=(i=u(n,"if").call(s,null!=t?u(t,"showPauseTimeRemaining"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:4},end:{line:4,column:11}}}))?i:"")+(null!=(i=e.invokePartial(u(r,"clusterReapingStatus"),t,{name:"clusterReapingStatus",data:o,indent:"    ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+"</div>\n"+(null!=(i=e.invokePartial(u(r,"ndsStateIcon"),t,{name:"ndsStateIcon",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+'<a class="cluster-detail-hostname js-cluster-name-link link'+(null!=(i=u(n,"if").call(s,null!=t?u(t,"actionsDisabled"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:59},end:{line:8,column:106}}}))?i:"")+'" href="#clusters/detail/'+c("function"==typeof(a=null!=(a=u(n,"clusterId")||(null!=t?u(t,"clusterId"):t))?a:l)?a.call(s,{name:"clusterId",hash:{},data:o,loc:{start:{line:8,column:131},end:{line:8,column:144}}}):a)+'">'+c("function"==typeof(a=null!=(a=u(n,"name")||(null!=t?u(t,"name"):t))?a:l)?a.call(s,{name:"name",hash:{},data:o,loc:{start:{line:8,column:146},end:{line:8,column:154}}}):a)+'</a>\n<span class="cluster-info-panel-version">Version '+c("function"==typeof(a=null!=(a=u(n,"mongoDBVersion")||(null!=t?u(t,"mongoDBVersion"):t))?a:l)?a.call(s,{name:"mongoDBVersion",hash:{},data:o,loc:{start:{line:9,column:49},end:{line:9,column:67}}}):a)+"</span>\n"},usePartial:!0,useData:!0})},1932:
/*!**************************************************************!*\
  !*** ./project/nds/clusters/views/clusterInfoPanelStats.hbs ***!
  \**************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"Active"},3:function(e,t,n,r,o){return"Inactive"},5:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <span class="cluster-info-panel-stat-label">Provider</span>\n                <span class="cluster-info-panel-stat-value">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"providerReadable")||(null!=t?a(t,"providerReadable"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"providerReadable",hash:{},data:o,loc:{start:{line:16,column:60},end:{line:16,column:80}}}):i)+"</span>\n"},7:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <span class="cluster-info-panel-stat-label">'+(null!=(i=l(n,"if").call(s,null!=t?l(t,"isMultiRegion"):t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.noop,data:o,loc:{start:{line:18,column:60},end:{line:18,column:98}}}))?i:"")+'Region</span>\n                <span class="cluster-info-panel-stat-value">'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"regionReadable")||(null!=t?l(t,"regionReadable"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"regionReadable",hash:{},data:o,loc:{start:{line:19,column:60},end:{line:19,column:78}}}):a)+"</span>\n"},8:function(e,t,n,r,o){return"Preferred "},10:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    Global Write Cluster - "+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"numZones")||(null!=t?l(t,"numZones"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"numZones",hash:{},data:o,loc:{start:{line:26,column:43},end:{line:26,column:55}}}):a)+" zone"+(null!=(i=l(n,"if").call(s,null!=t?l(t,"zonesPlural"):t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o,loc:{start:{line:26,column:60},end:{line:26,column:87}}}))?i:"")+"\n"},11:function(e,t,n,r,o){return"s"},13:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isShardedCluster"):t,{name:"if",hash:{},fn:e.program(14,o,0),inverse:e.program(17,o,0),data:o,loc:{start:{line:27,column:16},end:{line:31,column:16}}}))?i:""},14:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    "+(null!=(i=l(n,"if").call(s,null!=t?l(t,"isMultiRegion"):t,{name:"if",hash:{},fn:e.program(15,o,0),inverse:e.noop,data:o,loc:{start:{line:28,column:20},end:{line:28,column:61}}}))?i:"")+"Sharded Cluster - "+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"numShards")||(null!=t?l(t,"numShards"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"numShards",hash:{},data:o,loc:{start:{line:28,column:79},end:{line:28,column:92}}}):a)+" shard"+(null!=(i=l(n,"if").call(s,null!=t?l(t,"shardsPlural"):t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o,loc:{start:{line:28,column:98},end:{line:28,column:126}}}))?i:"")+"\n"},15:function(e,t,n,r,o){return"Cross Region "},17:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    "+(null!=(i=l(n,"if").call(s,null!=t?l(t,"isMultiRegion"):t,{name:"if",hash:{},fn:e.program(15,o,0),inverse:e.noop,data:o,loc:{start:{line:30,column:20},end:{line:30,column:61}}}))?i:"")+"Replica Set - "+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"totalNodes")||(null!=t?l(t,"totalNodes"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"totalNodes",hash:{},data:o,loc:{start:{line:30,column:75},end:{line:30,column:89}}}):a)+" nodes\n                "},19:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="cluster-info-panel-stat-cell">\n'+(null!=(i=e.invokePartial(a(r,"clusterApplicationStats"),t,{name:"clusterApplicationStats",data:o,indent:"            ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+"        </div>\n"},21:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="cluster-info-panel-stat-cell">\n                <span class="cluster-info-panel-stat-label">BI Connector</span>\n                <span class="cluster-info-panel-stat-value">'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"biConnectorState")||(null!=t?l(t,"biConnectorState"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"biConnectorState",hash:{},data:o,loc:{start:{line:44,column:60},end:{line:44,column:80}}}):a)+"\n"+(null!=(i=l(n,"if").call(s,null!=t?l(t,"isBiConnectorRecovering"):t,{name:"if",hash:{},fn:e.program(22,o,0),inverse:e.noop,data:o,loc:{start:{line:45,column:20},end:{line:53,column:27}}}))?i:"")+"                </span>\n            </div>\n"},22:function(e,t,n,r,o){return'                     <span class="tip"\n                        data-toggle="tooltip"\n                        data-placement="top"\n                        data-container="body"\n                        data-original-title="Your BI Connector\'s experienced a failure. No need to do anything - we\'ll restart it within 5 minutes, on the same connection string.">\n                        <i class="fa fa-exclamation-triangle cluster-info-panel-warning-icon"></i>\n                     </span>\n'},24:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="cluster-info-panel-stat-row">\n        <div class="cluster-info-panel-stat-cell">\n            <span class="cluster-info-panel-stat-label">Online Archive <sup>BETA</sup></span>\n'+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"hasOnlineArchive"):t,{name:"if",hash:{},fn:e.program(25,o,0),inverse:e.program(27,o,0),data:o,loc:{start:{line:62,column:12},end:{line:68,column:19}}}))?i:"")+"        </div>\n    </div>\n"},25:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <span class="cluster-info-panel-stat-value">\n                <a href="#clusters/onlineArchive/'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"clusterId")||(null!=t?a(t,"clusterId"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"clusterId",hash:{},data:o,loc:{start:{line:64,column:49},end:{line:64,column:62}}}):i)+'">Active</a>\n            </span>\n'},27:function(e,t,n,r,o){return'                <span class="cluster-info-panel-stat-value">None</span>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="cluster-info-panel-stat">\n    <div class="cluster-info-panel-stat-row">\n        <div class="cluster-info-panel-stat-cell">\n            <span class="cluster-info-panel-stat-label">Backups</span>\n            <span class="cluster-info-panel-stat-value">'+(null!=(i=l(n,"if").call(s,null!=t?l(t,"hasAnyBackupEnabled"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:5,column:56},end:{line:5,column:112}}}))?i:"")+'</span>\n        </div>\n        <div class="cluster-info-panel-stat-cell">\n            <span class="cluster-info-panel-stat-label">Cluster Tier</span>\n            <span class="cluster-info-panel-stat-value">'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"instanceSize")||(null!=t?l(t,"instanceSize"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"instanceSize",hash:{},data:o,loc:{start:{line:9,column:56},end:{line:9,column:72}}}):a)+'</span>\n        </div>\n    </div>\n    <div class="cluster-info-panel-stat-row">\n        <div class="cluster-info-panel-stat-cell">\n'+(null!=(i=l(n,"if").call(s,null!=t?l(t,"isGeoShardedCluster"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:14,column:12},end:{line:20,column:19}}}))?i:"")+'        </div>\n        <div class="cluster-info-panel-stat-cell">\n            <span class="cluster-info-panel-stat-label">Type</span>\n            <span class="cluster-info-panel-stat-value">\n'+(null!=(i=l(n,"if").call(s,null!=t?l(t,"isGeoShardedCluster"):t,{name:"if",hash:{},fn:e.program(10,o,0),inverse:e.program(13,o,0),data:o,loc:{start:{line:25,column:16},end:{line:31,column:23}}}))?i:"")+'            </span>\n        </div>\n    </div>\n    <div class="cluster-info-panel-stat-row">\n'+(null!=(i=l(n,"if").call(s,null!=t?l(t,"hasBaasEnabled"):t,{name:"if",hash:{},fn:e.program(19,o,0),inverse:e.noop,data:o,loc:{start:{line:36,column:8},end:{line:40,column:15}}}))?i:"")+(null!=(i=l(n,"if").call(s,null!=t?l(t,"supportsBiConnector"):t,{name:"if",hash:{},fn:e.program(21,o,0),inverse:e.noop,data:o,loc:{start:{line:41,column:8},end:{line:56,column:15}}}))?i:"")+"    </div>\n"+(null!=(i=l(n,"if").call(s,null!=t?l(t,"isDedicatedCluster"):t,{name:"if",hash:{},fn:e.program(24,o,0),inverse:e.noop,data:o,loc:{start:{line:58,column:4},end:{line:71,column:10}}}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})},1933:
/*!*************************************************************************!*\
  !*** ./project/nds/clusters/views/clusterInfoPanelApplicationStats.hbs ***!
  \*************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <span class="cluster-info-panel-stat-label test-application-stats">Linked Realm App</span>\n'+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"appsLoaded"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(10,o,0),data:o,loc:{start:{line:3,column:4},end:{line:21,column:11}}}))?i:"")},2:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="cluster-info-panel-stat-value">\n'+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"hasMultipleApps"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:5,column:12},end:{line:11,column:19}}}))?i:"")+"        </span>\n"},3:function(e,t,n,r,o){return'                <button class="link js-application-name">Multiple applications linked</button>\n'},5:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"applicationName"):t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.program(8,o,0),data:o,loc:{start:{line:7,column:12},end:{line:11,column:12}}}))?i:""},6:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <button class="link js-application-name">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"applicationName")||(null!=t?a(t,"applicationName"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"applicationName",hash:{},data:o,loc:{start:{line:8,column:57},end:{line:8,column:76}}}):i)+"</button>\n"},8:function(e,t,n,r,o){return"              <span>None Linked</span>\n            "},10:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"appsFailedToLoad"):t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.program(13,o,0),data:o,loc:{start:{line:13,column:4},end:{line:21,column:4}}}))?i:""},11:function(e,t,n,r,o){return'        <span class="cluster-info-panel-stat-value">\n            Unable to load application data\n        </span>\n'},13:function(e,t,n,r,o){return'        <span class="cluster-info-panel-stat-value">\n            Loading data<span class="inline-pending"></span>\n        </span>\n    '},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"hasBaasEnabled"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:22,column:7}}}))?i:""},useData:!0})},1934:
/*!**********************************************************!*\
  !*** ./project/nds/clusters/views/ndsSparklinesView.hbs ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"hidden"},3:function(e,t,n,r,o){return"        The average of MongoDB read, write and command execution times across all shard primaries\n"},5:function(e,t,n,r,o){return"        MongoDB read, write and command execution times on the replica set primary\n        "},7:function(e,t,n,r,o){return"        The sum of MongoDB read and write operations across all shard primaries\n"},9:function(e,t,n,r,o){return"        MongoDB read and write operations on the replica set primary\n        "},11:function(e,t,n,r,o){return"nds-sparkline-is-warn"},13:function(e,t,n,r,o){return"nds-sparkline-is-healthy"},15:function(e,t,n,r,o){return"        The sum from all shard primaries\n"},17:function(e,t,n,r,o){return"        From the replica set primary\n        "},19:function(e,t,n,r,o){return"nds-sparkline-is-inactive"},21:function(e,t,n,r,o){return"        The number of active connections for the shard that currently has the highest amount of traffic.\n"},23:function(e,t,n,r,o){return"        The number of active connections on the server hosting the replica set primary.\n        "},25:function(e,t,n,r,o){return"        Hardware input/output operations per second from all servers hosting shard primaries.\n"},27:function(e,t,n,r,o){return"        Hardware input/output operations per second from the server hosting the replica set primary.\n"},29:function(e,t,n,r,o){return"disabled"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="nds-sparkline-empty" hidden>\n    <header class="nds-sparkline-empty-header">\n        <span class="nds-sparkline-empty-header-text"></span><span class="inline-pending" hidden></span>\n    </header>\n    <p class="nds-sparkline-empty-description"></p>\n    <button class="button button-is-primary" name="resumeCluster" '+(null!=(i=s(n,"unless").call(a,null!=t?s(t,"isGroupClusterManager"):t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:6,column:66},end:{line:6,column:116}}}))?i:"")+'>Resume</button>\n    <div class="js-react-modal-container"></div>\n</div>\n<div class="nds-sparkline-row" hidden="hidden">\n    <div class="nds-sparkline nds-sparkline-is-wide nds-sparkline-is-inactive js-op-execution" hidden="hidden"\n         data-html="true" data-toggle="tooltip" title="\n        <i class=\'fa fa-info-circle\'></i>\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isCluster"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:13,column:8},end:{line:17,column:15}}}))?i:"")+'">\n        <div class="nds-sparkline-placeholder-wrapper" hidden="hidden">\n            Loading<span class="inline-pending"></span>\n        </div>\n    </div>\n    <div class="nds-sparkline nds-sparkline-is-inactive js-operations" hidden="hidden" data-html="true"\n         data-toggle="tooltip" title="\n        <i class=\'fa fa-info-circle\'></i>\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isCluster"):t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o,loc:{start:{line:25,column:8},end:{line:29,column:15}}}))?i:"")+'">\n        <div class="nds-sparkline-placeholder-wrapper" hidden="hidden">\n            Loading<span class="inline-pending"></span>\n        </div>\n    </div>\n    <div class="nds-sparkline '+(null!=(i=s(n,"if").call(a,null!=t?s(t,"hasStorageCapacityWarnings"):t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.program(13,o,0),data:o,loc:{start:{line:34,column:30},end:{line:35,column:96}}}))?i:"")+' js-logical-size"\n         hidden="hidden" data-html="true" data-toggle="tooltip" title="\n        <i class=\'fa fa-info-circle\'></i>\n        From the replica set primary\n    ">\n        <div class="nds-sparkline-placeholder-wrapper" hidden="hidden">\n            Loading<span class="inline-pending"></span>\n        </div>\n        <button class="button button-is-xs nds-sparkline-add-storage-button js-upgrade" name="addStorage"\n                '+(null!=(i=s(n,"unless").call(a,null!=t?s(t,"showAddStorage"):t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:44,column:16},end:{line:44,column:59}}}))?i:"")+'>\n            Add Storage\n        </button>\n    </div>\n    <div class="nds-sparkline '+(null!=(i=s(n,"if").call(a,null!=t?s(t,"hasStorageCapacityWarnings"):t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.program(13,o,0),data:o,loc:{start:{line:48,column:30},end:{line:49,column:96}}}))?i:"")+' js-disk-usage"\n         hidden="hidden" data-html="true" data-toggle="tooltip" title="\n        <i class=\'fa fa-info-circle\'></i>\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isCluster"):t,{name:"if",hash:{},fn:e.program(15,o,0),inverse:e.program(17,o,0),data:o,loc:{start:{line:52,column:8},end:{line:56,column:15}}}))?i:"")+'">\n        <div class="nds-sparkline-placeholder-wrapper" hidden="hidden">\n            Loading<span class="inline-pending"></span>\n        </div>\n        <button class="button button-is-xs nds-sparkline-add-storage-button" name="addStorage"\n                '+(null!=(i=s(n,"unless").call(a,null!=t?s(t,"showAddStorage"):t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:61,column:16},end:{line:61,column:59}}}))?i:"")+'>\n            Add Storage\n        </button>\n    </div>\n</div>\n<div class="nds-sparkline-row" hidden="hidden">\n    <div class="nds-sparkline '+(null!=(i=s(n,"if").call(a,null!=t?s(t,"hasConnectionsCapacityWarnings"):t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.program(19,o,0),data:o,loc:{start:{line:67,column:30},end:{line:68,column:101}}}))?i:"")+' js-connections"\n         hidden="hidden" data-html="true" data-toggle="tooltip" title="\n        <i class=\'fa fa-info-circle\'></i>\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isCluster"):t,{name:"if",hash:{},fn:e.program(21,o,0),inverse:e.program(23,o,0),data:o,loc:{start:{line:71,column:8},end:{line:75,column:15}}}))?i:"")+'">\n        <div class="nds-sparkline-placeholder-wrapper" hidden="hidden">\n            Loading<span class="inline-pending"></span>\n        </div>\n    </div>\n    <div class="nds-sparkline nds-sparkline-is-inactive js-disk-iops" hidden="hidden" data-html="true"\n         data-toggle="tooltip" title="\n        <i class=\'fa fa-info-circle\'></i>\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isCluster"):t,{name:"if",hash:{},fn:e.program(25,o,0),inverse:e.program(27,o,0),data:o,loc:{start:{line:83,column:8},end:{line:87,column:15}}}))?i:"")+'         If this value approaches your max you may consider a hardware upgrade.">\n        <div class="nds-sparkline-placeholder-wrapper" hidden="hidden">\n            Loading<span class="inline-pending"></span>\n        </div>\n    </div>\n    <div class="js-upsell nds-sparkline nds-sparkline-is-placeholder nds-sparkline-is-placeholder-is-upsell"\n         hidden="hidden">\n        <div class="nds-sparkline-placeholder-wrapper">\n            <div class="nds-sparkline-placeholder-title">\n                Enhance Your Experience\n            </div>\n            <div class="nds-sparkline-placeholder-text">\n                For dedicated throughput, richer metrics and enterprise security options,\n                upgrade your cluster now!\n            </div>\n            <button class="button button-is-primary js-upgrade" '+(null!=(i=s(n,"unless").call(a,null!=t?s(t,"isGroupClusterManager"):t,{name:"unless",hash:{},fn:e.program(29,o,0),inverse:e.noop,data:o,loc:{start:{line:103,column:64},end:{line:103,column:116}}}))?i:"")+">Upgrade\n            </button>\n        </div>\n    </div>\n</div>\n"},useData:!0})},1935:
/*!*********************************************************************!*\
  !*** ./project/nds/clusters/views/clusterExtendLiveImportModal.hbs ***!
  \*********************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="alert alert-danger" hidden>\n    <i class="fa fa-exclamation-triangle"></i> <span class="alert-danger-msg"></span>\n</div>\n\n<p>You will extend your time to cut over your application by 24 hours.</p>\n'},useData:!0})},1936:
/*!*******************************************************************!*\
  !*** ./project/nds/clusters/views/clusterStopLiveImportModal.hbs ***!
  \*******************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="alert alert-danger" hidden>\n    <i class="fa fa-exclamation-triangle"></i> <span class="alert-danger-msg"></span>\n</div>\n\n<p>Are you sure you want to cancel your data migration to <strong>'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"name")||(null!=t?a(t,"name"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:o,loc:{start:{line:5,column:66},end:{line:5,column:74}}}):i)+"</strong>?</p>\n"},useData:!0})},1937:
/*!**********************************************************!*\
  !*** ./project/nds/clusters/views/atlasMongoUriView.hbs ***!
  \**********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="js-atlas-mongo-uri-view" />\n'},useData:!0})},1938:
/*!****************************************************************************!*\
  !*** ./project/nds/clusters/views/clusterCutoverImportModalReplicaSet.hbs ***!
  \****************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="alert alert-danger" hidden>\n    <i class="fa fa-exclamation-triangle"></i> <span class="alert-danger-msg"></span>\n</div>\n\n<div class="view-modal-paragraph view-modal-paragraph-is-padded-deep">\n'+(null!=(i=e.invokePartial(u(r,"introduction"),t,{name:"introduction",data:o,indent:"    ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+'    <ol class="step-indicator step-indicator-is-vertical step-indicator-has-margin-top">\n'+(null!=(i=e.invokePartial(u(r,"stopApplication"),t,{name:"stopApplication",data:o,indent:"        ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(u(r,"optimeGap"),t,{name:"optimeGap",data:o,indent:"        ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+'        <li class="step-indicator-step step-indicator-step-is-vertical-long">\n            <strong>\n                Restart your application, pointing to your '+c("function"==typeof(a=null!=(a=u(n,"siteName")||(null!=t?u(t,"siteName"):t))?a:l)?a.call(s,{name:"siteName",hash:{},data:o,loc:{start:{line:12,column:59},end:{line:12,column:71}}}):a)+" cluster.\n            </strong>\n            Switchover the application to resume operations pointing to the MongoDB "+c("function"==typeof(a=null!=(a=u(n,"siteName")||(null!=t?u(t,"siteName"):t))?a:l)?a.call(s,{name:"siteName",hash:{},data:o,loc:{start:{line:14,column:84},end:{line:14,column:96}}}):a)+" cluster.\n"+(null!=(i=e.invokePartial(u(r,"connectionString"),t,{name:"connectionString",data:o,indent:"            ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+'        </li>\n        <li class="step-indicator-step step-indicator-step-is-vertical-long">\n            <strong>When you have completed the above steps, please acknowledge completion of this process by\n                clicking "Cut over" below.</strong> Once this button is clicked the system will stop synchronizing\n            writes from your old cluster to your new '+c("function"==typeof(a=null!=(a=u(n,"siteName")||(null!=t?u(t,"siteName"):t))?a:l)?a.call(s,{name:"siteName",hash:{},data:o,loc:{start:{line:20,column:53},end:{line:20,column:65}}}):a)+" cluster. Confirm the steps were performed and the\n            application is communicating to the MongoDB "+c("function"==typeof(a=null!=(a=u(n,"siteName")||(null!=t?u(t,"siteName"):t))?a:l)?a.call(s,{name:"siteName",hash:{},data:o,loc:{start:{line:21,column:56},end:{line:21,column:68}}}):a)+" deployment without issues.\n        </li>\n    </ol>\n</div>\n\n"+(null!=(i=e.invokePartial(u(r,"footer"),t,{name:"footer",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},1939:
/*!********************************************************************************!*\
  !*** ./project/nds/clusters/views/clusterCutoverImportModalShardedCluster.hbs ***!
  \********************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="alert alert-danger" hidden>\n    <i class="fa fa-exclamation-triangle"></i> <span class="alert-danger-msg"></span>\n</div>\n\n<div class="view-modal-paragraph view-modal-paragraph-is-padded-deep">\n'+(null!=(i=e.invokePartial(d(r,"introduction"),t,{name:"introduction",data:o,indent:"    ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+'    <ol class="step-indicator step-indicator-is-vertical step-indicator-has-margin-top">\n        <li class="step-indicator-step step-indicator-step-is-vertical-long">\n            <strong>\n                Prepare to point to your '+u(typeof(a=null!=(a=d(n,"siteName")||(null!=t?d(t,"siteName"):t))?a:l)===c?a.call(s,{name:"siteName",hash:{},data:o,loc:{start:{line:10,column:41},end:{line:10,column:53}}}):a)+" cluster.\n            </strong>\n            Get ready to update your connection string so that it points to the target "+u(typeof(a=null!=(a=d(n,"siteName")||(null!=t?d(t,"siteName"):t))?a:l)===c?a.call(s,{name:"siteName",hash:{},data:o,loc:{start:{line:12,column:87},end:{line:12,column:99}}}):a)+" cluster.\n"+(null!=(i=e.invokePartial(d(r,"connectionString"),t,{name:"connectionString",data:o,indent:"            ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+"        </li>\n"+(null!=(i=e.invokePartial(d(r,"stopApplication"),t,{name:"stopApplication",data:o,indent:"        ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(d(r,"optimeGap"),t,{name:"optimeGap",data:o,indent:"        ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+'        <li class="step-indicator-step step-indicator-step-is-vertical-long">\n            <strong>Cut over.</strong> Once the green "Cut over" button below is clicked, the system will stop\n            synchronizing writes from the source cluster to the '+u(typeof(a=null!=(a=d(n,"siteName")||(null!=t?d(t,"siteName"):t))?a:l)===c?a.call(s,{name:"siteName",hash:{},data:o,loc:{start:{line:19,column:64},end:{line:19,column:76}}}):a)+" cluster.\n            Wait approximately 3-5 minutes until your "+u(typeof(a=null!=(a=d(n,"siteName")||(null!=t?d(t,"siteName"):t))?a:l)===c?a.call(s,{name:"siteName",hash:{},data:o,loc:{start:{line:20,column:54},end:{line:20,column:66}}}):a)+" cluster is ready for use and then restart\n            your application using the new "+u(typeof(a=null!=(a=d(n,"siteName")||(null!=t?d(t,"siteName"):t))?a:l)===c?a.call(s,{name:"siteName",hash:{},data:o,loc:{start:{line:21,column:43},end:{line:21,column:55}}}):a)+' connection string.\n            <br />\n            <br />\n            If you would like to test the cutover process without having to stop writes, you can cancel the\n            migration using the "Cancel" button on the Live Migration progress bar. '+u(typeof(a=null!=(a=d(n,"siteName")||(null!=t?d(t,"siteName"):t))?a:l)===c?a.call(s,{name:"siteName",hash:{},data:o,loc:{start:{line:25,column:84},end:{line:25,column:96}}}):a)+" will stop\n            synchronizing writes from the source cluster but all migrated data will remain on your "+u(typeof(a=null!=(a=d(n,"siteName")||(null!=t?d(t,"siteName"):t))?a:l)===c?a.call(s,{name:"siteName",hash:{},data:o,loc:{start:{line:26,column:99},end:{line:26,column:111}}}):a)+"\n            cluster. \n        </li>\n    </ol>\n</div>\n\n"+(null!=(i=e.invokePartial(d(r,"footer"),t,{name:"footer",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},1940:
/*!******************************************************************************!*\
  !*** ./project/nds/clusters/views/clusterCutoverImportModalIntroduction.hbs ***!
  \******************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<em>Complete the following steps to finish migrating your MongoDB data to your "+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"siteName")||(null!=t?a(t,"siteName"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"siteName",hash:{},data:o,loc:{start:{line:1,column:79},end:{line:1,column:91}}}):i)+"\n    cluster.</em>\n"},useData:!0})},1941:
/*!*********************************************************************************!*\
  !*** ./project/nds/clusters/views/clusterCutoverImportModalStopApplication.hbs ***!
  \*********************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<li class="step-indicator-step step-indicator-step-is-vertical-long">\n    <strong>Stop your application.</strong>\n    This is to ensure that no new data is generated in the source cluster.\n</li>\n'},useData:!0})},1942:
/*!***************************************************************************!*\
  !*** ./project/nds/clusters/views/clusterCutoverImportModalOptimeGap.hbs ***!
  \***************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"hidden"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="step-indicator-step step-indicator-step-is-vertical-long">\n    <strong>\n        Wait for the optime gap to reach zero.\n    </strong>\n    We are migrating the last operations recorded in the source. When the counter reaches zero source and\n    destination will be fully in sync.\n    <div class="step-indicator-step-child">\n                <span class="live-import-oplog-lag live-import-oplog-lag-is-neutral"><i\n                        class="fa fa-clock-o live-import-oplog-lag-icon"></i> <span\n                        class="js-lag-display">'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"oplogLagDisplay")||(null!=t?l(t,"oplogLagDisplay"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"oplogLagDisplay",hash:{},data:o,loc:{start:{line:10,column:47},end:{line:10,column:66}}}):a)+'</span></span>\n        <span class="live-import-check" '+(null!=(i=l(n,"unless").call(s,null!=t?l(t,"isOplogTailingDone"):t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:11,column:40},end:{line:11,column:87}}}))?i:"")+'>\n                    <i class="mms-icon-check"></i>\n                </span>\n    </div>\n</li>\n'},useData:!0})},1943:
/*!**********************************************************************************!*\
  !*** ./project/nds/clusters/views/clusterCutoverImportModalConnectionString.hbs ***!
  \**********************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'    <br />\n    <p>If you\'re unfamiliar with the "mongodb+srv:" connection string prefix, visit our <a href="https://docs.mongodb.com/manual/reference/connection-string/#dns-seedlist-connection-format" target="_blank" rel="noopener noreferrer">documentation on the DNS seedlist connection format.</a></p>\n'},3:function(e,t,n,r,o){return'    <p>Note that if you\'re using a <a href="https://docs.mongodb.com/ecosystem/drivers/driver-compatibility-reference/" target="_blank">driver version that\'s compatible</a>\n    with MongoDB version 3.6 or above, you may also use the connection string format prefixed with "mongodb+srv:" (<a href="https://docs.mongodb.com/manual/reference/connection-string/#dns-seedlist-connection-format" target="_blank" rel="noopener noreferrer">the DNS seedlist connection format</a>). This alternate connection string can be found on the Connect dialog for this cluster.</p>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="step-indicator-step-child">\n    <p>Here is your '+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"siteName")||(null!=t?l(t,"siteName"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"siteName",hash:{},data:o,loc:{start:{line:2,column:20},end:{line:2,column:32}}}):a)+' cluster connection string:</p>\n    <div class="js-mongo-uri"></div>\n'+(null!=(i=l(n,"if").call(s,null!=t?l(t,"hasSrv"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:4,column:4},end:{line:10,column:11}}}))?i:"")+"</div>\n"},useData:!0})},1944:
/*!************************************************************************!*\
  !*** ./project/nds/clusters/views/clusterCutoverImportModalFooter.hbs ***!
  \************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"disabled"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<footer class="view-modal-footer">\n    <hr>\n    <div class="view-modal-actions">\n        <div></div>\n        <div>\n            <button class="button" name="cancel">Close</button>\n            <button class="button button-is-primary" name="done"\n                    '+(null!=(i=a(n,"unless").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isOplogTailingDone"):t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:20},end:{line:8,column:69}}}))?i:"")+">Cut over\n            </button>\n        </div>\n    </div>\n</footer>\n"},useData:!0})},1945:
/*!***************************************************************!*\
  !*** ./project/nds/clusters/views/liveImportProgressView.hbs ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return" live-import-container-has-border live-import-container-has-bottom-margin"},3:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="live-import">\n            <div class="live-import-title">In-progress Migration '+(null!=(i=s(n,"if").call(a,null!=t?s(t,"sourceDisplayLabel"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:5,column:65},end:{line:5,column:126}}}))?i:"")+'...</div>\n            <div class="live-import-status">\n'+(null!=(i=e.invokePartial(s(r,"liveImportProgress"),t,{name:"liveImportProgress",data:o,indent:"                ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+'\n                <div class="live-import-expire">\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"expireDate"):t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.program(8,o,0),data:o,loc:{start:{line:10,column:20},end:{line:15,column:27}}}))?i:"")+"                </div>\n\n"+(null!=(i=e.invokePartial(s(r,"liveImportOplogLag"),t,{name:"liveImportOplogLag",data:o,indent:"                ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+"\n                <div>\n"+(null!=(i=s(n,"unless").call(a,null!=t?s(t,"isCutoverEnabled"):t,{name:"unless",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o,loc:{start:{line:21,column:20},end:{line:32,column:31}}}))?i:"")+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isCutoverEnabled"):t,{name:"if",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o,loc:{start:{line:33,column:20},end:{line:36,column:27}}}))?i:"")+'                    <button class="button button-is-xs" name="cancel"><strong>Cancel</strong></button>\n                </div>\n            </div>\n        </div>\n'},4:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"from "+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"sourceDisplayLabel")||(null!=t?a(t,"sourceDisplayLabel"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"sourceDisplayLabel",hash:{},data:o,loc:{start:{line:5,column:96},end:{line:5,column:118}}}):i)+" "},6:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        <span>"+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"hoursToExpire")||(null!=t?a(t,"hoursToExpire"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"hoursToExpire",hash:{},data:o,loc:{start:{line:11,column:30},end:{line:11,column:47}}}):i)+'h left to cut over</span>\n                        <button class="link" name="extend">Extend time</button>\n'},8:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isOplogSync"):t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:13,column:20},end:{line:15,column:20}}}))?i:""},9:function(e,t,n,r,o){return"                        <span>Catching up oplog...</span>\n                    "},11:function(e,t,n,r,o){return'                        <button\n                            name="cutover-disabled"\n                            class="button button-is-xs button-is-disabled tip"\n                            data-toggle="tooltip"\n                            data-placement="top"\n                            data-container="body"\n                            data-html="true"\n                            data-original-title="<i class=\'fa fa-info-circle\'></i> When the optime countdown to the left turns <span class=\'text text-is-green\'>green</span>, start the cutover process.">\n                            <strong>Prepare to Cutover</strong>\n                        </button>\n'},13:function(e,t,n,r,o){return'                        <button name="cutover" class="button button-is-xs button-is-primary"><strong>Prepare to\n                            Cutover</strong></button>\n'},15:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isSuccess"):t,{name:"if",hash:{},fn:e.program(16,o,0),inverse:e.program(21,o,0),data:o,loc:{start:{line:41,column:4},end:{line:111,column:4}}}))?i:""},16:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="live-import-banner live-import-banner-is-success">\n            <div class="live-import-banner-message-container">\n                <div class="live-import-banner-message"><strong>Success!</strong> Your cluster migration is complete.\n                </div>\n                <div class="live-import-banner-feedback">\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isMlabMigration"):t,{name:"if",hash:{},fn:e.program(17,o,0),inverse:e.noop,data:o,loc:{start:{line:47,column:20},end:{line:49,column:27}}}))?i:"")+'                    <span class="live-import-banner-button-separation">\n                        How\'d it go? We\'d love to get&nbsp;<a href="#info/support"\n                                                              target="_blank"\n                                                              class="live-import-banner-feedback-link">your feedback.</a>\n                    </span>\n                </div>\n            </div>\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"showBannerDismiss"):t,{name:"if",hash:{},fn:e.program(19,o,0),inverse:e.noop,data:o,loc:{start:{line:57,column:12},end:{line:58,column:111}}}))?i:"")+"\n        </div>\n"},17:function(e,t,n,r,o){return'                        <button class="button button-is-xs" name="checklist"><strong>Return to Checklist</strong></button>\n'},19:function(e,t,n,r,o){return'                <button class="link live-import-banner-dismiss"><i class="mms-icon-remove"></i></button>'},21:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isFailed"):t,{name:"if",hash:{},fn:e.program(22,o,0),inverse:e.program(30,o,0),data:o,loc:{start:{line:60,column:4},end:{line:111,column:4}}}))?i:""},22:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="live-import-banner live-import-banner-is-error">\n            <div class="live-import-banner-message-container">\n                <div class="live-import-banner-message">\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"errorMessage"):t,{name:"if",hash:{},fn:e.program(23,o,0),inverse:e.program(25,o,0),data:o,loc:{start:{line:64,column:20},end:{line:75,column:27}}}))?i:"")+"                </div>\n            </div>\n"+(null!=(i=s(n,"if").call(a,null!=t?s(t,"showBannerDismiss"):t,{name:"if",hash:{},fn:e.program(19,o,0),inverse:e.noop,data:o,loc:{start:{line:78,column:12},end:{line:79,column:111}}}))?i:"")+"\n        </div>\n"},23:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        <strong>Live Migration encountered an error:</strong>\n                        "+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"errorMessage")||(null!=t?a(t,"errorMessage"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"errorMessage",hash:{},data:o,loc:{start:{line:66,column:24},end:{line:66,column:40}}}):i)+"\n"},25:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isExpired"):t,{name:"if",hash:{},fn:e.program(26,o,0),inverse:e.program(28,o,0),data:o,loc:{start:{line:67,column:20},end:{line:75,column:20}}}))?i:""},26:function(e,t,n,r,o){return"                        Your cluster migration failed because the cutover time window expired.\n"},28:function(e,t,n,r,o){return'                        Your cluster migration has failed. Please try again or\n                        <a href="#info/support" target="_blank" class="live-import-banner-feedback-link">\n                            contact support\n                        </a>\n                        for more information.\n                    '},30:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="live-import-banner live-import-banner-is-warning">\n            <div class="live-import-banner-message-container">\n                <div class="live-import-banner-message">\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isCancelled"):t,{name:"if",hash:{},fn:e.program(31,o,0),inverse:e.program(36,o,0),data:o,loc:{start:{line:85,column:20},end:{line:102,column:27}}}))?i:"")+"                </div>\n            </div>\n            \x3c!-- Do not allow this warning banner to be dimissed --\x3e\n"+(null!=(i=s(n,"unless").call(a,null!=t?s(t,"isConfiguringForCutover"):t,{name:"unless",hash:{},fn:e.program(48,o,0),inverse:e.noop,data:o,loc:{start:{line:106,column:12},end:{line:109,column:23}}}))?i:"")+"        </div>\n    "},31:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isRunning"):t,{name:"if",hash:{},fn:e.program(32,o,0),inverse:e.program(34,o,0),data:o,loc:{start:{line:86,column:24},end:{line:90,column:31}}}))?i:""},32:function(e,t,n,r,o){return"                            Your cluster migration is being cancelled.\n"},34:function(e,t,n,r,o){return"                            Your cluster migration has been cancelled.\n"},36:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isExpired"):t,{name:"if",hash:{},fn:e.program(37,o,0),inverse:e.program(42,o,0),data:o,loc:{start:{line:91,column:20},end:{line:102,column:20}}}))?i:""},37:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isRunning"):t,{name:"if",hash:{},fn:e.program(38,o,0),inverse:e.program(40,o,0),data:o,loc:{start:{line:92,column:24},end:{line:96,column:31}}}))?i:""},38:function(e,t,n,r,o){return"                            Your cluster migration has expired and is being cancelled.\n"},40:function(e,t,n,r,o){return"                            Your cluster migration has expired.\n"},42:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isConfiguringForCutover"):t,{name:"if",hash:{},fn:e.program(43,o,0),inverse:e.program(45,o,0),data:o,loc:{start:{line:97,column:20},end:{line:102,column:20}}}))?i:""},43:function(e,t,n,r,o){return"                        Your data migration is being finalized and will finish shortly.\n                        You will not be able to connect to this cluster until the migration is complete.\n"},45:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"importSucceededWarningMessage"):t,{name:"if",hash:{},fn:e.program(46,o,0),inverse:e.noop,data:o,loc:{start:{line:100,column:20},end:{line:102,column:20}}}))?i:""},46:function(e,t,n,r,o){var i,a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        "+(null!=(i="function"==typeof(a=null!=(a=s(n,"importSucceededWarningMessage")||(null!=t?s(t,"importSucceededWarningMessage"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"importSucceededWarningMessage",hash:{},data:o,loc:{start:{line:101,column:24},end:{line:101,column:59}}}):a)?i:"")+"\n                    "},48:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"showBannerDismiss"):t,{name:"if",hash:{},fn:e.program(49,o,0),inverse:e.noop,data:o,loc:{start:{line:107,column:16},end:{line:108,column:115}}}))?i:"")+"\n"},49:function(e,t,n,r,o){return'                    <button class="link live-import-banner-dismiss"><i class="mms-icon-remove"></i></button>'},51:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="live-import-sharded">\n            <div class="live-import-sharded-controls">\n                <button class="live-import-sharded-controls-link link">\n                    <i class="fa fa-2x '+(null!=(i=s(n,"if").call(a,null!=t?s(t,"progressPerShardIsOpen"):t,{name:"if",hash:{},fn:e.program(52,o,0),inverse:e.program(54,o,0),data:o,loc:{start:{line:116,column:39},end:{line:117,column:90}}}))?i:"")+' live-import-sharded-controls-arrow"/>\n                    <strong>View Progress per Shard</strong>\n                </button>\n            </div>\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"progressPerShardIsOpen"):t,{name:"if",hash:{},fn:e.program(56,o,0),inverse:e.noop,data:o,loc:{start:{line:121,column:12},end:{line:145,column:19}}}))?i:"")+"        </div>\n"},52:function(e,t,n,r,o){return"fa-angle-down"},54:function(e,t,n,r,o){return"fa-angle-right"},56:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <div class="live-import-sharded-progress">\n'+(null!=(i=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"statusDisplays"):t,{name:"each",hash:{},fn:e.program(57,o,0),inverse:e.noop,data:o,loc:{start:{line:123,column:20},end:{line:143,column:29}}}))?i:"")+"                </div>\n"},57:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                        <div class="live-import-sharded-progress-item-container">\n                            <span class="live-import-sharded-progress-item-label">\n                                '+(null!=(i=s(n,"if").call(a,o&&s(o,"last"),{name:"if",hash:{},fn:e.program(58,o,0),inverse:e.program(60,o,0),data:o,loc:{start:{line:126,column:32},end:{line:126,column:90}}}))?i:"")+'\n                            </span>\n                            <div class="live-import-sharded-progress-item">\n'+(null!=(i=e.invokePartial(s(r,"liveImportProgress"),t,{name:"liveImportProgress",data:o,indent:"                                ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=s(n,"if").call(a,null!=t?s(t,"errorMessage"):t,{name:"if",hash:{},fn:e.program(62,o,0),inverse:e.program(64,o,0),data:o,loc:{start:{line:130,column:32},end:{line:140,column:39}}}))?i:"")+"                            </div>\n                        </div>\n"},58:function(e,t,n,r,o){return"CONFIG SERVERS"},60:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"SHARD "+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"index")||o&&a(o,"index"))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"index",hash:{},data:o,loc:{start:{line:126,column:73},end:{line:126,column:83}}}):i)},62:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                    <div>\n                                        <button value="'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"index")||o&&a(o,"index"))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"index",hash:{},data:o,loc:{start:{line:132,column:55},end:{line:132,column:65}}}):i)+'"\n                                                class="button button-is-xs restart-live-import-for-shard"><strong>RESYNC</strong>\n                                        </button>\n                                    </div>\n'},64:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                    <div class="live-import-sharded-progress-item-oplog-lag">\n'+(null!=(i=e.invokePartial(a(r,"liveImportOplogLag"),t,{name:"liveImportOplogLag",data:o,indent:"                                        ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+"                                    </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="live-import-container'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"renderForClusterDetailPage"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:33},end:{line:2,column:112}}}))?i:"")+'">\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"shouldDisplayStatus"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(15,o,0),data:o,loc:{start:{line:3,column:4},end:{line:111,column:11}}}))?i:"")+(null!=(i=s(n,"if").call(a,null!=t?s(t,"shouldDisplayStatusPerShard"):t,{name:"if",hash:{},fn:e.program(51,o,0),inverse:e.noop,data:o,loc:{start:{line:112,column:4},end:{line:147,column:11}}}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})},1946:
/*!***********************************************************!*\
  !*** ./project/nds/clusters/views/liveImportOplogLag.hbs ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div>\n    <span class="live-import-oplog-lag '+l("function"==typeof(i=null!=(i=c(n,"oplogLagDisplayClass")||(null!=t?c(t,"oplogLagDisplayClass"):t))?i:s)?i.call(a,{name:"oplogLagDisplayClass",hash:{},data:o,loc:{start:{line:2,column:39},end:{line:2,column:63}}}):i)+' tip"\n        data-toggle="tooltip"\n        data-placement="top"\n        data-container="body"\n        data-html="true"\n        data-original-title="<i class=\'fa fa-info-circle\'></i> Once the initial sync is complete this indicator will display the cluster\'s lag from the source. When this number gets close to 0:00 you will be ready to start the cutover process.">\n        <i class="fa fa-clock-o"></i> '+l("function"==typeof(i=null!=(i=c(n,"oplogLagDisplay")||(null!=t?c(t,"oplogLagDisplay"):t))?i:s)?i.call(a,{name:"oplogLagDisplay",hash:{},data:o,loc:{start:{line:8,column:38},end:{line:8,column:57}}}):i)+"\n    </span>\n</div>\n"},useData:!0})},1947:
/*!***********************************************************!*\
  !*** ./project/nds/clusters/views/liveImportProgress.hbs ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'        <div class="live-import-progress-label">Initializing....</div>\n        <div class="live-import-progress-bar live-import-progress-bar-is-indeterminate"></div>\n'},3:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="live-import-progress-label">\n'+(null!=(i=u(n,"if").call(s,null!=t?u(t,"errorMessage"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:7,column:12},end:{line:28,column:19}}}))?i:"")+'            <span class="live-import-progress-label-right">\n                <span class="live-import-progress-label-right-block">'+c("function"==typeof(a=null!=(a=u(n,"copiedDisplay")||(null!=t?u(t,"copiedDisplay"):t))?a:l)?a.call(s,{name:"copiedDisplay",hash:{},data:o,loc:{start:{line:30,column:69},end:{line:30,column:86}}}):a)+' OF </span>\n                <span class="live-import-progress-label-right-block">\n                    '+c("function"==typeof(a=null!=(a=u(n,"totalDisplay")||(null!=t?u(t,"totalDisplay"):t))?a:l)?a.call(s,{name:"totalDisplay",hash:{},data:o,loc:{start:{line:32,column:20},end:{line:32,column:36}}}):a)+'\n                    <span\n                        class="tip"\n                        data-toggle="tooltip"\n                        data-placement="top"\n                        data-container="body"\n                        data-original-title="Total data size of documents being migrated can be much larger than the resulting compressed disk usage."\n                    >\n                        <i class="fa fa-info-circle"></i>\n                    </span>\n                </span>\n            </span>\n        </div>\n        <div class="live-import-progress-bar">\n            <div class="live-import-progress-bar-inner'+(null!=(i=u(n,"if").call(s,null!=t?u(t,"errorMessage"):t,{name:"if",hash:{},fn:e.program(22,o,0),inverse:e.noop,data:o,loc:{start:{line:46,column:54},end:{line:46,column:122}}}))?i:"")+'" style="width: '+c("function"==typeof(a=null!=(a=u(n,"percentComplete")||(null!=t?u(t,"percentComplete"):t))?a:l)?a.call(s,{name:"percentComplete",hash:{},data:o,loc:{start:{line:46,column:138},end:{line:46,column:157}}}):a)+'%"></div>\n        </div>\n'},4:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <span class="live-import-progress-label-left">\n                    <div class="live-import-progress-label-left-message'+(null!=(i=u(n,"if").call(s,null!=t?u(t,"errorMessageIsExpanded"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:9,column:71},end:{line:9,column:160}}}))?i:"")+'" data-index="'+c("function"==typeof(a=null!=(a=u(n,"index")||o&&u(o,"index"))?a:l)?a.call(s,{name:"index",hash:{},data:o,loc:{start:{line:9,column:174},end:{line:9,column:184}}}):a)+'">\n                        <i class="fa fa-exclamation-triangle live-import-error-icon"/>\n                        <strong>Error:</strong> '+c("function"==typeof(a=null!=(a=u(n,"errorMessage")||(null!=t?u(t,"errorMessage"):t))?a:l)?a.call(s,{name:"errorMessage",hash:{},data:o,loc:{start:{line:11,column:48},end:{line:11,column:64}}}):a)+"\n                    </div>\n                </span>\n"},5:function(e,t,n,r,o){return" live-import-progress-label-left-message-is-expanded"},7:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                <span>\n"+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isInitialSyncCopyingData"):t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.program(10,o,0),data:o,loc:{start:{line:16,column:20},end:{line:26,column:27}}}))?i:"")+"                </span>\n"},8:function(e,t,n,r,o){return"                        Performing Initial Sync... Copying data.\n"},10:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isInitialSyncOplog"):t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.program(13,o,0),data:o,loc:{start:{line:18,column:20},end:{line:26,column:20}}}))?i:""},11:function(e,t,n,r,o){return"                        Performing Initial Sync... All data copied. Catching up to oplog before creating indexes.\n"},13:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isInitialSyncCreatingIndexes"):t,{name:"if",hash:{},fn:e.program(14,o,0),inverse:e.program(16,o,0),data:o,loc:{start:{line:20,column:20},end:{line:26,column:20}}}))?i:""},14:function(e,t,n,r,o){return"                        Performing Initial Sync... All data copied. Building indexes.\n"},16:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isOplogSync"):t,{name:"if",hash:{},fn:e.program(17,o,0),inverse:e.program(20,o,0),data:o,loc:{start:{line:22,column:20},end:{line:26,column:20}}}))?i:""},17:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        Initial Sync Complete! "+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isReplicationLagTooHigh"):t,{name:"if",hash:{},fn:e.program(18,o,0),inverse:e.noop,data:o,loc:{start:{line:23,column:47},end:{line:23,column:140}}}))?i:"")+"\n"},18:function(e,t,n,r,o){return"Waiting for replication to catch up on all secondaries."},20:function(e,t,n,r,o){return"                        Performing Initial Sync...\n                    "},22:function(e,t,n,r,o){return" live-import-progress-bar-inner-has-error"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="live-import-progress">\n'+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"isInitializing"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:2,column:4},end:{line:48,column:11}}}))?i:"")+"</div>\n"},useData:!0})},1948:
/*!***********************************************!*\
  !*** ./project/common/views/clusterAlert.hbs ***!
  \***********************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="banner banner-is-warning banner-has-spaced-margins '+l("function"==typeof(i=null!=(i=c(n,"alertModifier")||(null!=t?c(t,"alertModifier"):t))?i:s)?i.call(a,{name:"alertModifier",hash:{},data:o,loc:{start:{line:1,column:63},end:{line:1,column:80}}}):i)+'">\n\t<span class="banner-is-warning-text">\n\t\t<strong>'+l("function"==typeof(i=null!=(i=c(n,"mainText")||(null!=t?c(t,"mainText"):t))?i:s)?i.call(a,{name:"mainText",hash:{},data:o,loc:{start:{line:3,column:10},end:{line:3,column:22}}}):i)+"</strong>\n\t\t"+l("function"==typeof(i=null!=(i=c(n,"subText")||(null!=t?c(t,"subText"):t))?i:s)?i.call(a,{name:"subText",hash:{},data:o,loc:{start:{line:4,column:2},end:{line:4,column:13}}}):i)+'\n\t</span>\n\t<button class="link banner-is-warning-dismiss"><i class="mms-icon-remove banner-is-warning-dismiss-icon"></i></button>\n</div>\n'},useData:!0})},1949:
/*!**************************************************************!*\
  !*** ./project/nds/clusters/views/clusterDetailItemView.hbs ***!
  \**************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div>\n\t<div class="resync-live-import-modal"></div>\n\t<div class="js-cluster-alert"></div>\n\t<div class="js-cluster-react-alert"></div>\n\t<div class="js-cluster-tenant-upgrade-alert"></div>\n\t<div class="cluster-detail">\n\t    <div class="cluster-detail-content">\n\t        <div class="cluster-detail-content-main">\n\t            <div class="cluster-info-panel"></div>\n\t            <div class="cluster-detail-sparklines"></div>\n\t        </div>\n\t        <div class="cluster-detail-live-import"></div>\n\t    </div>\n\t</div>\n</div>\n'},useData:!0})},1950:
/*!******************************************************************!*\
  !*** ./project/nds/clusters/views/filteredEmptyClustersView.hbs ***!
  \******************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="empty-view">\n    <div class="empty-view-text">\n        No matching clusters. Update your search to see existing clusters.\n    </div>\n</div>\n'},useData:!0})},1951:
/*!**********************************************************!*\
  !*** ./project/nds/clusters/views/emptyClustersView.hbs ***!
  \**********************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="empty-view-text empty-view-text-is-sub-heading">\n          Choose your cloud provider, region, and specs.\n        </div>\n        <div class="empty-view-actions">\n          <a name="buildCluster" href="'+c("function"==typeof(a=null!=(a=u(n,"href")||(null!=t?u(t,"href"):t))?a:l)?a.call(s,{name:"href",hash:{},data:o,loc:{start:{line:11,column:39},end:{line:11,column:47}}}):a)+'" class="button '+c("function"==typeof(a=null!=(a=u(n,"buttonClass")||(null!=t?u(t,"buttonClass"):t))?a:l)?a.call(s,{name:"buttonClass",hash:{},data:o,loc:{start:{line:11,column:63},end:{line:11,column:78}}}):a)+' button-is-large">\n              Build a Cluster\n          </a>\n'+(null!=(i=u(n,"if").call(s,null!=t?u(t,"crossCloudReplicationEnabled"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:14,column:10},end:{line:18,column:17}}}))?i:"")+"        </div>\n"+(null!=(i=u(n,"unless").call(s,null!=t?u(t,"isPrivateIPMode"):t,{name:"unless",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:20,column:8},end:{line:25,column:19}}}))?i:"")},2:function(e,t,n,r,o){return'            <button class="button button-is-primary button-is-large js-build-default-cc-cluster">\n              Build a Cross-Cloud Cluster\n            </button>\n'},4:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="empty-view-text empty-view-text-is-tertiary">\n            Once your cluster is up and running, live migrate an existing MongoDB database into '+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"siteName")||(null!=t?a(t,"siteName"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"siteName",hash:{},data:o,loc:{start:{line:22,column:96},end:{line:22,column:108}}}):i)+' with our <a\n            href="https://www.mongodb.com/cloud/atlas/migrate" target="_blank" class="link">Live Migration Service.</a>\n        </div>\n'},6:function(e,t,n,r,o){return'        <p class="empty-view-text-error-info">\n            You do not have permission to create a cluster. Please request access from a Project Owner.\n        </p>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},c='<div class="empty-view empty-view-is-dashed">\n    <img class="empty-view-image" src="/static/images/empty-view-clusters.svg" alt="Create a cluster"/>\n    <div class="empty-view-text empty-view-text-is-heading">\n        Create a cluster\n    </div>\n';return a=null!=(a=l(n,"isGroupOwner")||(null!=t?l(t,"isGroupOwner"):t))?a:e.hooks.helperMissing,s={name:"isGroupOwner",hash:{},fn:e.program(1,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:6,column:4},end:{line:30,column:21}}},i="function"==typeof a?a.call(null!=t?t:e.nullContext||{},s):a,l(n,"isGroupOwner")||(i=e.hooks.blockHelperMissing.call(t,i,s)),null!=i&&(c+=i),c+"</div>\n"},useData:!0})},1952:
/*!************************************************************!*\
  !*** ./project/nds/clusters/views/clusterListControls.hbs ***!
  \************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="section-controls-filter">\n    <form class="section-controls-search-form">\n        <i class="fa fa-search section-controls-search-icon"></i>\n        <input placeholder="Find a cluster..." name="nameFilter" class="section-controls-search-input" value="'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"searchName")||(null!=t?a(t,"searchName"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"searchName",hash:{},data:o,loc:{start:{line:4,column:110},end:{line:4,column:124}}}):i)+'">\n        <button type="reset" class="button button-is-xs section-controls-search-reset" hidden>Ã</button>\n    </form>\n</div>\n'},useData:!0})},1953:
/*!****************************************************!*\
  !*** ./project/nds/clusters/views/clusterList.hbs ***!
  \****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="section-controls section-controls-is-justified"></div>\n<div class="js-project-cluster-alert"></div>\n<div class="js-maintenance-window-region"></div>\n<div class="js-invalid-encryption-at-rest-clusters"></div>\n<div class="section-content section-content-has-horizontal-overflow"></div>\n<div class="js-modal-container"></div>\n'},useData:!0})},1954:
/*!*******************************************************************!*\
  !*** ./project/nds/clusters/views/awsClusterDetailItemHeader.hbs ***!
  \*******************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=e.invokePartial(a(r,"mainClusterInfo"),t,{name:"mainClusterInfo",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a(r,"clusterReapingStatus"),t,{name:"clusterReapingStatus",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a(r,"clusterOptionsMenu"),t,{name:"clusterOptionsMenu",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},1955:
/*!*********************************************************************!*\
  !*** ./project/nds/clusters/views/azureClusterDetailItemHeader.hbs ***!
  \*********************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=e.invokePartial(a(r,"mainClusterInfo"),t,{name:"mainClusterInfo",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a(r,"clusterReapingStatus"),t,{name:"clusterReapingStatus",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a(r,"clusterOptionsMenu"),t,{name:"clusterOptionsMenu",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},1956:
/*!*******************************************************************!*\
  !*** ./project/nds/clusters/views/gcpClusterDetailItemHeader.hbs ***!
  \*******************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=e.invokePartial(a(r,"mainClusterInfo"),t,{name:"mainClusterInfo",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a(r,"clusterReapingStatus"),t,{name:"clusterReapingStatus",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+(null!=(i=e.invokePartial(a(r,"clusterOptionsMenu"),t,{name:"clusterOptionsMenu",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},1957:
/*!********************************************************************!*\
  !*** ./project/nds/clusters/views/freeClusterDetailItemHeader.hbs ***!
  \********************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'<span class="bubble-text bubble-text-is-dark-blue">Sandbox</span>'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="cluster-detail-header-stats">\n    '+(null!=(i=l(n,"if").call(s,null!=t?l(t,"isFree"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:4},end:{line:2,column:90}}}))?i:"")+'\n    <span class="cluster-detail-count bubble-text">'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"replicationFactor")||(null!=t?l(t,"replicationFactor"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"replicationFactor",hash:{},data:o,loc:{start:{line:3,column:51},end:{line:3,column:72}}}):a)+' nodes</span>\n    <span class="cluster-detail-block-text">Replica Set</span>\n</div>\n\n'+(null!=(i=e.invokePartial(l(r,"clusterReapingStatus"),t,{name:"clusterReapingStatus",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")+"\n"+(null!=(i=e.invokePartial(l(r,"clusterOptionsMenu"),t,{name:"clusterOptionsMenu",data:o,helpers:n,partials:r,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},1958:
/*!********************************************************!*\
  !*** ./project/nds/clusters/views/mainClusterInfo.hbs ***!
  \********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="cluster-detail-count bubble-text bubble-text-is-dark">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"numShards")||(null!=t?a(t,"numShards"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"numShards",hash:{},data:o,loc:{start:{line:3,column:75},end:{line:3,column:88}}}):i)+" shards</span>\n"},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="cluster-detail-count bubble-text">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"totalNodes")||(null!=t?a(t,"totalNodes"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"totalNodes",hash:{},data:o,loc:{start:{line:5,column:55},end:{line:5,column:69}}}):i)+" nodes</span>\n"},5:function(e,t,n,r,o){return"            Sharded Cluster\n"},7:function(e,t,n,r,o){return"            Replica Set\n"},9:function(e,t,n,r,o){return"cluster-detail-backup-is-active\n        "},11:function(e,t,n,r,o){return"cluster-detail-backup-is-inactive"},13:function(e,t,n,r,o){return"Active"},15:function(e,t,n,r,o){return"Inactive"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="cluster-detail-header-stats">\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isShardedCluster"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:2,column:4},end:{line:6,column:11}}}))?i:"")+'\n    <span class="cluster-detail-block-text">\n'+(null!=(i=s(n,"if").call(a,null!=t?s(t,"isShardedCluster"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:9,column:8},end:{line:13,column:15}}}))?i:"")+'    </span>\n\n    <span class="cluster-detail-backup\n        '+(null!=(i=s(n,"if").call(a,null!=t?s(t,"hasAnyBackupEnabled"):t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:17,column:8},end:{line:18,column:56}}}))?i:"")+'\n        ">\n        <i class="mms-icon-backup"></i> Backup:\n        <span class="cluster-detail-backup-status">\n            '+(null!=(i=s(n,"if").call(a,null!=t?s(t,"hasAnyBackupEnabled"):t,{name:"if",hash:{},fn:e.program(13,o,0),inverse:e.program(15,o,0),data:o,loc:{start:{line:22,column:12},end:{line:22,column:68}}}))?i:"")+"\n        </span>\n    </span>\n</div>\n"},useData:!0})},1959:
/*!*********************************************************!*\
  !*** ./project/nds/clusters/views/shardDetailsView.hbs ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="cluster-detail-count bubble-text bubble-text-is-dark">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"zoneName")||(null!=t?a(t,"zoneName"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"zoneName",hash:{},data:o,loc:{start:{line:5,column:75},end:{line:5,column:87}}}):i)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="cluster-detail-shard-header">\n'+(null!=(i=e.invokePartial(u(r,"ndsStateIcon"),t,{name:"ndsStateIcon",data:o,indent:"    ",helpers:n,partials:r,decorators:e.decorators}))?i:"")+'    <a class="cluster-detail-hostname" href="'+c("function"==typeof(a=null!=(a=u(n,"metricsUrl")||(null!=t?u(t,"metricsUrl"):t))?a:l)?a.call(s,{name:"metricsUrl",hash:{},data:o,loc:{start:{line:3,column:45},end:{line:3,column:59}}}):a)+'">'+c("function"==typeof(a=null!=(a=u(n,"name")||(null!=t?u(t,"name"):t))?a:l)?a.call(s,{name:"name",hash:{},data:o,loc:{start:{line:3,column:61},end:{line:3,column:69}}}):a)+"</a>\n"+(null!=(i=u(n,"if").call(s,null!=t?u(t,"isGeoSharded"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:4},end:{line:6,column:11}}}))?i:"")+'    <span class="cluster-detail-count bubble-text">'+c("function"==typeof(a=null!=(a=u(n,"replicationFactor")||(null!=t?u(t,"replicationFactor"):t))?a:l)?a.call(s,{name:"replicationFactor",hash:{},data:o,loc:{start:{line:7,column:51},end:{line:7,column:72}}}):a)+' nodes</span>\n    <span class="cluster-detail-block-text">Replica Set</span>\n</div>\n\n<div class="cluster-detail-member-details">\n    <ul class="cluster-child-list"></ul>\n    <div class="cluster-detail-sparklines cluster-detail-sparklines-is-white"></div>\n</div>\n\n<hr/>\n'},usePartial:!0,useData:!0})},1960:
/*!***********************************************************!*\
  !*** ./project/nds/clusters/views/clusterDetailsView.hbs ***!
  \***********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="cluster-detail-member-details">\n    <ul class="cluster-child-list"></ul>\n    <div class="cluster-detail-sparklines cluster-detail-sparklines-is-white"></div>\n</div>\n'},useData:!0})},1972:
/*!**********************************************************!*\
  !*** ./project/nds/clusters/views/clusterDetailPage.hbs ***!
  \**********************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="js-react-page-header"></div>\n<div class="js-modal-container"></div>\n<div class="resync-live-import-modal"></div>\n<div class="cluster-detail cluster-detail-is-borderless '+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"stateClass")||(null!=t?a(t,"stateClass"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"stateClass",hash:{},data:o,loc:{start:{line:4,column:56},end:{line:4,column:70}}}):i)+'">\n    <div class="cluster-detail-header cluster-detail-header-has-no-bottom-border"></div>\n    <div class="js-loading-status"></div>\n    <hr class="cluster-detail-header-divider">\n    <div class="cluster-detail-details"></div>\n</div>\n'},useData:!0})},1983:
/*!***************************************************************************!*\
  !*** ../node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.cjs.js ***!
  \***************************************************************************/
/*! no static exports found */
/*! exports used: DragDropContext, Draggable, Droppable */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(/*! react */8),i=r(o),a=r(n(/*! @babel/runtime/helpers/inheritsLoose */1984)),s=r(n(/*! @babel/runtime/helpers/extends */75)),l=n(/*! redux */92),c=n(/*! react-redux */12),u=n(/*! use-memo-one */1985),d=n(/*! css-box-model */1986),p=r(n(/*! memoize-one */1227)),f=r(n(/*! raf-schd */1987)),h=r(n(/*! react-dom */99));function m(e,t){}m.bind(null,"warn"),m.bind(null,"error");function g(){}function b(e,t,n){var r=t.map((function(t){var r=function(e,t){return s({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}function v(e){this.message=e}function y(e,t){if(!e)throw new v("Invariant failed")}v.prototype.toString=function(){return this.message};var O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=g,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof v&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=b(window,[{eventName:"error",fn:this.onWindowError}])},n.componentWillUnmount=function(){this.unbind()},n.componentDidCatch=function(e){if(!(e instanceof v))throw e;this.setState({})},n.render=function(){return this.props.children(this.setCallbacks)},t}(i.Component),x=function(e){return e+1},j=function(e,t){var n=e.droppableId===t.droppableId,r=x(e.index),o=x(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},E=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},S=function(e){return"\n  The item has returned to its starting position\n  of "+x(e.index)+"\n"},C="\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",_=function(e){return"\n  You have lifted an item in position "+x(e.source.index)+"\n"},A=function(e){var t=e.destination;if(t)return j(e.source,t);var n=e.combine;return n?E(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},N=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+S(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+j(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+E(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+S(e.source)+"\n  "},T={x:0,y:0},w=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},P=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},R=function(e,t){return e.x===t.x&&e.y===t.y},I=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},D=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},k=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},M=function(e,t){return Math.min.apply(Math,t.map((function(t){return k(e,t)})))},L=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},U=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},F=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},B=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=d.getRect({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):d.getRect(e)},z=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,o=e.frame,i=function(e,t,n){var r;return n&&n.increasedBy?s({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(function(e,t){return t?U(e,t.scroll.diff.displacement):e}(t.marginBox,o),r,n);return{page:t,withPlaceholder:n,active:B(i,o)}},V=function(e,t){e.frame||y(!1);var n=e.frame,r=P(t,n.scroll.initial),o=I(r),i=s({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:o},max:n.scroll.max}}),a=z({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return s({},e,{frame:i,subject:a})};function q(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function G(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function H(e,t){if(e.find)return e.find(t);var n=G(e,t);return-1!==n?e[n]:void 0}function W(e){return Array.prototype.slice.call(e)}var Y=p((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),K=p((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Z=p((function(e){return q(e)})),$=p((function(e){return q(e)})),X=p((function(e,t){return $(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}))}));function J(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Q(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var ee=p((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),te=function(e,t){return e.descriptor.droppableId===t.descriptor.id},ne={point:T,value:0},re={invisible:{},visible:{},all:[]},oe={displaced:re,displacedBy:ne,at:null},ie=function(e,t){return function(n){return e<=n&&n<=t}},ae=function(e){var t=ie(e.top,e.bottom),n=ie(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var o=t(r.top)||t(r.bottom),i=n(r.left)||n(r.right);if(o&&i)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||(a&&i||s&&o)}},se=function(e){var t=ie(e.top,e.bottom),n=ie(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},le={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ce={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},ue=function(e){var t=e.target,n=e.destination,r=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:T;return U(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,i)&&function(e,t,n){return n(t)(e)}(a,r,i)},de=function(e){return ue(s({},e,{isVisibleThroughFrameFn:ae}))},pe=function(e){return ue(s({},e,{isVisibleThroughFrameFn:se}))};function fe(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return d.getRect(d.expand(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!de({target:s,destination:n,viewport:o,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c={draggableId:l,shouldAnimate:function(e,t,n){if("boolean"==typeof n)return n;if(!t)return!0;var r=t.invisible,o=t.visible;if(r[e])return!1;var i=o[e];return!i||i.shouldAnimate}(l,a,i)};return e.visible[l]=c,e}),{all:[],visible:{},invisible:{}})}function he(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:re,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function me(e){var t=e.draggable,n=e.insideDestination,r=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=te(t,r);if(null==s)return he({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var u=H(n,(function(e){return e.descriptor.index===s}));if(!u)return he({insideDestination:n,inHomeList:c,displacedBy:i,destination:r});var d=ee(t,n),p=n.indexOf(u);return{displaced:fe({afterDragging:d.slice(p),destination:r,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function ge(e,t){return Boolean(t.effected[e])}var be=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||y(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,o=e.location;if(!r.length)return null;var i=o.index,a=t?i+1:i-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==d?null:me({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var p=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,o=e.combine,i=e.afterCritical;if(!n.isCombineEnabled)return null;var a=o.draggableId,s=r[a].descriptor.index;return ge(a,i)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:i,displaced:s.displaced,draggables:o,combine:u.combine,afterCritical:c});return null==p?null:me({draggable:r,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})},ve=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,o=Q(n);o||y(!1);var i=o.draggableId,a=r[i].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[r]||t.invisible[r]);return ge(r,n)?i?T:I(o.point):i?o.point:T}({displaced:n.displaced,afterCritical:t,combineWith:i,displacedBy:n.displacedBy});return w(a,s)},ye=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Oe=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},xe=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return D(t.line,n.marginBox[t.end]+ye(t,r),Oe(t,n.marginBox,r))},je=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return D(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),Oe(t,n.marginBox,r))},Ee=function(e){var t=e.impact,n=e.draggable,r=e.draggables,o=e.droppable,i=e.afterCritical,a=X(o.descriptor.id,r),s=n.page,l=o.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return D(t.line,n.contentBox[t.start]+ye(t,r),Oe(t,n.contentBox,r))}({axis:l,moveInto:o.page,isMoving:s});var c=t.displaced,u=t.displacedBy,p=c.all[0];if(p){var f=r[p];if(ge(p,i))return je({axis:l,moveRelativeTo:f.page,isMoving:s});var h=d.offset(f.page,u.point);return je({axis:l,moveRelativeTo:h,isMoving:s})}var m=a[a.length-1];if(m.descriptor.id===n.descriptor.id)return s.borderBox.center;if(ge(m.descriptor.id,i)){var g=d.offset(m.page,I(i.displacedBy.point));return xe({axis:l,moveRelativeTo:g,isMoving:s})}return xe({axis:l,moveRelativeTo:m.page,isMoving:s})},Se=function(e,t){var n=e.frame;return n?w(t,n.scroll.diff.displacement):t},Ce=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?Ee({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:i}):ve({impact:t,draggables:o,afterCritical:i}):a}(e),n=e.droppable;return n?Se(n,t):t},_e=function(e,t){var n=P(t,e.scroll.initial),r=I(n);return{frame:d.getRect({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Ae(e,t){return e.map((function(e){return t[e]}))}var Ne=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return w(e.scroll.diff.displacement,t)}(e.viewport,t),o=P(r,n.page.borderBox.center);return w(n.client.borderBox.center,o)},Te=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,l=void 0!==a&&a,c=P(r,t.page.borderBox.center),u={target:U(t.page.borderBox,c),destination:n,withDroppableDisplacement:i,viewport:o};return l?function(e){return ue(s({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=ie(e.top,e.bottom),r=ie(e.left,e.right);return function(e){return t===le?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(u):pe(u)},we=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,l=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!r.isEnabled)return null;var d=X(r.descriptor.id,o),p=te(n,r),f=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.previousImpact;if(!r.isCombineEnabled)return null;if(!J(i))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return s({},i,{at:t})}var l=i.displaced.all,c=l.length?l[0]:null;if(t)return c?a(c):null;var u=ee(n,o);if(!c)return u.length?a(u[u.length-1].descriptor.id):null;var d=G(u,(function(e){return e.descriptor.id===c}));-1===d&&y(!1);var p=d-1;return p<0?null:a(u[p].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:d,previousImpact:i})||be({isMovingForward:t,isInHomeList:p,draggable:n,draggables:o,destination:r,insideDestination:d,previousImpact:i,viewport:a,afterCritical:u});if(!f)return null;var h=Ce({impact:f,draggable:n,droppable:r,draggables:o,afterCritical:u});if(Te({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ne({pageBorderBoxCenter:h,draggable:n,viewport:a}),impact:f,scrollJumpRequest:null};var m=P(h,l);return{clientSelection:c,impact:function(e){var t=e.impact,n=e.viewport,r=e.destination,o=e.draggables,i=e.maxScrollChange,a=_e(n,w(n.scroll.current,i)),l=r.frame?V(r,w(r.frame.scroll.current,i)):r,c=t.displaced,u=fe({afterDragging:Ae(c.all,o),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:c,forceShouldAnimate:!1}),d=fe({afterDragging:Ae(c.all,o),destination:l,displacedBy:t.displacedBy,viewport:n.frame,last:c,forceShouldAnimate:!1}),p={},f={},h=[c,u,d];return c.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,h);t?f[e]=t:p[e]=!0})),s({},t,{displaced:{all:c.all,invisible:p,visible:f}})}({impact:f,viewport:a,destination:r,draggables:o,maxScrollChange:m}),scrollJumpRequest:m}},Pe=function(e){var t=e.subject.active;return t||y(!1),t},Re=function(e,t){var n=e.page.borderBox.center;return ge(e.descriptor.id,t)?P(n,t.displacedBy.point):n},Ie=function(e,t){var n=e.page.borderBox;return ge(e.descriptor.id,t)?U(n,I(t.displacedBy.point)):n},De=p((function(e,t){var n=t[e.line];return{value:n,point:D(e.line,n)}})),ke=function(e,t){return s({},e,{scroll:s({},e.scroll,{max:t})})},Me=function(e,t,n){var r=e.frame;te(t,e)&&y(!1),e.subject.withPlaceholder&&y(!1);var o=De(e.axis,t.displaceBy).point,i=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return D(r.line,t[r.line]);var o=e.subject.page.contentBox[r.size],i=X(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-o;return i<=0?null:D(r.line,i)}(e,o,n),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){var l=z({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return s({},e,{subject:l})}var c=i?w(r.scroll.max,i):r.scroll.max,u=ke(r,c),d=z({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:u});return s({},e,{subject:d,frame:u})},Le=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,o=e.droppables,i=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=ie(a[s.start],a[s.end]),c=Z(o).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return ae(i.frame)(Pe(e))})).filter((function(e){var n=Pe(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=Pe(e),n=ie(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(e,n){var r=Pe(e)[s.crossAxisStart],o=Pe(n)[s.crossAxisStart];return t?r-o:o-r})).filter((function(e,t,n){return Pe(e)[s.crossAxisStart]===Pe(n[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return ie(Pe(e)[s.start],Pe(e)[s.end])(n[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return Pe(e)[s.start]-Pe(t)[s.start]}))[0]:c.sort((function(e,t){var r=M(n,F(Pe(e))),o=M(n,F(Pe(t)));return r!==o?r-o:Pe(e)[s.start]-Pe(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:o,droppables:a,viewport:s});if(!c)return null;var u=X(c.descriptor.id,i),d=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:re,displacedBy:ne,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=Ce({impact:c,draggable:o,droppable:a,draggables:i,afterCritical:l}),d=te(o,a)?a:Me(a,o,i);return Te({draggable:o,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var p,f=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),h=(p=n.descriptor.index,n.descriptor.id===o.descriptor.id||f?p:p+1),m=De(a.axis,o.displaceBy);return me({draggable:o,insideDestination:r,destination:a,viewport:s,displacedBy:m,last:re,index:h})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:i,moveRelativeTo:function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,o=e.insideDestination,i=e.afterCritical;return o.filter((function(e){return pe({target:Ie(e,i),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var o=k(t,Se(r,Re(e,i))),a=k(t,Se(r,Re(n,i)));return o<a?-1:a<o?1:e.descriptor.index-n.descriptor.index}))[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),insideDestination:u,viewport:s,afterCritical:l});if(!d)return null;var p=Ce({impact:d,draggable:r,droppable:c,draggables:i,afterCritical:l});return{clientSelection:Ne({pageBorderBoxCenter:p,draggable:r,viewport:s}),impact:d,scrollJumpRequest:null}},Ue=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Fe=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Ue(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),o=Boolean(r),i=t.dimensions.droppables[t.critical.droppable.id],a=r||i,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!o)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,h=p.droppables;return l?we({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Le({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function Be(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function ze(e){var t=ie(e.top,e.bottom),n=ie(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function Ve(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,o=Z(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,o=e.subject.active;if(!o)return!1;if(r=o,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(ze(o)(t.center))return!0;var i=e.axis,a=o.center[i.crossAxisLine],s=t[i.crossAxisStart],l=t[i.crossAxisEnd],c=ie(o[i.crossAxisStart],o[i.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,o=n.page.borderBox.center,i=r.map((function(e){var n=e.axis,r=D(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:k(o,r)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:n,candidates:o}):null}var qe=function(e,t){return d.getRect(U(e,t))};function Ge(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var He=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,s=e.afterCritical,l=qe(n.page.borderBox,t),c=Ve({pageBorderBox:l,draggable:n,droppables:o});if(!c)return oe;var u=o[c],d=X(u.descriptor.id,r),p=function(e,t){var n=e.frame;return n?qe(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var s=o.axis,l=De(o.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],p=H(ee(t,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox,o=n[s.size]/4,i=ge(t,a),l=Ge({displaced:r.displaced,id:t});return i?l?d>n[s.start]+o&&d<n[s.end]-o:u>n[s.start]-c+o&&u<n[s.end]-c-o:l?d>n[s.start]+c+o&&d<n[s.end]+c-o:u>n[s.start]+o&&u<n[s.end]-o}));return p?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:i,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=De(r.axis,n.displaceBy),u=c.value,d=t[l.start],p=t[l.end],f=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:H(ee(n,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=ge(t,s),o=Ge({displaced:i,id:t});return r?o?p<=n:d<n-u:o?p<=n+u:d<n})),inHomeList:te(n,r)});return me({draggable:n,insideDestination:o,destination:r,viewport:a,last:i,displacedBy:c,index:f})}({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:u,insideDestination:d,last:i.displaced,viewport:a,afterCritical:s})},We=function(e,t){var n;return s({},e,((n={})[t.descriptor.id]=t,n))},Ye=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,o=Ue(t),i=Ue(n);if(!o)return r;if(o===i)return r;var a=r[o];if(!a.subject.withPlaceholder)return r;var l=function(e){var t=e.subject.withPlaceholder;t||y(!1);var n=e.frame;if(!n){var r=z({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return s({},e,{subject:r})}var o=t.oldFrameMaxScroll;o||y(!1);var i=ke(n,o),a=z({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return s({},e,{subject:a,frame:i})}(a);return We(r,l)},Ke=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,l=o||t.viewport,c=r||t.dimensions,u=n||t.current.client.selection,d=P(u,t.initial.client.selection),p={offset:d,selection:u,borderBoxCenter:w(t.initial.client.borderBoxCenter,d)},f={selection:w(p.selection,l.scroll.current),borderBoxCenter:w(p.borderBoxCenter,l.scroll.current),offset:w(p.offset,l.scroll.diff.value)},h={client:p,page:f};if("COLLECTING"===t.phase)return s({phase:"COLLECTING"},t,{dimensions:c,viewport:l,current:h});var m=c.draggables[t.critical.draggable.id],g=i||He({pageOffset:f.offset,draggable:m,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:l,afterCritical:t.afterCritical}),b=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,o=e.previousImpact,i=e.impact,a=Ye({previousImpact:o,impact:i,droppables:r}),s=Ue(i);if(!s)return a;var l=r[s];if(te(t,l))return a;if(l.subject.withPlaceholder)return a;var c=Me(l,t,n);return We(a,c)}({draggable:m,impact:g,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables});return s({},t,{current:h,dimensions:{draggables:c.draggables,droppables:b},impact:g,viewport:l,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var Ze=function(e){var t=e.impact,n=e.viewport,r=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced,l=fe({afterDragging:function(e,t){return e.map((function(e){return t[e]}))}(a.all,r),destination:o,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:i,last:a});return s({},t,{displaced:l})},$e=function(e){var t=e.impact,n=e.draggable,r=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,s=Ce({impact:t,draggable:n,draggables:o,droppable:r,afterCritical:a});return Ne({pageBorderBoxCenter:s,draggable:n,viewport:i})},Xe=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&y(!1);var o=t.impact,i=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=Ue(o);u||y(!1);var d=l[u],p=Ze({impact:o,viewport:i,destination:d,draggables:s}),f=$e({impact:p,draggable:c,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return Ke({impact:p,clientSelection:f,state:t,dimensions:a,viewport:i})},Je=function(e){var t=e.draggable,n=e.home,r=e.draggables,o=e.viewport,i=De(n.axis,t.displaceBy),a=X(n.descriptor.id,r),s=a.indexOf(t);-1===s&&y(!1);var l,c=a.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:i,effected:u};return{impact:{displaced:fe({afterDragging:c,destination:n,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},Qe=function(e){0},et=function(e){0},tt=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,o=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||y(!1),t}(n[t]).scroll.diff.value;return function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,o=d.offset(t.client,n),i=d.withScroll(o,r);return s({},t,{placeholder:s({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:w(o,i),initialWindowScroll:r.scroll.initial})}))},nt=function(e){return"SNAP"===e.movementMode},rt=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:We(e.droppables,t)}}(e.dimensions,t);return!nt(e)||n?Ke({state:e,dimensions:r}):Xe({state:e,dimensions:r})};function ot(e){return e.isDragging&&"SNAP"===e.movementMode?s({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var it={phase:"IDLE",completed:null,shouldFlush:!1},at=function(e,t){if(void 0===e&&(e=it),"FLUSH"===t.type)return s({},it,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&y(!1);var n=t.payload,r=n.critical,o=n.clientSelection,i=n.viewport,a=n.dimensions,l=n.movementMode,c=a.draggables[r.draggable.id],u=a.droppables[r.droppable.id],d={selection:o,borderBoxCenter:c.client.borderBox.center,offset:T},p={client:d,page:{selection:w(d.selection,i.scroll.initial),borderBoxCenter:w(d.selection,i.scroll.initial),offset:w(d.selection,i.scroll.diff.value)}},f=Z(a.droppables).every((function(e){return!e.isFixedOnPage})),h=Je({draggable:c,home:u,draggables:a.draggables,viewport:i}),m=h.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:a,initial:p,current:p,isWindowScrollAllowed:f,impact:m,afterCritical:h.afterCritical,onLiftImpact:m,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&y(!1),s({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&y(!1),function(e){var t=e.state,n=e.published;Qe();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return V(n,e.scroll)})),o=s({},t.dimensions.droppables,{},Y(r)),i=K(tt({additions:n.additions,updatedDroppables:o,viewport:t.viewport})),a=s({},t.dimensions.draggables,{},i);n.removals.forEach((function(e){delete a[e]}));var l={droppables:o,draggables:a},c=Ue(t.impact),u=c?l.droppables[c]:null,d=l.draggables[t.critical.draggable.id],p=l.droppables[t.critical.droppable.id],f=Je({draggable:d,home:p,draggables:a,viewport:t.viewport}),h=f.impact,m=f.afterCritical,g=u&&u.isCombineEnabled?t.impact:h,b=He({pageOffset:t.current.page.offset,draggable:l.draggables[t.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:g,viewport:t.viewport,afterCritical:m});et();var v=s({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:h,dimensions:l,afterCritical:m,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:s({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Be(e)||y(!1);var g=t.payload.client;return R(g,e.current.client.selection)?e:Ke({state:e,clientSelection:g,impact:nt(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return ot(e);if("COLLECTING"===e.phase)return ot(e);Be(e)||y(!1);var b=t.payload,v=b.id,O=b.newScroll,x=e.dimensions.droppables[v];if(!x)return e;var j=V(x,O);return rt(e,j,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Be(e)||y(!1);var E=t.payload,S=E.id,C=E.isEnabled,_=e.dimensions.droppables[S];_||y(!1),_.isEnabled===C&&y(!1);var A=s({},_,{isEnabled:C});return rt(e,A,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Be(e)||y(!1);var N=t.payload,P=N.id,I=N.isCombineEnabled,D=e.dimensions.droppables[P];D||y(!1),D.isCombineEnabled===I&&y(!1);var k=s({},D,{isCombineEnabled:I});return rt(e,k,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Be(e)||y(!1),e.isWindowScrollAllowed||y(!1);var M=t.payload.newScroll;if(R(e.viewport.scroll.current,M))return ot(e);var L=_e(e.viewport,M);return nt(e)?Xe({state:e,viewport:L}):Ke({state:e,viewport:L})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Be(e))return e;var U=t.payload.maxScroll;if(R(U,e.viewport.scroll.max))return e;var F=s({},e.viewport,{scroll:s({},e.viewport.scroll,{max:U})});return s({phase:"DRAGGING"},e,{viewport:F})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&y(!1);var B=Fe({state:e,type:t.type});return B?Ke({state:e,impact:B.impact,clientSelection:B.clientSelection,scrollJumpRequest:B.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var z=t.payload.reason;return"COLLECTING"!==e.phase&&y(!1),s({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:z})}if("DROP_ANIMATE"===t.type){var q=t.payload,G=q.completed,H=q.dropDuration,W=q.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&y(!1),{phase:"DROP_ANIMATING",completed:G,dropDuration:H,newHomeClientOffset:W,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},st=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},lt=function(){return{type:"COLLECTION_STARTING",payload:null}},ct=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},ut=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},dt=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},pt=function(e){return{type:"MOVE",payload:e}},ft=function(){return{type:"MOVE_UP",payload:null}},ht=function(){return{type:"MOVE_DOWN",payload:null}},mt=function(){return{type:"MOVE_RIGHT",payload:null}},gt=function(){return{type:"MOVE_LEFT",payload:null}},bt=function(e){return{type:"DROP_COMPLETE",payload:e}},vt=function(e){return{type:"DROP",payload:e}},yt=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Ot="cubic-bezier(.2,1,.1,1)",xt={drop:0,combining:.7},jt={drop:.75},Et=.2+"s "+"cubic-bezier(0.2, 0, 0, 1)",St={fluid:"opacity "+Et,snap:"transform "+Et+", opacity "+Et,drop:function(e){var t=e+"s "+Ot;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Et,placeholder:"height "+Et+", width "+Et+", margin "+Et},Ct=function(e){return R(e,T)?null:"translate("+e.x+"px, "+e.y+"px)"},_t=Ct,At=function(e,t){var n=Ct(e);return n?t?n+" scale("+jt.drop+")":n:null},Nt=.33,Tt=.55,wt=Tt-Nt,Pt=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var o=t(),i=r.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&y(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&y(!1);var a=o.critical,l=o.dimensions,c=l.draggables[o.critical.draggable.id],u=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:s({},r,{displaced:re}),didDropInsideDroppable:!0}:{impact:Ze({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),d=u.impact,p=u.didDropInsideDroppable,f=p?J(d):null,h=p?Q(d):null,m={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:c.descriptor.id,type:c.descriptor.type,source:m,reason:i,mode:o.movementMode,destination:f,combine:h},b=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,o=e.viewport,i=e.afterCritical,a=r.draggables,s=r.droppables,l=Ue(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=$e({impact:t,draggable:n,draggables:a,afterCritical:i,droppable:c||u,viewport:o});return P(d,n.client.borderBox.center)}({impact:d,draggable:c,dimensions:l,viewport:o.viewport,afterCritical:o.afterCritical}),v={critical:o.critical,afterCritical:o.afterCritical,result:g,impact:d};if(!R(o.current.client.offset,b)||Boolean(g.combine)){var O=function(e){var t=e.current,n=e.destination,r=e.reason,o=k(t,n);if(o<=0)return Nt;if(o>=1500)return Tt;var i=Nt+wt*(o/1500);return Number(("CANCEL"===r?.6*i:i).toFixed(2))}({current:o.current.client.offset,destination:b,reason:i});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:b,dropDuration:O,completed:v}))}else n(bt({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(r)}}},Rt=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function It(e){var t=e.onWindowScroll;var n=f((function(){t(Rt())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),o=g;function i(){return o!==g}return{start:function(){i()&&y(!1),o=b(window,[r])},stop:function(){i()||y(!1),n.cancel(),o(),o=g},isActive:i}}var Dt=function(e){var t=It({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},kt=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=G(e,(function(e){return e.timerId===t}));-1===n&&y(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Mt=function(e,t){Qe(),t(),et()},Lt=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Ut=function(e,t,n,r){if(e){var o=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),o=function(o){t||n||(t=!0,e(o),clearTimeout(r))};return o.wasCalled=function(){return t},o}(n);e(t,{announce:o}),o.wasCalled()||n(r(t))}else n(r(t))},Ft=function(e,t){var n=function(e,t){var n=kt(),r=null,o=function(n){r||y(!1),r=null,Mt(0,(function(){return Ut(e().onDragEnd,n,t,N)}))};return{beforeCapture:function(t,n){r&&y(!1),Mt(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&y(!1),Mt(0,(function(){var r=e().onBeforeDragStart;r&&r(Lt(t,n))}))},start:function(o,i){r&&y(!1);var a=Lt(o,i);r={mode:i,lastCritical:o,lastLocation:a.source,lastCombine:null},n.add((function(){Mt(0,(function(){return Ut(e().onDragStart,a,t,_)}))}))},update:function(o,i){var a=J(i),l=Q(i);r||y(!1);var c=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(o,r.lastCritical);c&&(r.lastCritical=o);var u,d,p=(u=r.lastLocation,d=a,!(null==u&&null==d||null!=u&&null!=d&&u.droppableId===d.droppableId&&u.index===d.index));p&&(r.lastLocation=a);var f=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&(e.draggableId===t.draggableId&&e.droppableId===t.droppableId)}(r.lastCombine,l);if(f&&(r.lastCombine=l),c||p||f){var h=s({},Lt(o,r.mode),{combine:l,destination:a});n.add((function(){Mt(0,(function(){return Ut(e().onDragUpdate,h,t,A)}))}))}},flush:function(){r||y(!1),n.flush()},drop:o,abort:function(){if(r){var e=s({},Lt(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var o=r.payload.critical;return n.beforeStart(o,r.payload.movementMode),t(r),void n.start(o,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var i=r.payload.completed.result;return n.flush(),t(r),void n.drop(i)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},Bt=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&y(!1),e.dispatch(bt({completed:r.completed}))}else t(n)}}},zt=function(e){var t=null,n=null;return function(r){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=b(window,[i])}))}}}},Vt=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(vt({reason:r.reason})))}}}},qt=l.compose,Gt=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,s=e.autoScroller;return l.createStore(at,qt(l.applyMiddleware((t=o,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,s=i.clientSelection,l=i.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(bt({completed:c.completed})),"IDLE"!==n().phase&&y(!1),r({type:"FLUSH",payload:null}),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),p=d.critical,f=d.dimensions,h=d.viewport;r(function(e){return{type:"INITIAL_PUBLISH",payload:e}}({critical:p,dimensions:f,clientSelection:s,movementMode:l,viewport:h}))}else t(o)}}}}(n),Pt,Bt,zt,Vt,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var o=t.getState();return"DRAGGING"!==o.phase&&y(!1),void e.start(o)}n(r),e.scroll(t.getState())}}}}(s),Dt,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var o=r.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Ft(i,a))))};var Ht=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,o=e.width,i=P({x:n,y:t},{x:o,y:r});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Wt=function(){var e=document.documentElement;return e||y(!1),e},Yt=function(){var e=Wt();return Ht({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Kt=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;Qe();var o=function(){var e=Rt(),t=Yt(),n=e.y,r=e.x,o=Wt(),i=r+o.clientWidth,a=n+o.clientHeight;return{frame:d.getRect({top:n,left:r,right:i,bottom:a}),scroll:{initial:e,current:e,max:t,diff:{value:T,displacement:T}}}}(),i=o.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(i,n)})),l=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(i)})),c={draggables:K(l),droppables:Y(s)};return et(),{dimensions:c,critical:t,viewport:o}};function Zt(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var $t,Xt,Jt=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r={additions:{},removals:{},modified:{}},o=null,i=function(){o||(n.collectionStarting(),o=requestAnimationFrame((function(){o=null,Qe();var e=r,i=e.additions,a=e.removals,s=e.modified,l=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(T)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(a),modified:c};r={additions:{},removals:{},modified:{}},et(),n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],i()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,r={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){n||y(!1);var o=n.critical.draggable;"ADDITION"===t.type&&Zt(e,o,t.value)&&r.add(t.value),"REMOVAL"===t.type&&Zt(e,o,t.value)&&r.remove(t.value)};return{updateDroppableIsEnabled:function(r,o){e.droppable.exists(r)||y(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:o})},updateDroppableIsCombineEnabled:function(r,o){n&&(e.droppable.exists(r)||y(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:o}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,o){n&&(e.droppable.exists(r)||y(!1),t.updateDroppableScroll({id:r,newScroll:o}))},startPublishing:function(t){n&&y(!1);var r=e.draggable.getById(t.draggableId),i=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:i.descriptor},s=e.subscribe(o);return n={critical:a,unsubscribe:s},Kt({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}}},Qt=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},en=function(e){window.scrollBy(e.x,e.y)},tn=p((function(e){return Z(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),nn=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var o=r[n];return o.frame?o:null}return function(e,t){return H(tn(t),(function(t){return t.frame||y(!1),ze(t.frame.pageMarginBox)(e)}))}(t,r)},rn=.25,on=.05,an=28,sn=function(e){return Math.pow(e,2)},ln={stopDampeningAt:1200,accelerateAt:360},cn=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,o=n-t;return 0===o?0:(r-t)/o},un=ln.accelerateAt,dn=ln.stopDampeningAt,pn=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return an;if(e===t.startScrollingFrom)return 1;var n=cn({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=an*sn(1-n);return Math.ceil(r)}(t,n);return 0===i?0:o?Math.max(function(e,t){var n=t,r=dn,o=Date.now()-n;if(o>=dn)return e;if(o<un)return 1;var i=cn({startOfRange:un,endOfRange:r,current:o}),a=e*sn(i);return Math.ceil(a)}(i,r),1):i},fn=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*rn,maxScrollValueAt:e[t.size]*on}}(t,o);return n[o.end]<n[o.start]?pn({distanceToEdge:n[o.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i}):-1*pn({distanceToEdge:n[o.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:i})},hn=L((function(e){return 0===e?0:e})),mn=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-n.top,right:n.right-o.x,bottom:n.bottom-o.y,left:o.x-n.left},s=fn({container:n,distanceToEdges:a,dragStartTime:t,axis:le,shouldUseTimeDampening:i}),l=fn({container:n,distanceToEdges:a,dragStartTime:t,axis:ce,shouldUseTimeDampening:i}),c=hn({x:l,y:s});if(R(c,T))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,o=n.height>t.height,i=n.width>t.width;return i||o?i&&o?null:{x:i?0:r.x,y:o?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?R(u,T)?null:u:null},gn=L((function(e){return 0===e?0:e>0?1:-1})),bn=($t=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,n=e.max,r=e.change,o=w(t,r),i={x:$t(o.x,n.x),y:$t(o.y,n.y)};return R(i,T)?null:i}),vn=function(e){var t=e.max,n=e.current,r=e.change,o={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},i=gn(r),a=bn({max:o,current:n,change:i});return!a||(0!==i.x&&0===a.x||0!==i.y&&0===a.y)},yn=function(e,t){return vn({current:e.scroll.current,max:e.scroll.max,change:t})},On=function(e,t){var n=e.frame;return!!n&&vn({current:n.scroll.current,max:n.scroll.max,change:t})},xn=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=mn({dragStartTime:o,container:t.frame,subject:n,center:r,shouldUseTimeDampening:i});return a&&yn(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void o(l)}var c=nn({center:a,destination:Ue(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=mn({dragStartTime:o,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:i});return s&&On(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});u&&i(c.descriptor.id,u)}},jn=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,o=function(e,t){if(!On(e,t))return t;var r=function(e,t){var n=e.frame;return n&&On(e,t)?bn({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var o=P(t,r);return n(e.descriptor.id,o),P(t,o)},i=function(e,t,n){if(!e)return n;if(!yn(t,n))return n;var o=function(e,t){if(!yn(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return bn({current:r,max:n,change:t})}(t,n);if(!o)return r(n),null;var i=P(n,o);return r(i),P(n,i)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Ue(e.impact);r||y(!1);var a=o(e.dimensions.droppables[r],n);if(a){var s=e.viewport,l=i(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=w(e.current.client.selection,n);t({client:r})}(e,l)}}}},En=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,o=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=f(t),o=f(n),i=null,a=function(e){i||y(!1);var t=i,n=t.shouldUseTimeDampening,a=t.dragStartTime;xn({state:e,scrollWindow:r,scrollDroppable:o,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){Qe(),i&&y(!1);var t=Date.now(),n=!1,r=function(){n=!0};xn({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),i={dragStartTime:t,shouldUseTimeDampening:n},et(),n&&a(e)},stop:function(){i&&(r.cancel(),o.cancel(),i=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),i=jn({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}},Sn={base:Xt="data-rbd-drag-handle",draggableId:Xt+"-draggable-id",contextId:Xt+"-context-id"},Cn=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),_n=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),An={contextId:"data-rbd-scroll-container-context-id"},Nn=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Tn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect,wn=function(){var e=document.querySelector("head");return e||y(!1),e},Pn=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Rn(e,t){var n=u.useMemo((function(){return function(e){var t,n,r,o=(t=e,function(e){return"["+e+'="'+t+'"]'}),i=(n="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:o(Sn.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:n,dragging:"pointer-events: none;",dropAnimating:n}}),a=[(r="\n      transition: "+St.outOfTheWay+";\n    ",{selector:o(Cn.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),i,{selector:o(_n.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Nn(a,"always"),resting:Nn(a,"resting"),dragging:Nn(a,"dragging"),dropAnimating:Nn(a,"dropAnimating"),userCancel:Nn(a,"userCancel")}}(e)}),[e]),r=o.useRef(null),i=o.useRef(null),a=u.useCallback(p((function(e){var t=i.current;t||y(!1),t.textContent=e})),[]),s=u.useCallback((function(e){var t=r.current;t||y(!1),t.textContent=e}),[]);Tn((function(){(r.current||i.current)&&y(!1);var o=Pn(t),l=Pn(t);return r.current=o,i.current=l,o.setAttribute("data-rbd-always",e),l.setAttribute("data-rbd-dynamic",e),wn().appendChild(o),wn().appendChild(l),s(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||y(!1),wn().removeChild(t),e.current=null};e(r),e(i)}}),[t,s,a,n.always,n.resting,e]);var l=u.useCallback((function(){return a(n.dragging)}),[a,n.dragging]),c=u.useCallback((function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),d=u.useCallback((function(){i.current&&a(n.resting)}),[a,n.resting]);return u.useMemo((function(){return{dragging:l,dropping:c,resting:d}}),[l,c,d])}var In=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Dn(e){return e instanceof In(e).HTMLElement}function kn(e,t){var n="["+Sn.contextId+'="'+e+'"]',r=W(document.querySelectorAll(n));if(!r.length)return null;var o=H(r,(function(e){return e.getAttribute(Sn.draggableId)===t}));return o&&Dn(o)?o:null}function Mn(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=r(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||y(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return q(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=o(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||y(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return q(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Ln=i.createContext(null),Un=function(){var e=document.body;return e||y(!1),e},Fn={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var Bn=0,zn={separator:"::"};function Vn(e,t){return void 0===t&&(t=zn),u.useMemo((function(){return""+e+t.separator+Bn++}),[t.separator,e])}var qn=i.createContext(null);function Gn(e){0}function Hn(e,t){Gn()}function Wn(){Hn()}function Yn(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e})),t}var Kn,Zn=((Kn={})[13]=!0,Kn[9]=!0,Kn),$n=function(e){Zn[e.keyCode]&&e.preventDefault()},Xn=function(){var e="visibilitychange";return"undefined"==typeof document?e:H([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}();var Jn,Qn={type:"IDLE"};function er(e){var t=e.cancel,n=e.completed,r=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,i=e.clientY;if(0===t){var a={x:n,y:i},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&y(!1);var l=s.point;if(c=l,u=a,Math.abs(u.x-c.x)>=5||Math.abs(u.y-c.y)>=5){var c,u;e.preventDefault();var d=s.actions.fluidLift(a);o({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return 27===e.keyCode?(e.preventDefault(),void t()):void $n(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&y(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:Xn,fn:t}]}function tr(){}var nr=((Jn={})[34]=!0,Jn[33]=!0,Jn[36]=!0,Jn[35]=!0,Jn);function rr(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return 27===r.keyCode?(r.preventDefault(),void n()):32===r.keyCode?(r.preventDefault(),t(),void e.drop()):40===r.keyCode?(r.preventDefault(),void e.moveDown()):38===r.keyCode?(r.preventDefault(),void e.moveUp()):39===r.keyCode?(r.preventDefault(),void e.moveRight()):37===r.keyCode?(r.preventDefault(),void e.moveLeft()):void(nr[r.keyCode]?r.preventDefault():$n(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:Xn,fn:n}]}var or={type:"IDLE"};var ir={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ar(e,t){var n=t.target;return!!Dn(n)&&function e(t,n){if(null==n)return!1;if(Boolean(ir[n.tagName.toLowerCase()]))return!0;var r=n.getAttribute("contenteditable");return"true"===r||""===r||n!==t&&e(t,n.parentElement)}(e,n)}var sr=function(e){return d.getRect(e.getBoundingClientRect()).center};var lr="undefined"==typeof document?"matches":H(["matches","msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||"matches";function cr(e,t){return e.closest?e.closest(t):function e(t,n){return null==t?null:t[lr](n)?t:e(t.parentElement,n)}(e,t)}function ur(e,t){var n,r=t.target;if(!((n=r)instanceof In(n).Element))return null;var o=cr(r,function(e){return"["+Sn.contextId+'="'+e+'"]'}(e));return o&&Dn(o)?o:null}function dr(e){e.preventDefault()}function pr(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function fr(e){var t=e.lockAPI,n=e.store,r=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=r.draggable.findById(o);return!!i&&(!!i.options.isEnabled&&!!Qt(n.getState(),o))}function hr(e){var t=e.lockAPI,n=e.contextId,r=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,l=e.sourceEvent;if(!fr({lockAPI:t,store:r,registry:o,draggableId:i}))return null;var c=o.draggable.getById(i),u=function(e,t){var n="["+Cn.contextId+'="'+e+'"]',r=H(W(document.querySelectorAll(n)),(function(e){return e.getAttribute(Cn.id)===t}));return r&&Dn(r)?r:null}(n,c.descriptor.id);if(!u)return null;if(l&&!c.options.canDragInteractiveElements&&ar(u,l))return null;var d=t.claim(a||g),p="PRE_DRAG";function h(){return c.options.shouldRespectForcePress}function m(){return t.isActive(d)}var v=function(e,t){pr({expected:e,phase:p,isLockActive:m,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function O(e){function n(){t.release(),p="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=b(window,[{eventName:"click",fn:dr,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}n(),r.dispatch(vt({reason:t}))}return"PRE_DRAG"!==p&&(n(),"PRE_DRAG"!==p&&y(!1)),r.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),p="DRAGGING",s({isActive:function(){return pr({expected:"DRAGGING",phase:p,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}return{isActive:function(){return pr({expected:"PRE_DRAG",phase:p,isLockActive:m,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:function(e){var t=f((function(e){v((function(){return pt({client:e})}))})),n=O({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return s({},n,{move:t})},snapLift:function(){var e={moveUp:function(){return v(ft)},moveRight:function(){return v(mt)},moveDown:function(){return v(ht)},moveLeft:function(){return v(gt)}};return O({liftActionArgs:{id:i,clientSelection:sr(u),movementMode:"SNAP"},cleanup:g,actions:e})},abort:function(){pr({expected:"PRE_DRAG",phase:p,isLockActive:m,shouldWarn:!0})&&t.release()}}}var mr=[function(e){var t=o.useRef(Qn),n=o.useRef(g),r=u.useMemo((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,s,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),d(o,i)}}}}}}),[e]),i=u.useMemo((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),a=u.useCallback((function(){n.current=b(window,[i,r],{passive:!1,capture:!0})}),[i,r]),s=u.useCallback((function(){"IDLE"!==t.current.type&&(t.current=Qn,n.current(),a())}),[a]),l=u.useCallback((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=u.useCallback((function(){var e=er({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=b(window,e,{capture:!0,passive:!1})}),[l,s]),d=u.useCallback((function(e,n){"IDLE"!==t.current.type&&y(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Tn((function(){return a(),function(){n.current()}}),[a])},function(e){var t=o.useRef(tr),n=u.useMemo((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&32===n.keyCode){var o=e.findClosestDraggableId(n);if(o){var i=e.tryGetLock(o,l,{sourceEvent:n});if(i){n.preventDefault();var a=!0,s=i.snapLift();t.current(),t.current=b(window,rr(s,l),{capture:!0,passive:!1})}}}function l(){a||y(!1),a=!1,t.current(),r()}}}}),[e]),r=u.useCallback((function(){t.current=b(window,[n],{passive:!1,capture:!0})}),[n]);Tn((function(){return r(),function(){t.current()}}),[r])},function(e){var t=o.useRef(or),n=o.useRef(g),r=u.useCallback((function(){return t.current}),[]),i=u.useCallback((function(e){t.current=e}),[]),a=u.useMemo((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,l,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};n.current(),f(o,a)}}}}}}),[e]),s=u.useCallback((function(){n.current=b(window,[a],{capture:!0,passive:!1})}),[a]),l=u.useCallback((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(or),n.current(),s())}),[s,i]),c=u.useCallback((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),d=u.useCallback((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},o=b(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),n.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=r();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&y(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return i?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:Xn,fn:t}]}(t),e),i=b(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:Xn,fn:t}]}(t),e);n.current=function(){o(),i()}}),[c,r,l]),p=u.useCallback((function(){var e=r();"PENDING"!==e.type&&y(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,i]),f=u.useCallback((function(e,t){"IDLE"!==r().type&&y(!1);var n=setTimeout(p,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),d()}),[d,r,i,p]);Tn((function(){return s(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(or))}}),[r,s,i]),Tn((function(){return b(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function gr(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?mr:[],i||[]),l=o.useState((function(){return function(){var e=null;function t(){e||y(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&y(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=u.useCallback((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);Tn((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),Tn((function(){return l.tryAbandon}),[l.tryAbandon]);var d=u.useCallback((function(e){return fr({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),p=u.useCallback((function(e,o,i){return hr({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:o,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,l,r,n]),f=u.useCallback((function(e){return function(e,t){var n=ur(e,t);return n?n.getAttribute(Sn.draggableId):null}(t,e)}),[t]),h=u.useCallback((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),m=u.useCallback((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),g=u.useCallback(l.isClaimed,[l]),b=u.useMemo((function(){return{canGetLock:d,tryGetLock:p,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:m,isLockClaimed:g}}),[d,p,f,h,m,g]);Gn();for(var v=0;v<s.length;v++)s[v](b)}function br(e){return e.current||y(!1),e.current}function vr(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,a=e.nonce,d=e.dragHandleUsageInstructions,p=o.useRef(null);Wn();var f=Yn(e),h=u.useCallback((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(f.current)}),[f]),m=function(e){var t=u.useMemo((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=o.useRef(null);return o.useEffect((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),s(e.style,Fn),Un().appendChild(e),function(){setTimeout((function(){var t=Un();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),u.useCallback((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),g=function(e){var t=e.contextId,n=e.text,r=Vn("hidden-text",{separator:"-"}),i=u.useMemo((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return o.useEffect((function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",Un().appendChild(e),function(){var t=Un();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:t,text:d}),b=Rn(t,a),v=u.useCallback((function(e){br(p).dispatch(e)}),[]),y=u.useMemo((function(){return l.bindActionCreators({publishWhileDragging:st,updateDroppableScroll:ct,updateDroppableIsEnabled:ut,updateDroppableIsCombineEnabled:dt,collectionStarting:lt},v)}),[v]),O=function(){var e=u.useMemo(Mn,[]);return o.useEffect((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),x=u.useMemo((function(){return Jt(O,y)}),[O,y]),j=u.useMemo((function(){return En(s({scrollWindow:en,scrollDroppable:x.scrollDroppable},l.bindActionCreators({move:pt},v)))}),[x.scrollDroppable,v]),E=function(e){var t=o.useRef({}),n=o.useRef(null),r=o.useRef(null),i=o.useRef(!1),a=u.useCallback((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),s=u.useCallback((function(t){var n=kn(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=u.useCallback((function(e,t){n.current===e&&(n.current=t)}),[]),c=u.useCallback((function(){r.current||i.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&s(e)})))}),[s]),d=u.useCallback((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Sn.draggableId)===e&&(n.current=e)}),[]);return Tn((function(){return i.current=!0,function(){i.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),u.useMemo((function(){return{register:a,tryRecordFocus:d,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[a,d,c,l])}(t),S=u.useMemo((function(){return Gt({announce:m,autoScroller:j,dimensionMarshal:x,focusMarshal:E,getResponders:h,styleMarshal:b})}),[m,j,x,E,h,b]);p.current=S;var C=u.useCallback((function(){var e=br(p);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),_=u.useCallback((function(){var e=br(p).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(u.useMemo((function(){return{isDragging:_,tryAbort:C}}),[_,C]));var A=u.useCallback((function(e){return Qt(br(p).getState(),e)}),[]),N=u.useCallback((function(){return Be(br(p).getState())}),[]),T=u.useMemo((function(){return{marshal:x,focus:E,contextId:t,canLift:A,isMovementAllowed:N,dragHandleUsageInstructionsId:g,registry:O}}),[t,x,g,E,A,N,O]);return gr({contextId:t,store:S,registry:O,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),o.useEffect((function(){return C}),[C]),i.createElement(qn.Provider,{value:T},i.createElement(c.Provider,{context:Ln,store:S},e.children))}var yr=0;var Or=function(e){return function(t){return e===t}},xr=Or("scroll"),jr=Or("auto"),Er=(Or("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Sr=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Er(n,xr)||Er(n,jr)},Cr=function e(t){return null==t||t===document.body||t===document.documentElement?null:Sr(t)?t:e(t.parentElement)},_r=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Ar=function(e){return{closestScrollable:Cr(e),isFixedOnPage:function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))}(e)}},Nr=function(e){var t=e.ref,n=e.descriptor,r=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=d.getBox(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,o=n.paddingBox.left-t.scrollLeft,i=r+t.scrollHeight,a={top:r,right:o+t.scrollWidth,bottom:i,left:o},s=d.expand(a,n.border);return d.createBox({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),p=d.withScroll(u,o),f=function(){if(!c)return null;var e=d.getBox(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:d.withScroll(e,o),scroll:_r(c),scrollSize:t,shouldClipSubject:l}}();return function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=Ht({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:T,displacement:T}}}}(),u="vertical"===i?le:ce;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:o,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:z({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:i,client:u,page:p,closest:f})},Tr={passive:!1},wr={passive:!0},Pr=function(e){return e.shouldPublishImmediately?Tr:wr};function Rr(e){var t=o.useContext(e);return t||y(!1),t}var Ir=function(e){return e&&e.env.closestScrollable||null};function Dr(){}var kr={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Mr=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,o=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?kr:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?St.placeholder:null}};var Lr=i.memo((function(e){var t=o.useRef(null),n=u.useCallback((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,a=e.onTransitionEnd,s=e.onClose,l=e.contextId,c=o.useState("open"===e.animate),d=c[0],p=c[1];o.useEffect((function(){return d?"open"!==r?(n(),p(!1),Dr):t.current?Dr:(t.current=setTimeout((function(){t.current=null,p(!1)})),n):Dr}),[r,d,n]);var f=u.useCallback((function(e){"height"===e.propertyName&&(a(),"close"===r&&s())}),[r,s,a]),h=Mr({isAnimatingOpenOnMount:d,animate:e.animate,placeholder:e.placeholder});return i.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":l,onTransitionEnd:f,ref:e.innerRef})})),Ur=i.createContext(null);var Fr=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return a(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(i.PureComponent),Br=5e3,zr=4500,Vr=function(e,t){return t?St.drop(t.duration):e?St.snap:St.fluid},qr=function(e,t){return e?t?xt.drop:xt.combining:null};function Gr(e){return"DRAGGING"===e.type?(r=(n=e).dimension.client,o=n.offset,i=n.combineWith,a=n.dropping,s=Boolean(i),l=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(n),c=Boolean(a),u=c?At(o,s):_t(o),{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Vr(l,a),transform:u,opacity:qr(s,c),zIndex:c?zr:Br,pointerEvents:"none"}):{transform:_t((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t,n,r,o,i,a,s,l,c,u}function Hr(e){var t=Vn("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=u.useMemo((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),p=u.useCallback((function(e){var t=i();return t||y(!1),function(e,t,n){void 0===n&&(n=T);var r=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=d.calculateBox(o,r),a=d.withScroll(i,n);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)}),[n,i]),f=u.useMemo((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:p}}),[n,p,c,t]),h=o.useRef(f),m=o.useRef(!0);Tn((function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}}),[r.draggable]),Tn((function(){if(m.current)m.current=!1;else{var e=h.current;h.current=f,r.draggable.update(f,e)}}),[f,r.draggable])}function Wr(e,t,n){Hn()}function Yr(e){e.preventDefault()}var Kr=function(e,t){return e===t},Zr=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null};function $r(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Xr={mapped:{type:"SECONDARY",offset:T,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:$r(null)}};var Jr={dropAnimationFinished:yt},Qr=c.connect((function(){var e,t,n,r=(e=p((function(e,t){return{x:e,y:t}})),t=p((function(e,t,n,r,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=p((function(e,n,r,o,i,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,o,i,a,null)}}})),function(r,o){if(r.isDragging){if(r.critical.draggable.id!==o.draggableId)return null;var i=r.current.client.offset,a=r.dimensions.draggables[o.draggableId],s=Ue(r.impact),l=(u=r.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=r.forceShouldAnimate;return n(e(i.x,i.y),r.movementMode,a,o.isClone,s,l,c)}var u;if("DROP_ANIMATING"===r.phase){var d=r.completed;if(d.result.draggableId!==o.draggableId)return null;var p=o.isClone,f=r.dimensions.draggables[o.draggableId],h=d.result,m=h.mode,g=Zr(h),b=function(e){return e.combine?e.combine.draggableId:null}(h),v={duration:r.dropDuration,curve:Ot,moveTo:r.newHomeClientOffset,opacity:b?xt.drop:null,scale:b?jt.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:f,dropping:v,draggingOver:g,combineWith:b,mode:m,forceShouldAnimate:null,snapshot:t(m,p,g,b,v)}}}return null}),o=function(){var e=p((function(e,t){return{x:e,y:t}})),t=p($r),n=p((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(T,e,!0):null},o=function(t,o,i,a){var s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=Q(i),u=c&&c.draggableId===t?o:null;if(!s){if(!l)return r(u);if(i.displaced.invisible[t])return null;var d=I(a.displacedBy.point),p=e(d.x,d.y);return n(p,u,!0)}if(l)return r(u);var f=i.displacedBy.point,h=e(f.x,f.y);return n(h,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:o(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(e,t){return r(e,t)||o(e,t)||Xr}}),Jr,null,{context:Ln,pure:!0,areStatePropsEqual:Kr})((function(e){var t=o.useRef(null),n=u.useCallback((function(e){t.current=e}),[]),r=u.useCallback((function(){return t.current}),[]),i=Rr(qn),a=i.contextId,s=i.dragHandleUsageInstructionsId,l=i.registry,c=Rr(Ur),d=c.type,p=c.droppableId,f=u.useMemo((function(){return{id:e.draggableId,index:e.index,type:d,droppableId:p}}),[e.draggableId,e.index,d,p]),h=e.children,m=e.draggableId,g=e.isEnabled,b=e.shouldRespectForcePress,v=e.canDragInteractiveElements,y=e.isClone,O=e.mapped,x=e.dropAnimationFinished;Wr(),Gn(),y||Hr(u.useMemo((function(){return{descriptor:f,registry:l,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:b,isEnabled:g}}),[f,l,r,v,b,g]));var j=u.useMemo((function(){return g?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:Yr}:null}),[a,s,m,g]),E=u.useCallback((function(e){"DRAGGING"===O.type&&O.dropping&&"transform"===e.propertyName&&x()}),[x,O]),S=u.useMemo((function(){var e=Gr(O),t="DRAGGING"===O.type&&O.dropping?E:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":m,style:e,onTransitionEnd:t},dragHandleProps:j}}),[a,j,m,O,E,n]),C=u.useMemo((function(){return{draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}}),[f.droppableId,f.id,f.index,f.type]);return h(S,O.snapshot,C)}));function eo(e){return Rr(Ur).isUsingCloneFor!==e.draggableId||e.isClone?i.createElement(Qr,e):null}var to=function(e,t){return e===t.droppable.type},no=function(e,t){return t.draggables[e.draggable.id]},ro={updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}};var oo={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||y(!1),document.body}},io=c.connect((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=s({},e,{shouldAnimatePlaceholder:!1}),n=p((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=p((function(r,o,i,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!o)return t;if(!a)return e;var p={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}));return function(n,o){var i=o.droppableId,a=o.type,s=!o.isDropDisabled,l=o.renderClone;if(n.isDragging){var c=n.critical;if(!to(a,c))return t;var u=no(c,n.dimensions),d=Ue(n.impact)===i;return r(i,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var p=n.completed;if(!to(a,p.critical))return t;var f=no(p.critical,n.dimensions);return r(i,s,Zr(p.result)===i,Ue(p.impact)===i,f,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var h=n.completed;if(!to(a,h.critical))return t;var m=Ue(h.impact)===i,g=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),b=h.critical.droppable.id===i;return m?g?e:t:b?e:t}return t}}),ro,null,{context:Ln,pure:!0,areStatePropsEqual:Kr})((function(e){var t=o.useContext(qn);t||y(!1);var n=t.contextId,r=t.isMovementAllowed,a=o.useRef(null),s=o.useRef(null),l=e.children,c=e.droppableId,d=e.type,m=e.mode,g=e.direction,b=e.ignoreContainerClipping,v=e.isDropDisabled,O=e.isCombineEnabled,x=e.snapshot,j=e.useClone,E=e.updateViewportMaxScroll,S=e.getContainerForClone,C=u.useCallback((function(){return a.current}),[]),_=u.useCallback((function(e){a.current=e}),[]),A=(u.useCallback((function(){return s.current}),[]),u.useCallback((function(e){s.current=e}),[]));Hn();var N=u.useCallback((function(){r()&&E({maxScroll:Yt()})}),[r,E]);!function(e){var t=o.useRef(null),n=Rr(qn),r=Vn("droppable"),i=n.registry,a=n.marshal,s=Yn(e),l=u.useMemo((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=o.useRef(l),d=u.useMemo((function(){return p((function(e,n){t.current||y(!1);var r={x:e,y:n};a.updateDroppableScroll(l.id,r)}))}),[l.id,a]),h=u.useCallback((function(){var e=t.current;return e&&e.env.closestScrollable?_r(e.env.closestScrollable):T}),[]),m=u.useCallback((function(){var e=h();d(e.x,e.y)}),[h,d]),g=u.useMemo((function(){return f(m)}),[m]),b=u.useCallback((function(){var e=t.current,n=Ir(e);e&&n||y(!1),e.scrollOptions.shouldPublishImmediately?m():g()}),[g,m]),v=u.useCallback((function(e,r){t.current&&y(!1);var o=s.current,i=o.getDroppableRef();i||y(!1);var a=Ar(i),c={ref:i,descriptor:l,env:a,scrollOptions:r};t.current=c;var u=Nr({ref:i,descriptor:l,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(An.contextId,n.contextId),d.addEventListener("scroll",b,Pr(c.scrollOptions))),u}),[n.contextId,l,b,s]),O=u.useCallback((function(){var e=t.current,n=Ir(e);return e&&n||y(!1),_r(n)}),[]),x=u.useCallback((function(){var e=t.current;e||y(!1);var n=Ir(e);t.current=null,n&&(g.cancel(),n.removeAttribute(An.contextId),n.removeEventListener("scroll",b,Pr(e.scrollOptions)))}),[b,g]),j=u.useCallback((function(e){var n=t.current;n||y(!1);var r=Ir(n);r||y(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),E=u.useMemo((function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:O,dragStopped:x,scroll:j}}),[x,v,O,j]),S=u.useMemo((function(){return{uniqueId:r,descriptor:l,callbacks:E}}),[E,l,r]);Tn((function(){return c.current=S.descriptor,i.droppable.register(S),function(){t.current&&x(),i.droppable.unregister(S)}}),[E,l,x,S,a,i.droppable]),Tn((function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),Tn((function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:c,type:d,mode:m,direction:g,isDropDisabled:v,isCombineEnabled:O,ignoreContainerClipping:b,getDroppableRef:C});var w=i.createElement(Fr,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return i.createElement(Lr,{placeholder:r,onClose:t,innerRef:A,animate:o,contextId:n,onTransitionEnd:N})})),P=u.useMemo((function(){return{innerRef:_,placeholder:w,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":n}}}),[n,c,w,_]),R=j?j.dragging.draggableId:null,I=u.useMemo((function(){return{droppableId:c,type:d,isUsingCloneFor:R}}),[c,R,d]);return i.createElement(Ur.Provider,{value:I},l(P,x),function(){if(!j)return null;var e=j.dragging,t=j.render,n=i.createElement(eo,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return h.createPortal(n,S())}())}));io.defaultProps=oo,t.DragDropContext=function(e){var t=u.useMemo((function(){return""+yr++}),[]),n=e.dragHandleUsageInstructions||C;return i.createElement(O,null,(function(r){return i.createElement(vr,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))},t.Draggable=function(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return i.createElement(eo,s({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))},t.Droppable=io,t.resetServerContext=function(){yr=0,Bn=0}},1984:
/*!***************************************************************!*\
  !*** ../node_modules/@babel/runtime/helpers/inheritsLoose.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},1985:
/*!*************************************************************!*\
  !*** ../node_modules/use-memo-one/dist/use-memo-one.cjs.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! react */8);function o(e,t){var n=r.useState((function(){return{inputs:t,result:e()}}))[0],o=r.useRef(n),i=Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,o.current.inputs))?o.current:{inputs:t,result:e()};return r.useEffect((function(){o.current=i}),[i]),i.result}function i(e,t){return o((function(){return e}),t)}var a=o,s=i;t.useCallback=s,t.useCallbackOne=i,t.useMemo=a,t.useMemoOne=o},1986:
/*!***************************************************************!*\
  !*** ../node_modules/css-box-model/dist/css-box-model.cjs.js ***!
  \***************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(/*! tiny-invariant */1224))&&"object"==typeof r&&"default"in r?r.default:r,i=function(e){var t=e.top,n=e.right,r=e.bottom,o=e.left;return{top:t,right:n,bottom:r,left:o,width:n-o,height:r-t,x:o,y:t,center:{x:(n+o)/2,y:(r+t)/2}}},a=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},s=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},l={top:0,right:0,bottom:0,left:0},c=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?l:n,o=e.border,c=void 0===o?l:o,u=e.padding,d=void 0===u?l:u,p=i(a(t,r)),f=i(s(t,c)),h=i(s(f,d));return{marginBox:p,borderBox:i(t),paddingBox:f,contentBox:h,margin:r,border:c,padding:d}},u=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&o(!1),n},d=function(e,t){var n,r,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=o).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return c({borderBox:l,border:i,margin:a,padding:s})},p=function(e,t){var n={top:u(t.marginTop),right:u(t.marginRight),bottom:u(t.marginBottom),left:u(t.marginLeft)},r={top:u(t.paddingTop),right:u(t.paddingRight),bottom:u(t.paddingBottom),left:u(t.paddingLeft)},o={top:u(t.borderTopWidth),right:u(t.borderRightWidth),bottom:u(t.borderBottomWidth),left:u(t.borderLeftWidth)};return c({borderBox:e,margin:n,padding:r,border:o})};t.calculateBox=p,t.createBox=c,t.expand=a,t.getBox=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return p(t,n)},t.getRect=i,t.offset=d,t.shrink=s,t.withScroll=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),d(e,t)}},1987:
/*!*****************************************************!*\
  !*** ../node_modules/raf-schd/dist/raf-schd.cjs.js ***!
  \*****************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";e.exports=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r}},1988:
/*!***********************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/dist/index.js ***!
  \***********************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a,s,l,c;"undefined"!=typeof self&&self,e.exports=(r=n(/*! react */8),o=n(/*! prop-types */3),i=n(/*! @leafygreen-ui/emotion */1054),a=n(/*! @leafygreen-ui/button */1989),s=n(/*! @leafygreen-ui/modal */1992),l=n(/*! @leafygreen-ui/palette */26),c=n(/*! @leafygreen-ui/text-input */2004),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Variant",{enumerable:!0,get:function(){return o.Variant}});var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(1))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Variant=void 0;var o=f(n(2)),i=d(n(3)),a=n(4),s=f(n(5)),l=f(n(6)),c=n(7),u=d(n(8));function d(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function f(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(){var e=j(["\n  margin: 0 2px;\n\n  :first-of-type {\n    margin: 0 0 0 2px;\n  }\n\n  :last-of-type {\n    margin: 0 2px 0 0;\n  }\n"]);return b=function(){return e},e}function v(){var e=j(["\n  width: 300px;\n  margin-top: 14px;\n"]);return v=function(){return e},e}function y(){var e=j(["\n  color: ",";\n  font-family: Akzidenz, âHelvetica Neueâ, Helvetica, Arial, sans-serif;\n  font-size: 16px;\n  letter-spacing: 0;\n  line-height: 24px;\n\n  padding: 36px;\n"]);return y=function(){return e},e}function O(){var e=j(["\n  width: 600px;\n  padding: initial;\n"]);return O=function(){return e},e}function x(){var e=j(["\n  color: ",";\n  font-size: 24px;\n  font-weight: bold;\n  line-height: 25px;\n\n  margin-bottom: 10px;\n"]);return x=function(){return e},e}function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var E={Default:s.Variant.Primary,Danger:s.Variant.Danger};t.Variant=E;var S=(0,a.css)(x(),c.uiColors.gray.dark2),C=(0,a.css)(O()),_=(0,a.css)(y(),c.uiColors.gray.dark1),A=(0,a.css)(v()),N=(0,a.css)(b()),T=function(e){var t=e.children,n=e.title,r=e.requiredInputText,i=e.buttonText,a=e.variant,c=void 0===a?E.Default:a,d=e.onConfirm,p=e.onCancel,f=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children","title","requiredInputText","buttonText","variant","onConfirm","onCancel"]),g=m((0,o.useState)(!r),2),b=g[0],v=g[1],y=(0,o.useMemo)((function(){v(!r);var e=null;return r&&(e=o.default.createElement(u.default,{label:'Type "'.concat(r,'" to confirm your action'),className:A,onChange:function(e){v(e.target.value===r)},autoFocus:!0})),e}),[r]);return o.default.createElement(l.default,h({},f,{contentClassName:C,setOpen:p}),o.default.createElement("div",{className:_},o.default.createElement("div",{className:S},n),t,y),o.default.createElement(l.Footer,null,o.default.createElement(s.default,{variant:c,disabled:!b,onClick:d,className:N},i),o.default.createElement(s.default,{onClick:p,className:N},"Cancel")))};T.displayName="ConfirmationModal",T.propTypes={title:i.default.string.isRequired,open:i.default.bool,onConfirm:i.default.func,onCancel:i.default.func,children:i.default.node,className:i.default.string,buttonText:i.default.string,variant:i.default.oneOf(Object.values(E)),requiredInputText:i.default.string};var w=T;t.default=w},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=s},function(e,t){e.exports=l},function(e,t){e.exports=c}]))},1989:
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/button/dist/index.js ***!
  \**********************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a,s,l,c;"undefined"!=typeof self&&self,e.exports=(r=n(/*! react */8),o=n(/*! prop-types */3),i=n(/*! @leafygreen-ui/emotion */1054),a=n(/*! @leafygreen-ui/palette */1990),s=n(/*! @leafygreen-ui/leafygreen-provider */117),l=n(/*! polished */210),c=n(/*! @leafygreen-ui/box */1991),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Size",{enumerable:!0,get:function(){return o.Size}}),Object.defineProperty(t,"Variant",{enumerable:!0,get:function(){return o.Variant}}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(1)),i=o.default;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Size=t.Variant=void 0;var r,o,i,a,s=h(n(2)),l=h(n(3)),c=n(4),u=n(5),d=n(6),p=n(7),f=h(n(8));function h(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(){var e=F(["\n      // Usually for this to take effect, you would need the element to be\n      /* ï¿¿positionedï¿¿. Due to an obscure part of CSS spec, flex children */\n      // respect z-index without the position property being set.\n      //\n      // https://www.w3.org/TR/css-flexbox-1/#painting\n      z-index: 1;\n      display: inline-flex;\n      flex-grow: 1;\n      justify-content: center;\n      align-items: center;\n    "]);return g=function(){return e},e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(){var e=F(["\n  color: ",";\n  border-color: ",";\n  background-color: ",";\n  background-image: none;\n  box-shadow: none;\n  pointer-events: none;\n"]);return v=function(){return e},e}function y(){var e=F(["\n  position: relative;\n  // Establishes the root element as a new stacking context\n  // so that the z-index of the span within the button doesn't\n  // appear above other elements on the page that it shouldn't.\n  z-index: 0;\n  border-radius: 3px;\n  box-sizing: border-box;\n  cursor: pointer;\n  display: inline-flex;\n  align-items: stretch;\n  font-family: Akzidenz, 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-weight: normal;\n  text-decoration: none;\n  text-transform: none;\n  transition: all 120ms ease;\n  user-select: none;\n  overflow: hidden;\n  padding: 0;\n\n  &:hover {\n    text-decoration: none;\n  }\n\n  // We're using CSS pseudo elements here in order to\n  // transition the gradients between button pseudo classes.\n  &:before,\n  &:after {\n    content: '';\n    transition: 0.15s opacity ease-in-out;\n    opacity: 0;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n  }\n\n  &:not(:disabled) {\n    &:focus,\n    &:hover {\n      &:before {\n        opacity: 1;\n      }\n    }\n\n    &:active:after {\n      opacity: 1;\n    }\n  }\n"]);return y=function(){return e},e}function O(){var e=F(["\n  &:focus {\n    text-decoration: none;\n\n    &:not(:disabled):before {\n      opacity: 1;\n    }\n  }\n"]);return O=function(){return e},e}function x(){var e=F(["\n    margin-right: 8px;\n  "]);return x=function(){return e},e}function j(){var e=F(["\n    margin-right: 5px;\n  "]);return j=function(){return e},e}function E(){var e=F(["\n    margin-right: 4px;\n  "]);return E=function(){return e},e}function S(){var e=F(["\n    margin-right: 2px;\n  "]);return S=function(){return e},e}function C(){var e=F(["\n    padding: 0 20px;\n  "]);return C=function(){return e},e}function _(){var e=F(["\n    padding: 0 12px;\n  "]);return _=function(){return e},e}function A(){var e=F(["\n    padding: 0 10px;\n  "]);return A=function(){return e},e}function N(){var e=F(["\n    padding: 0 8px;\n  "]);return N=function(){return e},e}function T(){var e=F(["\n    height: 45px;\n    font-size: 16px;\n  "]);return T=function(){return e},e}function w(){var e=F(["\n    height: 32px;\n    font-size: 14px;\n  "]);return w=function(){return e},e}function P(){var e=F(["\n    height: 25px;\n    font-size: 14px;\n  "]);return P=function(){return e},e}function R(){var e=F(["\n    height: 22px;\n    font-size: 11px;\n    text-transform: uppercase;\n    font-weight: bold;\n  "]);return R=function(){return e},e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(){var e=F(["\n    color: ",";\n    border: 1px solid ",";\n    background-color: ",";\n    background-image: linear-gradient(\n      ",",\n      ","\n    );\n    box-shadow: inset 0 -1px 0 ",";\n\n    &:before {\n      background-image: linear-gradient(\n        ",",\n        ","\n      );\n      box-shadow: 0 1px 4px ",",\n        inset 0 -1px 0 ",";\n    }\n\n    &:after {\n      background-image: linear-gradient(\n        ",",\n        ","\n      );\n      box-shadow: inset 0 2px 2px ",";\n    }\n\n    &:focus,\n    &:hover {\n      color: ",";\n    }\n  "]);return D=function(){return e},e}function k(){var e=F(["\n    color: ",";\n    border: 1px solid ",";\n    background-color: ",";\n    background-image: linear-gradient(#e45b26, #b63016);\n    box-shadow: inset 0 -1px 0 0 ",";\n\n    &:before {\n      background-color: ",";\n      background-image: linear-gradient(#e45b26, ",");\n      box-shadow: 0 1px 4px ",",\n        inset 0 -1px 0 ",";\n    }\n\n    &:after {\n      background-color: ",";\n      background-image: linear-gradient(#ad231b, #e45b26);\n      box-shadow: inset 0 2px 2px ",";\n    }\n\n    &:focus,\n    &:hover {\n      color: ",";\n    }\n  "]);return k=function(){return e},e}function M(){var e=F(["\n    color: ",";\n    background-color: transparent;\n    background-image: none;\n    border: 1px solid ",";\n    box-shadow: none;\n\n    &:before {\n      background-color: #129f4c;\n      background-image: linear-gradient(#129f4c, #148040);\n      box-shadow: 0 1px 4px ",",\n        inset 0 -1px 0 #158242;\n    }\n\n    &:after {\n      background-color: ",";\n      background-image: linear-gradient(#148040, #129f4c);\n      box-shadow: inset 0 2px 2px ",";\n    }\n\n    &:not(:disabled) {\n      &:focus,\n      &:hover,\n      &:active {\n        border-color: #158242;\n        color: ",";\n      }\n    }\n  "]);return M=function(){return e},e}function L(){var e=F(["\n    color: ",";\n    border: 1px solid #158242;\n    background-color: ",";\n    background-image: linear-gradient(",", #18964c);\n    box-shadow: inset 0 -1px 0 #158242;\n\n    &:before {\n      background-color: #129f4c;\n      background-image: linear-gradient(#129f4c, #148040);\n      box-shadow: 0 1px 4px ",",\n        inset 0 -1px 0 #158242;\n    }\n\n    &:after {\n      background-color: ",";\n      background-image: linear-gradient(#148040, #129f4c);\n      box-shadow: inset 0 2px 2px ",";\n    }\n\n    &:focus,\n    &:hover {\n      color: ",";\n    }\n  "]);return L=function(){return e},e}function U(){var e=F(["\n    color: ",";\n    border: 1px solid ",";\n    background-color: ",";\n    background-image: linear-gradient(\n      ",",\n      ","\n    );\n    box-shadow: inset 0 -1px 0 ",";\n\n    &:before {\n      border-color: ",";\n      background-color: ",";\n      background-image: linear-gradient(",", #dde4e2);\n      box-shadow: inset 0 -1px 0 ",",\n        0 1px 4px ",";\n    }\n\n    &:after {\n      border-color: ",";\n      background-color: ",";\n      background-image: linear-gradient(#dde4e2, ",");\n      box-shadow: inset 0 2px 2px ",";\n    }\n\n    &:focus,\n    &:hover {\n      color: ",";\n    }\n  "]);return U=function(){return e},e}function F(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var B={Default:"default",Primary:"primary",Info:"info",Danger:"danger",Dark:"dark"};t.Variant=B;var z={XSmall:"xsmall",Small:"small",Normal:"normal",Large:"large"};t.Size=z;var V=(I(r={},B.Default,(0,c.css)(U(),u.uiColors.gray.dark2,u.uiColors.gray.light1,u.uiColors.gray.light3,u.uiColors.white,u.uiColors.gray.light2,u.uiColors.gray.light1,u.uiColors.gray.light1,u.uiColors.gray.light2,u.uiColors.gray.light3,u.uiColors.gray.light1,(0,p.transparentize)(.9,u.uiColors.black),u.uiColors.gray.light1,u.uiColors.gray.light3,u.uiColors.gray.light3,(0,p.transparentize)(.9,u.uiColors.black),u.uiColors.gray.dark2)),I(r,B.Primary,(0,c.css)(L(),u.uiColors.white,u.uiColors.green.base,u.uiColors.green.base,(0,p.transparentize)(.9,u.uiColors.black),u.uiColors.green.base,u.uiColors.green.dark2,u.uiColors.white)),I(r,B.Info,(0,c.css)(M(),u.uiColors.green.base,u.uiColors.green.base,(0,p.transparentize)(.9,u.uiColors.black),u.uiColors.green.base,u.uiColors.green.dark2,u.uiColors.white)),I(r,B.Danger,(0,c.css)(k(),u.uiColors.white,u.uiColors.red.dark2,u.uiColors.red.base,u.uiColors.red.dark2,u.uiColors.red.dark2,u.uiColors.red.dark2,(0,p.transparentize)(.9,u.uiColors.black),u.uiColors.red.dark2,u.uiColors.red.dark2,u.uiColors.red.dark2,u.uiColors.white)),I(r,B.Dark,(0,c.css)(D(),u.uiColors.white,u.uiColors.gray.dark2,u.uiColors.gray.dark1,u.uiColors.gray.base,u.uiColors.gray.dark1,u.uiColors.gray.dark2,u.uiColors.gray.base,u.uiColors.gray.dark2,(0,p.transparentize)(.9,u.uiColors.black),u.uiColors.gray.dark2,u.uiColors.gray.dark1,u.uiColors.gray.base,u.uiColors.gray.dark2,u.uiColors.white)),r),q=(I(o={},z.XSmall,(0,c.css)(R())),I(o,z.Small,(0,c.css)(P())),I(o,z.Normal,(0,c.css)(w())),I(o,z.Large,(0,c.css)(T())),o),G=(I(i={},z.XSmall,(0,c.css)(N())),I(i,z.Small,(0,c.css)(A())),I(i,z.Normal,(0,c.css)(_())),I(i,z.Large,(0,c.css)(C())),i),H=(I(a={},z.XSmall,(0,c.css)(S())),I(a,z.Small,(0,c.css)(E())),I(a,z.Normal,(0,c.css)(j())),I(a,z.Large,(0,c.css)(x())),a),W=(0,c.css)(O()),Y=(0,c.css)(y()),K=(0,c.css)(v(),u.uiColors.gray.base,u.uiColors.gray.light1,u.uiColors.gray.light2),Z=s.default.forwardRef((function(e,t){var n=e.className,r=e.children,o=e.disabled,i=void 0!==o&&o,a=e.variant,l=void 0===a?B.Default:a,u=e.size,p=void 0===u?z.Normal:u,h=e.glyph,v=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["className","children","disabled","variant","size","glyph"]),y=(0,d.useUsingKeyboardContext)().usingKeyboard,O=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:t,className:(0,c.cx)(Y,q[p],V[l],I({},K,i),I({},W,y),n)},"string"!=typeof v.href&&{disabled:i},{"aria-disabled":i}),x=(0,c.css)(g()),j=h&&r?s.default.cloneElement(h,{className:(0,c.cx)(I({},H[p],null!=h))}):h,E=s.default.createElement("span",{className:(0,c.cx)(x,G[p])},j,r);return"string"==typeof v.href?s.default.createElement(f.default,m({as:"a"},O,v),E):s.default.createElement(f.default,m({as:"button",type:"button"},O,v),E)}));Z.displayName="Button",Z.propTypes={variant:l.default.oneOf(Object.values(B)),size:l.default.oneOf(Object.values(z)),className:l.default.string,children:l.default.node,disabled:l.default.bool,as:l.default.oneOfType([l.default.element,l.default.elementType,l.default.func]),href:l.default.string,glyph:l.default.element};var $=Z;t.default=$},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=s},function(e,t){e.exports=l},function(e,t){e.exports=c}]))},1990:
/*!**********************************************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/button/node_modules/@leafygreen-ui/palette/dist/index.js ***!
  \**********************************************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.uiColors=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(1));t.uiColors=o,n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=t.yellow=t.blue=t.green=t.gray=t.black=t.white=void 0,t.white="#FFFFFF",t.black="#061621",t.gray={dark3:"#21313C",dark2:"#3D4F58",dark1:"#5D6C74",base:"#89989B",light1:"#B8C4C2",light2:"#E7EEEC",light3:"#F9FBFA"},t.green={dark3:"#0B3B35",dark2:"#116149",base:"#13AA52",light2:"#C3E7CA",light3:"#E4F4E4"},t.blue={dark3:"#0D324F",dark2:"#1A567E",base:"#007CAD",light2:"#C5E4F2",light3:"#E1F2F6"},t.yellow={dark3:"#543E07",dark2:"#86681D",base:"#FFDD49",light2:"#FEF2C8",light3:"#FEF7E3"},t.red={dark3:"#570B08",dark2:"#8F221B",base:"#CF4A22",light2:"#F9D3C5",light3:"#FCEBE2"}},function(e,t,n){"use strict";n.r(t),t.default=n.p+"ui-colors.less"}])},1991:
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/box/dist/index.js ***!
  \*******************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o;"undefined"!=typeof self&&self,e.exports=(r=n(/*! react */8),o=n(/*! prop-types */3),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BoxProps",{enumerable:!0,get:function(){return o.BoxProps}}),Object.defineProperty(t,"ExtendableBox",{enumerable:!0,get:function(){return o.ExtendableBox}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2)),o=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null!=e.as){var n=e.as,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["as"]);return r.default.createElement(n,a({},o,{ref:t}))}return null!=e.href?r.default.createElement("a",a({},e,{ref:t})):r.default.createElement("div",a({},e,{ref:t}))}s.displayName="InlineBox";var l=r.default.forwardRef(s);l.displayName="Box",l.propTypes={as:o.default.oneOfType([o.default.elementType,o.default.element,o.default.func]),href:o.default.string};var c=l;t.default=c},function(e,t){e.exports=r},function(e,t){e.exports=o}]))},1992:
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/modal/dist/index.js ***!
  \*********************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a,s,l,c,u,d,p;"undefined"!=typeof self&&self,e.exports=(r=n(/*! react */8),o=n(/*! @leafygreen-ui/emotion */1054),i=n(/*! @leafygreen-ui/palette */1993),a=n(/*! prop-types */3),s=n(/*! react-transition-group */1994),l=n(/*! polished */210),c=n(/*! @leafygreen-ui/portal */1999),u=n(/*! @leafygreen-ui/icon/dist/X */2e3),d=n(/*! @leafygreen-ui/icon-button */2001),p=n(/*! @leafygreen-ui/hooks */2003),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Footer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ModalSize",{enumerable:!0,get:function(){return a.ModalSize}}),t.default=void 0;var o,i=(o=n(4))&&o.__esModule?o:{default:o},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(5)),s=a.default;t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(0))&&r.__esModule?r:{default:r},i=n(1),a=n(2);function s(){var e=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: relative;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n\n  display: flex;\n  justify-content: right;\n  flex-direction: row-reverse;\n  padding: 16px 24px;\n  border-top: 1px solid ",";\n"]);return s=function(){return e},e}var l=(0,i.css)(s(),a.uiColors.gray.light2),c=function(e){var t=e.children,n=e.className;return o.default.createElement("div",{className:"".concat(l," ").concat(n)},t)};c.displayName="Footer";var u=c;t.default=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mq=t.ModalSize=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(0)),i=m(n(6)),a=n(7),s=n(8),l=m(n(9)),c=m(n(10)),u=m(n(11)),d=m(n(12)),p=n(13),f=n(2),h=n(1);function m(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){var e=A(["\n  color: ",";\n  position: absolute;\n  cursor: pointer;\n  right: 12px;\n  top: 12px;\n"]);return v=function(){return e},e}function y(){var e=A(["\n    ","\n  "]);return y=function(){return e},e}function O(){var e=A(["\n    width: 720px;\n  "]);return O=function(){return e},e}function x(){var e=A(["\n    width: 400px;\n  "]);return x=function(){return e},e}function j(){var e=A(["\n  transform: translate3d(0, 0, 0);\n  opacity: 1;\n"]);return j=function(){return e},e}function E(){var e=A(["\n  transition: all 150ms ease-in-out;\n  margin: auto;\n  max-height: calc(100% - ","px);\n  padding: 36px;\n  color: ",";\n  background-color: ",";\n  border-radius: 3px;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n  position: relative;\n  pointer-events: all;\n  transform: translate3d(0, -16px, 0);\n  opacity: 0;\n\n  &:focus {\n    outline: none;\n  }\n"]);return E=function(){return e},e}function S(){var e=A(["\n  position: absolute;\n  min-height: 100%;\n  width: 100%;\n\n  padding: ","px;\n  overflow-y: auto;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return S=function(){return e},e}function C(){var e=A(["\n  opacity: 1;\n"]);return C=function(){return e},e}function _(){var e=A(["\n  background-color: ",";\n  overflow-y: auto;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 0;\n  transition: opacity 150ms ease-in-out;\n"]);return _=function(){return e},e}function A(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var N={Small:"small",Default:"default",Large:"large"};t.ModalSize=N;var T=(0,l.default)(["@media only screen and (max-width: ".concat("767px",")"),"@media only screen and (min-width: ".concat("768px",")"),"@media only screen and (min-width: ".concat("1025px",")")]);t.mq=T;var w=(0,h.css)(_(),(0,s.transparentize)(.4,f.uiColors.black)),P=(0,h.css)(C()),R=(0,h.css)(S(),18),I=(0,h.css)(E(),18,f.uiColors.gray.dark3,f.uiColors.white),D=(0,h.css)(j()),k={small:(0,h.css)(x()),default:(0,h.css)(O()),large:(0,h.css)(y(),T({width:["720px","720px","960px"]}))},M=(0,h.css)(v(),f.uiColors.gray.dark1);function L(e){var t=e.open,n=void 0!==t&&t,r=e.size,i=void 0===r?N.Default:r,s=e.setOpen,l=void 0===s?function(){}:s,m=e.shouldClose,v=void 0===m?function(){return!0}:m,y=e.closeOnBackdropClick,O=void 0===y||y,x=e.children,j=e.className,E=e.contentClassName,S=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["open","size","setOpen","shouldClose","closeOnBackdropClick","children","className","contentClassName"]),C=(0,o.useRef)(null),_=o.default.useRef(null),A=(0,o.useCallback)((function(){l&&v()&&l(!1)}),[l,v]),T=function(e){O&&e.target===(null==C?void 0:C.current)&&A()};return(0,p.useEscapeKey)(A,{enabled:n}),o.default.createElement(a.Transition,{in:n,timeout:150,mountOnEnter:!0,unmountOnExit:!0,nodeRef:_},(function(e){return o.default.createElement(c.default,null,o.default.createElement("div",g({ref:_},S,{role:"none",onClick:T,className:(0,h.cx)(j,w,b({},P,"entered"===e))}),o.default.createElement("div",{className:R,ref:C},o.default.createElement("div",{"aria-modal":"true",role:"dialog",tabIndex:-1,className:(0,h.cx)(I,k[i],b({},D,"entered"===e),E)},o.default.createElement(d.default,{onClick:A,"aria-label":"Close modal",className:M,size:"large"},o.default.createElement(u.default,{fill:f.uiColors.gray.dark1})),x))))}))}L.displayName="Modal",L.propTypes={open:i.default.bool,size:i.default.string,children:i.default.node,shouldClose:i.default.func,className:i.default.string,setOpen:i.default.func};var U=L;t.default=U},function(e,t){e.exports=a},function(e,t){e.exports=s},function(e,t){e.exports=l},function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.literal,r=t.overlap,o=n?e:["&"].concat(e);function i(e){if("object"!=typeof e||null==e)return[];if(Array.isArray(e))return e.map(i);var t={},a={},s={};return Object.keys(e).forEach((function(l){var c=e[l];if(!Array.isArray(c)&&n&&(c=[c]),(n||Array.isArray(c))&&38!==l.charCodeAt(0)){var u=void 0;c.forEach((function(e,i){if((!r||u!==e)&&null!=e)if(u=e,0!==i||n)if(void 0===t[o[i]]){var a;t[o[i]]=((a={})[l]=e,a)}else t[o[i]][l]=e;else s[l]=e}))}else"object"==typeof c?a[l]=i(c):s[l]=c})),o.forEach((function(e){t[e]&&(s[e]=t[e])})),Object.assign(s,a),s}return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(i)}}},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=d},function(e,t){e.exports=p}]))},1993:
/*!*********************************************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/modal/node_modules/@leafygreen-ui/palette/dist/index.js ***!
  \*********************************************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.uiColors=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(1));t.uiColors=o,n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=t.yellow=t.blue=t.green=t.gray=t.black=t.white=void 0,t.white="#FFFFFF",t.black="#061621",t.gray={dark3:"#21313C",dark2:"#3D4F58",dark1:"#5D6C74",base:"#89989B",light1:"#B8C4C2",light2:"#E7EEEC",light3:"#F9FBFA"},t.green={dark3:"#0B3B35",dark2:"#116149",base:"#13AA52",light2:"#C3E7CA",light3:"#E4F4E4"},t.blue={dark3:"#0D324F",dark2:"#1A567E",base:"#007CAD",light2:"#C5E4F2",light3:"#E1F2F6"},t.yellow={dark3:"#543E07",dark2:"#86681D",base:"#FFDD49",light2:"#FEF2C8",light3:"#FEF7E3"},t.red={dark3:"#570B08",dark2:"#8F221B",base:"#CF4A22",light2:"#F9D3C5",light3:"#FCEBE2"}},function(e,t,n){"use strict";n.r(t),t.default=n.p+"ui-colors.less"}])},1994:
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/react-transition-group/cjs/index.js ***!
  \**********************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.config=t.Transition=t.TransitionGroup=t.SwitchTransition=t.ReplaceTransition=t.CSSTransition=void 0;var r=c(n(/*! ./CSSTransition */1995));t.CSSTransition=r.default;var o=c(n(/*! ./ReplaceTransition */1996));t.ReplaceTransition=o.default;var i=c(n(/*! ./SwitchTransition */1998));t.SwitchTransition=i.default;var a=c(n(/*! ./TransitionGroup */1565));t.TransitionGroup=a.default;var s=c(n(/*! ./Transition */1321));t.Transition=s.default;var l=c(n(/*! ./config */1563));function c(e){return e&&e.__esModule?e:{default:e}}t.config=l.default},1995:
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/react-transition-group/cjs/CSSTransition.js ***!
  \******************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;s(n(/*! prop-types */3));var r=s(n(/*! dom-helpers/addClass */538)),o=s(n(/*! dom-helpers/removeClass */539)),i=s(n(/*! react */8)),a=s(n(/*! ./Transition */1321));n(/*! ./utils/PropTypes */1564);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,o.default)(e,t)}))},u=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.addClass(o,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=o.prototype;return s.addClass=function(e,t,n){var o=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(o+=" "+i),"active"===n&&e&&e.scrollTop,o&&(this.appliedClasses[t][n]=o,function(e,t){e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))}(e,o))},s.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,i=n.done;this.appliedClasses[t]={},r&&c(e,r),o&&c(e,o),i&&c(e,i)},s.render=function(){var e=this.props,t=(e.classNames,function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["classNames"]));return i.default.createElement(a.default,l({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},o}(i.default.Component);u.defaultProps={classNames:""},u.propTypes={};var d=u;t.default=d,e.exports=t.default},1996:
/*!**********************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/react-transition-group/cjs/ReplaceTransition.js ***!
  \**********************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;a(n(/*! prop-types */3));var r=a(n(/*! react */8)),o=a(n(/*! react-dom */99)),i=a(n(/*! ./TransitionGroup */1565));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.handleLifecycle=function(e,t,n){var i,a=this.props.children,s=r.default.Children.toArray(a)[t];if(s.props[e]&&(i=s.props)[e].apply(i,n),this.props[e]){var l=s.props.nodeRef?void 0:o.default.findDOMNode(this);this.props[e](l)}},s.render=function(){var e=this.props,t=e.children,n=e.in,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["children","in"]),a=r.default.Children.toArray(t),s=a[0],l=a[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,r.default.createElement(i.default,o,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);s.propTypes={};var l=s;t.default=l,e.exports=t.default},1997:
/*!***********************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/react-transition-group/cjs/utils/ChildMapping.js ***!
  \***********************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=o,t.mergeChildMappings=i,t.getInitialChildMapping=function(e,t){return o(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=o(e.children),l=i(t,s);return Object.keys(l).forEach((function(o){var i=l[o];if((0,r.isValidElement)(i)){var c=o in t,u=o in s,d=t[o],p=(0,r.isValidElement)(d)&&!d.props.in;!u||c&&!p?u||!c||p?u&&c&&(0,r.isValidElement)(d)&&(l[o]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:d.props.in,exit:a(i,"exit",e),enter:a(i,"enter",e)})):l[o]=(0,r.cloneElement)(i,{in:!1}):l[o]=(0,r.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:a(i,"exit",e),enter:a(i,"enter",e)})}})),l};var r=n(/*! react */8);function o(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function i(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];s[o[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},1998:
/*!*********************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/react-transition-group/cjs/SwitchTransition.js ***!
  \*********************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.default=t.modes=void 0;var r,o,i=l(n(/*! react */8)),a=(l(n(/*! prop-types */3)),n(/*! ./Transition */1321)),s=l(n(/*! ./TransitionGroupContext */1322));function l(e){return e&&e.__esModule?e:{default:e}}var c={out:"out-in",in:"in-out"};t.modes=c;var u=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},d=((r={})[c.out]=function(e){var t=e.current,n=e.changeState;return i.default.cloneElement(t,{in:!1,onExited:u(t,"onExited",(function(){n(a.ENTERING,null)}))})},r[c.in]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,i.default.cloneElement(r,{in:!0,onEntered:u(r,"onEntered",(function(){n(a.ENTERING)}))})]},r),p=((o={})[c.out]=function(e){var t=e.children,n=e.changeState;return i.default.cloneElement(t,{in:!0,onEntered:u(t,"onEntered",(function(){n(a.ENTERED,i.default.cloneElement(t,{in:!0}))}))})},o[c.in]=function(e){var t=e.current,n=e.children,r=e.changeState;return[i.default.cloneElement(t,{in:!1,onExited:u(t,"onExited",(function(){r(a.ENTERED,i.default.cloneElement(n,{in:!0}))}))}),i.default.cloneElement(n,{in:!0})]},o),f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={status:a.ENTERED,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.appeared=!0},r.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===a.ENTERING&&e.mode===c.in?{status:a.ENTERING}:!t.current||(n=t.current,r=e.children,n===r||i.default.isValidElement(n)&&i.default.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:i.default.cloneElement(e.children,{in:!0})}:{status:a.EXITING};var n,r},o.render=function(){var e,t=this.props,n=t.children,r=t.mode,o=this.state,l=o.status,c=o.current,u={children:n,current:c,changeState:this.changeState,status:l};switch(l){case a.ENTERING:e=p[r](u);break;case a.EXITING:e=d[r](u);break;case a.ENTERED:e=c}return i.default.createElement(s.default.Provider,{value:{isMounting:!this.appeared}},e)},r}(i.default.Component);f.propTypes={},f.defaultProps={mode:c.out};var h=f;t.default=h},1999:
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/portal/dist/index.js ***!
  \**********************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i;"undefined"!=typeof self&&self,e.exports=(r=n(/*! react */8),o=n(/*! prop-types */3),i=n(/*! react-dom */99),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1))&&r.__esModule?r:{default:r}).default;t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(2),i=(r=n(3))&&r.__esModule?r:{default:r},a=n(4);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)(),2),n=t[0],r=t[1];return(0,o.useEffect)((function(){if(!e.container){var t=(n=document.createElement("div"),document.body.appendChild(n),n);return r(t),function(){t.remove()}}var n;r(e.container)}),[e.container]),(0,o.useEffect)((function(){var t;n&&!e.container&&(n.className=null!==(t=e.className)&&void 0!==t?t:"")}),[n,e.container,e.className]),n?(0,a.createPortal)(e.children,n):null}l.displayName="Portal",l.propTypes={children:i.default.node,className:i.default.string,container:i.default.oneOfType([i.default.node,i.default.object])};var c=l;t.default=c},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i}]))},2e3:
/*!****************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/icon/dist/X.js ***!
  \****************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(/*! react */8)),a=(o=n(/*! prop-types */3))&&o.__esModule?o:{default:o},s=n(/*! @leafygreen-ui/emotion */1054);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        color: ",";\n      "]);return u=function(){return e},e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f={small:14,default:16,large:20,xlarge:24};var h=function(e){var t=e.className,n=e.size,r=void 0===n?16:n,o=e.title,a=e.customTitleId,l=e.fill,h=d(e,["className","size","title","customTitleId","fill"]),m=i.useMemo((function(){return a||"X-"+Math.floor(1e6*Math.random())}),[a]).current,g=(0,s.css)(u(),l);return o=function(e,t){return!1===t?null:null==t||!0===t?"".concat(e.replace(/([a-z])([A-Z])/g,"$1 $2")," Icon"):t}("X",o),i.createElement("svg",p({className:(0,s.cx)(c({},g,null!=l),t),height:"number"==typeof r?r:f[r],width:"number"==typeof r?r:f[r]},h,{viewBox:"0 0 16 16",role:"img","aria-labelledby":m}),void 0===o?i.createElement("title",{id:m},"X"):o?i.createElement("title",null,o):null,i.createElement("desc",null,"Created with Sketch."),i.createElement("g",{id:"X-Copy",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M9,7 L13.5,7 L13.5,9 L9,9 L9,13.5 L7,13.5 L7,9 L2.5,9 L2.5,7 L7,7 L7,2.5 L9,2.5 L9,7 Z",id:"Combined-Shape-Copy",fill:"currentColor",transform:"translate(8.000000, 8.000000) rotate(45.000000) translate(-8.000000, -8.000000) "})))};h.displayName="X",h.isGlyph=!0,h.propTypes={fill:a.default.string,size:a.default.oneOfType([a.default.number,a.default.string]),className:a.default.string};var m=h;t.default=m},2001:
/*!***************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/icon-button/dist/index.js ***!
  \***************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a,s;"undefined"!=typeof self&&self,e.exports=(r=n(/*! react */8),o=n(/*! @leafygreen-ui/emotion */1054),i=n(/*! prop-types */3),a=n(/*! @leafygreen-ui/lib */1566),s=n(/*! @leafygreen-ui/palette */2002),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1))&&r.__esModule?r:{default:r}).default;t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Size=t.Variant=void 0;var r,o,i,a,s=p(n(2)),l=n(3),c=p(n(4)),u=n(5),d=n(6);function p(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){var e=N(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return m=function(){return e},e}function g(){var e=N(["\n    color: ",";\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "]);return g=function(){return e},e}function b(){var e=N(["\n    color: ",";\n    background-color: ",";\n\n    &:before {\n      background-color: ",";\n    }\n  "]);return b=function(){return e},e}function v(){var e=N(["\n    color: ",";\n    pointer-events: none;\n  "]);return v=function(){return e},e}function y(){var e=N(["\n    color: ",";\n    pointer-events: none;\n  "]);return y=function(){return e},e}function O(){var e=N(["\n    &:hover {\n      &:before {\n        background-color: ",";\n      }\n      color: ",";\n    }\n    &:focus:before {\n      background-color: ",";\n    }\n  "]);return O=function(){return e},e}function x(){var e=N(["\n    &:hover {\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n\n    &:focus {\n      color: ",";\n\n      &:before {\n        background-color: ",";\n      }\n    }\n  "]);return x=function(){return e},e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(){var e=N(["\n    height: 42px;\n    width: 42px;\n  "]);return E=function(){return e},e}function S(){var e=N(["\n    height: 35px;\n    width: 35px;\n  "]);return S=function(){return e},e}function C(){var e=N(["\n    height: 28px;\n    width: 28px;\n  "]);return C=function(){return e},e}function _(){var e=N(["\n  display: inline-block;\n  border-radius: 100px;\n  color: ",";\n  position: relative;\n  cursor: pointer;\n\n  // Set background to fully-transparent white for cross-browser compatability with Safari\n  //\n  // Safari treats \"transparent\" values in CSS as transparent black instead of white\n  // which can make things render differently across browsers if not defined explicitly.\n  background-color: rgba(255, 255, 255, 0);\n\n  &:before {\n    content: '';\n    transition: 150ms all ease-in-out;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    border-radius: 100%;\n    opacity: 0;\n    transform: scale(0.8);\n  }\n\n  &:hover:before,\n  &:focus:before {\n    opacity: 1;\n    transform: scale(1);\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return _=function(){return e},e}function A(){var e=N(["\n  border: none;\n  -webkit-appearance: unset;\n  padding: unset;\n"]);return A=function(){return e},e}function N(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var T={Light:"light",Dark:"dark"};t.Variant=T;var w={Default:"default",Large:"large",XLarge:"xlarge"};t.Size=w;var P=(0,l.css)(A()),R=(0,l.css)(_(),d.uiColors.gray.base),I=(j(r={},w.Default,(0,l.css)(C())),j(r,w.Large,(0,l.css)(S())),j(r,w.XLarge,(0,l.css)(E())),r),D=(j(o={},T.Light,(0,l.css)(x(),d.uiColors.gray.dark2,d.uiColors.gray.light2,d.uiColors.blue.base,d.uiColors.blue.light2)),j(o,T.Dark,(0,l.css)(O(),d.uiColors.gray.dark2,d.uiColors.white,d.uiColors.blue.dark2)),o),k=(j(i={},T.Light,(0,l.css)(y(),d.uiColors.gray.light2)),j(i,T.Dark,(0,l.css)(v(),d.uiColors.gray.dark2)),i),M=(j(a={},T.Light,(0,l.css)(b(),d.uiColors.gray.dark2,d.uiColors.gray.light2,d.uiColors.gray.light2)),j(a,T.Dark,(0,l.css)(g(),d.uiColors.white,d.uiColors.gray.dark2,d.uiColors.gray.dark2)),a),L=(0,l.css)(m()),U=s.default.forwardRef((function(e,t){var n=e.variant,r=void 0===n?T.Light:n,o=e.size,i=void 0===o?w.Default:o,a=e.disabled,c=void 0!==a&&a,d=e.active,p=void 0!==d&&d,m=e.className,g=e.href,b=e.children,v=e["aria-label"],y=e["aria-labelledby"],O=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["variant","size","disabled","active","className","href","children","aria-label","aria-labelledby"]);v||y||console.error("For screen-reader accessibility, aria-label or aria-labelledby must be provided to IconButton.");var x=s.default.Children.map(b,(function(e){if(!e)return null;if((0,u.isComponentType)(e,"Icon")||function(e){return null!=e&&"object"===h(e)&&"type"in e&&!0===e.type.isGlyph}(e)){var t=e.props,n=t.size,r=t.title,o={size:n||i};return"string"==typeof r&&0!==r.length||(o.title=!1),s.default.cloneElement(e,o)}return e})),E=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button";return s.default.createElement(n,f({},O,{ref:t,href:g,tabIndex:c?-1:0,"aria-disabled":c,"aria-label":v,"aria-labelledby":y,className:(0,l.cx)(P,R,I[i],D[r],(e={},j(e,k[r],c),j(e,M[r],p),e),m)}),s.default.createElement("div",{className:L},x))};return function(e){return null!=e.href}(e)?E("a"):E()}));U.displayName="IconButton",U.propTypes={variant:c.default.oneOf(Object.values(T)),size:c.default.oneOf(Object.values(w)),className:c.default.string,children:c.default.node,disabled:c.default.bool,href:c.default.string,active:c.default.bool};var F=U;t.default=F},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=s}]))},2002:
/*!***************************************************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/icon-button/node_modules/@leafygreen-ui/palette/dist/index.js ***!
  \***************************************************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.uiColors=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(1));t.uiColors=o,n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=t.yellow=t.blue=t.green=t.gray=t.black=t.white=void 0,t.white="#FFFFFF",t.black="#061621",t.gray={dark3:"#21313C",dark2:"#3D4F58",dark1:"#5D6C74",base:"#89989B",light1:"#B8C4C2",light2:"#E7EEEC",light3:"#F9FBFA"},t.green={dark3:"#0B3B35",dark2:"#116149",base:"#13AA52",light2:"#C3E7CA",light3:"#E4F4E4"},t.blue={dark3:"#0D324F",dark2:"#1A567E",base:"#007CAD",light2:"#C5E4F2",light3:"#E1F2F6"},t.yellow={dark3:"#543E07",dark2:"#86681D",base:"#FFDD49",light2:"#FEF2C8",light3:"#FEF7E3"},t.red={dark3:"#570B08",dark2:"#8F221B",base:"#CF4A22",light2:"#F9D3C5",light3:"#FCEBE2"}},function(e,t,n){"use strict";n.r(t),t.default=n.p+"ui-colors.less"}])},2003:
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/hooks/dist/index.js ***!
  \*********************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r;"undefined"!=typeof self&&self,e.exports=(r=n(/*! react */8),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.options,a=n.enabled,l=void 0===a||a,c=n.dependencies,u=void 0===c?[l,e]:c,d=n.element,p=(0,r.useRef)((function(){}));(0,r.useEffect)((function(){p.current=t}),[t]),(0,r.useEffect)((function(){if(!1!==l){if("once"===l||!0===l){var t=function(e){return p.current(e)},n=i({},o,{once:"once"===l});return(null!=d?d:document).addEventListener(e,t,n),function(){(null!=d?d:document).removeEventListener(e,t,n)}}console.error("Received value of type ".concat(s(l)," for property `enabled`. Expected a boolean."))}}),u)};var r=n(0);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(11),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){var r=n(3).Symbol;e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useEventListener",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"useElementNode",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"useMutationObserver",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"useViewportSize",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"useEscapeKey",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"usePoller",{enumerable:!0,get:function(){return l.default}});var r=c(n(1)),o=c(n(6)),i=c(n(7)),a=c(n(8)),s=c(n(19)),l=c(n(20));function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(null))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),2!==n.length);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1];return[n,(0,r.useCallback)((function(e){e&&i(e)}),[])]};var r=n(0);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=(0,r.useState)(),s=o(a,2),l=s[0],c=s[1];return(0,r.useEffect)((function(){if(i){var r=new MutationObserver((function(){c(n.apply(void 0,arguments))}));return e&&r.observe(e,t),function(){return r.disconnect()}}}),[e,t,n,i]),l};var r=n(0);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,o.useState)(null))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),2!==n.length);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],r=t[1];return(0,o.useEffect)((function(){r(s());var e=(0,i.default)((function(){return r(s())}),100);return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n};var r,o=n(0),i=(r=n(9))&&r.__esModule?r:{default:r};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(){return{width:window.innerWidth,height:window.innerHeight}}},function(e,t,n){var r=n(2),o=n(10),i=n(13),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,p,f,h=0,m=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,h=t,d=e.apply(r,n)}function y(e){return h=e,p=setTimeout(x,t),m?v(e):d}function O(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-h>=u}function x(){var e=o();if(O(e))return j(e);p=setTimeout(x,function(e){var n=t-(e-f);return g?s(n,u-(e-h)):n}(e))}function j(e){return p=void 0,b&&l?v(e):(l=c=void 0,d)}function E(){var e=o(),n=O(e);if(l=arguments,c=this,f=e,n){if(void 0===p)return y(f);if(g)return clearTimeout(p),p=setTimeout(x,t),v(f)}return void 0===p&&(p=setTimeout(x,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(i(n.maxWait)||0,t):u,b="trailing"in n?!!n.trailing:b),E.cancel=function(){void 0!==p&&clearTimeout(p),h=0,l=f=c=p=void 0},E.flush=function(){return void 0===p?d:j(o())},E}},function(e,t,n){var r=n(3);e.exports=function(){return r.Date.now()}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(12))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(2),o=n(14),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(15),o=n(18);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(4),o=n(16),i=n(17),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(4),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r};t.default=function(e,t){return(0,o.default)("keydown",(function(t){return function(e,t){27===e.keyCode&&(e.stopImmediatePropagation(),t())}(t,e)}),t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.interval,r=void 0===n?3e4:n,i=t.immediate,a=void 0===i||i,l=t.enabled,c=void 0===l||l,u=(0,o.useRef)(),d=s(),p=d&&c;(0,o.useEffect)((function(){u.current=e})),(0,o.useEffect)((function(){var e;if(p)return a?o():t(),n;function t(){n(),e=setTimeout(o,r)}function n(){clearTimeout(e)}function o(){var e;Promise.resolve(null===(e=u.current)||void 0===e?void 0:e.call(u)).finally(t)}}),[r,a,p])};var r,o=n(0),i=(r=n(1))&&r.__esModule?r:{default:r};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(){var e=function(){return"visible"===document.visibilityState},t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)(!0),2),n=t[0],r=t[1];return(0,o.useEffect)((function(){r(e)}),[]),(0,i.default)("visibilitychange",(function(){r(e)})),n}}]))},2004:
/*!**************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/text-input/dist/index.js ***!
  \**************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a,s,l,c,u;"undefined"!=typeof self&&self,e.exports=(r=n(/*! react */8),o=n(/*! prop-types */3),i=n(/*! @leafygreen-ui/emotion */1054),a=n(/*! @leafygreen-ui/icon/dist/Checkmark */2005),s=n(/*! @leafygreen-ui/icon/dist/Warning */2006),l=n(/*! @leafygreen-ui/palette */2007),c=n(/*! @leafygreen-ui/leafygreen-provider */117),u=n(/*! @leafygreen-ui/lib */1566),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TextInputType",{enumerable:!0,get:function(){return o.TextInputType}}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(1)),i=o.default;t.default=i},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TextInputType=t.State=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(2)),i=p(n(3)),a=n(4),s=p(n(5)),l=p(n(6)),c=n(7),u=n(8),d=n(9);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(){var e=I(["\n        padding-right: ","px;\n        border-color: ",";\n      "]);return b=function(){return e},e}function v(){var e=I(["\n        padding-right: 30px;\n        border-color: ",";\n      "]);return v=function(){return e},e}function y(){var e=I(["\n        padding-right: 30px;\n        border-color: ",";\n      "]);return y=function(){return e},e}function O(){var e=I(["\n  color: ",";\n  font-size: 14px;\n  height: 20px;\n  padding-top: 4px;\n  font-weight: normal;\n"]);return O=function(){return e},e}function x(){var e=I(["\n  color: ",";\n  font-size: 12px;\n  font-style: italic;\n  font-weight: normal;\n"]);return x=function(){return e},e}function j(){var e=I(["\n  color: ",";\n"]);return j=function(){return e},e}function E(){var e=I(["\n  color: ",";\n"]);return E=function(){return e},e}function S(){var e=I(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  right: 12px;\n  z-index: 1;\n"]);return S=function(){return e},e}function C(){var e=I(["\n  ",":hover ~ & {\n    transform: scale(1);\n  }\n"]);return C=function(){return e},e}function _(){var e=I(["\n  ",":focus ~ & {\n    background-color: #9dd0e7;\n    transform: scale(1);\n    z-index: 1;\n  }\n"]);return _=function(){return e},e}function A(){var e=I(["\n  width: 100%;\n  height: 36px;\n  border-radius: 4px;\n  padding-left: 12px;\n  font-size: 14px;\n  font-weight: normal;\n  font-family: Akzidenz, âHelvetica Neueâ, Helvetica, Arial, sans-serif;\n  background-color: ",";\n  border: 1px solid;\n  z-index: 1;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n    z-index: 2;\n    border-color: #9dd0e7;\n    transition: border-color 150ms ease-in-out;\n\n    & ~ "," {\n      z-index: 2;\n    }\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n"]);return A=function(){return e},e}function N(){var e=I(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  z-index: 0;\n"]);return N=function(){return e},e}function T(){var e=I(["\n  color: ",";\n  font-size: 14px;\n  line-height: 16px;\n  font-weight: normal;\n  padding-bottom: 4px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n"]);return T=function(){return e},e}function w(){var e=I(["\n  color: ",";\n  font-size: 14px;\n  font-weight: bold;\n  line-height: 16px;\n  padding-bottom: 4px;\n"]);return w=function(){return e},e}function P(){var e=I(["\n  display: flex;\n  flex-direction: column;\n"]);return P=function(){return e},e}function R(){var e=I(["\n  transition: all 150ms ease-in-out;\n  transform: scale(0.9, 0.8);\n  border-radius: 7px;\n  position: absolute;\n  top: -3px;\n  bottom: -3px;\n  left: -3px;\n  right: -3px;\n  pointer-events: none;\n  background-color: ",";\n"]);return R=function(){return e},e}function I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var D=(0,d.createDataProp)("input-selector"),k=(0,d.createDataProp)("icon-selector"),M={None:"none",Valid:"valid",Error:"error"};t.State=M;var L={Email:"email",Password:"password",Search:"search",Text:"text",Url:"url",Tel:"tel"};t.TextInputType=L;var U=(0,a.css)(R(),c.uiColors.gray.light2),F=(0,a.css)(P()),B=(0,a.css)(w(),c.uiColors.gray.dark2),z=(0,a.css)(T(),c.uiColors.gray.dark1),V=(0,a.css)(N()),q=(0,a.css)(A(),c.uiColors.white,c.uiColors.gray.base,k.selector,c.uiColors.gray.light2),G=(0,a.css)(_(),D.selector),H=(0,a.css)(C(),D.selector),W=(0,a.css)(S()),Y=(0,a.css)(E(),c.uiColors.red.base),K=(0,a.css)(j(),c.uiColors.green.base),Z=(0,a.css)(x(),c.uiColors.gray.dark1),$=(0,a.css)(O(),c.uiColors.red.base);function X(e,t){switch(e){case M.Valid:return(0,a.css)(y(),c.uiColors.green.base);case M.Error:return(0,a.css)(v(),c.uiColors.red.base);default:return(0,a.css)(b(),t?60:12,c.uiColors.gray.light1)}}var J=d.IdAllocator.create("text-input"),Q=o.default.forwardRef((function(e,t){var n=e.label,r=e.description,i=e.onChange,c=e.placeholder,d=e.errorMessage,p=e.optional,g=void 0!==p&&p,b=e.disabled,v=void 0!==b&&b,y=e.state,O=void 0===y?M.None:y,x=e.type,j=void 0===x?L.Text:x,E=e.id,S=e["aria-labelledby"],C=e.value,_=e.className,A=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["label","description","onChange","placeholder","errorMessage","optional","disabled","state","type","id","aria-labelledby","value","className"]),N="string"==typeof C,T=m((0,o.useState)(""),2),w=T[0],P=T[1],R=N?C:w,I=(0,u.useUsingKeyboardContext)().usingKeyboard,Q=(0,o.useMemo)((function(){return null!=E?E:J.generate()}),[E]);return n||S||console.error("For screen-reader accessibility, label or aria-labelledby must be provided to IconButton."),o.default.createElement("div",{className:(0,a.cx)(F,_)},n&&o.default.createElement("label",{htmlFor:Q,className:B},n),r&&o.default.createElement("p",{className:z},r),o.default.createElement("div",{className:V},o.default.createElement("input",h({},D.prop,A,{"aria-labelledby":S,type:j,className:(0,a.cx)(q,X(O,g)),value:R,required:!g,disabled:v,placeholder:c,onChange:function(e){i&&i(e),N||P(e.target.value)},ref:t,id:Q})),o.default.createElement("div",h({},k.prop,{className:W}),O===M.Valid&&o.default.createElement(s.default,{className:K}),O===M.Error&&o.default.createElement(l.default,{className:Y}),O===M.None&&g&&o.default.createElement("div",{className:Z},o.default.createElement("p",null,"Optional"))),o.default.createElement("div",{className:(0,a.cx)(U,H,f({},G,I))})),O===M.Error&&d&&o.default.createElement("div",{className:$},o.default.createElement("label",null,d)))}));Q.displayName="TextInput",Q.propTypes={id:i.default.string,label:i.default.string,description:i.default.string,optional:i.default.bool,disabled:i.default.bool,onChange:i.default.func,placeholder:i.default.string,errorMessage:i.default.string,state:i.default.oneOf(Object.values(M)),value:i.default.string,className:i.default.string};var ee=Q;t.default=ee},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=s},function(e,t){e.exports=l},function(e,t){e.exports=c},function(e,t){e.exports=u}]))},2005:
/*!************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/icon/dist/Checkmark.js ***!
  \************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(/*! react */8)),a=(o=n(/*! prop-types */3))&&o.__esModule?o:{default:o},s=n(/*! @leafygreen-ui/emotion */1054);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        color: ",";\n      "]);return u=function(){return e},e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f={small:14,default:16,large:20,xlarge:24};var h=function(e){var t=e.className,n=e.size,r=void 0===n?16:n,o=e.title,a=e.customTitleId,l=e.fill,h=d(e,["className","size","title","customTitleId","fill"]),m=i.useMemo((function(){return a||"Checkmark-"+Math.floor(1e6*Math.random())}),[a]).current,g=(0,s.css)(u(),l);return o=function(e,t){return!1===t?null:null==t||!0===t?"".concat(e.replace(/([a-z])([A-Z])/g,"$1 $2")," Icon"):t}("Checkmark",o),i.createElement("svg",p({className:(0,s.cx)(c({},g,null!=l),t),height:"number"==typeof r?r:f[r],width:"number"==typeof r?r:f[r]},h,{viewBox:"0 0 16 16",role:"img","aria-labelledby":m}),void 0===o?i.createElement("title",{id:m},"Glyphs / Checkmark"):o?i.createElement("title",null,o):null,i.createElement("desc",null,"Created with Sketch."),i.createElement("g",{id:"Glyphs-/-Checkmark",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M6.94974747,10.363961 L13.3137085,4 L14.7279221,5.41421356 L8.36396103,11.7781746 L6.94974747,13.1923882 L2,8.24264069 L3.41421356,6.82842712 L6.94974747,10.363961 Z",fill:"currentColor"})))};h.displayName="Checkmark",h.isGlyph=!0,h.propTypes={fill:a.default.string,size:a.default.oneOfType([a.default.number,a.default.string]),className:a.default.string};var m=h;t.default=m},2006:
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/icon/dist/Warning.js ***!
  \**********************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(/*! react */8)),a=(o=n(/*! prop-types */3))&&o.__esModule?o:{default:o},s=n(/*! @leafygreen-ui/emotion */1054);function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n        color: ",";\n      "]);return u=function(){return e},e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f={small:14,default:16,large:20,xlarge:24};var h=function(e){var t=e.className,n=e.size,r=void 0===n?16:n,o=e.title,a=e.customTitleId,l=e.fill,h=d(e,["className","size","title","customTitleId","fill"]),m=i.useMemo((function(){return a||"Warning-"+Math.floor(1e6*Math.random())}),[a]).current,g=(0,s.css)(u(),l);return o=function(e,t){return!1===t?null:null==t||!0===t?"".concat(e.replace(/([a-z])([A-Z])/g,"$1 $2")," Icon"):t}("Warning",o),i.createElement("svg",p({className:(0,s.cx)(c({},g,null!=l),t),height:"number"==typeof r?r:f[r],width:"number"==typeof r?r:f[r]},h,{viewBox:"0 0 16 16",role:"img","aria-labelledby":m}),void 0===o?i.createElement("title",{id:m},"Glyphs / Warning"):o?i.createElement("title",null,o):null,i.createElement("desc",null,"Created with Sketch."),i.createElement("g",{id:"Glyphs-/-Warning",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M9.30723029,0.76487417 L15.7424591,12.2052809 C16.1486048,12.9273177 15.8925244,13.8418903 15.1704876,14.248036 C14.9459652,14.3743299 14.692701,14.4406727 14.4350958,14.4406727 L1.56463821,14.4406727 C0.736211087,14.4406727 0.0646382121,13.7690999 0.0646382121,12.9406727 C0.0646382121,12.6830675 0.130981021,12.4298033 0.257274906,12.2052809 L6.69250368,0.76487417 C7.09864939,0.0428373535 8.01322203,-0.213242986 8.73525884,0.192902723 C8.97469558,0.327585886 9.17254713,0.525437435 9.30723029,0.76487417 Z M6.74986699,4.36840711 L6.99986699,9.36840711 L8.99986699,9.36840711 L9.24986699,4.36840711 L6.74986699,4.36840711 Z M7.99986699,12.8684071 C8.69022292,12.8684071 9.24986699,12.308763 9.24986699,11.6184071 C9.24986699,10.9280512 8.69022292,10.3684071 7.99986699,10.3684071 C7.30951105,10.3684071 6.74986699,10.9280512 6.74986699,11.6184071 C6.74986699,12.308763 7.30951105,12.8684071 7.99986699,12.8684071 Z",fill:"currentColor"})))};h.displayName="Warning",h.isGlyph=!0,h.propTypes={fill:a.default.string,size:a.default.oneOfType([a.default.number,a.default.string]),className:a.default.string};var m=h;t.default=m},2007:
/*!**************************************************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/confirmation-modal/node_modules/@leafygreen-ui/text-input/node_modules/@leafygreen-ui/palette/dist/index.js ***!
  \**************************************************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.uiColors=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(1));t.uiColors=o,n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.red=t.yellow=t.blue=t.green=t.gray=t.black=t.white=void 0,t.white="#FFFFFF",t.black="#061621",t.gray={dark3:"#21313C",dark2:"#3D4F58",dark1:"#5D6C74",base:"#89989B",light1:"#B8C4C2",light2:"#E7EEEC",light3:"#F9FBFA"},t.green={dark3:"#0B3B35",dark2:"#116149",base:"#13AA52",light2:"#C3E7CA",light3:"#E4F4E4"},t.blue={dark3:"#0D324F",dark2:"#1A567E",base:"#007CAD",light2:"#C5E4F2",light3:"#E1F2F6"},t.yellow={dark3:"#543E07",dark2:"#86681D",base:"#FFDD49",light2:"#FEF2C8",light3:"#FEF7E3"},t.red={dark3:"#570B08",dark2:"#8F221B",base:"#CF4A22",light2:"#F9D3C5",light3:"#FCEBE2"}},function(e,t,n){"use strict";n.r(t),t.default=n.p+"ui-colors.less"}])},2008:
/*!***************************************************************************************************!*\
  !*** ./project/nds/clusters/components/OnlineArchive/OnlineArchiveWizard/OnlineArchiveWizard.tsx ***!
  \***************************************************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module uses injected variables (Buffer) */function(e,t,n){"use strict";(function(e){var r=n(/*! @babel/runtime/regenerator */6),o=n.n(r),i=n(/*! @babel/runtime/helpers/asyncToGenerator */9),a=n.n(i),s=n(/*! @babel/runtime/helpers/classCallCheck */23),l=n.n(s),c=n(/*! @babel/runtime/helpers/createClass */24),u=n.n(c),d=n(/*! @babel/runtime/helpers/assertThisInitialized */14),p=n.n(d),f=n(/*! @babel/runtime/helpers/inherits */27),h=n.n(f),m=n(/*! @babel/runtime/helpers/possibleConstructorReturn */28),g=n.n(m),b=n(/*! @babel/runtime/helpers/getPrototypeOf */17),v=n.n(b),y=n(/*! @babel/runtime/helpers/defineProperty */4),O=n.n(y),x=n(/*! @emotion/styled-base */30),j=n.n(x),E=n(/*! react */8),S=n.n(E),C=n(/*! @leafygreen-ui/button */36),_=n.n(C),A=n(/*! @emotion/core */1),N=n(/*! js/common/components/MultiStepWizard */920),T=n(/*! ./OnlineArchiveOverview */2009),w=n(/*! ./OnlineArchiveArchivingRule */2010),P=n(/*! ./OnlineArchiveQueryFields */2011),R=n(/*! ./OnlineArchiveReview */2012),I=n(/*! js/common/components/ConfirmationModal */203),D=n(/*! js/common/components/Alert */112),k=n(/*! js/project/common/util/segmentAnalytics */50),M=n(/*! js/common/services/api */5);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var B=S.a.Component,z=j()("a",{target:"e1o9pvhu0"})({name:"4g6ai3",styles:"cursor:pointer;"}),V=j()("div",{target:"e1o9pvhu1"})({name:"vaectx",styles:"padding:8px 0 15px 0;max-width:570px;"}),q=j()("div",{target:"e1o9pvhu2"})({name:"zdpt2t",styles:"margin-left:auto;"}),G={name:"o5uqvq",styles:"margin-left:5px;"},H=j()("nav",{target:"e1o9pvhu3"})({name:"9jay18",styles:"display:flex;flex-direction:row;justify-content:space-between;"}),W=function(e){return Object(A.jsx)(z,{onClick:function(){k.d.track(k.b.UX_ACTION_PERFORMED,{context:"Online Archive - Begin Archiving",action:"Clicked âmongodump or mongoexport toolsâ"},{integrations:Object(k.c)(e)}),Z.open("https://docs.mongodb.com/manual/reference/program/mongodump/#cmdoption-mongodump-query")}},"mongodump or mongoexport tools.")},Y={name:"1tl30tx",styles:"border-radius:3px;margin-bottom:20px;"},K={name:"1tl30tx",styles:"border-radius:3px;margin-bottom:20px;"},Z=function(t){h()(r,t);var n=F(r);function r(){var t;l()(this,r);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return t=n.call.apply(n,[this].concat(s)),O()(p()(t),"state",{activeStep:1,showConfirmation:!1,namespace:"",dateField:"",age:null,partition1:"",partition2:"",dateFieldRank:2,errorState:{},errorMessage:""}),O()(p()(t),"onBack",(function(){var e=t.state.activeStep;t.setState({activeStep:e-1})})),O()(p()(t),"onNext",a()(o.a.mark((function n(){var i,a,s,l,c,u,d,p,f,h,m,g,b,v,y,O,x;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=t.props,a=i.orgId,s=i.groupId,l=i.clusterName,c=t.state.activeStep,t.setState({errorState:{}}),2!==c){n.next=31;break}if(u=t.state,d=u.namespace,p=u.dateField,f=u.age,h={},d||(h.namespace=!0),p||(h.dateField=!0),f||(h.age=!0),d.match(/^[^\/\\.\s"$*<>:|?\0]{1,63}([.](?!system\.)[A-Za-z0-9_][^$\s\0]*)+$/)){n.next=15;break}h.namespace=!0,h.errorMessage="Invalid namespace format",n.next=27;break;case 15:if(!(e.byteLength(d)>120)){n.next=20;break}h.namespace=!0,h.errorMessage="Namespace is too long",n.next=27;break;case 20:return m=d.split(".")[0],g=d.replace(".","&").split("&")[1],n.next=24,M.m.onlineArchive.getOnlineArchives(s,l);case 24:b=n.sent,void 0!==b.find((function(e){return e.dbName===m&&e.collName===g&&"DELETED"!==e.archiveState&&"PAUSED"!==e.archiveState}))&&(h.namespace=!0,h.errorMessage="This namespace already has an active online archiving rule. Pause or delete the active online archive to add another rule.");case 27:if(p.includes(".")&&(h.dateField=!0,h.dateErrorMessage="Nested fields are not yet supported"),!Object.keys(h).length){n.next=31;break}return t.setState({errorState:h}),n.abrupt("return");case 31:if(3!==c){n.next=39;break}if(v=t.state,y=v.partition1,O=v.partition2,x={},y.includes(".")&&(x.partitionField1=!0,x.errorMessage="Nested fields are not yet supported"),O.includes(".")&&(x.partitionField2=!0,x.errorMessage="Nested fields are not yet supported"),!Object.keys(x).length){n.next=39;break}return t.setState({errorState:x}),n.abrupt("return");case 39:c===r.STEP_NUMBER.OVERVIEW?k.d.track(k.b.UX_ACTION_PERFORMED,{context:"Online Archive - Overview",action:'Clicked "Next"'},{integrations:Object(k.c)(a)}):c===r.STEP_NUMBER.ARCHIVING_RULE?k.d.track(k.b.UX_ACTION_PERFORMED,{context:"Online Archive - Archiving Rule",action:'Clicked "Next"'},{integrations:Object(k.c)(a)}):c===r.STEP_NUMBER.QUERY_FIELDS&&k.d.track(k.b.UX_ACTION_PERFORMED,{context:"Online Archive - Query Fields",action:'Clicked "Next"'},{integrations:Object(k.c)(a)}),t.setState({activeStep:c+1});case 41:case"end":return n.stop()}}),n)})))),O()(p()(t),"onComplete",(function(){var e=t.props.orgId;k.d.track(k.b.UX_ACTION_PERFORMED,{context:"Online Archive - Confirmation",action:'Clicked "Begin Archiving"'},{integrations:Object(k.c)(e)}),t.setState({showConfirmation:!0})})),O()(p()(t),"getPostBody",(function(){var e=t.props,n=e.groupId,r=e.clusterName,o=t.state,i=o.namespace,a=o.dateField,s=o.dateFieldRank,l=o.age,c=o.partition1,u=o.partition2,d=i.split(".")[0],p=i.replace(".","&").split("&")[1],f=[c,u];return 2!==s&&f.splice(s,0,a),{clusterName:r,projectId:n,dbName:d,collName:p,criteria:{type:"DATE",dateField:a,expireAfterDays:l},partitionFields:f.filter((function(e){return!!e})).map((function(e,t){return{fieldName:e,order:t}}))}})),O()(p()(t),"setFormValue",(function(e){t.setState(U(U({},t.state),{},O()({},e.target.name,e.target.value)))})),O()(p()(t),"toggleDateFieldRank",(function(){var e=t.props.orgId,n=t.state.dateFieldRank;k.d.track(k.b.UX_ACTION_PERFORMED,{context:"Online Archive - Query Fields",action:'Clicked "Move to first position"'},{integrations:Object(k.c)(e)}),2==n?t.setState({dateFieldRank:0}):t.setState({dateFieldRank:2})})),O()(p()(t),"getFooter",(function(){var e=t.props.onCancel,n=t.state.activeStep,r=4===n,o=n>1&&Object(A.jsx)(_.a,{onClick:t.onBack},Object(A.jsx)("span",null,"Back")),i=Object(A.jsx)(q,null,Object(A.jsx)(_.a,{onClick:e},"Cancel"),Object(A.jsx)(_.a,{css:G,onClick:r?t.onComplete:t.onNext,variant:"primary"},r?"Begin Archiving":"Next"));return Object(A.jsx)(N.a,null,Object(A.jsx)("hr",null),Object(A.jsx)(H,null,o,i))})),t}return u()(r,[{key:"render",value:function(){var e=this,t=this.props,n=t.onCancel,o=t.orgId,i=t.groupId,a=t.clusterName,s=t.addArchiveAndCloseWizard,l=t.hasEncryptionAtRest,c=this.state,u=c.activeStep,d=c.showConfirmation,p=c.errorState;return Object(A.jsx)(S.a.Fragment,null,Object(A.jsx)(V,null,Object(A.jsx)("h3",null,Object(A.jsx)("strong",null,"Configure an Online Archive")),d&&Object(A.jsx)(I.a,{size:"medium",title:"Begin Archiving",onClose:function(){e.setState({showConfirmation:!1})},onConfirm:function(){return s(i,a,e.getPostBody())}},Object(A.jsx)(S.a.Fragment,null,Object(A.jsx)(D.a,{level:"warning",css:Y},Object(A.jsx)("strong",null,"Note:")," Once a document is archived, it can no longer be edited. It might appear momentarily in both the cluster and archive while the archive operation is in progress."," "),l&&Object(A.jsx)(D.a,{level:"danger",css:K},Object(A.jsx)("strong",null,"Warning: ")," Encryption at rest with your key management service will not be used for archived data."),Object(A.jsx)("p",null,"After you click âConfirmâ, any documents matching your criteria are immediately queued for archiving."),Object(A.jsx)("p",null,"Archived data is stored in fully managed Amazon S3 buckets and will be encrypted using MongoDBâs encryption key."),Object(A.jsx)("p",null,"Once you create an online archive, you can edit the age limit in your archiving rule, pause your archive, or delete your archive at any time."),Object(A.jsx)("p",null,"Documents cannot be edited after they have been archived, archived data can be moved back to your cluster with ",W(o)))),Object(A.jsx)(N.c,{activeStep:u,completeText:"Begin Archiving",nextEnabled:!0,onCancel:n,onBack:function(){return e.onBack},onNext:function(){return e.onNext},onComplete:function(){return e.onComplete},showTopNav:!1,fullWidthNav:!0,customFooter:this.getFooter()},Object(A.jsx)(N.c.Step,{title:r.STEP_INDEX_TO_TITLE_MAP[1]},Object(A.jsx)(T.a,null)),Object(A.jsx)(N.c.Step,{title:r.STEP_INDEX_TO_TITLE_MAP[2]},Object(A.jsx)(w.a,{formValues:this.state,setFormValue:this.setFormValue,errorState:p,orgId:o})),Object(A.jsx)(N.c.Step,{title:r.STEP_INDEX_TO_TITLE_MAP[3]},Object(A.jsx)(P.a,{formValues:this.state,setFormValue:this.setFormValue,errorState:p,toggleDateFieldRank:this.toggleDateFieldRank,orgId:o})),Object(A.jsx)(N.c.Step,{title:r.STEP_INDEX_TO_TITLE_MAP[4]},Object(A.jsx)(R.a,{formValues:this.state,setFormValue:this.setFormValue})))))}}]),r}(B);O()(Z,"STEP_INDEX_TO_TITLE_MAP",{1:"Overview",2:"Archiving Rule",3:"Query Fields",4:"Confirmation"}),O()(Z,"STEP_NUMBER",{OVERVIEW:1,ARCHIVING_RULE:2,QUERY_FIELDS:3,CONFIRMATION:4}),O()(Z,"open",(function(e){window.open(e)})),t.a=Z}).call(this,n(/*! ./../../../../../../../node_modules/node-libs-browser/node_modules/buffer/index.js */98).Buffer)},2009:
/*!*****************************************************************************************************!*\
  !*** ./project/nds/clusters/components/OnlineArchive/OnlineArchiveWizard/OnlineArchiveOverview.tsx ***!
  \*****************************************************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @emotion/styled-base */30),o=n.n(r),i=n(/*! react */8),a=n.n(i),s=n(/*! @emotion/core */1);var l=o()("div",{target:"e19gi0240"})({name:"415mgn",styles:"margin-top:-18px;display:flex;justify-content:space-between;align-items:baseline;border-bottom:1px #e8e9e9 solid;"}),c=o()("h3",{target:"e19gi0241"})({name:"v10vam",styles:"font-size:22px;font-weight:200;"}),u=o()("div",{target:"e19gi0242"})({name:"15vo923",styles:"margin-top:16px;font-size:16px;"}),d=o()("div",{target:"e19gi0243"})({name:"1lprdhn",styles:"margin-top:18px;background-color:#fafbfa;padding:18px 18px 8px 18px;border-radius:3px;font-size:16px;border:1px #e7eeec solid;"}),p=o()("ol",{target:"e19gi0244"})({name:"vr4c6a",styles:"padding-left:9px;"}),f=o()("li",{target:"e19gi0245"})({name:"1bm7zxb",styles:"margin:12px;"}),h=o()("div",{target:"e19gi0246"})({name:"1akajn7",styles:"margin-top:24px;font-size:14px;font-style:italic;color:#626668;"});t.a=function(){return Object(s.jsx)(a.a.Fragment,null,Object(s.jsx)(l,null,Object(s.jsx)(c,null,"Online Archive Overview"),Object(s.jsx)("a",{href:"https://docs.atlas.mongodb.com/online-archive/manage-online-archive/",target:"_blank",rel:"noopener noreferrer"},"View Online Archive docs ",Object(s.jsx)("i",{className:"fa fa-external-link"}))),Object(s.jsx)(u,null,"Tier your data across Atlas clusters and MongoDB-managed Amazon S3 buckets and use a unified endpoint* to query it from your applications."),Object(s.jsx)(d,null,Object(s.jsx)("strong",null,"Here's how it works:"),Object(s.jsx)(p,null,Object(s.jsx)(f,null,"Write an archiving rule by providing a namespace, data field, and age limit."),Object(s.jsx)(f,null,"Choose commonly queried fields to partition archived data for optimal query performance."),Object(s.jsx)(f,null,"Create the online archive and begin archiving documents that match your rule."),Object(s.jsx)(f,null,"Use a new connection string to query both your Atlas cluster and your online archive."))),Object(s.jsx)(u,null,"Archived documents will be deleted from your Atlas cluster and cannot be updated or deleted once archived. You can pause archiving or delete the archive at any time."),Object(s.jsx)(u,null,"Online Archive will lower your cluster storage costs by auto-archiving historical data, but will incur new line items on your monthly invoice for object storage and archive queries."," ",Object(s.jsx)("a",{href:"https://www.mongodb.com/cloud/atlas/pricing?tck=docs_atlas",target:"_blank",rel:"noopener noreferrer"},"Pricing details")),Object(s.jsx)(h,null,"*For Online Archive's unified endpoint you must use a standard connection secured by TLS. You cannot use the unified endpoint over a private connection, such as Peering or AWS PrivateLink."," ",Object(s.jsx)("a",{href:"https://docs.atlas.mongodb.com/online-archive/connect-to-online-archive/",target:"_blank",rel:"noopener noreferrer"},"Learn more")))}},2010:
/*!**********************************************************************************************************!*\
  !*** ./project/nds/clusters/components/OnlineArchive/OnlineArchiveWizard/OnlineArchiveArchivingRule.tsx ***!
  \**********************************************************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @emotion/styled-base */30),o=n.n(r),i=n(/*! react */8),a=n.n(i),s=n(/*! @emotion/core */1),l=n(/*! @leafygreen-ui/palette */26),c=n(/*! js/project/common/util/segmentAnalytics */50),u=n(/*! js/common/components/Alert */112),d=n(/*! @leafygreen-ui/icon */304),p=n.n(d);var f=o()("div",{target:"e1o9aaf0"})({name:"415mgn",styles:"margin-top:-18px;display:flex;justify-content:space-between;align-items:baseline;border-bottom:1px #e8e9e9 solid;"}),h=o()("h3",{target:"e1o9aaf1"})({name:"1qwnwpn",styles:"font-size:22px;"}),m=o()("div",{target:"e1o9aaf2"})({name:"j43zwg",styles:"margin-top:16px;margin-bottom:20px;font-size:16px;"}),g=o()("div",{target:"e1o9aaf3"})({name:"ch58vi",styles:"font-weight:bold;margin-bottom:4px;"}),b=o()("div",{target:"e1o9aaf4"})({name:"z4x1di",styles:"font-weight:normal;margin-bottom:4px;"}),v=o()("input",{target:"e1o9aaf5"})("border:1px solid;background:white;border-radius:4px;display:block;width:80%;height:34px;padding:6px 12px;font-size:14px;line-height:1.4285;transition:border-color ease-in-out 0.15s,box-shadow ease-in-out 0.15s;margin-bottom:18px;border-color:",(function(e){return e.hasError?l.uiColors.red.base:l.uiColors.gray.light1}),";"),y={name:"lrwxz2",styles:"display:inline-block;width:100px;"},O=o()("span",{target:"e1o9aaf6"})({name:"1y6ic72",styles:"margin-left:10px;"});t.a=function(e){var t=e.formValues,n=e.setFormValue,r=e.errorState,o=e.orgId;return Object(s.jsx)(a.a.Fragment,null,Object(s.jsx)(f,null,Object(s.jsx)(h,null,"Write an Archiving Rule"),Object(s.jsx)("a",{href:"https://docs.atlas.mongodb.com/online-archive/manage-online-archive/",target:"_blank",rel:"noopener noreferrer"},"View Online Archive docs ",Object(s.jsx)("i",{className:"fa fa-external-link"}))),Object(s.jsx)(m,null,"Enter a namespace, date field, and age limit."),Object(s.jsx)(g,null,"Namespace"),Object(s.jsx)(v,{id:"namespace",name:"namespace",type:"text",placeholder:"example_db.example_collection",value:t.namespace||"",onChange:n,hasError:!!r.namespace}),r.namespace&&Object(s.jsx)("div",{className:"view-modal-body-has-padding-bottom"},Object(s.jsx)(u.a,{level:"danger"},Object(s.jsx)(p.a,{glyph:"Warning",fill:l.uiColors.red.base}),"Â ",Object(s.jsx)("span",null,r.errorMessage))),Object(s.jsx)(g,null,"Date field to archive on"),Object(s.jsx)(b,null,"This field must already have an index."," ",Object(s.jsx)("a",{href:"https://docs.mongodb.com/manual/indexes/",target:"_blank",rel:"noopener noreferrer"},"Learn more about indexes.")),Object(s.jsx)(v,{id:"dateField",name:"dateField",type:"text",placeholder:"ExampleDateField",value:t.dateField||"",onChange:n,hasError:!!r.dateField}),r.dateField&&r.dateErrorMessage&&Object(s.jsx)("div",{className:"view-modal-body-has-padding-bottom"},Object(s.jsx)(u.a,{level:"danger"},Object(s.jsx)(p.a,{glyph:"Warning",fill:l.uiColors.red.base}),"Â ",Object(s.jsx)("span",null,r.dateErrorMessage))),Object(s.jsx)(g,null,"Age limit"),Object(s.jsx)(b,null,"Atlas archives your document after this many days."),Object(s.jsx)(v,{id:"age",name:"age",type:"number",placeholder:"30",value:t.age||"",css:y,onChange:n,onBlur:function(){c.d.track(c.b.UX_ACTION_PERFORMED,{context:"Online Archive - Archiving Rule",action:"Entered Archive Age Limit"},{integrations:Object(c.c)(o)})},hasError:!!r.age}),Object(s.jsx)(O,null,"days"))}},2011:
/*!********************************************************************************************************!*\
  !*** ./project/nds/clusters/components/OnlineArchive/OnlineArchiveWizard/OnlineArchiveQueryFields.tsx ***!
  \********************************************************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @emotion/styled-base */30),o=n.n(r),i=n(/*! react */8),a=n.n(i),s=n(/*! @emotion/core */1),l=n(/*! @leafygreen-ui/palette */26),c=n(/*! js/project/common/util/segmentAnalytics */50),u=n(/*! js/common/components/Alert */112),d=n(/*! @leafygreen-ui/icon */304),p=n.n(d);var f=o()("div",{target:"efy1cmx0"})({name:"415mgn",styles:"margin-top:-18px;display:flex;justify-content:space-between;align-items:baseline;border-bottom:1px #e8e9e9 solid;"}),h=o()("h3",{target:"efy1cmx1"})({name:"1qwnwpn",styles:"font-size:22px;"}),m=o()("div",{target:"efy1cmx2"})({name:"15vo923",styles:"margin-top:16px;font-size:16px;"}),g=o()("div",{target:"efy1cmx3"})({name:"k008qs",styles:"display:flex;"}),b=o()("div",{target:"efy1cmx4"})("display:flex;flex-direction:column;font-size:20px;color:",l.uiColors.gray.light1,";"),v=o()("div",{target:"efy1cmx5"})({name:"16mg9ki",styles:"display:flex;flex-direction:column;margin:4px 3px;"}),y=o()("div",{target:"efy1cmx6"})("width:20px;height:77px;border-color:",l.uiColors.gray.light3,";border-left:1px solid;border-bottom:1px solid;margin-left:8px;margin-top:2px;"),O=o()("div",{target:"efy1cmx7"})({name:"ch58vi",styles:"font-weight:bold;margin-bottom:4px;"}),x=o()("em",{target:"efy1cmx8"})({name:"125d736",styles:"display:inline-block;font-size:12px;margin-left:-58px;margin-top:10px;"}),j=o()("a",{target:"efy1cmx9"})({name:"1pmni32",styles:"font-size:13px;margin-left:14px;margin-top:2px;cursor:pointer;"}),E=o()("input",{target:"efy1cmx10"})("border:1px solid ",l.uiColors.gray.light1,";color:",l.uiColors.gray.light1," background:white;display:block;width:322px;height:34px;padding:6px 12px;font-size:16px;line-height:16px;transition:border-color ease-in-out 0.15s,box-shadow ease-in-out 0.15s;margin-top:2px;margin-bottom:10px;border-color:",(function(e){return e.hasError?l.uiColors.red.base:l.uiColors.gray.light1}),";"),S={name:"1xaekgw",styles:"margin-top:20px;"},C={name:"o3jv6i",styles:"margin-top:-13px;margin-left:32px;"},_={name:"19zoett",styles:"margin-top:-13px;margin-left:64px;"},A={name:"1thl6zc",styles:"height:63px;"},N={name:"1mf4y6e",styles:"margin-left:9px;"};function T(e){var t=e.position,n=e.folderOpen,r=void 0!==n&&n,o=e.children,i=0==t?S:1==t?C:_;return Object(s.jsx)(g,{css:i},Object(s.jsx)(b,null,Object(s.jsx)("div",null,r?Object(s.jsx)("i",{className:"fa fa-folder-open"}):Object(s.jsx)("i",{className:"fa fa-folder"})),2!=t&&Object(s.jsx)(y,{css:!r&&A})),Object(s.jsx)(v,{css:2==t&&N},o))}var w={name:"k008qs",styles:"display:flex;"},P={name:"1o0k3ea",styles:"font-size:16px;margin-bottom:10px;"},R={name:"k008qs",styles:"display:flex;"},I={name:"k008qs",styles:"display:flex;"};t.a=function(e){var t,n,r,o,i=e.formValues,d=e.setFormValue,g=e.errorState,b=e.toggleDateFieldRank,v=e.orgId;return Object(s.jsx)(a.a.Fragment,null,Object(s.jsx)(f,null,Object(s.jsx)(h,null,"Choose Commonly Queried Fields"),Object(s.jsx)("a",{href:"https://docs.atlas.mongodb.com/online-archive/manage-online-archive/",target:"_blank",rel:"noopener noreferrer"},"View Online Archive docs ",Object(s.jsx)("i",{className:"fa fa-external-link"}))),Object(s.jsx)(m,null,"Enter the most common fields that queries on archived documents will contain. These will be used to partition your archived data for optimal query performance."),Object(s.jsx)(m,null,"Fields with moderate to high cardinality are good choices. Queries that donât contain these fields will require a full collection scan of all archived documents, which will take longer and increase your costs."),(t=i.dateFieldRank,n=Object(s.jsx)(a.a.Fragment,null,Object(s.jsx)("div",{css:w},Object(s.jsx)(O,null,"Archive date field"),Object(s.jsx)(j,{onClick:function(){return b()}},0==t?"Move down":"Move to first position")),Object(s.jsx)("em",{css:P},i.dateField)),r=Object(s.jsx)(a.a.Fragment,null,Object(s.jsx)("div",{css:R},Object(s.jsx)(E,{id:"partition1",name:"partition1",type:"text",placeholder:"fieldName1",value:i.partition1,onChange:d,onBlur:function(){c.d.track(c.b.UX_ACTION_PERFORMED,{context:"Online Archive - Query Fields",action:"Entered Text in the Field"},{integrations:Object(c.c)(v)})},hasError:!!g.partitionField1}),Object(s.jsx)(x,null,"Optional"),g.partitionField1&&Object(s.jsx)("div",{className:"view-modal-body-alert"},Object(s.jsx)(u.a,{level:"danger"},Object(s.jsx)(p.a,{glyph:"Warning",fill:l.uiColors.red.base}),"Â ",Object(s.jsx)("span",null,g.errorMessage))))),o=Object(s.jsx)(a.a.Fragment,null,Object(s.jsx)("div",{css:I},Object(s.jsx)(E,{id:"partition2",name:"partition2",type:"text",placeholder:"fieldName2",value:i.partition2,onChange:d,onBlur:function(){c.d.track(c.b.UX_ACTION_PERFORMED,{context:"Online Archive - Query Fields",action:"Entered Text in the Field"},{integrations:Object(c.c)(v)})},hasError:!!g.partitionField2}),Object(s.jsx)(x,null,"Optional"),g.partitionField2&&Object(s.jsx)("div",{className:"view-modal-body-alert"},Object(s.jsx)(u.a,{level:"danger"},Object(s.jsx)(p.a,{glyph:"Warning",fill:l.uiColors.red.base}),"Â ",Object(s.jsx)("span",null,g.errorMessage))))),2==t?Object(s.jsx)(a.a.Fragment,null,Object(s.jsx)(T,{position:0,folderOpen:!0},Object(s.jsx)(O,null,"Most commonly queried field"),r),Object(s.jsx)(T,{position:1,folderOpen:!0},Object(s.jsx)(O,null,"Second most commonly queried field"),o),Object(s.jsx)(T,{position:2},n)):Object(s.jsx)(a.a.Fragment,null,Object(s.jsx)(T,{position:0},n),Object(s.jsx)(T,{position:1,folderOpen:!0},Object(s.jsx)(O,null,"Second most commonly queried field"),r),Object(s.jsx)(T,{position:2,folderOpen:!0},Object(s.jsx)(O,null,"Third most commonly queried field"),o))))}},2012:
/*!***************************************************************************************************!*\
  !*** ./project/nds/clusters/components/OnlineArchive/OnlineArchiveWizard/OnlineArchiveReview.tsx ***!
  \***************************************************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @emotion/styled-base */30),o=n.n(r),i=n(/*! react */8),a=n.n(i),s=n(/*! js/common/components/CopyableCommand */890),l=n(/*! @emotion/core */1);var c=o()("div",{target:"ep02l3o0"})({name:"1hp97wn",styles:"margin-top:-18px;display:flex;justify-content:space-between;align-items:baseline;border-bottom:1px #e8e9e9 solid;display:flex;"}),u=o()("h3",{target:"ep02l3o1"})({name:"1qwnwpn",styles:"font-size:22px;"}),d=o()("ol",{target:"ep02l3o2"})({name:"15vo923",styles:"margin-top:16px;font-size:16px;"}),p=o()("p",{target:"ep02l3o3"})({name:"1lvwiam",styles:"font-size:16px;margin-bottom:16px;"}),f=o()("li",{target:"ep02l3o4"})({name:"1t5usnk",styles:"font-size:16px;padding-left:4px;"}),h=o()("div",{target:"ep02l3o5"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),m=o()("img",{target:"ep02l3o6"})({name:"jxtgz9",styles:"height:60px;width:60px;margin-right:24px;"}),g=o()("ul",{target:"ep02l3o7"})({name:"1lwrckp",styles:"list-style:none;padding:0;"}),b={name:"uolpw0",styles:"margin-bottom:-14px;"};t.a=function(e){var t,n,r,o,i,v=e.formValues;return e.setFormValue,Object(l.jsx)(a.a.Fragment,null,Object(l.jsx)(c,null,Object(l.jsx)(u,null,"Review and Confirm"),Object(l.jsx)("a",{href:"https://docs.atlas.mongodb.com/online-archive/manage-online-archive/",target:"_blank",rel:"noopener noreferrer"},"View Online Archive docs ",Object(l.jsx)("i",{className:"fa fa-external-link"}))),Object(l.jsx)(d,{className:"step-indicator step-indicator-is-vertical"},Object(l.jsx)(f,{className:"step-indicator-step step-indicator-step-is-vertical-long"},Object(l.jsx)(p,null,"Review your archiving rule"),Object(l.jsx)(h,null,Object(l.jsx)(m,{src:"/static/images/atlas-online-archive.png",alt:"Online Archive logo"}),Object(l.jsx)("div",null,Object(l.jsx)(g,null,Object(l.jsx)("li",null,"Namespace: ",Object(l.jsx)("strong",null,v.namespace)),Object(l.jsx)("li",null,"Archive field: ",Object(l.jsx)("strong",null,v.dateField)),Object(l.jsx)("li",null,"Age limit: ",Object(l.jsx)("strong",null,v.age," days")),Object(l.jsx)("li",null,"Partition fields: ",Object(l.jsx)("strong",null,(t=v.partition1,n=v.partition2,r=v.dateField,o=v.dateFieldRank,i=[t,n],i.splice(o,0,r),i.filter((function(e){return!!e}))).join(" > "))))))),Object(l.jsx)(f,{className:"step-indicator-step step-indicator-step-is-vertical-medium"},Object(l.jsx)(p,null,"Run this query in the mongo shell to see what documents match your rule."),Object(l.jsx)(s.a,{copyableText:function(){var e=v.namespace,t=v.dateField,n=v.age,r=e.split(".").length>1?v.namespace.split(".")[1]:"collection",o="{ ".concat(t,": 1");return o+=" }","db.".concat(r,".find({ ").concat(t,": { $lte: new Date(ISODate().getTime() - 1000 * 3600 * 24 * ").concat(n,")}}).sort(").concat(o,")")}(),commandClassName:"copy-command-is-full-width",wrap:!0,inheritLineHeight:!0})),Object(l.jsx)(f,{className:"step-indicator-step step-indicator-step-is-vertical-medium"},Object(l.jsx)(p,null,"Ensure your data is indexed for optimal performance. You can run"," ",Object(l.jsx)("a",{href:"https://docs.mongodb.com/manual/reference/method/cursor.explain/",target:"_blank",rel:"noopener noreferrer"},"explain")," ","on the above query to verify whether it will use an index. You can create the required index by running the following:"),Object(l.jsx)(s.a,{copyableText:function(){var e=v.dateField,t=v.namespace.split(".").length>1?v.namespace.split(".")[1]:"collection",n="{ ".concat(e,": 1");return n+=" }","db.".concat(t,".createIndex(").concat(n,")")}(),commandClassName:"copy-command-is-full-width",wrap:!0,inheritLineHeight:!0})),Object(l.jsx)(f,{className:"step-indicator-step step-indicator-step-is-vertical-medium"},Object(l.jsx)(p,{css:b},'After reviewing your data, click "Begin Archiving."'))))}},2013:
/*!************************************************************************!*\
  !*** ./project/nds/clusters/views/OnlineArchive/onlineArchivePage.hbs ***!
  \************************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="js-modal-container"></div>\n<div class="section-content"></div>\n'},useData:!0})},3183:
/*!******************************************************!*\
  !*** ./project/nds/clusters/router.js + 176 modules ***!
  \******************************************************/
/*! exports provided: default */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/assertThisInitialized.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/classCallCheck.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/createClass.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/defineProperty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/extends.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/getPrototypeOf.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/inherits.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/objectWithoutProperties.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/slicedToArray.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/regenerator/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@emotion/core/dist/core.browser.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@emotion/css/dist/css.browser.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@emotion/styled-base/dist/styled-base.browser.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/badge/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/button/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/checkbox/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/confirmation-modal/dist/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/icon/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/palette/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/portal/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/toggle/dist/index.web.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@leafygreen-ui/tooltip/dist/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Accordion.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Alert.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/AuthExpired/AuthExpired.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Breadcrumbs.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/ButtonGroup.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/ButtonWithLoaderAndLink.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/ConfirmationModal.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/CopyableCommand.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Dropdown.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/DropdownSelect.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/ExpirationCountdownBubble.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/FormatDateTime.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/InfoBanner.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Loader.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Modal.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Poller.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/SectionHeader/SectionHeader.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/SectionHeader/SectionHeaderTabs.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/SectionHeader/SectionSubtabs.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Select.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Settings/MultiStepPaymentMethodModal/MultiStepPaymentMethodModal.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Settings/MultiStepPaymentMethodModal/PaymentMethodRequiredModal.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/SpreadsheetPropagationForm/DropdownCell.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/SpreadsheetPropagationForm/InputCell.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/SpreadsheetPropagationForm/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Table/Table.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Table/TablePlain.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Table/index.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/ToggleSwitch.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/components/Tooltip.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/app.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/nds/auditLog.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/nds/clusterDescriptions.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/nds/clusterForm.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/nds/customRoles.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/nds/diskBackup.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/nds/encryptionAtRest.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/nds/onlineArchives.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/nds/tenantBackup.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/nds/userSecurity.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/settings.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/uiPreferences.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/data/modules/viewer.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./common/services/api/fetchWrapper.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./common/services/api/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./common/services/api/mLabApi.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/services/errorHelper.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/services/intercomService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./common/utils/unitHelpers.js */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/activity/decorators/Event.js */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/charts/d3/line/ndsSparkline.js */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/core/models/deployment/Cluster.js */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/core/models/deployment/Process.js */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/core/models/deployment/ReplicaSet.js */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/core/util/errorHelpers.js */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/marionetteRenderer.js */
/*! ModuleConcatenation bailout: Cannot concat with ./organization/components/MlabAccount/MlabPropTypes.js */
/*! ModuleConcatenation bailout: Cannot concat with ./organization/components/MlabAccount/MlabUtils.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/applications/helpers/getBaasParams.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/applications/helpers/redirectToApp.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/applications/services/applicationsService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/backup/components/AutomatedRestoreProjectPicker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/components/EditorLayout/index.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/components/MongoCLIDescription.tsx */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/constants.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/extensions/mixins/clipboardMixin.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/extensions/mixins/insertModal.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/extensions/mixins/onInitialRenderPromise.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/extensions/mixins/removeViewOnDestroy.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/extensions/mixins/tooltipTour.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/extensions/mixins/tooltips.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/extensions/mixins/viewAsModal.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/extensions/mixins/viewWithReact.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/hbsHelpers/featureGuards.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/models/Settings.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/partials/breadcrumbs.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/services/groupStatusService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/ConditionalRouter.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/browserDetector.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/dateFormatters.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/deepClone.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/groupIdFromPath.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/hostnameHelpers.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/insertIntoHash.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/jqueryErrorHandler.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/loader.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/mixInto.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/mixinBeforeExtension.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/mongoDbVersionHelpers.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/queryStringToObject.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/redirectIfDelinquent.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/redirectTo.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/removeFromHash.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/segmentAnalytics.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/servicePoller.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/setTitle.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/whenAppendedTo.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/views/ReactComponentWrapper.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/views/TimePicker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/deployment/constants/platformConstants.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./project/metrics/services/metricsService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/metrics/util/metricsUtils.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/backup/components/backupSchema.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/components/CloudProviderSelector/CloudProviderSelector.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/components/CloudProviderSelector/schema.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/components/ClusterLoadSampleDatasetModal/ClusterLoadSampleDatasetModal.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/components/ClusterLoadSampleDatasetModal/loadSampleDatasetStatusSchema.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/components/GeoZoneLocations.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/components/NDSClusterForm/schema.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/components/OnlineArchive/OnlineArchiveWizard/OnlineArchiveWizard.tsx (<- Module uses injected variables (Buffer)) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/models/AtlasConnectOptions.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/models/ClusterDescription.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/models/ClusterDetail.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/models/ProviderOptions.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/services/clusterDescriptionService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/services/clusterDetailCollectionService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/services/clusterDetailService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/services/liveImportService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/util/clusterDescriptionUtils.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/util/clusterEditorUtils.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/util/clusterTrackingUtil.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/util/instanceSizeUtils.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/util/loadSampleDatasetUtils.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/util/replicationSpecUtils.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/regionFlagMappings.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/common/components/ConnectDriverMongoURI/ConnectDriverMongoURI.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/common/components/ConnectModal/ConnectModal.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/common/components/RegionSelect.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/common/components/RegionSelectRecommendedLegend.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/common/components/regionSchema.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/common/views/ConnectModal.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/components/EnterpriseSecurity/schema.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/components/NDSUserRoles/schema.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/components/peering/peeringSchema.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/models/NDSUserCollection.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/models/PeerConnectionCollection.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/models/UserSecurity.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/models/WhitelistedIpCollection.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/services/auditLogService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/services/encryptionAtRestService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/services/ipWhitelistService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/services/peerConnectionService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/services/userSecurityService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/security/services/usersService.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/types/awsPrivateLink.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/types/provider.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./project/settings/views/components/MaintenanceBanner.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/asyncToGenerator.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/toConsumableArray.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/bson/dist/bson.browser.umd.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/query-string/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/backbone.marionette/lib/backbone.marionette.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/backbone/backbone.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/connect-backbone-to-react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/d3-selection/dist/d3-selection.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/jquery/dist/jquery-exposed.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/views/clusterAlert.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/OnlineArchive/onlineArchivePage.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/awsClusterDetailItemHeader.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/awsClusterInfoPanel.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/azureClusterDetailItemHeader.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/azureClusterInfoPanel.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterCutoverImportModalConnectionString.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterCutoverImportModalFooter.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterCutoverImportModalIntroduction.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterCutoverImportModalOptimeGap.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterCutoverImportModalReplicaSet.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterCutoverImportModalShardedCluster.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterCutoverImportModalStopApplication.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterDetailPage.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterInfoPanelApplicationStats.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterInfoPanelHeader.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterInfoPanelStats.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterListControls.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterOptionsMenu.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clusterReapingStatus.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/clustersHeader.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/emptyClustersView.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/filteredEmptyClustersView.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/freeClusterDetailItemHeader.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/freeClusterInfoPanel.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/gcpClusterDetailItemHeader.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/gcpClusterInfoPanel.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/ndsStateIcon.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/nds/clusters/views/openAlertSummaries.hbs (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/moment-timezone/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/moment/moment.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/pikaday/pikaday.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-helmet/lib/Helmet.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react-redux/lib/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/underscore/underscore.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.r(t);var r=n(20),o=n.n(r),i=n(7),a=n.n(i),s=n(8),l=n.n(s),c=n(56),u=n.n(c),d=n(25),p=n(142),f=n(201),h=n(1914),m=n.n(h),g=n(1073),b=n(903),v=n(87),y=n(292),O=n(23),x=n.n(O),j=n(24),E=n.n(j),S=n(14),C=n.n(S),_=n(27),A=n.n(_),N=n(28),T=n.n(N),w=n(17),P=n.n(w),R=n(4),I=n.n(R),D=n(3),k=n.n(D),M=n(112),L=n(171),U=n(5),F=n(1544),B=n(1046),z=n(1);function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}function q(e){return"MMS.SupportPlan.".concat(e)}var G=function(e){A()(n,e);var t=V(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{mlabAccount:null,hasPaymentMethod:!1,isMlabAccountLoaded:!1,isPaymentMethodLoaded:!1,isDismissed:null!==window.localStorage.getItem(q(e.props.orgId))}),I()(C()(e),"dismiss",(function(){window.localStorage.setItem(q(e.props.orgId),"true"),e.setState({isDismissed:!0})})),I()(C()(e),"loadHasPaymentMethod",(function(){var t=e.props.orgId;U.d.hasEffectivePaymentMethod({orgId:t}).then((function(t){e.setState({hasPaymentMethod:t,isPaymentMethodLoaded:!0})}))})),I()(C()(e),"loadMlabAccount",(function(){var t=e.props,n=t.orgId;t.isOrgConnectedToMlabAccount?U.k.getAccount({orgId:n}).then((function(t){e.setState({mlabAccount:t,isMlabAccountLoaded:!0})})):e.setState({isMlabAccountLoaded:!0})})),e}return E()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.orgId,r=t.migrations,o=t.plan,i=t.showlinkToMlabAccountView,a=t.requirePaymentMethod,s=this.state,c=s.isDismissed,u=s.hasPaymentMethod,d=s.isPaymentMethodLoaded,p=s.mlabAccount,f=s.isMlabAccountLoaded,h=r.some((function(e){return e.wasEverMigrated})),m=r.some((function(e){return e.migrationStatus===B.c.READY_FOR_POST_MIGRATION})),g=!c&&"NDS"===o.ndsPlanType&&(h||m)&&(!a||u);return Object(z.jsx)(L.a,{load:function(){e.loadHasPaymentMethod(),e.loadMlabAccount()},isLoading:!d||!f,loadingComponent:L.a.NO_LOADING_COMPONENT,renderWhenLoaded:!0},g&&Object(z.jsx)(M.a,{dismissible:!0,onDismiss:this.dismiss,className:"bem-alert-has-margin-top-bottom"},Object(z.jsx)("i",{className:"fa fa-exclamation-circle"})," ",Object(z.jsx)("strong",null,"Unlike mLab, Atlas does not automatically include database support.")," ",Object(F.a)(u,o.ndsPlanType,p)?Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("a",{href:"/v2#/org/".concat(n,"/mlabAccount/atlasSupport"),rel:"noopener noreferrer"},Object(z.jsx)("u",null,"Activate a support plan"))," ","(discounted for mLab) in order to open tickets with Atlas Support."):Object(z.jsx)(l.a.Fragment,null,"We recommend configuring a support plan (discounted for mLab) while"," ",i?Object(z.jsx)("a",{href:"/v2#/org/".concat(n,"/mlabAccount"),target:"_blank",rel:"noopener noreferrer"},Object(z.jsx)("u",null,"migrating to Atlas")):Object(z.jsx)(l.a.Fragment,null,"migrating to Atlas"),".")))}}]),n}(l.a.Component);I()(G,"propTypes",{isOrgConnectedToMlabAccount:k.a.bool.isRequired,migrations:k.a.arrayOf(B.b).isRequired,orgId:k.a.string.isRequired,plan:k.a.shape({ndsPlanType:k.a.string}).isRequired,showlinkToMlabAccountView:k.a.bool,requirePaymentMethod:k.a.bool}),I()(G,"defaultProps",{showlinkToMlabAccountView:!1,requirePaymentMethod:!1});var H,W=n(50),Y=Object(v.a)(d.View)(y.a,f.a).extend({template:m.a,templateContext:function(){return{href:"#clusters/edit",isEmpty:this._collectionIsEmpty(),helpers:{isGroupOwner:Object(g.a)(this.settingsModel)},partials:{breadcrumbs:Object(b.a)(this.settingsModel)}}},initialize:function(e){var t=e.settingsModel,n=e.isOrgConnectedToMlabAccount,r=e.mlabDeploymentMigrations,o=e.$modalContainer;this.settingsModel=t,this.isOrgConnectedToMlabAccount=n,this.mlabDeploymentMigrations=r,this.$modalContainer=o,this.orgId=this.settingsModel.getCurrentOrgId(),this.registerReactComponent(Object(z.jsx)(G,{isOrgConnectedToMlabAccount:this.isOrgConnectedToMlabAccount,migrations:this.mlabDeploymentMigrations,orgId:this.orgId,plan:{ndsPlanType:this.settingsModel.getPlanType()},showlinkToMlabAccountView:!0}),".js-support-ad-window-region"),this.collection&&this.listenTo(this.collection,"add remove",this.toggleAddClusterButton)},events:function(){return{"click .js-create-new-cluster":"onClickCreateNewCluster"}},onClickCreateNewCluster:function(){var e=this.collection.filter((function(e){return"M0"!==e.getClusterDescription().getInstanceSize()})).length,t=Object(W.c)(this.orgId);W.d.track(W.b.UX_ACTION_PERFORMED,{action:"Create a New Cluster",context:"clusters",project_cluster_count:this.collection.length,project_paid_cluster_count:e},{integrations:t})},toggleAddClusterButton:function(){this.$('[name="buildCluster"]').prop("hidden",this.collection.isEmpty())},_collectionIsEmpty:function(){return!this.collection||this.collection.isEmpty()}}),K=n(10),Z=n.n(K),$=n(125),X=n(2),J=n.n(X),Q=n(54),ee=n.n(Q),te=n(302),ne=n(1111),re=n(241),oe=n(889),ie=n(22),ae=n.n(ie),se=n(38),le={CALLOUT:"callout",CONNECT:"connect"},ce=(H={},I()(H,le.CALLOUT,{localStorage:"MMS.Callout.SuppressAtlasPrimaryBannerButton",transition:function(){}}),I()(H,le.CONNECT,{localStorage:"MMS.ClusterOptionsMenu.SuppressConnectButton",transition:function(){}}),H),ue=[le.CALLOUT,le.CONNECT];function de(e){var t=ce[e];return t&&t.localStorage&&"true"===localStorage.getItem("".concat(t.localStorage,".").concat(se.a()))}function pe(){return ue.find(J.a.negate(de))}function fe(e){return e===pe()}var he={registerClick:function(e){var t=ce[e];if(t){var n=!de(e)&&fe(e);if(localStorage.setItem("".concat(t.localStorage,".").concat(se.a()),"true"),n)ue.indexOf(e)+1<ue.length&&ce[pe()]&&ce[pe()].transition()}},onTransition:function(e,t){var n=ce[e];n&&(n.transition=t)},isPrimaryCTA:fe,AREA:le},me=n(879),ge=n(1221);function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var ve=l.a.Component,ye=k.a.arrayOf(k.a.oneOf(["connect","editConfiguration","commandLineTools","migrateData","loadSampleDataset","viewAccessLogs","downloadLogs","testFailover","takeSnapshot","resume","pause","terminate","extend","metrics","dataExplorer","bypassRestrictedEmployeeAccess"])),Oe=function(e){A()(n,e);var t=be(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{connectButtonPrimary:he.isPrimaryCTA(he.AREA.CONNECT)}),e}return E()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.isFirstOnPage&&he.onTransition(he.AREA.CONNECT,(function(){e.setState({connectButtonPrimary:!0})}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.buttonOptionNames,o=t.className,i=t.clusterDetail,a=t.excludeOptionNames,s=t.placement,l=t.settingsModel,c=t.isFirstOnPage,u=t.providerOptions,d=t.loadSampleDatasetStatus,p=t.isPrivateIPMode,f=this.state.connectButtonPrimary,h=i.getClusterDescription(),m=i.getDeploymentItem(),g=i.getLiveImport(),b=h.isTenant(),v=h.isDeleting(),y=h.isPaused(),O=oe.D(h),x=h.isIdle(),j=h.isExpiring(),E=oe.x(u,h.getProvider(),h.getInstanceSize()),S=O,C=O||h.isShardedCluster()&&g&&g.isRunning(),_=O,A=!x||!(b||m)||g&&g.isRunning()||d&&"WORKING"===d.state,N=p&&h.getMongoDBMajorVersion()<3.6,T=!m||O,w=!l.hasProjectFeature("MONGODB_ACCESS_HISTORY")||b,P=O||!m||g&&g.isRunning()||d&&"WORKING"===d.state,R=b||!h.supportsLiveImport()||p&&h.getMongoDBMajorVersion()<3.6,I=!m||O,D=b,k=!x||!m,M=b,L=O||g&&g.isRunning(),U=!h.isDiskBackupEnabled(),F=!y,B=!x||!m||d&&"WORKING"===d.state,V=b||y||E,q=v,G=j&&!h.getRemainingLifetime(),H=!j,W=!m||O,Y=!m||O,K=!l.isDataExplorerExposed(),Z=!m||O||l.isOrganizationRestrictingEmployeeAccess()&&h.hasActiveRestrictedEmployeeAccessBypass(),$=b||!l.isOrganizationRestrictingEmployeeAccess(),X={connect:n.getOption("Connect","Connect","js-connect",S,!1,0),editConfiguration:n.getOption("Edit Configuration","Configuration","js-configuration",C,!1,0),commandLineTools:n.getOption("Command Line Tools","Command Tools","js-command-line-tools",_,!1,0),migrateData:n.getOption("Migrate Data to this Cluster","Migrate Data","js-start-live-import",P,R,1),loadSampleDataset:n.getOption("Load Sample Dataset","Load Sample Dataset","js-load-sample-dataset",A,N,1),viewAccessLogs:n.getOption("View Database Access History","View Database Access History","js-view-access-logs",T,w,1),downloadLogs:n.getOption("Download Logs","Logs","js-download-logs",I,D,1),testFailover:n.getOption("Test Failover","Test Failover","js-restart-primary",k,M,1),takeSnapshot:n.getOption("Take Snapshot Now","Take Snapshot Now","js-take-snapshot",L,U,1),bypassRestrictedEmployeeAccess:n.getOption("Grant Temporary Backend Access to MongoDB Support","Grant Temporary Backend Access to MongoDB Support","js-bypass-restricted-employee-access",Z,$,2),resume:n.getOption("Resume Cluster","Resume","js-resume",!1,F,3),pause:n.getOption("Pause Cluster","Pause","js-pause",B,V,3),terminate:n.getOption("Terminate","Terminate","js-terminate",q,!1,3),extend:n.getOption("Extend","Extend","js-extend",G,H,3),metrics:n.getOption("Metrics","Metrics","js-metrics",W,!1,4),dataExplorer:n.getOption("Data Explorer","Collections","js-data-explorer",Y,K,4)},J=-1,Q=[];Object.keys(X).forEach((function(e){var t=X[e];t.excluded||r.includes(e)||a.includes(e)||(J<0&&(J=t.optionGroupIndex),t.optionGroupIndex!==J&&(J=t.optionGroupIndex,Q.push({divider:!0,className:"cluster-options-menu-dropdown-divider"})),Q.push(t))}));var ee=r.filter((function(e){return!a.includes(e)})).map((function(e){return X[e]})).filter((function(e){return!e.excluded})),ne=function(t){return function(){c&&"Connect"===t.buttonName&&(he.registerClick(he.AREA.CONNECT),e.setState({connectButtonPrimary:!1}))}};return Object(z.jsx)("div",{className:o},ee.map((function(e){return Object(z.jsx)("button",{key:"clusterOptButton-".concat(e.buttonName),className:ae()("button button-is-xs ".concat(e.className),{"button-is-primary":(t=e,c&&"Connect"===t.buttonName&&f)}),onClick:ne(e),disabled:e.disabled},e.buttonName);var t})),Object(z.jsx)(te.a,{withEllipsis:!0,placement:s,buttonClassName:"button-is-xs cluster-options-menu-dropdown-button",options:Q}))}}],[{key:"getOption",value:function(e,t,n,r,o,i){return{text:e,buttonName:t,className:n,disabled:r,excluded:o,optionGroupIndex:i}}}]),n}(ve);I()(Oe,"propTypes",{className:k.a.string,buttonOptionNames:ye,excludeOptionNames:ye,clusterDetail:k.a.instanceOf(ne.a).isRequired,settingsModel:k.a.instanceOf(re.a).isRequired,placement:k.a.oneOf(["left","right"]),isFirstOnPage:k.a.bool,providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,loadSampleDatasetStatus:k.a.shape(ge.a),isPrivateIPMode:k.a.bool.isRequired}),I()(Oe,"defaultProps",{className:"cluster-options-menu-buttons",buttonOptionNames:[],excludeOptionNames:[],placement:"right",isFirstOnPage:!1,loadSampleDatasetStatus:void 0});var xe=Object(p.connectBackboneToReact)((function(e){var t=e.clusterDetail,n=e.settingsModel,r=e.providerOptionsModels,o=e.loadSampleDatasetStatus;return{clusterDetail:t,settingsModel:n,providerOptions:r.toJSON(),loadSampleDatasetStatus:o&&o.attributes}}))(Oe),je=Object(v.a)(d.View)(f.a).extend({template:function(){return'<div class="cluster-options-menu-content" />'},initialize:function(e){var t=e.buttonOptionNames,n=e.className,r=e.excludeOptionNames,o=e.placement,i=e.settingsModel,a=e.isFirstOnPage,s=e.providerOptionsModel,l=e.loadSampleDatasetStatus,c=e.isPrivateIPMode,u={clusterDetail:this.model,settingsModel:i,providerOptionsModels:s,loadSampleDatasetStatus:l};this.registerReactComponent(Object(z.jsx)(p.BackboneProvider,{models:u},Object(z.jsx)(xe,{buttonOptionNames:t,className:n,excludeOptionNames:r,placement:o,isFirstOnPage:a,isPrivateIPMode:c})),".cluster-options-menu-content")}}),Ee=n(350),Se=n(213),Ce={creating:"cluster-detail-is-deploying",updating:"cluster-detail-is-deploying",repairing:"cluster-detail-is-repairing",deleting:"cluster-detail-is-deleting",unavailable:"cluster-detail-is-unavailable",degraded:"cluster-detail-is-degraded",stable:"cluster-detail-is-stable",paused:"cluster-detail-is-paused"};function _e(e){var t=e.isDataSourceProxy()?900:300;return e.hasReceivedPing()&&e.getSecondsSinceLastPing()>t}function Ae(e){if(e)return e instanceof Ee.a?_e(e)||!e.isPrimaryOrSecondary():e instanceof Se.a?e.hasPrimary()&&!e.canPerformMajorityWrites()||e.getProcesses().filter((function(e){return e.isPrimary()})).some((function(e){return _e(e)})):e.getShards().some((function(e){return Ae(e)}))}function Ne(e){if(e)return!(e instanceof Ee.a)&&(!!e.getProcesses().every((function(e){return e.hasReceivedPing()}))&&(e instanceof Se.a?!e.hasPrimary():e.getShards().some(Ne)||e.getMongos().every(_e)))}function Te(e,t){return{isCreating:e.isCreating(),isUpdating:e.isUpdating()||e.isDecomposedShardedCluster(),isRepairing:e.isRepairing(),isUnavailable:Ne(t),isDegraded:Ae(t),isDeleting:e.isDeleting(),isPaused:e.isPaused(),isMonitoringPaused:e.isMonitoringPaused()}}function we(e,t){var n=Te(e,t);return n.isCreating?Ce.creating:n.isDeleting?Ce.deleting:n.isRepairing?Ce.repairing:n.isPaused||status.isMonitoringPaused?Ce.paused:n.isUpdating?Ce.updating:n.isUnavailable?Ce.unavailable:n.isDegraded?Ce.degraded:Ce.stable}var Pe=n(1298);var Re=function(e){return e.map((function(e){var t=new Pe.a(e).decorate(),n=t.descriptionExtra,r=t.tag,o=t.targetLink,i=t.targetName,a=e.get("description");return n&&(a+="".concat(n)),r&&(a+=" - ".concat(r)),{targetLink:o,targetName:i,summary:a}})).slice(0,5)},Ie=n(1171),De=n(293),ke=n(886),Me=n(1547),Le=n(1001),Ue=n(291),Fe=n(100),Be=n(114),ze=n(298),Ve=n(294),qe=n(202),Ge=Object(v.a)(d.View)(qe.a).extend({template:n(/*! ./clusterExtendModal.hbs */1915),modifierClassNames:"view-modal-content-is-medium",events:function(){return{'click button[name="close"]':"destroy",'click button[name="extend"]':"_extendClusterLifetime"}},templateContext:function(){return{isTenant:this.model.isTenant()}},actions:[{name:"close",cssClass:"button",label:"Cancel"},{name:"extend",cssClass:"button button-is-danger",label:"Extend"}],initialize:function(){this.title="Extend Cluster Lifetime: ".concat(this.model.get("name"))},_extendClusterLifetime:function(e){var t=this,n=Z()(e.currentTarget).prop("disabled",!0);this.$(".alert-danger").prop("hidden",!0);var r,o=Z()('select[name="extensionTime"] option:selected').val();if(isNaN(o))r=null;else{var i=parseInt(o,10);(r=ee()(new Date(this.model.get("deleteAfterDate")))).add(i,"hours"),r=r.toDate().toISOString()}this.model.set("deleteAfterDate",r),ze.a.updateClusterDescription(this.model).then((function(){ze.a.reloadClusterDescriptions(),t.destroy()}),(function(e){t.$(".alert-danger-msg").text(Ve.a.getErrorMessage({xhr:e})),t.$(".alert-danger").prop("hidden",!1),n.prop("disabled",!1)}))}}),He=(n(536),n(299),n(76)),We=n(966),Ye=Object(v.a)(d.View)(qe.a).extend({template:n(/*! ./clusterStartLiveImportModal.hbs */1916),modifierClassNames:"view-modal-content-is-medium",initialize:function(e){var t=e.clusterDescription,n=e.settingsModel,r=e.liveImportWhitelistIPs,o=e.visibilityAPI;this.clusterDescription=t,this.liveImportWhitelistIPs=r,this.settingsModel=n,this.title="Migrate Data to ".concat(this.clusterDescription.get("name")),this.visibilityAPI=o,this._initImportValidationJobPoller()},templateContext:function(){return{isSharded:this.clusterDescription.isShardedCluster(),liveImportWhitelistIPs:this.liveImportWhitelistIPs,hasWhitelistIPs:this.liveImportWhitelistIPs.length>0,hostnamePlaceholder:this._getHostnamePlaceholder(),sitename:this.settingsModel.get("SITE_NAME")}},onRender:function(){this.$(".make-switch").bootstrapSwitch({labelWidth:""})},onDestroy:function(){this.validationPoller.stop()},events:function(){var e=this;return{'click [name="validate"]':"_onClickValidate",'click [name="confirm"]':"_onClickConfirm",'change [name="hostname"]':"_onHostnameChange",'switchChange.bootstrapSwitch [name="sslEnabled"]':"_toggleCaFileSection","submit form":"_onClickConfirm","click .view-modal-close":function(){return e._removeOnClickClose()},keyup:function(t){return e._removeOnEscape(t)}}},_onClickValidate:function(){var e=this;this._clearAlert(),this.$('[data-toggle="tooltip"]').tooltip(),this.$('[name="validate"]').addClass("button-is-not-allowed").prop("disabled",!0),this.$('[name="sslEnabled"]').bootstrapSwitch("disabled",!0),this.$('[name="dropEnabled"]').bootstrapSwitch("disabled",!0),this.$("input, textarea").prop("disabled",!0),this.$(".loading-spinner").prop("hidden",!1);var t=this._getFormData();if(We.a.broadcastLiveImportEvent({segmentEvent:W.b.CREDENTIALS_PROVIDED,clusterDescription:this.clusterDescription,sslEnabled:t.sslEnabled,caFileProvided:t.caFile.length>1,options:{integrations:Object(W.c)(this.settingsModel.get("ORG_ID"))}}),-1!==t.caFile.indexOf("PRIVATE KEY"))return this._onValidateFailure("CA file text contains a private key");Le.a.validateLiveImport(t).then((function(t){e.validationJobId=t,e.validationPoller.immediate().start(1e3)}),(function(t){e._onValidateFailure(t)}))},_initImportValidationJobPoller:function(){var e=this;this.validationJobId=null,this.validationPoller=He.a.create((function(){return Le.a.checkLiveImportValidationJob(e.validationJobId)}),this.visibilityAPI),this.validationPoller.then((function(t){"COMPLETED"===t.status?(e._onValidateSuccess(),e.validationPoller.stop()):"FAILED"!==t.status&&"RETRY_EXHAUSTED_FAIL"!==t.status||(e._onValidateFailure(t.errMsg),e.validationPoller.stop())}))},_onValidateSuccess:function(){this.$('[name="status-alert"]').addClass("alert-success").attr("hidden",!1),this.$(".js-alert-exclamation").text("We were able to connect to your source cluster."),this.$(".js-live-import-troubleshooting-docs").attr("hidden",!0),this.$(".alert-msg").text('Click the "Start Migration" button below to begin migrating your data!'),this.$('[name="confirm"]').removeClass("button-is-not-allowed").prop("disabled",!1),this.$('[data-toggle="tooltip"]').tooltip("destroy"),this.$(".loading-spinner").prop("hidden",!0)},_onClickConfirm:function(){var e=this;this._clearAlert();var t=this._getFormData();Le.a.startLiveImport(t).then((function(){Le.a.loadLiveImports(),e.remove()}),(function(t){e._setDangerAlert(t)}))},_isProbablyMlabHost:function(e){var t=e.split(":")[0].toLowerCase();return t.endsWith(".mlab.com")||t.endsWith(".mongolab.com")},_isAtlasClusterHostname:function(e){var t=e.split(":")[0].toLowerCase();return t.endsWith("mongodb.net")||t.endsWith("mmscloudteam.com")},_onHostnameChange:function(){var e=this._getFormData().hostname;this._isProbablyMlabHost(e)?this._setHostnameWarningAlert('We strongly recommend that you use the mLab-specific migration tool instead of using this Live Migration tool directly. See our <a href="https://docs.mlab.com/how-to-migrate-to-atlas/" target="_blank" rel="noreferrer noopener">step-by-step guide</a> for detailed instructions.'):this._isAtlasClusterHostname(e)?this._toggleAtlasMigrationSpecificChanges(!0):(this._clearHostnameWarning(),this._toggleAtlasMigrationSpecificChanges(!1))},_toggleAtlasMigrationSpecificChanges:function(e){var t=this.$('[name="sslEnabled"]').bootstrapSwitch("state");e?(t||this.$('[name="sslEnabled"]').bootstrapSwitch("toggleState"),this.$('[name="sslEnabled"]').bootstrapSwitch("disabled",!0),this.$(".js-atlas-ssl-info").attr("hidden",!1),this.$('[name="caFile"]').val(""),this.$(".js-ca-file-section").attr("hidden",!0)):(this.$('[name="sslEnabled"]').bootstrapSwitch("disabled",!1),t&&this.$('[name="sslEnabled"]').bootstrapSwitch("toggleState"),this.$(".js-atlas-ssl-info").attr("hidden",!0))},onBeforeRemove:function(){We.a.broadcastLiveImportEvent({segmentEvent:W.b.MIGRATE_MODAL_EXITED,clusterDescription:this.clusterDescription,options:{integrations:Object(W.c)(this.settingsModel.get("ORG_ID"))}})},_getFormData:function(){return{hostname:this.$('[name="hostname"]').val().trim(),username:this.$('[name="username"]').val().trim(),password:this.$('[name="password"]').val().trim(),sslEnabled:this.$('[name="sslEnabled"]').prop("checked"),dropEnabled:this.$('[name="dropEnabled"]').prop("checked"),caFile:this.$('[name="caFile"]').val().trim(),clusterName:this.clusterDescription.get("name")}},_toggleCaFileSection:function(){this.$('[name="sslEnabled"]').prop("checked")?this.$(".js-ca-file-section").removeAttr("hidden"):this.$(".js-ca-file-section").attr("hidden",!0)},_clearAlert:function(){this.$('[name="status-alert"]').removeClass("alert-success alert-danger").attr("hidden",!0),this.$(".js-alert-exclamation").empty(),this.$(".alert-danger-msg").empty()},_setDangerAlert:function(e){this._isUserNotAuthorizedError(e)?this._showValidationUserNotAuthorizedAlert():(this.$('[name="status-alert"]').addClass("alert-danger").attr("hidden",!1),this.$(".js-live-import-troubleshooting-docs").attr("hidden",!1),this.$(".js-alert-exclamation").text("We can't start the migration yet."),this.$(".alert-msg").text(e))},_clearHostnameWarning:function(){this.$('[name="hostname-alert"]').removeClass("alert-warning").attr("hidden",!0),this.$(".hostname-warning-msg").empty()},_setHostnameWarningAlert:function(e){this.$('[name="hostname-alert"]').addClass("alert-warning").attr("hidden",!1),this.$(".hostname-warning-msg").html(e)},_showValidationUserNotAuthorizedAlert:function(){var e=this.clusterDescription.isShardedCluster()?"https://docs.atlas.mongodb.com/import/live-import-sharded/#source-cluster-security":"https://docs.atlas.mongodb.com/import/live-import/#source-cluster-security";this.$('[name="status-alert"]').addClass("alert-danger").attr("hidden",!1),this.$(".js-alert-exclamation").empty(),this.$(".alert-msg").html('Live Import validation determined that the user does not have the necessary permissions in order to proceed. Please see <a href="'+e+'" target="_blank" rel="noreferrer noopener">'+e+"</a> for more detail about the necessary permissions.")},_isUserNotAuthorizedError:function(e){return e&&e.indexOf("user not authorized to execute command")>-1},_onValidateFailure:function(e){this._setDangerAlert(e),this.$("input, textarea").prop("disabled",!1),this.$('[name="sslEnabled"]').bootstrapSwitch("disabled",!1),this.$('[name="dropEnabled"]').bootstrapSwitch("disabled",!1),this.$(".js-validate-button-text").text("Validate again"),this.$('[name="validate"]').removeClass("button-is-not-allowed").prop("disabled",!1),this.$('[data-toggle="tooltip"]').tooltip("destroy"),this.$(".loading-spinner").prop("hidden",!0)},_getHostnamePlaceholder:function(){return"db1.example.com:".concat(this.clusterDescription.isShardedCluster()?27016:27017)}}),Ke=Object(v.a)(d.View)(qe.a).extend({template:n(/*! ./clusterLiveImportInfoModal.hbs */1917),modifierClassNames:"view-modal-content-is-medium",actions:[{name:"close",cssClass:"button",label:"Close"},{name:"confirm",cssClass:"button button-is-primary",label:"I'm ready to migrate"}],initialize:function(e){var t=e.clusterDescription,n=e.settingsModel,r=e.liveImportWhitelistIPs;this.clusterDescription=t,this.liveImportWhitelistIPs=r,this.settingsModel=n,this.title="Welcome to ".concat(this.settingsModel.get("SITE_NAME")," Live Migration Service")},templateContext:function(){return{isSharded:this.clusterDescription.isShardedCluster(),siteName:this.settingsModel.get("SITE_NAME")}},events:function(){var e=this;return{'click [name="close"]':function(){return e._removeOnButtonClick()},'click [name="confirm"]':"_onClickConfirm","click .view-modal-close":function(){return e._removeOnClickClose()},keyup:function(t){return e._removeOnEscape(t)}}},onBeforeRemove:function(){We.a.broadcastLiveImportEvent({segmentEvent:W.b.MIGRATE_MODAL_EXITED,clusterDescription:this.clusterDescription,options:{integrations:Object(W.c)(this.settingsModel.get("ORG_ID"))}})},_onClickConfirm:function(){We.a.broadcastLiveImportEvent({segmentEvent:W.b.MIGRATE_MODAL_CLICKED_READY,clusterDescription:this.clusterDescription,options:{integrations:Object(W.c)(this.settingsModel.get("ORG_ID"))}});var e=new Ye({settingsModel:this.settingsModel,clusterDescription:this.clusterDescription,liveImportWhitelistIPs:this.liveImportWhitelistIPs}).render();this.swapWithModal(e)}}),Ze=n(42),$e=n(36),Xe=n.n($e),Je=n(206);function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var et=function(e){A()(n,e);var t=Qe(n);function n(){var e;x()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),I()(C()(e),"state",{errorMessage:"",requestInProgress:!1,pausedDailyCostEstimateCents:0,activeDailyCostEstimateCents:0,hasSignificantReplicationLag:!1}),I()(C()(e),"UNSAFE_componentWillMount",(function(){var t=e.props.clusterDescription,n=t.clone();n.setIsPaused(!0);var r=ze.a.fetchCostEstimate(n),i=ze.a.fetchCostEstimate(t),a=U.m.clusterDescriptions.getReplicationLag(t.getGroupId(),t.getName());Promise.all([r,i,a]).then((function(n){var r=o()(n,3),i=r[0],a=r[1],s=r[2],l=Object.values(s.clusterReplicationLagSeconds).filter((function(e){return e>60})).length;e.setState({pausedDailyCostEstimateCents:i.dailyEstimateCents,activeDailyCostEstimateCents:a.dailyEstimateCents,hasSignificantReplicationLag:l>t.getTotalNodes()/2})}))})),I()(C()(e),"pauseCluster",(function(){e.setState({errorMessage:"",requestInProgress:!0});var t=e.props,n=t.clusterDescription,r=t.closeModal;n.setIsPaused(!0),ze.a.updateClusterDescription(n).then((function(){e.setState({requestInProgress:!1}),r()}),(function(t){var r=Ve.a.getErrorMessage({xhr:t});e.setState({errorMessage:r,requestInProgress:!1}),n.setIsPaused(!1)}))})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.showModal,n=e.closeModal,r=e.clusterDescription,o=this.state,i=o.errorMessage,a=o.requestInProgress,s=o.pausedDailyCostEstimateCents,l=o.activeDailyCostEstimateCents,c=o.hasSignificantReplicationLag,u="Pause ".concat(r.getName()),d=(l/24.0001/100).toFixed(2),p=(s/24.0001/100).toFixed(3);return Object(z.jsx)("div",null,t&&Object(z.jsx)(Ze.a,{title:u,size:"small",onClose:n},i&&Object(z.jsx)("div",{className:"alert alert-danger"},i),c&&Object(z.jsx)("div",{className:"alert alert-warning"},"A majority of the nodes in this cluster have a replication lag greater than a minute. This can potentially cause a significant rollback when the cluster is unpaused."),s&&l&&Object(z.jsx)("div",{className:"alert alert-info",style:{fontSize:14}},Object(z.jsx)("strong",null,"Active: $",d,"/hr â Paused: $",p,"/hr")),Object(z.jsx)("p",{className:"view-modal-paragraph view-modal-paragraph-is-normal"},"When your Atlas cluster is paused:"),Object(z.jsx)("ul",{className:"view-modal-list"},Object(z.jsx)("li",null,"Reads and writes will be disabled."),Object(z.jsx)("li",null,"Any configured alerts will not be triggered."),Object(z.jsx)("li",null,"Backups will be stopped but your existing snapshots will remain available until they expire."),Object(z.jsx)("li",null,"All data in the cluster will be saved and the cluster can be unpaused at any time.")),Object(z.jsx)("p",{className:"view-modal-paragraph view-modal-paragraph-is-normal"},r.getName()," can be paused for up to ",Object(z.jsx)("strong",null,"30 days"),", after which your cluster will resume automatically. We will email you when your cluster is resumed."),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{onClick:n},"Cancel"),Object(z.jsx)(Xe.a,{onClick:this.pauseCluster,variant:"danger",className:"button-has-margin-left",disabled:a},"Pause Cluster"))))}}]),n}(l.a.Component);I()(et,"propTypes",{showModal:k.a.bool.isRequired,closeModal:k.a.func.isRequired,clusterDescription:k.a.instanceOf(Je.a).isRequired});var tt=Object(p.connectBackboneToReact)((function(e){var t=e.clusterDescription,n=e.uiState;return{showModal:n.get("showModal"),closeModal:function(){var e=n.get("onClose");n.set("showModal",!1),e&&e()},clusterDescription:t}}))(et),nt=Object(v.a)(d.View)(f.a).extend({template:n(/*! ./clusterPauseModal.hbs */1918),initialize:function(){var e=this,t={uiState:new a.a.Model({showModal:!0,onClose:function(){e.trigger("remove"),e.deregisterReactComponent(".js-pause-modal")}}),clusterDescription:this.model};this.registerReactComponent(Object(z.jsx)(p.BackboneProvider,{models:t},Object(z.jsx)(tt,null)),".js-pause-modal")}}),rt=n(1222),ot=Object(v.a)(d.View)(qe.a).extend({template:n(/*! ./clusterRestartPrimaryProgressModal.hbs */1919),modifierClassNames:"view-modal-content-is-medium",title:"Test Failover",events:function(){var e=this;return{'click button[name="close"]':function(){return e.remove()}}},templateContext:function(){return{restartPending:this.restartPending,isShardedCluster:this.isShardedCluster}},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.settingsModel=e.settingsModel,this.clusterDetailPoller=rt.a.createClusterDetailPoller(this.model,5e3),this.restartPending=!0,this.isShardedCluster=this.model.getClusterDescription().isShardedCluster(),this.listenTo(this.model.getClusterDescription(),"sync",this._updateRestartStatusText),this.clusterDetailPoller.start()},_updateRestartStatusText:function(){"IDLE"===this.model.getClusterDescription().get("state")&&(this.clusterDetailPoller.stop(),this.restartPending=!1,this.renderModalContent())},onDestroy:function(){this.clusterDetailPoller.stop()}}),it=Object(v.a)(d.View)(qe.a).extend({template:n(/*! ./clusterRestartPrimaryInfoModal.hbs */1920),modifierClassNames:"view-modal-content-is-medium",title:"Test Failover",actions:[{name:"close",cssClass:"button",label:"Cancel"},{name:"restartPrimary",cssClass:"button button-is-danger",label:"Restart Primary"}],events:function(){var e=this;return{'click button[name="close"]':function(){return e.remove()},'click button[name="restartPrimary"]':"_restartPrimary"}},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.settingsModel=e.settingsModel},_restartPrimary:function(){var e=this;this.$(".js-request-alert").prop("hidden",!0),ze.a.restartClusterPrimary(this.model.getClusterDescription().getName()).then((function(){var t=new ot({model:e.model,settingsModel:e.settingsModel}).render();e.swapWithModal(t)}),(function(t){e._showErrorMessage(t)}))},_showErrorMessage:function(e){this.$(".alert-danger-msg").text(e),this.$(".js-request-alert").prop("hidden",!1)}}),at=n(6),st=n.n(at),lt=n(9),ct=n.n(lt),ut=n(144);function dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var pt=function(e){A()(n,e);var t=dt(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{errorMessage:void 0,requestInProgress:!1}),I()(C()(e),"bypassRestrictedEmployeeAccess",ct()(st.a.mark((function t(){var n,r,o,i;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({errorMessage:"",requestInProgress:!0}),n=e.props,r=n.clusterDescription,o=n.closeModal,t.prev=2,t.next=5,U.m.clusterDescriptions.bypassRestrictedEmployeeAccess(r.groupId,r.name);case 5:e.setState({requestInProgress:!1}),ze.a.reloadClusterDescriptions(),o(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),i=Object(ut.b)(t.t0),e.setState({errorMessage:i,requestInProgress:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.showModal,n=e.closeModal,r=e.clusterDescription,o=this.state,i=o.errorMessage,a=o.requestInProgress,s=r.name;return Object(z.jsx)("div",null,t&&Object(z.jsx)(Ze.a,{title:"Grant Backend Infrastructure Access to MongoDB Production Support for 24 hours",size:"small",onClose:n},i&&Object(z.jsx)(M.a,{level:"danger"},i),Object(z.jsx)("p",{className:"view-modal-paragraph view-modal-paragraph-is-normal"},"This will allow MongoDB employees to bypass the restricted access to ",s,"'s infrastructure for the next 24 hours."),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{onClick:n},"Cancel"),Object(z.jsx)(Xe.a,{onClick:this.bypassRestrictedEmployeeAccess,variant:"primary",className:"button-has-margin-left",disabled:a},"Allow MongoDB Employee Access"))))}}]),n}(l.a.Component);I()(pt,"propTypes",{showModal:k.a.bool.isRequired,closeModal:k.a.func.isRequired,clusterDescription:k.a.shape(me.g).isRequired});var ft=Object(p.connectBackboneToReact)((function(e){var t=e.clusterDescription,n=e.uiState;return{showModal:n.get("showModal"),closeModal:function(){var e=n.get("onClose");n.set("showModal",!1),e&&e()},clusterDescription:t.toJSON()}}))(pt),ht=Object(v.a)(d.View)(f.a).extend({template:n(/*! ./clusterRestrictEmployeeAccessBypassModal.hbs */1921),initialize:function(){var e=this,t={uiState:new a.a.Model({showModal:!0,onClose:function(){e.trigger("remove"),e.deregisterReactComponent(".js-restrict-employee-access-bypass-modal")}}),clusterDescription:this.model};this.registerReactComponent(Object(z.jsx)(p.BackboneProvider,{models:t},Object(z.jsx)(ft,null)),".js-restrict-employee-access-bypass-modal")}});function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var gt=function(e){A()(n,e);var t=mt(n);function n(){var e;x()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),I()(C()(e),"state",{errorMessage:"",requestInProgress:!1,pausedDailyCostEstimateCents:0,activeDailyCostEstimateCents:0}),I()(C()(e),"UNSAFE_componentWillMount",(function(){var t=e.props.clusterDescription,n=t.clone();n.setIsPaused(!1);var r=ze.a.fetchCostEstimate(t),i=ze.a.fetchCostEstimate(n);Promise.all([r,i]).then((function(t){var n=o()(t,2),r=n[0],i=n[1];e.setState({pausedDailyCostEstimateCents:r.dailyEstimateCents,activeDailyCostEstimateCents:i.dailyEstimateCents})}))})),I()(C()(e),"resumeCluster",(function(){e.setState({errorMessage:"",requestInProgress:!0});var t=e.props,n=t.clusterDescription,r=t.closeModal;n.setIsPaused(!1),ze.a.updateClusterDescription(n).then((function(){e.setState({requestInProgress:!1}),r()}),(function(t){var r=Ve.a.getErrorMessage({xhr:t});e.setState({errorMessage:r,requestInProgress:!1}),n.setIsPaused(!0)}))})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.showModal,n=e.closeModal,r=e.clusterDescription,o=this.state,i=o.errorMessage,a=o.requestInProgress,s=o.pausedDailyCostEstimateCents,l=o.activeDailyCostEstimateCents,c="Resume ".concat(r.getName()),u=(s/24.0001/100).toFixed(3),d=(l/24.0001/100).toFixed(2);return Object(z.jsx)("div",null,t&&Object(z.jsx)(Ze.a,{title:c,size:"small",onClose:n},i&&Object(z.jsx)("div",{className:"alert alert-danger"},i),s>0&&l>0&&Object(z.jsx)("div",{className:"alert alert-info",style:{fontSize:14}},Object(z.jsx)("strong",null,"Paused: $",u,"/hr â Active: $",d,"/hr")),Object(z.jsx)("p",{className:"view-modal-paragraph view-modal-paragraph-is-normal"},"This will resume ",r.getName()," to normal operation. This process should take 3-5 minutes. Hourly charges will return to the active rate."),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{onClick:n},"Cancel"),Object(z.jsx)(Xe.a,{onClick:this.resumeCluster,variant:"primary",className:"button-has-margin-left",disabled:a},"Resume Cluster"))))}}]),n}(l.a.Component);I()(gt,"propTypes",{showModal:k.a.bool.isRequired,closeModal:k.a.func.isRequired,clusterDescription:k.a.instanceOf(Je.a).isRequired});var bt=Object(p.connectBackboneToReact)((function(e){var t=e.clusterDescription,n=e.uiState;return{showModal:n.get("showModal"),closeModal:function(){var e=n.get("onClose");n.set("showModal",!1),e&&e()},clusterDescription:t}}))(gt),vt=Object(v.a)(d.View)(f.a).extend({template:n(/*! ./clusterResumeModal.hbs */1922),initialize:function(){var e=this,t={uiState:new a.a.Model({showModal:!0,onClose:function(){e.trigger("remove"),e.deregisterReactComponent(".js-resume-modal")}}),clusterDescription:this.model};this.registerReactComponent(Object(z.jsx)(p.BackboneProvider,{models:t},Object(z.jsx)(bt,null)),".js-resume-modal")}}),yt=n(41),Ot=n(40),xt=Object(v.a)(d.View)(qe.a).extend({template:n(/*! ./clusterTerminateModal.hbs */1923),modifierClassNames:"view-modal-content-is-medium",events:function(){return{'click button[name="close"]':"destroy",'click button[name="terminate"]':"_terminateCluster",'keyup input[name="clusterName"]':"_checkName"}},initialize:function(e){var t=e.settingsModel,n=e.stitchApps,r=e.appsLoaded,o=e.hasBaasEnabled;this.settingsModel=t,this.stitchApps=n,this.appsLoaded=r,this.hasBaasEnabled=o,this.title="Terminate Cluster: ".concat(this.model.get("name"))},templateContext:function(){return{stitchApps:this.stitchApps&&this.stitchApps.map((function(e){return{name:e.getName()}})),appsLoaded:this.appsLoaded,hasAnyBackupEnabled:this.model.hasAnyBackupEnabled(),hasBaasEnabled:this.hasBaasEnabled,orgName:this.settingsModel.get("ORG_NAME"),groupName:this.settingsModel.get("GROUP_NAME"),hasScopedUserFeatureFlag:this.settingsModel.hasProjectFeature("CLUSTER_LEVEL_DATABASE_USERS")}},_checkName:function(e){e.currentTarget.value===this.model.get("name")?this.$("button[name=terminate]").prop("disabled",!1):this.$("button[name=terminate]").prop("disabled",!0)},_terminateCluster:function(e){var t=this,n=Object(Ot.a)(this.settingsModel);if(this.$('input[name="clusterName"]').val()!==this.model.get("name"))return!1;var r=Z()(e.currentTarget);r.prop("disabled",!0),this.$(".js-request-alert").prop("hidden",!0),ze.a.terminateClusterDescription(this.model).then((function(){ze.a.reloadClusterDescriptions().then((function(e){var n=e.any((function(e){return e.isHeadBackupEnabled()&&!e.isDeleting()}));t.settingsModel.set("HAS_CONTINUOUS_BACKUP",n)}));var e=t.stitchApps;if(e&&e.length>0){var o=e.map((function(e){return yt.a.unlinkApplication(n,e.getAppId(),e.getServiceId(t.model.get("name")))}));Promise.all(o).then(yt.a.reloadApplications(n)).catch((function(e){return t._showErrorMessage(r,e.message)}))}t.destroy()})).then(void 0,(function(e){var n=Ve.a.getErrorMessage({xhr:e});t._showErrorMessage(r,n)}))},_showErrorMessage:function(e,t){this.$(".alert-danger-msg").text(t),this.$(".js-request-alert").prop("hidden",!1),e.prop("disabled",!1)}}),jt=n(537),Et=n.n(jt),St=n(91),Ct=n.n(St),_t=n(1028),At=n(328),Nt=Object(v.a)(d.View)(qe.a,y.a).extend({template:n(/*! ./downloadLogs.hbs */1924),templateContext:function(){var e=this.hostnames,t=this.clusterDescription.isShardedCluster(),n=this.isAuditLogEnabled;return{isShardedCluster:t,hostnames:e,isAuditLogEnabled:n,displayLogDownloadOptions:t||n}},modifierClassNames:"view-modal-content-is-small",initialize:function(e){var t=e.clusterDescription,n=e.processes,r=e.settingsModel,o=e.isAuditLogEnabled,i={};this.hostnames=n.models.sort((function(e,t){return e.isMongos()===t.isMongos()?0:e.isMongos()?1:-1})).filter((function(e){var t=e.getHostname();if(!i[t])return i[t]=!0,t})).map((function(e){return{hostname:e.getHorizons()&&e.getHorizons().getPublic()||e.getHostname(),isPrimary:e.isPrimary(),isConfigServer:e.isConfigServer()}})),this.clusterDescription=t,this.title="Download Logs",this.settingsModel=r,this.listenTo(this.settingsModel,"change:TIME_ZONE_ID",this._updateView),this.isAuditLogEnabled=o},events:function(){return{'click button[name="close"]':"destroy",'click button[name="download"]':"_startDownload",'change select[name="processes"]':"_updateView",'change select[name="hostnames"]':"_updateView",'change input[name="startDate"]':"_updateView",'change input[name="endDate"]':"_updateView"}},onRender:function(){this._createTimePickers(),this._createDatePickers(),this._updateView()},_updateDownloadLogsButton:function(e,t){var n=this.$(".wizard-form-field-error-message"),r=this._getPickersAsUnixTimestamps(),o=this.$(".js-download-logs");this._hasValidTimeWindow(r)?(this.errorMessage="",this.downloadUrl=this._getDownloadUrl(e,t,r),this.downloadFilename=this._getDownloadFilename(e,t,r),o.attr("disabled",!1)):o.attr("disabled",!0),n.text(this.errorMessage)},_getLocation:function(){return this.options.location||window.location},_startDownload:function(){var e=this,t=this.downloadUrl,n=this.downloadFilename;Z.a.ajax({type:"HEAD",url:t}).then((function(){At.b()?e._downloadInSafari(t,n):e._getLocation().assign(t)}),(function(t){switch(t.status){case 403:e.errorMessage="You do not have permission to access this resource";break;default:e.errorMessage="An unexpected error occurred"}e.$(".wizard-form-field-error-message").text(e.errorMessage)}))},_hasValidTimeWindow:function(e){var t=e.start,n=e.end;return this._isInPast(t)&&this._isStartBeforeEnd(t,n)&&this._isLessThanThirtyDaysAgo(t)},_isStartBeforeEnd:function(e,t){return t>e||(this.errorMessage="Start time must be before end time",!1)},_isLessThanThirtyDaysAgo:function(e){var t=ee.a.unix(e),n=ee.a.duration(t.diff()).asDays();return Math.abs(n)<30||(this.errorMessage="Start time must be less than 30 days ago",!1)},_isInPast:function(e){return ee.a.unix(e).diff()<=0||(this.errorMessage="Start time must be in the past",!1)},_updateView:function(){var e=this.$('select[name="hostnames"] option:selected').val(),t=this.clusterDescription.isShardedCluster()||this.isAuditLogEnabled?this.$('select[name="processes"] option:selected').val():"mongodb";this._updateSelectOptions(e,t),this._updateDownloadLogsButton(e,t)},_updateSelectOptions:function(e,t){var n=this;if(this.clusterDescription.isShardedCluster()){var r=this.hostnames.filter((function(t){return t.hostname===e}))[0];this.$('option[value="mongos"], option[value="mongos-audit-log"]').prop("disabled",r.isConfigServer);var o="mongos"===t||"mongos-audit-log"===t;this.hostnames.filter((function(e){return e.isConfigServer})).forEach((function(e){return n.$('option[value="'.concat(e.hostname,'"]')).prop("disabled",o)}))}},_getDownloadUrl:function(e,t,n){return"/nds/clusters/".concat(this.settingsModel.get("GROUP_ID"),"/").concat(e,"/logs/").concat(t,".gz")+"?startDate=".concat(n.start,"&endDate=").concat(n.end)},_getDownloadFilename:function(e,t,n){var r="".concat(ee.a.unix(n.start).format(),"_").concat(ee.a.unix(n.end).format());return"".concat(e,"_").concat(r,"_").concat(t,".log.gz")},_downloadInSafari:function(e,t){var n=document.createElement("a");n.setAttribute("href",e),n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)},_createDatePickers:function(){this.startDatePicker=new Et.a({field:this.$("[name=startDate]").get(0),format:"M/DD/YYYY"}),this.startDatePicker.setMoment(ee()()),this.endDatePicker=new Et.a({field:this.$("[name=endDate]").get(0),format:"M/DD/YYYY"}),this.endDatePicker.setMoment(ee()().add(1,"days")),this.trackForRemoval({startDatePicker:this.startDatePicker,endDatePicker:this.endDatePicker})},_createTimePickers:function(){this.startTimePicker=new _t.a({model:new a.a.Model({timeInSeconds:0})}),this.$(".js-start-time-container").append(this.startTimePicker.render().el),this.listenTo(this.startTimePicker,"userSelect",this._updateView),this.endTimePicker=new _t.a({model:new a.a.Model({timeInSeconds:0})}),this.$(".js-end-time-container").append(this.endTimePicker.render().el),this.listenTo(this.endTimePicker,"userSelect",this._updateView),this.trackForRemoval({startTimePicker:this.startTimePicker,endTimePicker:this.endTimePicker})},_getPickersAsUnixTimestamps:function(){var e=this.settingsModel.get("TIME_ZONE_ID"),t=function(t){var n=t.formattedDate,r=t.timeModel,o=ee.a.tz(n,"M/DD/YYYY",e);o.add(r.get("timeInSeconds"),"seconds");var i=o.valueOf();return ee()(i).unix()};return{start:t({formattedDate:this.$("input[name=startDate]").val(),timeModel:this.startTimePicker.model}),end:t({formattedDate:this.$("input[name=endDate]").val(),timeModel:this.endTimePicker.model})}}},{START_BEFORE_END_ERROR_MSG:"Start time must be before end time",THIRTY_DAYS_ERROR_MSG:"Start time must be less than 30 days ago",START_IN_PAST_ERROR_MSG:"Start time must be in the past",PERMISSION_ERROR_MSG:"You do not have permission to access this resource",UNEXPECTED_ERROR_MSG:"An unexpected error occurred"}),Tt=n(143);function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Pt=function(e){A()(n,e);var t=wt(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"onInputChange",(function(t){e.props.onInputChange(t.target.value)})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.inputClassName,r=e.otherClasses,o=e.labelClassName,i=e.inputValue,a=e.inputPlaceholder,s=e.inputType,l=e.min,c=e.max,u=e.tooltipText,d=e.tooltipClassName,p=e.tooltipWrapperClassName,f=e.isValid,h=e.errorClassName,m=e.errorMsg,g=e.inputDisabled,b=e.hasInput;return Object(z.jsx)("div",{className:ae()("editable-text-input",I()({},r,!!r))},Object(z.jsx)("label",{htmlFor:"input-pair-".concat(t),className:ae()("editable-text-input-label",o)},t),u&&Object(z.jsx)(Tt.a,{content:u,wrapperClassName:p},Object(z.jsx)("i",{className:ae()("fa fa-info-circle tooltip-icon",d)})),b&&Object(z.jsx)("input",{id:"input-pair-".concat(t),onChange:this.onInputChange,value:i,className:ae()("editable-text-input-box",n,f?"":"".concat(h)),placeholder:a,type:s,min:l,max:c,disabled:g}),!f&&Object(z.jsx)("div",{className:"editable-text-error-text"},m))}}]),n}(l.a.Component);I()(Pt,"propTypes",{otherClasses:k.a.string,labelClassName:k.a.string,inputClassName:k.a.string,inputDisabled:k.a.bool,title:k.a.string.isRequired,onInputChange:k.a.func,inputValue:k.a.oneOfType([k.a.string,k.a.number]),inputPlaceholder:k.a.string,inputType:k.a.string,min:k.a.string,max:k.a.string,tooltipText:k.a.string,tooltipClassName:k.a.string,tooltipWrapperClassName:k.a.string,isValid:k.a.bool,errorClassName:k.a.string,errorMsg:k.a.string,hasInput:k.a.bool}),I()(Pt,"defaultProps",{otherClasses:"",labelClassName:"",inputClassName:null,inputValue:"",inputDisabled:!1,onInputChange:function(){},inputPlaceholder:null,inputType:"text",min:"",max:"",tooltipText:"",tooltipClassName:null,tooltipWrapperClassName:null,isValid:!0,errorClassName:"",errorMsg:"",hasInput:!0});var Rt=Pt;function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Dt=function(e){A()(n,e);var t=It(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{errorMessage:"",hasInProgressSnapshot:!1,hasScheduledOnDemandSnapshot:!1,retentionInDays:3,requestInProgress:!1,snapshotDescription:"",submitSnapshotSuccess:!1}),I()(C()(e),"componentDidMount",(function(){e.loadSnapshots()})),I()(C()(e),"onRetentionDurationChange",(function(t){e.setState({retentionInDays:t})})),I()(C()(e),"onSnapshotDescriptionChange",(function(t){e.setState({snapshotDescription:t})})),I()(C()(e),"loadSnapshots",ct()(st.a.mark((function t(){var n,r,o,i;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.groupId,o=n.clusterUniqueId,e.setState({requestInProgress:!0}),t.prev=2,t.next=5,U.m.backup.getSnapshots(r,o);case 5:i=t.sent,e.setState({hasInProgressSnapshot:i.filter((function(e){return"IN_PROGRESS"===e.status})).length>0,hasScheduledOnDemandSnapshot:i.filter((function(e){return"ON_DEMAND"===e.type&&("QUEUED"===e.status||"IN_PROGRESS"===e.status)})).length>0}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),e.setState({errorMessage:Object(ut.b)(t.t0)});case 12:return t.prev=12,e.setState({requestInProgress:!1}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})))),I()(C()(e),"handleTakeSnapshot",ct()(st.a.mark((function t(){var n,r,o,i,a,s,l;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.orgId,W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas Backup Take Snapshot Modal",action:"Clicked Take Snapshot Button"},{integrations:Object(W.c)(n)}),r=e.props,o=r.groupId,i=r.clusterName,a=e.state,s=a.retentionInDays,l=a.snapshotDescription,e.setState({requestInProgress:!0}),t.prev=5,t.next=8,U.m.backup.takeSnapshot(o,i,s,l);case 8:e.setState({hasInProgressSnapshot:!1,hasScheduledOnDemandSnapshot:!1,submitSnapshotSuccess:!0}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),e.setState({errorMessage:Object(ut.b)(t.t0)});case 14:return t.prev=14,e.setState({requestInProgress:!1}),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[5,11,14,17]])})))),e}return E()(n,[{key:"render",value:function(){var e=this.state,t=e.errorMessage,n=e.hasInProgressSnapshot,r=e.hasScheduledOnDemandSnapshot,o=e.requestInProgress,i=e.retentionInDays,a=e.snapshotDescription,s=e.submitSnapshotSuccess,l=this.props,c=l.closeModal,u=l.clusterName,d=l.onBackupTab;return Object(z.jsx)(Ze.a,{size:"small",title:"On-Demand Snapshot",onClose:c},Object(z.jsx)("div",{className:"nds-backup-on-demand-snapshot"},t&&Object(z.jsx)("div",null,Object(z.jsx)(M.a,{level:"danger"},t),Object(z.jsx)("br",null)),n&&!r&&!s&&Object(z.jsx)("div",null,Object(z.jsx)(M.a,{level:"warning"},Object(z.jsx)("div",{className:"nds-backup-on-demand-snapshot-alert"},Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"fa fa-exclamation-triangle"})),Object(z.jsx)("div",{className:"nds-backup-on-demand-snapshot-alert-message"},"There is a previously scheduled snapshot in progress. If you proceed this snapshot will be queued."))),Object(z.jsx)("br",null)),r&&Object(z.jsx)("div",null,Object(z.jsx)(M.a,{level:"warning"},Object(z.jsx)("div",{className:"nds-backup-on-demand-snapshot-alert"},Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"fa fa-exclamation-triangle"})),Object(z.jsx)("div",{className:"nds-backup-on-demand-snapshot-alert-message"},"Only one On-Demand Snapshot can be in progress and queued at a time. You can take an on-demand"," ","snapshot after the previously requested snapshot finishes."))),Object(z.jsx)("br",null)),s&&Object(z.jsx)("div",null,Object(z.jsx)(M.a,{level:"success"},Object(z.jsx)("div",{className:"nds-backup-on-demand-snapshot-alert"},Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"fa fa-check checkmark"})),Object(z.jsx)("div",{className:"nds-backup-on-demand-snapshot-alert-message"},"An email will be sent to the requester when the snapshot request moves from the queue to in progress. You can view progress in the"," ",Object(z.jsx)("a",{onClick:c,href:"#clusters/backup/".concat(u)},"Backup tab"),"."))),Object(z.jsx)("br",null)),Object(z.jsx)("form",{className:"nds-backup-on-demand-snapshot-form"},Object(z.jsx)("div",{className:"nds-backup-on-demand-snapshot-form-retention"},Object(z.jsx)(Rt,{title:"Retention",onInputChange:this.onRetentionDurationChange,inputValue:i,inputType:"number",min:"1",inputClassName:"nds-backup-on-demand-snapshot-form-retention-input",otherClasses:"editable-text-input-is-snapshot-form"}),Object(z.jsx)("label",{className:"nds-backup-on-demand-snapshot-form-retention-label"},"days")),Object(z.jsx)("div",{className:"nds-backup-on-demand-snapshot-form-description"},Object(z.jsx)(Rt,{title:"Description",onInputChange:this.onSnapshotDescriptionChange,inputValue:a,inputType:"text",inputClassName:"nds-backup-on-demand-snapshot-form-description-input",inputPlaceholder:"ex. pre-deployment code change",otherClasses:"editable-text-input-is-snapshot-form"})),Object(z.jsx)(Xe.a,{name:"submitSnapshot",className:"nds-backup-on-demand-snapshot-form-button",disabled:i<1||!a||r||o||s,onClick:this.handleTakeSnapshot,variant:"primary"},"Take Snapshot")),d?Object(z.jsx)("p",null,"Learn more about On-Demand Snapshots ",Object(z.jsx)("a",{href:"http://dochub.mongodb.org/core/on-demand-snapshots"},"here"),"."):Object(z.jsx)("p",null,"You can view your snapshot history in the ",Object(z.jsx)("a",{href:"#clusters/backup/".concat(u)},"Backup tab")," or"," ","learn more about On-Demand Snapshots ",Object(z.jsx)("a",{href:"http://dochub.mongodb.org/core/on-demand-snapshots"},"here"),"."),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{name:"cancel",onClick:c},"Close"))))}}]),n}(l.a.Component);I()(Dt,"propTypes",{closeModal:k.a.func.isRequired,clusterName:k.a.string.isRequired,clusterUniqueId:k.a.string.isRequired,groupId:k.a.string.isRequired,onBackupTab:k.a.bool,orgId:k.a.string.isRequired}),I()(Dt,"defaultProps",{onBackupTab:!1});var kt=Dt,Mt=Object(v.a)(d.View)(f.a).extend({template:n(/*! ./clusterTakeSnapshotModal.hbs */1925),initialize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(){e.trigger("remove"),e.deregisterReactComponent(".js-take-snapshot-modal")};this.registerReactComponent(Object(z.jsx)(p.BackboneProvider,null,Object(z.jsx)(kt,{closeModal:n,clusterName:this.model.getName(),clusterUniqueId:this.model.getUniqueId(),groupId:this.model.getGroupId(),orgId:t.orgId})),".js-take-snapshot-modal")}}),Lt=n(1302),Ut=Object(v.a)(d.View)(f.a).extend({template:n(/*! ./clusterLoadSampleDatasetModal.hbs */1926),initialize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new a.a.Model({onClose:function(n){!0===n&&!1===t.loadSampleDatasetStatusPoller.isRunning()&&t.loadSampleDatasetStatusPoller.immediate().start(5e3),e.trigger("remove"),e.deregisterReactComponent(".js-cluster-load-sample-dataset-modal")}}),r={uiState:n,clusterDescription:this.model};this.registerReactComponent(Object(z.jsx)(p.BackboneProvider,{models:r},Object(z.jsx)(Lt.b,{orgId:t.orgId})),".js-cluster-load-sample-dataset-modal")}}),Ft=Object(Fe.a)({initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.whenApplicationsLoaded=e.whenApplicationsLoaded,this.$modalContainer=e.$modalContainer,this.clusterDetail=e.model,this.loadSampleDatasetStatusPoller=e.loadSampleDatasetStatusPoller,this.settingsModel=e.settingsModel,this.orgId=this.settingsModel.get("ORG_ID")},events:function(){return{"click .js-connect":"onClickConnect","click .js-configuration":"onClickConfiguration","click .js-command-line-tools":"onClickCommandLineTools","click .js-load-sample-dataset":"onClickLoadSampleDataset","click .js-view-access-logs":"onClickViewAccessLogs","click .js-start-live-import":"onClickStartLiveImport","click .js-download-logs":"onClickDownloadLogs","click .js-restart-primary":"onClickRestartPrimary","click .js-take-snapshot":"onClickTakeSnapshot","click .js-resume":"onClickResume","click .js-pause":"onClickPause","click .js-terminate":"onClickTerminate","click .js-metrics":"onClickMetrics","click .js-data-explorer":"onClickDataExplorer","click .js-bypass-restricted-employee-access":"onClickRestrictEmployeeAccessBypass","click .js-extend":"onClickExtend"}},onClickConnect:function(){var e=this.clusterDetail.getClusterDescription(),t=a.a.history.getFragment(),n="connect?clusterId=".concat(e.id);if(!t.includes(n)){var r="#".concat(t.split("?")[0],"/").concat(n);t.startsWith("clusters")&&!t.startsWith("clusters/")?W.d.track(W.b.CONNECT_CLICKED,{context:"Atlas Cluster Card"},{integrations:Object(W.c)(this.orgId)}):t.startsWith("clusters/detail")&&W.d.track(W.b.CONNECT_CLICKED,{context:"Atlas Cluster Detail"},{integrations:Object(W.c)(this.orgId)}),a.a.history.navigate(r,{trigger:!0})}},onClickConfiguration:function(){window.location.hash="clusters/edit/".concat(this.clusterDetail.getClusterDescription().getName())},onClickCommandLineTools:function(){var e=this.clusterDetail.getClusterDescription(),t="".concat(e.getCommandLineToolsUrl());a.a.history.navigate(t,{trigger:!0})},onClickStartLiveImport:function(){var e=this;We.a.broadcastLiveImportEvent({segmentEvent:W.b.MIGRATE_CLICKED,clusterDescription:this.clusterDetail.getClusterDescription(),options:{integrations:Object(W.c)(this.settingsModel.getCurrentOrgId())}});var t=Le.a.getLiveImportWhitelistIPsForCluster(this.clusterDetail.getClusterDescription().getName());Object(Be.a)(t).then((function(t){var n=new Ke({clusterDescription:e.clusterDetail.getClusterDescription(),settingsModel:e.settingsModel,liveImportWhitelistIPs:t}).render();e.$modalContainer.html(n.el),e.trackForRemoval({liveImportInfoModal:n}),Ue.a.updateWidgetForProject({settingsModel:e.settingsModel,trigger:"import"})}))},onClickLoadSampleDataset:function(){var e=-1===a.a.history.getFragment().indexOf("detail")?"Cluster Card":"Detail Page";W.d.track(W.b.LOAD_SAMPLE_DATA_CLICKED,{context:e,cluster_id:this.clusterDetail.getClusterDescription().getUniqueId(),instance_size:this.clusterDetail.getClusterDescription().getInstanceSize()},{integrations:Object(W.c)(this.orgId)});var t=new Ut({model:this.clusterDetail.getClusterDescription(),loadSampleDatasetStatusPoller:this.loadSampleDatasetStatusPoller,orgId:this.orgId}).render();this.trackForRemoval({clusterLoadSampleDatasetModal:t}),this.$modalContainer.html(t.el)},onClickViewAccessLogs:function(){var e=-1===a.a.history.getFragment().indexOf("detail")?"Cluster Card":"Detail Page";W.d.track(W.b.UX_ACTION_PERFORMED,{action:"View Database Access History",context:e,cluster_id:this.clusterDetail.getClusterDescription().getUniqueId(),instance_size:this.clusterDetail.getClusterDescription().getInstanceSize()},{integrations:Object(W.c)(this.orgId)});var t=this.clusterDetail.getClusterDescription().getName();a.a.history.navigate("#clusters/dbAccessHistory/".concat(t),{trigger:!0})},onClickDownloadLogs:function(){var e=this,t=Me.a.getAuditLog(this.clusterDetail.getClusterDescription().getGroupId());Object(Be.a)(t).then((function(t){var n=new Nt({clusterDescription:e.clusterDetail.getClusterDescription(),processes:e.clusterDetail.getDeploymentItem().getProcesses(),settingsModel:e.settingsModel,isAuditLogEnabled:t.isEnabled()}).render();e.$modalContainer.html(n.el),e.trackForRemoval({downloadLogsView:n})}))},onClickRestartPrimary:function(){var e=new it({model:this.clusterDetail,settingsModel:this.settingsModel}).render();this.$modalContainer.html(e.el),this.trackForRemoval({restartPrimaryModal:e})},onClickTakeSnapshot:function(){var e=new Mt({model:this.clusterDetail.getClusterDescription(),orgId:this.orgId}).render();this.$modalContainer.html(e.el),this.trackForRemoval({takeSnapshotModal:e})},onClickResume:function(){var e=new vt({model:this.clusterDetail.getClusterDescription()}).render();this.$modalContainer.html(e.el),this.trackForRemoval({clusterResumeModal:e})},onClickPause:function(){var e=new nt({model:this.clusterDetail.getClusterDescription()}).render();this.$modalContainer.html(e.el),this.trackForRemoval({clusterPauseModal:e})},onClickTerminate:function(){var e,t=this;this._hasBaasEnabled()?this.whenApplicationsLoaded.then((function(n){e=n.getApplicationsByCluster(t.clusterDetail.getClusterDescription().getName()),t._onClickTerminateHelper({stitchApps:e,appsLoaded:!0})})).catch((function(){t._onClickTerminateHelper({stitchApps:e,appsLoaded:!1})})):this._onClickTerminateHelper({})},_onClickTerminateHelper:function(e){var t=e.stitchApps,n=e.appsLoaded,r=new xt({settingsModel:this.settingsModel,model:this.clusterDetail.getClusterDescription(),stitchApps:t,appsLoaded:n,hasBaasEnabled:this._hasBaasEnabled()}).render();this.$modalContainer.html(r.el),this.trackForRemoval({terminateModal:r})},onClickMetrics:function(){var e=this.clusterDetail.getDeploymentItem();e&&a.a.history.navigate("".concat(e.getMetricsUrl()),{trigger:!0})},onClickDataExplorer:function(){var e=this.clusterDetail.getDeploymentItem();e&&a.a.history.navigate("".concat(e.getRootMetricsRoute(),"/explorer"),{trigger:!0})},onClickRestrictEmployeeAccessBypass:function(){var e=new ht({model:this.clusterDetail.getClusterDescription()}).render();this.trackForRemoval({restrictEmployeeAccessBypassModal:e}),this.$modalContainer.html(e.el)},onClickExtend:function(){var e=new Ge({model:this.clusterDetail.getClusterDescription()}).render();this.trackForRemoval({extendModal:e}),this.$modalContainer.html(e.el)},_hasBaasEnabled:function(){return this.settingsModel.hasProjectFeature("BAAS")&&!this.settingsModel.isNdsGovEnabled()&&!this.isPrivateIPMode}}),Bt=n(1003),zt=n(1303),Vt=n(1927),qt=n.n(Vt),Gt=n(1928),Ht=n.n(Gt),Wt=n(1929),Yt=n.n(Wt),Kt=n(1930),Zt=n.n(Kt),$t=n(1304),Xt=n.n($t),Jt=n(1305),Qt=n.n(Jt),en=n(1552),tn=n.n(en),nn=n(1931),rn=n.n(nn),on=n(1932),an=n.n(on),sn=n(1933),ln=n.n(sn),cn=n(1553),un=n.n(cn),dn=n(1031),pn=n.n(dn),fn={AWS:qt.a,AZURE:Ht.a,GCP:Yt.a,FREE:Zt.a},hn=Object(v.a)(d.View)(Ft,f.a,y.a,Object(Ie.a)(),De.a,ke.a).extend({getTemplate:function(){var e=this.model.getClusterDescription().getProvider();return fn[e]},events:function(){return{"click .js-application-name":"onClickApplicationName",'click [name="tooltipOpenConnect"]':"onClickTooltipConnect"}},serializeData:function(){var e=this.model.getClusterDescription(),t=this.model.getDerivedBiConnectorState(),n="Recovering"===t,r=e.isPaused(),o=oe.D(e),i=e.isIdle(),a=this.filteredApps,s=Te(e,this.model.getDeploymentItem()),l=e.hasAnyBackupEnabled(),c=!e.isTenant(),u=this.model.getClusterDescription().getProvider(),d=e.getInstanceSize(),p=this.providerOptionsModel.get(u).get("instanceSizes")[d],f=oe.k(d,p.isLowCPU,p.isNVMe),h=this.isPrivateIPMode,m=!e.isFree(),g=this.onlineArchives&&this.onlineArchives.length>0&&this.onlineArchives.some((function(t){return t.clusterName===e.id&&("ACTIVE"===t.archiveState||"PENDING"===t.archiveState)}));return J.a.extend({},e.attributes,{hasAnyBackupEnabled:l,supportsBiConnector:c,actionsDisabled:o,hasBaasEnabled:this._hasBaasEnabled()&&!h,hasBackupCapability:m,isIdle:i,showPauseTimeRemaining:r,instanceSize:f,pauseTimeRemaining:this._getPauseTimeString(),appsLoaded:this.appsLoaded,appsFailedToLoad:this.appsFailedToLoad,applicationName:a&&1===a.length&&a.first().getName(),hasMultipleApps:a&&a.length>1,isShardedCluster:e.isShardedCluster(),isGeoShardedCluster:e.isGeoShardedCluster(),clusterId:e.id,biConnectorState:t,isBiConnectorRecovering:n,isMultiRegion:e.isMultiRegion(),regionReadable:e.getRegionReadable(e.getPreferredRegion()),providerReadable:e.getProviderReadable(),totalNodes:e.getTotalNodes(),numShards:e.getNumShards(),shardsPlural:e.getNumShards()>1,numZones:e.getNumZones(),zonesPlural:e.getNumZones()>1,openAlertSummaries:Re(this.model.getOpenAlerts()),isExpiring:e.isExpiring(),timeRemaining:e.getRemainingLifetime(),showFreeClusterBadge:this.showFreeClusterBadge,isDedicatedCluster:!e.isTenant(),hasOnlineArchive:g,state:s,partials:{openAlertSummaries:Xt.a,ndsStateIcon:Qt.a,clusterReapingStatus:tn.a,clusterInfoPanelHeader:rn.a,clusterInfoPanelStats:an.a,clusterApplicationStats:ln.a,clusterOptionsMenu:un.a}})},initialize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$modalContainer=t.$modalContainer,this.settingsModel=t.settingsModel,this.providerOptionsModel=t.providerOptionsModel,this.isPrivateIPMode=t.isPrivateIPMode,this.isLoadingSampleDataSet=!this.model.getClusterDescription().isPaused()&&t.loadSampleDatasetStatus&&!Object(Bt.c)(t.loadSampleDatasetStatus)&&"true"!==window.localStorage.getItem("MMS.LoadSampleDatasetStatusAlert.".concat(t.loadSampleDatasetStatus.get("_id"))),this.showFreeClusterBadge=!this.isLoadingSampleDataSet&&this.model.getClusterDescription().isFree(),this._manageFreeClusterBadgeStatus(),this.onlineArchives=t.onlineArchives,this.clusterOptionsMenu=new je({buttonOptionNames:["connect","metrics","dataExplorer"],className:"cluster-info-panel-buttons",model:this.model,placement:"right",settingsModel:this.settingsModel,isFirstOnPage:t.isFirstOnPage,providerOptionsModel:t.providerOptionsModel,loadSampleDatasetStatus:t.loadSampleDatasetStatus,isPrivateIPMode:this.isPrivateIPMode}),this.orgId=this.settingsModel.get("ORG_ID"),this.trackForRemoval({clusterOptionsMenu:this.clusterOptionsMenu}),this.onInitialRender.then((function(){e.listenTo(e.model,"change:deploymentItem",e.render),e.listenTo(e.model.getClusterDescription(),"change",e.render),e.listenTo(e.model.getOpenAlerts(),"add remove",e.render),e.listenTo(e.model,"change:liveImport",e.render),e.listenTo(e.model.getClusterDescription(),"change:state",(function(t,n){"CREATING"===t.previousAttributes().state&&"IDLE"===n&&W.d.track(W.b.CLUSTER_PROVISIONED,{},{integrations:Object(W.c)(e.orgId)})})),e._hasBaasEnabled()&&e._onApplicationsLoaded(e.whenApplicationsLoaded),e.listenTo(e.model.getClusterDescription(),"change:isPaused",e._manageFreeClusterBadgeStatus)}))},onRender:function(){this.clusterOptionsMenu.render(),this.$(".js-options-menu").html(this.clusterOptionsMenu.el),this.$("[data-toggle=popover]").popover({html:!0,content:function(){return this.$("#popover-content").html()}})},_getPauseTimeString:function(){var e=ee()(this.model.getClusterDescription().getLastUpdateDate()).add(oe.a,"days"),t=ee.a.duration(e.diff(ee()())),n=t.get("days"),r=t.get("hours");return n>0?(r>=12&&n++,"PAUSED for ".concat(n," more days")):"PAUSED for ".concat(r," more hours")},_onApplicationsLoaded:function(e){var t=this;e.then((function(e){t.isDestroyed()||(t.appsLoaded=!0,t.stitchApps=e,t._setFilteredApps(),t.listenTo(t.stitchApps,"reset",(function(){t._setFilteredApps(),t.render()})),t.render())})).catch((function(){t.isDestroyed()||(t.appsFailedToLoad=!0,t.render())}))},_setFilteredApps:function(){this.filteredApps=this.stitchApps.getApplicationsByCluster(this.model.getClusterDescription().getName())},_manageFreeClusterBadgeStatus:function(){this.deregisterReactComponent(".js-free-tier-badge"),this.showFreeClusterBadge&&this.registerReactComponent(Object(z.jsx)(pn.a,{variant:"blue"},this.model.getClusterDescription().isPaused()?"Paused":"Sandbox"),".js-free-tier-badge")},onClickApplicationName:function(){var e=Object(Ot.a)(this.settingsModel),t=this.filteredApps&&this.filteredApps.length>1?void 0:this.filteredApps.first();Object(zt.a)(t,e)},onClickTooltipConnect:function(){this.endTour(),a.a.history.navigate("clusters/connect?clusterId=".concat(this.model.getClusterDescription().id),{trigger:!0})}}),mn=n(888),gn=n(1217),bn=n(327),vn=n(29),yn=n.n(vn),On=n(967),xn=n(961),jn=function(e){var t={},n={};for(var r in e.forEach((function(e){e.forEach((function(e){var t=e.key,r=n[t];void 0!==r?r.push(e):n[t]=[e]}))})),n){var o=n[r];xn.a(o).forEach((function(e){var n;t[e.key]?e.value.forEach((function(n,r){var o=t[e.key].value[r]?t[e.key].value[r].y:void 0;null!=o&&(t[e.key].value[r].y+=n.y)})):t[e.key]=(n=e,JSON.parse(JSON.stringify(n)))}))}return Object.keys(t).reduce((function(e,n){return e.concat(t[n])}),[])},En=function(e){return jn(e).map((function(t){return t.value=t.value.map((function(t){return{x:t.x,y:t.y/e.length}})),t}))},Sn=function(e){return JSON.parse(JSON.stringify(e))};function Cn(e){var t=e.value;return t[t.length-1]?t[t.length-1].y:0}var _n=function(e){var t={};return e.forEach((function(e){e.forEach((function(e){var n=t[e.key];n?Cn(e)>Cn(n)&&(t[e.key]=Sn(e)):t[e.key]=Sn(e)}))})),Object.keys(t).reduce((function(e,n){return e.concat(t[n])}),[])},An=function(e){var t=e.status,n=t.timestamps||[],r=t["fixed-avg-operation-execution-times-chart"],o=Object(xn.c)(r,"avg millis/read"),i=n.map((function(e,t){return{x:e,y:Object(xn.d)(o,t)}})),a={key:"R",value:Object(xn.e)(i)},s=Object(xn.c)(r,"avg millis/write"),l=n.map((function(e,t){return{x:e,y:Object(xn.d)(s,t)}})),c={key:"W",value:Object(xn.e)(l)},u=Object(xn.c)(r,"avg millis/command"),d=n.map((function(e,t){return{x:e,y:Object(xn.d)(u,t)}}));return[a,c,{key:"C",value:Object(xn.e)(d)}]};function Nn(e,t,n){var r=e.map((function(e,r){var o=Object(xn.d)(t,r),i=Object(xn.d)(n,r);return{x:e,y:null!==o&&null!==i?o+i:null}}));return[{key:"Disk IOPS",value:Object(xn.e)(r)}]}function Tn(e,t,n){return[{key:"R",value:Object(xn.e)(e.map((function(e,n){return{x:e,y:Object(xn.d)(t,n)}})))},{key:"W",value:Object(xn.e)(e.map((function(e,t){return{x:e,y:Object(xn.d)(n,t)}})))}]}var wn=function(e,t){var n=e.disk,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o="disk-".concat(t,"-iops-chart"),i=n.timestamps||[],a=n[o],s=Object(xn.c)(a,"read iops"),l=Object(xn.c)(a,"write iops");return r?Nn(i,s,l):Tn(i,s,l)},Pn=function(e){var t=e.status,n=t.timestamps||[],r=t["fixed-opcounters-chart"],o=Object(xn.c)(r,"query"),i=Object(xn.c)(r,"getmore"),a=n.map((function(e,t){var n=Object(xn.d)(o,t),r=Object(xn.d)(i,t);return{x:e,y:null!==n&&null!==r?n+r:null}})),s={key:"R",value:Object(xn.e)(a)},l=Object(xn.c)(r,"update"),c=Object(xn.c)(r,"delete"),u=Object(xn.c)(r,"insert"),d=n.map((function(e,t){var n=Object(xn.d)(l,t),r=Object(xn.d)(c,t),o=Object(xn.d)(u,t);return{x:e,y:null!==n&&null!==r&&null!==o?n+r+o:null}}));return[s,{key:"W",value:Object(xn.e)(d)}]},Rn=function(e,t){var n=e.disk,r="disk-".concat(t,"-space-used-chart"),o=n.timestamps||[],i=Object(xn.c)(n[r],"disk space used"),a=o.map((function(e,t){return{x:e,y:Object(xn.d)(i,t)}}));return[{key:"Disk Usage",value:Object(xn.e)(a)}]},In=function(e){var t=e.status,n=t.timestamps||[],r=t["fixed-logical-size-chart"],o=Object(xn.c)(r,"logical size"),i=n.map((function(e,t){return{x:e,y:Object(xn.d)(o,t)}}));return[{key:"Logical Size",value:Object(xn.e)(i)}]},Dn=function(e){var t=e.status,n=t.timestamps||[],r=t["fixed-connections-chart"],o=Object(xn.c)(r,"current"),i=n.map((function(e,t){return{x:e,y:Object(xn.d)(o,t)}}));return[{key:"Connections",value:Object(xn.e)(i)}]},kn=ee.a.duration(6,"hours").as("milliseconds"),Mn=ee.a.duration(5,"minutes").as("milliseconds"),Ln=ee.a.duration(1,"month").as("milliseconds"),Un=ee.a.duration(1,"hour").as("milliseconds"),Fn=ee.a.duration(6,"hours").as("milliseconds"),Bn=ee.a.duration(5,"minutes").as("milliseconds"),zn=ee.a.duration(1,"month").as("milliseconds"),Vn=ee.a.duration(1,"hour").as("milliseconds"),qn=ee.a.duration(6,"hours").as("milliseconds"),Gn=ee.a.duration(5,"minutes").as("milliseconds"),Hn=ee.a.duration(6,"hours").as("milliseconds"),Wn=ee.a.duration(5,"minutes").as("milliseconds"),Yn=ee.a.duration(6,"hours").as("milliseconds"),Kn=ee.a.duration(5,"minutes").as("milliseconds"),Zn=ee.a.duration(6,"hours").as("milliseconds"),$n=ee.a.duration(5,"minutes").as("milliseconds");function Xn(e){var t=e.clusterDetail,n=e.deploymentItem,r=e.settingsModel,o=e.chartsShown,i=e.visibilityAPI,a=void 0===i?document:i;this.clusterDetail=t,this.clusterDescription=t.getClusterDescription(),this.deploymentItem=n,this.settingsModel=r,this.chartsShown=o,this.whenPartitionForHostId={},this.visibilityAPI=a,this._updatePrimaryHostIds(),this._updatePartitionDeferreds(),this.generatePollers(this.visibilityAPI),this.deploymentItem?this.deploymentItem.on("change",this._checkPrimaryChange,this):this.clusterDetail.on("change:deploymentItem",this._checkPrimaryChange,this)}J.a.extend(Xn.prototype,{getPrimaryHostIds:function(){return this.primaryHostIds},getPollers:function(){return this.pollers},getFirstPrimary:function(){return this.getPrimaryHostIds()&&this.getPrimaryHostIds()[0]},getStatusUri:function(e){var t=this.getFirstPrimary();if(t)return"#metrics/host/".concat(t,"/status/").concat(e)},getHardwareUri:function(e){var t=this.getFirstPrimary();return t?this.whenPartitionForHostId[t].then((function(n){return"#metrics/host/".concat(t,"/hardware/disk-").concat(n,"-").concat(e)})):Z.a.Deferred().resolve()},getWhenCurrentDiskUsagePermalink:function(){return this.getHardwareUri("space-used-chart")},getWhenCurrentDiskIopsPermalink:function(){return this.getHardwareUri("iops-chart")},getCurrentConnectionsPermalink:function(){return this.getStatusUri("fixed-connections-chart")},getCurrentLogicalSizePermalink:function(){return this.getStatusUri("fixed-logical-size-chart")},getCurrentOperationsPermalink:function(){return this.getStatusUri("fixed-opcounters-chart")},getCurrentOpExecutionPermalink:function(){return this.getStatusUri("fixed-avg-operation-execution-times-chart")},destroy:function(){this.deploymentItem?this.deploymentItem.off("change",this._checkPrimaryChange):this.clusterDetail.off("change:deploymentItem",this._checkPrimaryChange),this.stopPolling()},stopPolling:function(){var e=this;Object.keys(this.pollers).forEach((function(t){e.pollers[t].stop()}))},startPolling:function(){var e=this;Object.keys(this.pollers).forEach((function(t){e.pollers[t].start(6e4).immediate()}))},reset:function(){this.stopPolling(),this.generatePollers(this.visibilityAPI),this.startPolling()},generatePollers:function(e){var t={OP_EXECUTION:this._createOpExecutionPoller.bind(this),DISK_USAGE:this._createDiskUsagePoller.bind(this),LOGICAL_SIZE:this._createLogicalSizePoller.bind(this),DISK_IOPS:this._createIOPSPoller.bind(this),OPERATIONS:this._createOperationsPoller.bind(this),CONNECTIONS:this._createConnectionsPoller.bind(this)};this.pollers=this.chartsShown.reduce((function(n,r){return n[r]=t[r](e),n}),{})},_createOpExecutionPoller:function(e){var t=this;return He.a.create((function(){return t._fetchMetrics({groupId:t.settingsModel.get("GROUP_ID"),metricGroup:"status",metricId:"fixed-avg-operation-execution-times-chart",resolution:Mn,duration:kn})}),e).then((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return e.data&&e.data.metrics?An(e.data.metrics):[]}));return En(r)}))},_createDiskUsagePoller:function(e){var t=this;return He.a.create((function(){return t._fetchMetrics({groupId:t.settingsModel.get("GROUP_ID"),metricGroup:"hardware",resolution:t.clusterDescription.has1HourResolutionData()?Un:Bn,duration:t.clusterDescription.has1HourResolutionData()?Ln:Fn})}),e).then((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return e.data&&e.data.metrics&&e.partition?Rn(e.data.metrics,e.partition):[]}));return jn(r)}))},_createLogicalSizePoller:function(e){var t=this;return He.a.create((function(){return t._fetchMetrics({groupId:t.settingsModel.get("GROUP_ID"),metricId:"fixed-logical-size-chart",metricGroup:"status",resolution:t.clusterDescription.has1HourResolutionData()?Vn:Gn,duration:t.clusterDescription.has1HourResolutionData()?zn:qn})}),e).then((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return e.data&&e.data.metrics?In(e.data.metrics):[]}));return jn(r)}))},_createIOPSPoller:function(e){var t=this;return He.a.create((function(){return t._fetchMetrics({groupId:t.settingsModel.get("GROUP_ID"),metricGroup:"hardware",resolution:Wn,duration:Hn},e).then((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.map((function(e){return e.data&&e.data.metrics&&e.partition?wn(e.data.metrics,e.partition,"GCP"!==t.clusterDescription.getProvider()):[]}));return jn(o)}))}))},_createOperationsPoller:function(e){var t=this;return He.a.create((function(){return t._fetchMetrics({groupId:t.settingsModel.get("GROUP_ID"),metricId:"fixed-opcounters-chart",metricGroup:"status",resolution:Kn,duration:Yn})}),e).then((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return e.data&&e.data.metrics?Pn(e.data.metrics):[]}));return jn(r)}))},_createConnectionsPoller:function(e){var t=this;return He.a.create((function(){return t._fetchMetrics({groupId:t.settingsModel.get("GROUP_ID"),metricId:"fixed-connections-chart",metricGroup:"status",resolution:$n,duration:Zn,aggregator:"AVG_ROUND"})}),e).then((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return e.data&&e.data.metrics?Dn(e.data.metrics):[]}));return _n(r)}))},_fetchMetrics:function(e){var t=this,n=this.getPrimaryHostIds();if(n){var r=n.map((function(n){var r=J.a.extend({hostId:n},e),o=On.a.loadMetricsForHost(r),i=t.whenPartitionForHostId[n];return Z.a.when(o,i).then((function(e,t){return{data:e,partition:t}}))}));return Z.a.when.apply(Z.a,yn()(r))}},_updatePrimaryHostIds:function(){function e(e){var t=e.getProcesses().find((function(e){return e.isPrimary()}));return t?t.getHostId():null}var t=this.deploymentItem||this.clusterDetail.getDeploymentItem();t?t instanceof Se.a?this.primaryHostIds=[e(t)]:this.primaryHostIds=t.getShards().map(e):this.primaryHostIds=[],-1!==this.primaryHostIds.indexOf(null)&&(this.primaryHostIds=[])},_updatePartitionDeferreds:function(){var e=this,t=this.getPrimaryHostIds();t?(t.forEach((function(t){e.whenPartitionForHostId[t]=e.whenPartitionForHostId[t]||On.a.getHostPartitions(t,e.settingsModel.get("GROUP_ID")).then((function(e){return Object(xn.b)(e,t)}))})),Object.keys(this.whenPartitionForHostId).forEach((function(n){-1===t.indexOf(n)&&delete e.whenPartitionForHostId[n]}))):this.whenPartitionForHostId={}},_checkPrimaryChange:function(){var e=this,t=this.primaryHostIds;this._updatePrimaryHostIds(),J.a.isEqual(t,this.primaryHostIds)||(this._updatePartitionDeferreds(),Object.keys(this.pollers).forEach((function(t){e.pollers[t].immediate()})))}});var Jn=Xn,Qn=n(148),er=n(965),tr=n(47),nr={OP_EXECUTION:".js-op-execution",DISK_USAGE:".js-disk-usage",LOGICAL_SIZE:".js-logical-size",DISK_IOPS:".js-disk-iops",OPERATIONS:".js-operations",CONNECTIONS:".js-connections"},rr=function(e){var t=Qn.a(e);return"".concat(t.size.toFixed(1)," ").concat(t.unit)},or=function(e){return e<.1?e.toPrecision(1):e.toFixed(1)},ir=function(e){return"".concat(or(e),"/s")},ar=function(e,t){return{OP_EXECUTION:!Object(tr.g)(this.clusterDescription.get("mongoDBMajorVersion"))||!0}[t]||e.push(t),e},sr=Object(v.a)(d.View)(De.a,ke.a,f.a,y.a).extend({template:n(/*! ./ndsSparklinesView.hbs */1934),templateContext:function(){return{isGroupClusterManager:this.settingsModel.isGroupClusterManager()||this.settingsModel.isGroupOwner()}},events:{'click button[name="addStorage"]':"onClickAddStorage","click .js-disk-usage":"onClickDiskUsage","click .js-disk-iops":"onClickDiskIops","click .js-operations":"onClickOperations","click .js-logical-size":"onClickLogicalSize","click .js-connections":"onClickConnections","click .js-op-execution":"onClickOpExecution","click .js-upgrade":"onClickUpgrade",'click button[name="resumeCluster"]':"onClickResume"},serializeData:function(){var e=this.clusterDetail.getCapacityWarnings().isAnyWarnOrError("STORAGE"),t=this.clusterDescription.getEncryptionAtRestValid();return{isCluster:this.deploymentItem instanceof bn.a,hasStorageCapacityWarnings:e,showAddStorage:e&&!this.clusterDescription.isAutoScaleDiskEnabled(),hasConnectionsCapacityWarnings:this.clusterDetail.getCapacityWarnings().isAnyWarnOrError("CONNECTIONS"),encryptionAtRestValid:t}},initialize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.deploymentItem=t.deploymentItem,this.clusterDetail=t.clusterDetail,this.$modalContainer=t.$modalContainer,this.clusterDescription=t.clusterDetail.getClusterDescription(),this.settingsModel=t.settingsModel,this.fixedElementsWidth=t.fixedElementsWidth,this.chartsShown=this._getChartsShown(),this.sparklineChartsPoller=new Jn({clusterDetail:this.clusterDetail,deploymentItem:this.deploymentItem,settingsModel:this.settingsModel,chartsShown:this.chartsShown}),this._initializeCharts(),this.onInitialRender.then((function(){e.clusterDescription.isDeleting()||e.clusterDescription.isTenantUpgrading()||e.clusterDescription.isPaused()||!e.clusterDescription.getEncryptionAtRestValid()||e.sparklineChartsPoller.startPolling()})),er.a.document(this).then((function(){e._updateSparklineWidth(),e._updateSparklineHeight()})),this._handleResizeEvents(),this.listenTo(this.clusterDetail.getCapacityWarnings(),"add remove",this._checkForStorageWarnings),this.listenTo(this.clusterDetail.getCapacityWarnings(),"add remove",this._checkForConnectionsWarnings),this.listenTo(this.clusterDescription,"change:state",(function(t,n){"DELETING"===n&&e.sparklineChartsPoller.destroy()})),this.listenTo(this.clusterDescription,"change:tenantUpgrading",(function(t,n){n?e.sparklineChartsPoller.stopPolling():e._resetCharts()})),this.listenTo(this.clusterDescription,"change:isPaused",(function(t,n){n?e.sparklineChartsPoller.stopPolling():e._resetCharts()})),this.listenTo(this.clusterDescription,"change:encryptionAtRestValid",(function(t,n){n?e._resetCharts():(e.sparklineChartsPoller.stopPolling(),e._updatePendingClusterView())})),this.listenTo(this.clusterDetail,"change:liveImport",(function(){e.listenTo(e.clusterDetail.getLiveImport(),"change:status",(function(t,n){"COMPLETED"!==n&&"FAILED"!==n||e._resetCharts()})),e._updatePendingClusterView()})),this.clusterDetail.getLiveImport()&&this.listenTo(this.clusterDetail.getLiveImport(),"change:status",(function(t,n){"COMPLETED"!==n&&"FAILED"!==n||e._resetCharts()}))},onRender:function(){this._updatePendingClusterView(),this._showInitialCharts(),this._updateSparklineWidth(),this._replayLastPoll()},onDestroy:function(){Z()(window).off("resize"),this.sparklineChartsPoller.destroy()},_initializeCharts:function(){var e=this;this.charts=this.chartsShown.reduce((function(t,n){return t[n]=e._getD3Chart(n),t}),{});var t=this.sparklineChartsPoller.getPollers();this.chartsShown.forEach((function(n){t[n]&&t[n].then((function(t){return e._showChart(t,e.charts[n],nr[n])}))}))},_getD3Chart:function(e){var t;switch(e){case"OP_EXECUTION":t=Object(gn.a)().label("Op Execution Time (ms)").caption("Last 6 Hours").settingsModel(this.settingsModel).yFormatter(or).yMaxFormatter(or);break;case"DISK_USAGE":t=Object(gn.a)().label("Disk Usage").caption(this.clusterDescription.has1HourResolutionData()?"Last 30 Days":"Last 6 Hours").settingsModel(this.settingsModel).yFormatter(rr).yMax(this._getMaxDiskUsage());break;case"LOGICAL_SIZE":t=Object(gn.a)().label("Logical Size").caption(this.clusterDescription.has1HourResolutionData()?"Last 30 Days":"Last 6 Hours").settingsModel(this.settingsModel).yFormatter(rr).yMax(this._getMaxDiskUsage());break;case"DISK_IOPS":t=Object(gn.a)().label("Disk IOPS").caption("Last 6 Hours").settingsModel(this.settingsModel).yFormatter(or).yMax(this._getMaxIOPS());break;case"OPERATIONS":t=Object(gn.a)().label("Operations").caption("Last 6 Hours").settingsModel(this.settingsModel).yFormatter(or).yMaxFormatter(ir);break;default:case"CONNECTIONS":t=Object(gn.a)().label("Connections").caption("Last 6 Hours").settingsModel(this.settingsModel).yMax(this._getMaxConnections())}return t},_handleResizeEvents:function(){var e=this;Z()(window).on("resize",J.a.debounce((function(){e._updateSparklineWidth()}),300))},_updateSparklineWidth:function(){var e=this,t=(window.innerWidth-this.fixedElementsWidth)/2-30,n=Math.max(185,t);this.chartsShown.forEach((function(t){return e.charts[t].width(n)})),this.$(".nds-sparkline-placeholder-wrapper").width(n),this._replayLastPoll()},_updateSparklineHeight:function(){var e=this,t=this.$el.height()/2-70;this.chartsShown.forEach((function(n){return e.charts[n].height(t)})),this._replayLastPoll()},_replayLastPoll:function(){var e=this.sparklineChartsPoller.getPollers();this.chartsShown.forEach((function(t){return e[t]&&e[t].replay()}))},_getChartsShown:function(){return sr.CHARTS_BY_PROVIDER[this.clusterDescription.getProvider()].reduce(ar.bind(this),[])},_resetCharts:function(){this.chartsShown=this._getChartsShown(),this.sparklineChartsPoller.reset(),this._initializeCharts(),this.render()},_checkForStorageWarnings:function(){var e=this.clusterDescription.isTenant()?"LOGICAL_SIZE":"DISK_USAGE",t=this.clusterDetail.getCapacityWarnings().isAnyWarnOrError("STORAGE"),n=t&&!this.clusterDescription.isAutoScaleDiskEnabled();this.$('button[name="addStorage"]').attr("hidden",!n),this.$(nr[e]).toggleClass("nds-sparkline-is-healthy",!t).toggleClass("nds-sparkline-is-warn",t);var r=this.sparklineChartsPoller.getPollers();r[e]&&r[e].replay()},_checkForConnectionsWarnings:function(){var e=this.clusterDetail.getCapacityWarnings().isAnyWarnOrError("CONNECTIONS");this.$(".js-connections").toggleClass("nds-sparkline-is-inactive",!e).toggleClass("nds-sparkline-is-warn",e),this.sparklineChartsPoller.getPollers().CONNECTIONS.replay()},_getNumShards:function(){return this.deploymentItem instanceof bn.a?this.deploymentItem.getShards().length:1},_getMaxIOPS:function(){var e=(this.clusterDescription.get("isNvme")?this.clusterDescription.get("maxSSDReadIOPS")+this.clusterDescription.get("maxSSDWriteIOPS"):this.clusterDescription.get("diskIOPS"))*this._getNumShards();return"GCP"===this.clusterDescription.getProvider()?e/2:e},_getMaxDiskUsage:function(){return Qn.b(this.clusterDescription.get("diskSizeGB")*this._getNumShards())},_getMaxConnections:function(){return this.clusterDescription.get("maxIncomingConns")||null},_showInitialCharts:function(){var e=this;this.chartsShown.forEach((function(t){var n=nr[t];e.$(n).attr("hidden",!1),e._toggleLoading(!0,n)})),this.clusterDescription.isTenant()&&this.$(".js-upsell").attr("hidden",!1)},_showChart:function(e,t,n){this._toggleLoading(!1,n),Object(mn.select)(this.el).select(n).datum(e).call(t),e&&e.length?t.showLatest():t.showNoData(),this._updatePendingClusterView()},_toggleLoading:function(e,t){this.$(t).toggleClass("nds-sparkline-is-placeholder",e),this.$(t).find(".nds-sparkline-placeholder-wrapper").attr("hidden",!e)},_showEmptyState:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._setEmptyState(e,n,r),this.$(".nds-sparkline-empty-description").text(t)},_showEmptyStateHtml:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this._setEmptyState(e,n,r,o),this.$(".nds-sparkline-empty-description").html(t)},_setEmptyState:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.$(".nds-sparkline-empty").attr("hidden",!1),this.$(".nds-sparkline, .nds-sparkline-row").attr("hidden",!0),this.$(".nds-sparkline-empty-header .inline-pending").attr("hidden",t||n||r),this.$(".nds-sparkline-empty-header-text").html(e),this.$('button[name="resumeCluster"]').attr("hidden",!t||!this.settingsModel.isGroupOwner()),r?this.$el.addClass("cluster-detail-sparklines-is-red"):this.$el.removeClass("cluster-detail-sparklines-is-red")},_updatePendingClusterView:function(){var e=this.clusterDescription.getName(),t=this.clusterDetail.getLiveImport();if("DELETING"===this.clusterDescription.get("state"))this._showEmptyState("Your cluster is shutting down","Metrics are no longer available for this cluster.");else if(t&&t.isSharded()&&t.isRunning())this._showEmptyState("Sharded Cluster Live Migration in Progress","Metrics will be paused and you will not be able to access data for this cluster.");else if(this.clusterDescription.isPaused()&&this.clusterDescription.isTenant())this._showEmptyState("","Your cluster has been automatically paused due to prolonged inactivity. Resume your cluster to connect to it and to gain access to your data.",!0);else if(this.clusterDescription.isPaused())this._showEmptyState("".concat(e," is Paused"),"Resume your cluster to connect to it and to gain access to your data.",!0);else if(this.clusterDescription.isTenantUpgrading())this._showEmptyState("Your cluster is being upgraded","It will be unavailable for a few minutes during the conversion.");else if("CREATING"===this.clusterDescription.get("state")){var n=this.clusterDescription.isTenant()?"1-3":"7-10";this._showEmptyState("Your cluster is being created","New clusters take between ".concat(n," minutes to provision."))}else if(this.clusterDescription.isMonitoringPaused())this._showEmptyStateHtml("Monitoring for ".concat(e," is Paused"),"Monitoring will automatically resume when you connect to your cluster. <a href='http://dochub.mongodb.org/core/atlas-pause-free-monitoring' target='_blank'>Visit the documentation</a> for more info.",void 0,!0);else if(this.clusterDescription.getEncryptionAtRestValid())this.$(".nds-sparkline-empty").attr("hidden",!0),this.$(".nds-sparkline-row").attr("hidden",!1),this.$el.removeClass("cluster-detail-sparklines-is-red");else{var r=this.clusterDescription.getEncryptionAtRestProviderReadable(),o='\n          <div class="nds-sparkline-empty-header-invalid">\n            <i class="fa fa-exclamation-triangle"></i>\n            '.concat(r," Encryption At Rest settings are no longer valid. All MongoDB processes that have not already been stopped will be stopped imminently.\n          </div>\n        ");this._showEmptyStateHtml(o,'<a class="btn btn-default" href="#security/advanced">View Settings</a>',this.clusterDescription.isPaused(),this.clusterDescription.isMonitoringPaused(),!0)}},_redirectToStaticUri:function(e){this._getNumShards()>1||!e?this._redirectToClusterOverview():a.a.history.navigate(e,{trigger:!0})},_redirectToClusterOverview:function(){a.a.history.navigate("#clusters/detail/".concat(this.clusterDescription.getName()),{trigger:!0})},_renderClusterEditor:function(){window.location.hash="clusters/edit/".concat(this.clusterDescription.getName())},onClickAddStorage:function(e){e.stopPropagation(),this._renderClusterEditor()},onClickUpgrade:function(){W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas Cluster Card",action:"Clicked Upgrade"},{integrations:Object(W.c)(this.settingsModel.getCurrentOrgId())}),this._renderClusterEditor()},onClickResume:function(){var e=new vt({model:this.clusterDescription}).render();this.$modalContainer.html(e.el),this.trackForRemoval({clusterResumeModal:e})},onClickDiskUsage:function(){var e=this;this.sparklineChartsPoller.getWhenCurrentDiskUsagePermalink().then((function(t){return e._redirectToStaticUri(t)}))},onClickDiskIops:function(){var e=this;this.sparklineChartsPoller.getWhenCurrentDiskIopsPermalink().then((function(t){return e._redirectToStaticUri(t)}))},onClickOperations:function(){this._redirectToStaticUri(this.sparklineChartsPoller.getCurrentOperationsPermalink())},onClickConnections:function(){this._redirectToStaticUri(this.sparklineChartsPoller.getCurrentConnectionsPermalink())},onClickLogicalSize:function(){this._redirectToStaticUri(this.sparklineChartsPoller.getCurrentLogicalSizePermalink())},onClickOpExecution:function(){this._redirectToStaticUri(this.sparklineChartsPoller.getCurrentOpExecutionPermalink())}},{CHARTS_BY_PROVIDER:{AWS:["OP_EXECUTION","DISK_USAGE","DISK_IOPS","OPERATIONS","CONNECTIONS"],AZURE:["OP_EXECUTION","DISK_USAGE","DISK_IOPS","OPERATIONS","CONNECTIONS"],GCP:["OP_EXECUTION","DISK_USAGE","DISK_IOPS","OPERATIONS","CONNECTIONS"],FREE:["LOGICAL_SIZE","OPERATIONS","CONNECTIONS"]}}),lr=sr,cr=Object(v.a)(d.View)(qe.a).extend({template:n(/*! ./clusterExtendLiveImportModal.hbs */1935),modifierClassNames:"view-modal-content-is-medium",actions:[{name:"close",cssClass:"button",label:"Cancel"},{name:"confirm",cssClass:"button button-is-primary",label:"Confirm"}],initialize:function(e){var t=e.liveImport;this.liveImport=t,this.title="Extend Data Migration to ".concat(this.liveImport.get("clusterName"))},events:function(){var e=this;return{'click [name="close"]':function(){return e.remove()},'click [name="confirm"]':"_onClickConfirm"}},_onClickConfirm:function(){var e=this;this.$(".alert-danger").attr("hidden",!0),this.$(".alert-danger-msg").empty();var t=this.liveImport.clone(),n=ee()(this.liveImport.get("expireDate")).add(ee.a.duration(24,"hours"));t.set("expireDate",n.toISOString()),Le.a.updateLiveImport(t).then((function(){e.liveImport.fetch(),e.remove()}),(function(t){e.$(".alert-danger").attr("hidden",!1),e.$(".alert-danger-msg").text(t)}))}}),ur=Object(v.a)(d.View)(qe.a).extend({template:n(/*! ./clusterStopLiveImportModal.hbs */1936),modifierClassNames:"view-modal-content-is-medium",actions:[{name:"close",cssClass:"button",label:"Close"},{name:"confirm",cssClass:"button button-is-primary",label:"Confirm"}],templateContext:function(){return{name:this.liveImport.get("clusterName")}},initialize:function(e){var t=e.liveImport;this.liveImport=t,this.title="Cancel Data Migration to ".concat(this.liveImport.get("clusterName"))},events:function(){var e=this;return{'click [name="close"]':function(){return e.remove()},'click [name="confirm"]':"_onClickConfirm","submit form":"_onClickConfirm"}},_onClickConfirm:function(){var e=this;this.$(".alert-danger").attr("hidden",!0),this.$(".alert-danger-msg").empty();var t=this.liveImport.get("_id");Le.a.stopLiveImport({id:t}).then((function(){e.liveImport.set("isCancelled",!0),e.remove()}),(function(t){e.$(".alert-danger").attr("hidden",!1),e.$(".alert-danger-msg").text(t)}))}}),dr={STAGES:{INITIALIZING:"INITIALIZING",INITIAL_SYNC:"INITIAL_SYNC",OPLOG_SYNC:"OPLOG_SYNC"},PHASES:{COPYING_INITIAL_DATA:"copying initial data",APPLYING_OPLOG_ENTIRES:"applying oplog entries",COPYING_INDEXES:"copying indexes"},isOplogTailingDoneForShard:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return 0===this.getOplogLagForShard(e,t).seconds();var n=e.oplogSourceTimeEpoch,r=e.oplogTargetTimeEpoch,o=e.oplogSourceTimeInc,i=e.oplogTargetTimeInc;return n===r&&o===i},isOplogTailingDone:function(e){var t=this;return e.map((function(n,r){return t.isOplogTailingDoneForShard(n,t.isCSRSStatus(e,r))})).reduce((function(e,t){return e&&t}),!0)},isCSRSStatus:function(e,t){return t===e.length-1&&t>0},getOplogLagDisplay:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e.length)return"--:--";var n=t?this.getOplogLagForShard(e[0],t):this.getOplogLag(e);if(!n)return"--:--";if(this._isLagLessThanOneSecond(e))return"< 0:01";var r=Math.floor(n.days()),o=Math.floor(n.hours()),i=Math.floor(n.minutes()),a=Math.floor(n.seconds());return 0===r&&0===o?"".concat(i,"m ").concat(this._padSeconds(a),"s"):0===r?"".concat(o,"h ").concat(i,"m"):"".concat(r,"d ").concat(o,"h")},getOplogLagDisplayClass:function(e){if(0===e.length)return"live-import-oplog-lag-is-null";var t=this.getOplogLag(e);if(!t)return"live-import-oplog-lag-is-null";var n=Math.floor(t.asMinutes()),r=e.filter((function(e){return!!e.errorMessage}));return n>=5||r.length?"live-import-oplog-lag-is-error":n<5&&n>1?"live-import-oplog-lag-is-warn":"live-import-oplog-lag-is-success"},getOplogLag:function(e){for(var t=this,n=e.map((function(n,r){return t.getOplogLagForShard(n,t.isCSRSStatus(e,r))})),r=ee.a.duration(0,"seconds"),o=0;o<n.length;o++){var i=n[o];if(!i)return null;r=i.asSeconds()>r.asSeconds()?i:r}return r},getOplogLagForShard:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=5,r=e.oplogSourceTimeEpoch,o=e.oplogTargetTimeEpoch,i=e.stage===this.STAGES.INITIAL_SYNC&&e.phase===this.PHASES.APPLYING_OPLOG_ENTIRES,a=e.stage===this.STAGES.OPLOG_SYNC||i;if(r>0&&o>0&&a){var s=ee.a.unix(r),l=ee.a.unix(o),c=ee.a.duration(s.diff(l,"seconds"),"seconds");return t&&c.asSeconds()<=n?ee.a.duration(0,"seconds"):c}return null},isInitializing:function(e){var t=this;return e.length>0&&e.every((function(e){return e&&!e.errorMessage&&e.stage===t.STAGES.INITIALIZING}))},isFailed:function(e){return e.length>0&&e.every((function(e){return!!e.errorMessage}))},isInitialSyncCopyingData:function(e){var t=this;return 1==e.length&&e.every((function(e){return e.stage===t.STAGES.INITIAL_SYNC&&e.phase===t.PHASES.COPYING_INITIAL_DATA}))},isInitialSyncOplog:function(e){var t=this;return 1==e.length&&e.every((function(e){return e.stage===t.STAGES.INITIAL_SYNC&&e.phase===t.PHASES.APPLYING_OPLOG_ENTIRES}))},isCreatingIndexes:function(e){var t=this;return 1==e.length&&e.every((function(e){return e.stage===t.STAGES.INITIAL_SYNC&&e.phase===t.PHASES.COPYING_INDEXES}))},isOplogSync:function(e){var t=this;return e.length>0&&e.every((function(e){return e.stage===t.STAGES.OPLOG_SYNC}))},getInitialSyncDisplay:function(e){var t=this.isCreatingIndexes(e),n=this.isOplogSync(e),r=e.reduce((function(e,t){return e+t.initialSyncBytesCopied}),0),o=e.reduce((function(e,t){return e+t.initialSyncBytesTotal}),0),i=Math.max(r,o),a=n?100:Math.round(r/i*100),s=Qn.a(n?i:r),l=Qn.a(i),c="".concat(s.size.toFixed(1)," ").concat(s.unit),u="".concat(l.size.toFixed(1)," ").concat(l.unit);return t||n?{percentComplete:100,copiedDisplay:u,totalDisplay:u}:{percentComplete:a,copiedDisplay:c,totalDisplay:u}},isLagLessThanOneMinute:function(e){if(0==e.length)return!1;var t=this.getOplogLag(e);return!!t&&t.asMinutes()<1},_isLagLessThanOneSecond:function(e){var t=this;return e.reduce((function(e,n){return e&&t._isLagForShardLessThanOneSecond(n)}),!0)},_isLagForShardLessThanOneSecond:function(e){var t=e.oplogSourceTimeEpoch,n=e.oplogTargetTimeEpoch,r=e.oplogSourceTimeInc,o=e.oplogTargetTimeInc;return t>0&&n>0&&(t===n&&r!==o)},_padSeconds:function(e){for(var t=e.toString();t.length<2;)t="0".concat(t);return t}},pr=n(1116),fr=n(1006),hr=n(1074),mr={value:"CLUSTER",readPreferenceTags:null},gr=Object(v.a)(d.View)(ke.a,fr.a,f.a).extend({template:n(/*! ./atlasMongoUriView.hbs */1937),initialize:function(e){var t=e.clusterDescription,n=e.user,r=hr.a.fromClusterDescription(t),o={uriParams:new a.a.Model({user:n&&n.get("user"),hostnamePortDriver:r.getHostNamePortDriver(),privateHostnamePortDriver:r.getPrivateLinkConnectHostnamePortDriver(),replicaSetName:r.getReplicaSetName(),driverSupportsSRV:!!r.getSRVAddress()&&parseFloat(r.getMongoDBMajorVersion())>=3.6,srvAddress:r.getSRVAddress(),isRetryWritesSupported:r.getSupportsRetryWrite(),isAnalyticsNodesSupported:r.getHasAnalyticsNodes(),writeConcern:r.getWriteConcern(),connectionReadPreferenceType:mr.value,database:"<DATABASE>"})};this.registerReactComponent(Object(z.jsx)(p.BackboneProvider,{models:o},Object(z.jsx)(pr.b,null)),".js-atlas-mongo-uri-view")}}),br=n(1938),vr=n.n(br),yr=n(1939),Or=n.n(yr),xr=n(1940),jr=n.n(xr),Er=n(1941),Sr=n.n(Er),Cr=n(1942),_r=n.n(Cr),Ar=n(1943),Nr=n.n(Ar),Tr=n(1944),wr=n.n(Tr),Pr=Object(v.a)(d.View)(qe.a,y.a).extend({modifierClassNames:"view-modal-content-is-small",title:"Your migration is almost complete!",templateContext:function(){var e=this.liveImport.getMongoMirrorStatuses(),t=parseFloat(this.clusterDescription.get("mongoDBMajorVersion"));return{siteName:this.settingsModel.get("SITE_NAME"),oplogLagDisplayClass:dr.getOplogLagDisplayClass(e),oplogLagDisplay:dr.getOplogLagDisplay(e),isOplogTailingDone:dr.isOplogTailingDone(e),hasSrv:!!this.clusterDescription.get("srvAddress")&&t>=3.6}},initialize:function(e){var t=e.liveImport,n=e.settingsModel,r=e.clusterDescription;this.liveImport=t,this.settingsModel=n,this.clusterDescription=r,this.listenTo(this.liveImport,"sync",this._onOplogUpdate)},events:function(){var e=this;return{'click [name="cancel"]':function(){return e.remove()},'click [name="done"]':"_onClickDone"}},serializeData:function(){return{partials:{introduction:jr.a,stopApplication:Sr.a,optimeGap:_r.a,connectionString:Nr.a,footer:wr.a}}},getTemplate:function(){return this.clusterDescription.isShardedCluster()?Or.a:vr.a},onRender:function(){this._showAtlasMongoUri()},_showAtlasMongoUri:function(){var e=new gr({clusterDescription:this.clusterDescription,el:this.$(".js-mongo-uri")}).render();this.trackForRemoval({atlasMongoUriView:e})},_onOplogUpdate:function(){var e=this.liveImport.getMongoMirrorStatuses(),t=dr.getOplogLagDisplay(e),n=dr.isOplogTailingDone(e);this.$(".js-lag-display").text(t),this.$(".live-import-check").attr("hidden",!n),this.$('[name="done"]').attr("disabled",!n)},_onClickDone:function(){var e=this;this.$(".alert-danger").attr("hidden",!0),this.$(".alert-danger-msg").empty();var t=this.liveImport.clone();t.set("isCutoverComplete",!0),Le.a.updateLiveImport(t).then((function(){e.liveImport.fetch(),e.remove()}),(function(t){e.$(".alert-danger").attr("hidden",!1),e.$(".alert-danger-msg").text(t)}))}}),Rr=n(354);function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kr={"Failed to start source cluster balancer":'Your cluster migration was successful, but we were unable to restart your source cluster\'s balancer. If you want to continue using your source cluster, you can do so <a href="https://docs.mongodb.com/manual/tutorial/manage-sharded-cluster-balancer/#enable-the-balancer" target="_blank" class="live-import-banner-feedback-link">manually</a>.'},Mr=Object(v.a)(d.View)(De.a,y.a,ke.a).extend({template:n(/*! ./liveImportProgressView.hbs */1945),templateContext:function(){var e=this,t=this.model.getMongoMirrorStatuses(),r=t.map((function(t,n){return e._getStatusDisplay(t,n)})),o=this._getOverallDisplayOptions(t,r),i=this.model.getSourceDisplayLabel();return Dr(Dr({},o),{},{statusDisplays:r,sourceDisplayLabel:i,showBannerDismiss:this.model.isCompleted()||this.model.isFailed(),renderForClusterDetailPage:this.renderForClusterDetailPage,isMlabMigration:!!this.mlabMigration,partials:{liveImportOplogLag:n(/*! ./liveImportOplogLag.hbs */1946),liveImportProgress:n(/*! ./liveImportProgress.hbs */1947)}})},events:function(){var e=this;return{'click [name="extend"]':"_onClickExtend",'click [name="cancel"]':"_onClickCancel",'click [name="cutover"]':"_onClickCutover",'click [name="checklist"]':"_onClickChecklist","click .live-import-banner-dismiss":"_onClickDismiss","click .live-import-progress-label-left-message":"_onClickToggleError","click .live-import-sharded-controls-link":"_onClickViewProgressPerShard","click .restart-live-import-for-shard":"_onClickRestartLiveImportForShard","mouseover .tip":function(){return e.isTooltipHover=!0},"mouseout .tip":function(){return e.isTooltipHover=!1}}},initialize:function(e){var t=this,n=e.$modalContainer,r=e.settingsModel,o=e.clusterDescription,i=e.renderForClusterDetailPage,a=e.showShardResyncConfirmation;this.$modalContainer=n,this.settingsModel=r,this.clusterDescription=o,this.progressPerShardIsOpen=!1,this.errorMessageIsExpandedStates=this.model.getMongoMirrorStatuses().map((function(){return!1})),this.liveImportPoller=He.a.create((function(){return t.model.fetch()})),this.renderForClusterDetailPage=i,this.showShardResyncConfirmation=a,this.onInitialRender.then((function(){t.model.isRunning()&&(t.liveImportPoller.start(5e3),t.liveImportPoller.immediate())}));try{Rr.a.getMigrationByProjectAndCluster({orgId:r.getCurrentOrgId(),projectId:o.getGroupId(),clusterName:o.getName()}).then((function(e){t.mlabMigration=e,t.render()})).catch((function(){}))}catch(e){}this.listenTo(this.model,"sync change",this._onSync)},_getStatusDisplay:function(e,t){var n=dr.isCSRSStatus(this.model.getMongoMirrorStatuses(),t),r=dr.isInitializing([e]),o=dr.isInitialSyncCopyingData([e]),i=e&&dr.isInitialSyncOplog([e]),a=e&&dr.isCreatingIndexes([e]),s=e&&e.stage===dr.STAGES.OPLOG_SYNC,l=dr.getInitialSyncDisplay([e]),c=l.percentComplete,u=l.copiedDisplay,d=l.totalDisplay,p=!!e.errorMessage,f="";p&&e.errorMessage&&(f=e.errorMessage.indexOf("{")>-1?e.errorMessage.substring(0,e.errorMessage.indexOf("{")):e.errorMessage);var h=f&&f.length>80,m=this.errorMessageIsExpandedStates[t];return{isInitializing:r,isInitialSyncCopyingData:o,isInitialSyncOplog:i,isInitialSyncCreatingIndexes:a,isOplogSync:s,percentComplete:c,copiedDisplay:u,totalDisplay:d,oplogLagDisplay:dr.getOplogLagDisplay([e],n),oplogLagDisplayClass:dr.getOplogLagDisplayClass([e],n),isCutoverEnabled:!p&&dr.isLagLessThanOneMinute([e]),statusWithError:p,errorMessage:f,errorMessageIsLong:h,errorMessageIsExpanded:m}},_getOverallDisplayOptions:function(e,t){var n=dr.isInitializing(e),r=dr.isFailed(e)||this.model.isFailed(),o=dr.isOplogSync(e),i=dr.isInitialSyncCopyingData(e),a=dr.isInitialSyncOplog(e),s=dr.isCreatingIndexes(e),l=this.model.getHoursToExpire(),c=this.model.isExpired(),u=this.model.isRunning(),d=this.model.isSharded()?this.model.isCutoverComplete()&&this.model.isCompleted()&&!this.model.getImportSucceededWithWarning():this.model.isCutoverComplete(),p=this.model.isCutoverComplete()&&!this.model.isCompleted()&&this.model.isSharded(),f=t.find((function(e){return!!e.errorMessage})),h=f&&f.errorMessage,m=h&&h.length>80,g=this.errorMessageIsExpanded,b=!this.model.isCancelled()&&h,v=(this.model.isRunning()&&!this.model.isExpired()&&!this.model.isCancelled()&&!this.model.isCutoverComplete()&&!this.model.getImportSucceededWithWarning()||b)&&!r,y=v&&this.model.isSharded(),O=this.progressPerShardIsOpen,x=kr[this.model.getImportSucceededWithWarning()],j=dr.getInitialSyncDisplay(e),E=j.percentComplete,S=j.copiedDisplay,C=j.totalDisplay,_=dr.getOplogLagDisplay(e),A=dr.getOplogLagDisplayClass(e),N=o&&this.model.isReplicationLagTooHigh();return{percentComplete:E,copiedDisplay:S,totalDisplay:C,shouldDisplayStatus:v,shouldDisplayStatusPerShard:y,progressPerShardIsOpen:O,isInitializing:n,isRunning:u,isFailed:r,isInitialSyncCopyingData:i,isInitialSyncOplog:a,isInitialSyncCreatingIndexes:s,isOplogSync:o,hoursToExpire:l,isExpired:c,isSuccess:d,isConfiguringForCutover:p,oplogLagDisplay:_,oplogLagDisplayClass:A,isCutoverEnabled:!N&&!f&&o&&dr.isLagLessThanOneMinute(e),errorMessage:h,errorMessageIsLong:m,errorMessageIsExpanded:g,isReplicationLagTooHigh:N,importSucceededWarningMessage:x}},_onClickToggleError:function(e){var t=e.currentTarget.getAttribute("data-index");if(0===t.length)this.errorMessageIsExpanded=!this.errorMessageIsExpanded;else{var n=parseInt(t,10);this.errorMessageIsExpandedStates[n]=!this.errorMessageIsExpandedStates[n]}this.render()},_onSync:function(){(this.model.isCompleted()||this.model.isFailed())&&this.liveImportPoller.isRunning()&&this.liveImportPoller.stop(),this.isTooltipHover||this.render()},_onClickExtend:function(){var e=new cr({liveImport:this.model}).render();this.$modalContainer.html(e.el),this.trackForRemoval({extendLiveImportModal:e})},_onClickCancel:function(){var e=new ur({liveImport:this.model}).render();this.$modalContainer.html(e.el),this.trackForRemoval({stopLiveImportModal:e})},_onClickCutover:function(){We.a.broadcastLiveImportEvent({segmentEvent:W.b.CUTOVER_STARTED,clusterDescription:this.clusterDescription,options:{integrations:Object(W.c)(this.settingsModel.getCurrentOrgId())}});var e=new Pr({liveImport:this.model,clusterDescription:this.clusterDescription,settingsModel:this.settingsModel}).render();this.$modalContainer.html(e.el),this.trackForRemoval({cutoverLiveImportModal:e})},_onClickChecklist:function(){window.location.href="/v2#/org/".concat(this.settingsModel.getCurrentOrgId(),"/mlabAccount/migrateDeployment/").concat(this.mlabMigration.mlabDeploymentId)},_onClickDismiss:function(){var e=this,t=this.model.clone();t.set("isAcknowledged",!0),Le.a.updateLiveImport(t).then((function(){e.model.fetch(),e.destroy()}))},_onClickViewProgressPerShard:function(){this.progressPerShardIsOpen=!this.progressPerShardIsOpen,this.render()},_onClickRestartLiveImportForShard:function(e){var t=parseInt(e.currentTarget.value,10),n=this.model.getMongoMirrorStatuses().length-1===t;this.showShardResyncConfirmation(this.model,t,n)},onDestroy:function(){this.liveImportPoller.stop()}}),Lr=n(1948),Ur=n.n(Lr),Fr=d.View.extend({template:Ur.a,templateContext:function(){return{mainText:this.viewOptions.mainText,subText:this.viewOptions.subText,alertModifier:this.viewOptions.alertModifier}},initialize:function(e){var t=e.mainText,n=e.subText,r=e.dismissKey,o=e.alertModifier,i=e.onDismiss,a=void 0===i?function(){}:i;this.viewOptions={mainText:t,subText:n,dismissKey:r,alertModifier:o,onDismiss:a}},events:function(){return{"click .banner-is-warning-dismiss":"_dismiss"}},tryToRender:function(){this._isNotDismissed()?(this.render(),this.$el.attr("hidden",!1)):this.$el.attr("hidden",!0)},_dismiss:function(){window.localStorage.setItem(this.viewOptions.dismissKey,!0),this.viewOptions.onDismiss(),this.remove()},_isNotDismissed:function(){return"true"!==window.localStorage.getItem(this.viewOptions.dismissKey)}}),Br=Object(Fe.a)({initialize:function(){var e=this,t=function(){return e.$('[data-toggle="popover"]').popover("destroy")};this.listenTo(this,"before:render",t),this.listenTo(this,"render",(function(){return e.$('[data-toggle="popover"]').popover()})),this.listenTo(this,"destroy",t)}}),zr=n(203),Vr=Object(Fe.a)({_showLiveImportResyncConfirmation:function(e,t,n,r){var o=this,i=n?"Config Shard":"Shard-".concat(t),a="Confirm ".concat(i," Resync"),s=n?"the config shard":"shard-".concat(t),l="Are you sure you want to resync ".concat(s,"? A resync may cause increased load on the source shard.");this.renderReactComponent(Object(z.jsx)(p.BackboneProvider,null,Object(z.jsx)(zr.a,{title:a,size:"small",confirmButtonLabel:"Resync",onClose:function(){return o.deregisterReactComponent(".resync-live-import-modal")},onConfirm:function(){Le.a.restartLiveImportForShard(e,t).then((function(){e.fetch()}))}},Object(z.jsx)("p",null,l))),r)}}),qr=n(1175);function Gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Hr=function(e){A()(n,e);var t=Gr(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"onDismiss",(function(){var t=e.props.onDismissFunc;window.localStorage.setItem(e.getDismissKey(),"true"),e.forceUpdate(),t()})),e}return E()(n,[{key:"getDismissKey",value:function(){var e=this.props.loadSampleDatasetStatus;return"MMS.LoadSampleDatasetStatusAlert.".concat(e._id)}},{key:"isDismissed",value:function(){return"true"===window.localStorage.getItem(this.getDismissKey())}},{key:"render",value:function(){var e=this.props.loadSampleDatasetStatus,t=!this.isDismissed()&&e&&!Object(Bt.c)(e);return Object(z.jsx)(l.a.Fragment,null,t&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(qr.a,{dismissible:"WORKING"!==e.state,onDismiss:this.onDismiss,className:n.statusOptions[e.state].classNames.join(" ")},Object(z.jsx)("span",{className:"banner-text banner-is-inline"},Object(z.jsx)("strong",{className:"main-text"},"WORKING"===e.state&&Object(z.jsx)("span",{className:"loading-spinner loading-spinner-has-margin-right loading-spinner-is-white"}),n.statusOptions[e.state].mainText),"COMPLETED"===e.state&&Object(z.jsx)("a",{className:"link-is-right-aligned link-is-for-banner",href:"https://dochub.mongodb.org/core/atlas-load-sample-dataset",target:"_blank"},"VIEW DATA TUTORIAL"),n.statusOptions[e.state].subText||e.errorMessage))))}}]),n}(l.a.Component);I()(Hr,"propTypes",{loadSampleDatasetStatus:k.a.shape(ge.a).isRequired,onDismissFunc:k.a.func}),I()(Hr,"defaultProps",{onDismissFunc:function(){}}),I()(Hr,"statusOptions",{WORKING:{mainText:"Loading your sample dataset...",classNames:["banner-is-working","banner-is-on-card","banner-has-overflow-wrap","banner-has-padding-below"]},COMPLETED:{mainText:"Sample dataset successfully loaded. ",subText:"Access it in Data Explorer by clicking the Collections button, or with the Mongo Shell.",classNames:["banner-is-complete","banner-is-on-card","banner-has-overflow-wrap","banner-has-padding-below"]},FAILED:{mainText:"An error occured loading sample data: ",classNames:["banner-is-failed","banner-is-on-card","banner-has-overflow-wrap","banner-has-padding-below"]}});var Wr=Object(p.connectBackboneToReact)((function(e){var t=e.loadSampleDatasetStatus;return{loadSampleDatasetStatus:t&&t.attributes}}))(Hr);function Yr(e){var t=e.errorClass,n=e.onDismissFunc,r=e.userCanDismiss;return Object(z.jsx)(qr.a,{dismissible:r,onDismiss:n,className:"banner-is-failed banner-is-on-card banner-has-overflow-wrap banner-has-padding-below"},function(e){return"RESTORE_SNAPSHOT_FAILURE"===e?Object(z.jsx)("div",{className:"banner-is-flex"},Object(z.jsx)("span",{className:"banner-left-section"},"Your cluster upgrade failed during data migration, and in some rare cases, your cluster may be missing data.",Object(z.jsx)("br",null),"If this is the case, please"," ",Object(z.jsx)("a",{href:"#info/support",target:"_blank",className:"banner-text-link"},"contact our support staff")," ","for help with data recovery.")):"FTS_INDEX_MIGRATION_FAILURE"===e?Object(z.jsx)("div",{className:"banner-is-flex"},Object(z.jsx)("span",{className:"banner-left-section"},"The cluster upgrade was successful, but we failed to migrate your search indexes. You may have to recreate them.")):"RETRIABLE_FAILURE"===e?Object(z.jsx)("div",{className:"banner-is-flex"},Object(z.jsx)("span",{className:"banner-left-section"},"Cluster upgrade failed. Please try again later.")):Object(z.jsx)(l.a.Fragment,null)}(t))}var Kr=Object(v.a)(d.View)(Br,y.a,De.a,f.a,Vr).extend({template:n(/*! ./clusterDetailItemView.hbs */1949),initialize:function(e){var t=this;this.settingsModel=e.settingsModel,this.$modalContainer=e.$modalContainer,this.showClusterDetails=e.showClusterDetails,this.whenApplicationsLoaded=e.whenApplicationsLoaded,this.isFirstOnPage=e.isFirstOnPage,this.providerOptionsModel=e.providerOptionsModel,this.isPrivateIPMode=e.isPrivateIPMode,this.loadSampleDatasetStatus=e.loadSampleDatasetStatus,this.loadSampleDatasetStatusPoller=e.loadSampleDatasetStatusPoller,this.onlineArchives=e.onlineArchives,this._manageLoadSampleDatasetStatusBanner(),this.onInitialRender.then((function(){t.listenTo(t.loadSampleDatasetStatus,"change",t._tryToShowClusterWarnings),t.listenTo(t.model,"change:deploymentItem",(function(){t._renderIfItemDiscovered(),t._updateClusterStateClass()})),t.listenTo(t.model,"change:liveImport",t._showLiveImportProgress),t.listenTo(t.model.getClusterDescription(),"change:state",(function(e,n){t._updateClusterStateClass(),"IDLE"!==n&&"DELETING"!==n&&"UPDATING"!==n||t._updateSubviews()})),t.listenTo(t.model.getClusterDescription(),"change:tenantUpgrading",t._manageTenantUpgradeFailedBanner),t.listenTo(t.model.getClusterDescription(),"change:isPaused",t._manageLoadSampleDatasetStatusBanner)}))},onRender:function(){this._manageTenantUpgradeFailedBanner(),this._showClusterInfoPanel(),this._tryToShowClusterWarnings(),this._updateSubviews()},_manageLoadSampleDatasetStatusBanner:function(){var e=this;this.deregisterReactComponent(".js-cluster-react-alert"),this.loadSampleDatasetStatus&&!this.model.getClusterDescription().isPaused()&&this.registerReactComponent(Object(z.jsx)(p.BackboneProvider,{models:{loadSampleDatasetStatus:this.loadSampleDatasetStatus}},Object(z.jsx)(Wr,{onDismissFunc:function(){return e.render()}})),".js-cluster-react-alert")},_manageTenantUpgradeFailedBanner:function(){var e=this,t=this.model.getClusterDescription().getName(),n=this.model.getClusterDescription().getGroupId();U.m.tenantUpgrade.getUnacknowledgedTenantUpgradeFailure(n,t).then((function(r){r&&r.hasUnacknowledgedFailure&&e.renderReactComponent(Object(z.jsx)(p.BackboneProvider,null,Object(z.jsx)(Yr,{onDismissFunc:function(){U.m.tenantUpgrade.markTenantUpgradeFailuresAcknowledged(n,t).then((function(){e.deregisterReactComponent(".js-cluster-tenant-upgrade-alert"),e.render()}))},errorClass:r.errorClass,userCanDismiss:e.settingsModel.isGroupClusterManager()})),".js-cluster-tenant-upgrade-alert")}))},_updateSubviews:function(){this._showSparklines(),this._updateClusterStateClass(),this._showLiveImportProgress(),this._tryToShowClusterWarnings()},_showClusterInfoPanel:function(){var e=new hn({model:this.model,settingsModel:this.settingsModel,$modalContainer:this.$modalContainer,el:this.$(".cluster-info-panel"),whenApplicationsLoaded:this.whenApplicationsLoaded,analyticsCategory:"Atlas Cluster Card",isFirstOnPage:this.isFirstOnPage,providerOptionsModel:this.providerOptionsModel,isPrivateIPMode:this.isPrivateIPMode,loadSampleDatasetStatus:this.loadSampleDatasetStatus,loadSampleDatasetStatusPoller:this.loadSampleDatasetStatusPoller,onlineArchives:this.onlineArchives}).render();this.trackForRemoval({panelView:e})},_showSparklines:function(){this.sparklinesView||(this.sparklinesView=new lr({clusterDetail:this.model,deploymentItem:this.model.getDeploymentItem(),settingsModel:this.settingsModel,$modalContainer:this.$modalContainer,fixedElementsWidth:585}),this.trackForRemoval({sparklinesView:this.sparklinesView})),this.sparklinesView.setElement(this.$(".cluster-detail-sparklines")),this.sparklinesView.render()},_showLiveImportProgress:function(){var e=this,t=this.model.getLiveImport();if(!t.isAcknowledged()&&t.has("status")){0===this.$(".cluster-detail-live-import").length&&this.$(".cluster-detail-content").append(Z()("<div/>").addClass("cluster-detail-live-import"));var n=new Mr({$modalContainer:this.$modalContainer,settingsModel:this.settingsModel,clusterDescription:this.model.getClusterDescription(),model:t,el:this.$(".cluster-detail-live-import"),showShardResyncConfirmation:function(t,n,r){e._showLiveImportResyncConfirmation(t,n,r,".resync-live-import-modal")}}).render();this.trackForRemoval({liveImportProgressView:n})}},_tryToShowClusterWarnings:function(){var e=this,t=this.model.getClusterDescription(),n=t.isGeoShardedCluster()&&!t.hasGeoShardedCollections(),r=$.a.getGroupStatus(t.getGroupId()),o="MMS.GeoShardingAlert.".concat(t.getUniqueId()),i="true"===window.localStorage.getItem(o),a=n&&t.isIdle()&&!i,s="MMS.AtlasMongoDBUpgrade.".concat(t.getMongoDBMajorVersion(),".").concat(t.getUniqueId()),l="true"===window.localStorage.getItem(s),c=r.isDeprecatedMongoDBVersion(t.getMongoDBMajorVersion())&&t.isIdle()&&!l,u=function(){e.$(".cluster-detail-content").removeClass("cluster-detail-content-with-alert")};if(a){var d="None of the collections in ".concat(t.getName()," are configured for Global Writes."),p=this.loadSampleDatasetStatus&&!Object(Bt.c)(this.loadSampleDatasetStatus),f="banner-is-on-card banner-has-overflow-wrap ".concat(p?"banner-is-second-on-card":""),h=new Fr({mainText:d,subText:"Get started in Data Explorer by clicking the Collections button.",dismissKey:o,el:this.$(".js-cluster-alert"),onDismiss:u,alertModifier:f});h.tryToRender(),this.$(".cluster-detail-content").addClass("cluster-detail-content-with-alert"),this.trackForRemoval({clusterAlert:h})}else if(c){var m="MongoDB version ".concat(t.getMongoDBMajorVersion()," is deprecated in Atlas."),g=this.loadSampleDatasetStatus&&!Object(Bt.c)(this.loadSampleDatasetStatus),b="banner-is-on-card banner-has-overflow-wrap ".concat(g?"banner-is-second-on-card":""),v=new Fr({mainText:m,subText:"This cluster will automatically be upgraded soon.",dismissKey:s,el:this.$(".js-cluster-alert"),onDismiss:u,alertModifier:b});v.tryToRender(),this.$(".cluster-detail-content").addClass("cluster-detail-content-with-alert"),this.trackForRemoval({clusterAlert:v})}else this.loadSampleDatasetStatus&&!Object(Bt.c)(this.loadSampleDatasetStatus)?this.$(".cluster-detail-content").addClass("cluster-detail-content-with-alert"):(u(),this.$(".js-cluster-alert").attr("hidden",!0))},_renderIfItemDiscovered:function(){var e=this.model.previous("deploymentItem"),t=this.model.getDeploymentItem();e||!t||this.isDestroyed()||this.render()},_updateClusterStateClass:function(){var e=this,t=Ce;Object.keys(t).forEach((function(n){e.$(".cluster-detail").removeClass(t[n])}));var n=we(this.model.getClusterDescription(),this.model.getDeploymentItem());this.$(".cluster-detail").addClass(n)}}),Zr=n(1950),$r=n.n(Zr),Xr=n(1951),Jr=n.n(Xr),Qr=d.View.extend({getTemplate:function(){return this.allClusterDetailItems.length?$r.a:Jr.a},templateContext:function(){return{helpers:{siteName:this.settingsModel.get("SITE_NAME"),href:"#clusters/pathSelector",isGroupOwner:Object(g.a)(this.settingsModel),buttonClass:"button-is-primary js-build-cluster"},isPrivateIPMode:this.isPrivateIPMode,crossCloudReplicationEnabled:this.settingsModel.hasProjectFeature("ATLAS_CROSS_CLOUD_REPLICATION")}},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.allClusterDetailItems=e.allClusterDetailItems,this.settingsModel=e.settingsModel,this.isPrivateIPMode=e.isPrivateIPMode},events:function(){return{"click .js-build-cluster":"onClickBuildCluster","click .js-build-default-cc-cluster":"onClickBuildDefaultCrossCloudCluster"}},onClickBuildDefaultCrossCloudCluster:function(){U.m.clusterDescriptions.createDefaultCrossCloudCluster(this.settingsModel.getCurrentGroupId())},onClickBuildCluster:function(){var e=Object(W.c)(this.settingsModel.getCurrentOrgId());W.d.track(W.b.UX_ACTION_PERFORMED,{action:"Build a Cluster",context:"clusters"},{integrations:e})}}),eo=d.CollectionView.extend({emptyView:Qr,emptyViewOptions:function(){return{allClusterDetailItems:this.allClusterDetailItems,settingsModel:this.settingsModel,isPrivateIPMode:this.isPrivateIPMode}},childView:Kr,childViewOptions:function(e){var t=this.loadSampleDatasetStatusCollection&&Object(Bt.b)(this.loadSampleDatasetStatusCollection,e.getClusterDescription());return{$modalContainer:this.$modalContainer,showClusterDetails:!1,settingsModel:this.settingsModel,whenApplicationsLoaded:this.whenApplicationsLoaded,isFirstOnPage:this.allClusterDetailItems.at(0).getClusterDescription().getUniqueId()===e.getClusterDescription().getUniqueId(),providerOptionsModel:this.providerOptionsModel,isPrivateIPMode:this.isPrivateIPMode,loadSampleDatasetStatus:t,loadSampleDatasetStatusPoller:this.loadSampleDatasetStatusPoller,onlineArchives:this.onlineArchives}},initialize:function(e){var t=e.allClusterDetailItems,n=e.settingsModel,r=e.$modalContainer,o=e.showClusterDetails,i=e.whenApplicationsLoaded,a=e.providerOptionsModel,s=e.isPrivateIPMode,l=e.loadSampleDatasetStatusCollection,c=e.loadSampleDatasetStatusPoller,u=e.onlineArchives;this.allClusterDetailItems=t,this.settingsModel=n,this.$modalContainer=r,this.showClusterDetails=o,this.whenApplicationsLoaded=i,this.providerOptionsModel=a,this.isPrivateIPMode=s,this.loadSampleDatasetStatusCollection=l,this.loadSampleDatasetStatusPoller=c,this.onlineArchives=u,this.listenTo(this.loadSampleDatasetStatusCollection,"add",this.render)}}),to=(n(295),function(e,t){return 1!=+e?t.fn(this):t.inverse(this)}),no=n(1952),ro=n.n(no),oo=d.View.extend({template:ro.a,initialize:function(e){var t=e.clusterDetailCollection,n=e.filteredClusterDetailCollection;this.clusterDetailCollection=t,this.filteredClusterDetailCollection=n,this.listenTo(this.clusterDetailCollection,"add",this._filterOnChange),this.listenTo(this.clusterDetailCollection,"remove",this._filterOnChange)},events:function(){var e=this;return{'keyup [name="nameFilter"]':J.a.debounce((function(){return e._filterByName()}),oo.DEBOUNCE_MS),'change [name="nameFilter"]':J.a.debounce((function(){return e._filterByName()}),oo.DEBOUNCE_MS),"reset .section-controls-search-form":function(){return setTimeout((function(){return e._filterByName()}),0)}}},templateContext:function(){return{searchName:this.searchName,helpers:{plural:to}}},_filterOnChange:function(){this._filterByName(),this.render()},_filterByName:function(){this.searchName=this.$('[name="nameFilter"]').val();var e=this.searchName.toLowerCase(),t=this.clusterDetailCollection.filter((function(t){return t.get("clusterDescription").get("name").toLowerCase().indexOf(e)>=0}));this.$('.section-controls-search-form [type="reset"]').attr("hidden",!e),this.filteredClusterDetailCollection.set(t)}},{DEBOUNCE_MS:100}),io=oo,ao=n(1306),so=n(304),lo=n.n(so),co=n(26);function uo(e){var t=e.numAffectedClusters,n=void 0===t?0:t;return n>0&&Object(z.jsx)("div",{className:"encryption-at-rest-invalid-banner-wrapper"},Object(z.jsx)(M.a,{level:"danger"},Object(z.jsx)("div",{className:"encryption-at-rest-invalid-banner-content"},Object(z.jsx)(lo.a,{glyph:"Warning",fill:co.uiColors.red.base}),Object(z.jsx)("div",{className:"encryption-at-rest-invalid-banner-description"},"Encryption At Rest settings are no longer valid. All MongoDB processes that have not already been stopped will be stopped imminently. There ","".concat(n>1?"are":"is")," ",n," ","cluster","".concat(n>1?"s":"")," affected."))))}uo.propTypes={numAffectedClusters:k.a.number.isRequired};var po=Object(p.connectBackboneToReact)((function(e){return{numAffectedClusters:e.clusterDetailCollection.getInvalidEncryptionAtRestClusterDescriptions().length}}))(uo),fo=n(1075),ho=Object(v.a)(d.View)(y.a,Object(fo.a)(".js-modal-container"),f.a).extend({template:n(/*! ./clusterList.hbs */1953),initialize:function(e){var t=this,n=e.settingsModel,r=e.clusterDetailPoller,o=e.liveImports,i=e.whenApplicationsLoaded,a=e.providerOptionsModel,s=e.isPrivateIPMode,l=e.isOrgConnectedToMlabAccount,c=e.mlabDeploymentMigrations,u=e.loadSampleDatasetStatusCollection,d=e.loadSampleDatasetStatusPoller,f=e.encryptionAtRest,h=e.onlineArchives;this.filteredClusterDetailCollection=this.collection.clone(),this.clusterDetailPoller=r,this.settingsModel=n,this.whenApplicationsLoaded=i,this.providerOptionsModel=a,this.isPrivateIPMode=s,this.isOrgConnectedToMlabAccount=l,this.mlabDeploymentMigrations=c,this.loadSampleDatasetStatusCollection=u,this.loadSampleDatasetStatusPoller=d,this.onlineArchives=h,this.collection.listenTo(o,"sync",(function(){t.collection.updateWithLiveImports(o)})),this.collection.listenTo(f,"sync",(function(){t.collection.updateWithEncryptionAtRest(f)})),this.registerReactComponent(Object(z.jsx)(p.BackboneProvider,{models:{settings:this.settingsModel}},Object(z.jsx)(ao.b,null)),".js-maintenance-window-region"),this.registerReactComponent(Object(z.jsx)(p.BackboneProvider,{models:{clusterDetailCollection:this.collection}},Object(z.jsx)(po,null)),".js-invalid-encryption-at-rest-clusters"),this.listenTo(this.collection,"update",this._updateSubviews)},serializeData:function(){return{clusterId:this.collection.length&&this.collection.first().getClusterDescription().id}},onRender:function(){this.clusterDetailPoller.start(),this._showClustersHeader(),this._showClusterListControls(),this._showClusterDetailCollectionView(),this._tryToShowClusterWarnings(),this.loadSampleDatasetStatusCollection.any((function(e){return"WORKING"===e.get("state")}))&&this.loadSampleDatasetStatusPoller.start(Bt.d)},onDestroy:function(){this.clusterDetailPoller.stop(),this.loadSampleDatasetStatusPoller.stop()},_updateSubviews:function(){this._tryToShowClusterWarnings()},_showClustersHeader:function(){this.clustersHeader=new Y({collection:this.collection,settingsModel:this.settingsModel,isOrgConnectedToMlabAccount:this.isOrgConnectedToMlabAccount,mlabDeploymentMigrations:this.mlabDeploymentMigrations,$modalContainer:this.$(".js-modal-container")}).render(),this.trackForRemoval({clustersHeader:this.clustersHeader}),this.$el.prepend(this.clustersHeader.el)},_showClusterDetailCollectionView:function(){var e=new eo({collection:this.filteredClusterDetailCollection,allClusterDetailItems:this.collection,settingsModel:this.settingsModel,$modalContainer:this.$(".js-modal-container"),el:this.$(".section-content"),whenApplicationsLoaded:this.whenApplicationsLoaded,providerOptionsModel:this.providerOptionsModel,isPrivateIPMode:this.isPrivateIPMode,loadSampleDatasetStatusCollection:this.loadSampleDatasetStatusCollection,loadSampleDatasetStatusPoller:this.loadSampleDatasetStatusPoller,onlineArchives:this.onlineArchives}).render();this.trackForRemoval({clusterDetailCollectionView:e})},_tryToShowClusterWarnings:function(){var e=this.collection.getClusterDescriptions();if(e){var t=e.filter((function(e){return e.isGeoShardedCluster()&&!e.hasGeoShardedCollections()&&e.isIdle()})),n=t.length;if(n>0&&n!==e.length){var r="".concat(n," of your clusters with Global Writes have not been fully configured."),o="View next steps by clicking each cluster's Collections button";if(1===n){var i=t[0].getName();r="None of the collections in ".concat(i," are configured for Global Writes."),o="Get started in Data Explorer by clicking the Collections button."}var a=new Fr({mainText:r,subText:o,dismissKey:"MMS.GeoShardingAlert.".concat(se.a()),el:this.$(".js-project-cluster-alert")});a.tryToRender(),this.trackForRemoval({clusterAlert:a})}else this.$(".js-project-cluster-alert").attr("hidden",!0)}else this.$(".js-project-cluster-alert").attr("hidden",!0)},_showClusterListControls:function(){var e=new io({clusterDetailCollection:this.collection,filteredClusterDetailCollection:this.filteredClusterDetailCollection,el:this.$(".section-controls")}).render();this.trackForRemoval({clusterListControls:e})},_onPressBannerButton:function(){he.registerClick(he.AREA.CALLOUT)},_onPressSearchCTA:function(){var e=this.settingsModel.get("ORG_ID");W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Clusters Page",action:"Clicked Search Banner CTA"},{integrations:Object(W.c)(e)}),this._onPressBannerButton()},_onDismissBanner:function(){he.registerClick(he.AREA.CALLOUT)},_dimBannerButton:function(){return!he.isPrimaryCTA(he.AREA.CALLOUT)}}),mo=n(1954),go=n.n(mo),bo=n(1955),vo=n.n(bo),yo=n(1956),Oo=n.n(yo),xo=n(1957),jo=n.n(xo),Eo={AWS:go.a,AZURE:vo.a,GCP:Oo.a,FREE:jo.a},So=Object(v.a)(d.View)(y.a,Ft,Object(Ie.a)(),De.a,f.a).extend({getTemplate:function(){var e=this.model.getClusterDescription().getProvider();return Eo[e]},serializeData:function(){var e=this.model.getClusterDescription(),t=e.hasAnyBackupEnabled();return J.a.extend({},e.attributes,{hasAnyBackupEnabled:t,isShardedCluster:e.isShardedCluster(),clusterId:e.id,isDeleting:e.isDeleting(),openAlertSummaries:Re(this.model.getOpenAlerts()),isExpiring:e.isExpiring(),timeRemaining:e.getRemainingLifetime(),isFree:e.isFree(),totalNodes:e.getTotalNodes(),numShards:e.getNumShards(),partials:{openAlertSummaries:n(/*! ./openAlertSummaries.hbs */1304),ndsStateIcon:n(/*! ./ndsStateIcon.hbs */1305),mainClusterInfo:n(/*! ./mainClusterInfo.hbs */1958),clusterReapingStatus:n(/*! ./clusterReapingStatus.hbs */1552),clusterOptionsMenu:n(/*! ./clusterOptionsMenu.hbs */1553)}})},initialize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$modalContainer=t.$modalContainer,this.settingsModel=t.settingsModel,this.orgId=this.settingsModel.get("ORG_ID"),this.clusterOptionsMenu=new je({buttonOptionNames:["connect","editConfiguration"],excludeOptionNames:["commandLineTools","dataExplorer","metrics"],model:this.model,placement:"left",settingsModel:this.settingsModel,providerOptionsModel:t.providerOptionsModel,loadSampleDatasetStatus:t.loadSampleDatasetStatus,isPrivateIPMode:t.isPrivateIPMode}),this.trackForRemoval({clusterOptionsMenu:this.clusterOptionsMenu}),this.onInitialRender.then((function(){e.listenTo(e.model,"change:deploymentItem",e.render),e.listenTo(e.model.getClusterDescription(),"change",e.render),e.listenTo(e.model.getOpenAlerts(),"add remove",e.render),e.listenTo(e.model,"change:liveImport",e.render),e.listenTo(e.model.getClusterDescription(),"change:state",(function(t,n){"CREATING"===t.previousAttributes().state&&"IDLE"===n&&W.d.track(W.b.CLUSTER_PROVISIONED,{},{integrations:Object(W.c)(e.orgId)})}))}))},onRender:function(){this.clusterOptionsMenu.render(),this.$(".js-options-menu").html(this.clusterOptionsMenu.el)}}),Co=n(932);function _o(e,t,n,r){return o=Ao(e.getGroupId(),t.getTotalNodes(),n,r,e.isMonitoringPaused()),i={},o.filter((function(e){return!e.isHidden})).forEach((function(e){var t=e.region?e.region.getKey():"",n=i[t];n||(n={name:e.region&&e.region.getDisplayText(),members:[],priority:e.regionPriority||0},i[t]=n),n.members.push(e)})),function(e){return Object.keys(e).sort((function(t,n){return e[n].priority-e[t].priority})).map((function(t){return e[t]}))}(i);var o,i}function Ao(e,t,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=[],a=r?r.getProcesses():[],s=Math.max(a.length,t),l=0;l<s;l++){var c={name:"node".concat(l),isDeploying:!0},u=!1,d=!1,p=!1;if(a.length){var f=a.at(l);if(f){var h=n&&n.getHost(f.getHostname());if(null==h)c.name=f.getDisplayName();else{var m=tr.r(f.getVersion());c.name="".concat(Object(Co.d)(h.getHostnames(),m),":").concat(f.getArgs().getPort())}c.metricsUrl=e===se.a()?f.getMetricsUrl():"/v2/".concat(e).concat(f.getMetricsUrl()),c.isDeploying=!f.hasReceivedPing(),c.isDegraded=Ae(f),c.isUnavailable=Ne(f),c.isHidden=f.isHidden(),c.isMonitoringPaused=o;var g=f.getState();g&&(c.replicaState=g.getReplicaState(),u=g.isPrimaryOrSecondary()),h&&(c.region=h.getRegion(),c.regionPriority=h.getRegionPriority(),c.replicationSpecId=h.getReplicationSpecId(),d=h.isReadOnly(),p=h.isAnalytics()),u&&(d&&(c.replicaState="READ-ONLY"),p&&(c.replicaState="ANALYTICS"))}}i.push(c)}return i}var No=d.View.extend({template:n(/*! ./clusterChildList.hbs */1554),serializeData:function(){var e=this.model.getClusterDescription(),t=this.deploymentItem,n=this.clusterInstances;return{childList:_o(e,this.replicationSpec,n,t)}},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.deploymentItem=e.deploymentItem,this.clusterInstances=e.clusterInstances,this.replicationSpec=e.replicationSpec,this.listenTo(this.model,"change:deploymentItem",this.render),this.listenTo(this.model,"change:clusterInstances",this.render),this.listenTo(this.model.getClusterDescription(),"change",this.render)}}),To=Object(v.a)(d.CollectionView)(De.a).extend({childView:Object(v.a)(d.View)(y.a).extend({template:n(/*! ./shardDetailsView.hbs */1959),initialize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.settingsModel=t.settingsModel,this.clusterDetail=t.clusterDetail,this.$modalContainer=t.$modalContainer,this.clusterDescription=this.clusterDetail.getClusterDescription();var n=this.model.getProcesses().map((function(t){var n=e.clusterDetail.getClusterInstances().getHost(t.getHostname());if(n)return n.getZoneName()})).find((function(e){return!!e}));this.replicationSpec=this.clusterDescription.getReplicationSpecByZoneName(n)},serializeData:function(){return{name:this.model.get("name"),metricsUrl:this.model.getMetricsUrl(),state:Te(this.clusterDescription,this.model),replicationFactor:this.replicationSpec.getTotalNodes(),isGeoSharded:this.clusterDescription.isGeoShardedCluster(),zoneName:this.replicationSpec.getZoneName(),openAlertSummaries:Re(this.clusterDetail.getOpenAlerts()),partials:{openAlertSummaries:n(/*! ./openAlertSummaries.hbs */1304),ndsStateIcon:n(/*! ./ndsStateIcon.hbs */1305)}}},onRender:function(){this._showClusterChildList(),this._showSparklines()},_showClusterChildList:function(){var e=new No({model:this.clusterDetail,replicationSpec:this.replicationSpec,deploymentItem:this.model,clusterInstances:this.clusterDetail.getClusterInstances(),el:this.$(".cluster-child-list")});this.trackForRemoval({childList:e}),e.render()},_showSparklines:function(){var e=new lr({clusterDetail:this.clusterDetail,deploymentItem:this.model,settingsModel:this.settingsModel,$modalContainer:this.$modalContainer,fixedElementsWidth:615,el:this.$(".cluster-detail-sparklines")});this.trackForRemoval({sparklinesView:e}),e.render()}}),childViewOptions:function(){return{settingsModel:this.settingsModel,clusterDetail:this.model,$modalContainer:this.$modalContainer}},_sortModelsByName:function(){this.model.getDeploymentItem().getShards().comparator=function(e,t){var n=e.attributes.name.toLowerCase(),r=t.attributes.name.toLowerCase();return n<r?-1:n>r?1:0},this.model.getDeploymentItem().getShards().sort()},updateCollectionWithClusterDetail:function(){var e=this.model.getDeploymentItem().getShards(),t=this.model.getClusterInstances().map((function(e){return e.get("hostnames")})).reduce((function(e,t){return e.concat(t)}),[]),n=e.filter((function(e){return e.getProcesses().map((function(e){return e.get("hostname")})).some((function(e){return t.some((function(t){return t.hostname===e}))}))}));this.collection.length!=n.length&&this.collection.set(n)},initialize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.settingsModel=t.settingsModel,this.$modalContainer=t.$modalContainer,this._sortModelsByName(),this.collection=new a.a.Collection,this.onInitialRender.then((function(){e.listenTo(e.model.getClusterInstances(),"sync",e.updateCollectionWithClusterDetail)})),this.updateCollectionWithClusterDetail()}}),wo=Object(v.a)(d.View)(y.a).extend({template:n(/*! ./clusterDetailsView.hbs */1960),initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.settingsModel=e.settingsModel,this.$modalContainer=e.$modalContainer,this.replicationSpec=this.model.getClusterDescription().getReplicationSpec()},serializeData:function(){var e=this.model.getClusterDescription(),t=this.model.getDeploymentItem(),r=this.model.getClusterInstances();return{childList:_o(e,this.replicationSpec,r,t),partials:{clusterChildList:n(/*! ./clusterChildList.hbs */1554)}}},onRender:function(){this._showSparklines(),this._showClusterChildList()},_showClusterChildList:function(){var e=new No({model:this.model,deploymentItem:this.model.getDeploymentItem(),replicationSpec:this.replicationSpec,clusterInstances:this.model.getClusterInstances(),el:this.$(".cluster-child-list")});this.trackForRemoval({childList:e}),e.render()},_showSparklines:function(){var e=new lr({clusterDetail:this.model,deploymentItem:this.model.getDeploymentItem(),settingsModel:this.settingsModel,$modalContainer:this.$modalContainer,fixedElementsWidth:615,el:this.$(".cluster-detail-sparklines")});this.trackForRemoval({sparklinesView:e}),e.render()}}),Po=n(30),Ro=n.n(Po),Io=n(1033);var Do=Ro()("a",{target:"e13ynhxn0"})({name:"4g6ai3",styles:"cursor:pointer;"}),ko={OVERVIEW:"OVERVIEW",REAL_TIME:"REAL_TIME",METRICS:"METRICS",COLLECTIONS:"COLLECTIONS",PROFILER:"PROFILER",PERFORMANCE_ADVISOR:"PERFORMANCE_ADVISOR",BACKUP:"BACKUP",ONLINE_ARCHIVE:"ONLINE_ARCHIVE",COMMAND_LINE_TOOLS:"COMMAND_LINE_TOOLS"};function Mo(e){var t=e.activeTab,n=e.clusterName,r=e.metricsRoute,o=e.metricsUrl,i=e.showBackupTab,s=e.showDataExplorerTab,l=e.showMetricsTab,c=e.showProfilerTab,u=e.showPerformanceAdvisorTab,d=e.showRealTimeTab,p=e.showOnlineArchiveTab,f=e.commandLineToolsUrl,h=e.orgId,m="".concat(r,"/explorer"),g="".concat(r,"/realtime/panel"),b="".concat(r,"/profiler"),v="".concat(r,"/advisor"),y=Object(z.jsx)(Do,{onClick:function(){W.d.track(W.b.VIEWED_ONLINE_ARCHIVE,{context:"Online Archive",action:'Clicked "Online Archive"'},{integrations:Object(W.c)(h)}),a.a.history.navigate("#clusters/onlineArchive/".concat(n),{trigger:!0})},className:"section-header-tab-link"},"Online Archive ",Object(z.jsx)("sup",null,"BETA"));return Object(z.jsx)(Io.a,null,Object(z.jsx)(Io.a.Tab,{active:t===ko.OVERVIEW,href:"#clusters/detail/".concat(n),linkText:"Overview"}),d&&Object(z.jsx)(Io.a.Tab,{active:t===ko.REAL_TIME,href:g,linkText:"Real Time"}),l&&Object(z.jsx)(Io.a.Tab,{active:t===ko.METRICS,href:o,linkText:"Metrics"}),s&&Object(z.jsx)(Io.a.Tab,{active:t===ko.COLLECTIONS,href:m,linkText:"Collections"}),c&&Object(z.jsx)(Io.a.Tab,{active:t===ko.PROFILER,href:b,linkText:"Profiler"}),u&&Object(z.jsx)(Io.a.Tab,{active:t===ko.PERFORMANCE_ADVISOR,href:v,linkText:"Performance Advisor"}),i&&Object(z.jsx)(Io.a.Tab,{active:t===ko.BACKUP,href:"#clusters/backup/".concat(n),linkText:"Backup"}),p&&Object(z.jsx)(Io.a.Tab,{active:t===ko.ONLINE_ARCHIVE},y),Object(z.jsx)(Io.a.Tab,{active:t===ko.COMMAND_LINE_TOOLS,href:f,linkText:"Command Line Tools"}))}Mo.propTypes={activeTab:k.a.string,orgId:k.a.string.isRequired,clusterName:k.a.string.isRequired,metricsRoute:k.a.string,metricsUrl:k.a.string,showBackupTab:k.a.bool,showDataExplorerTab:k.a.bool,showMetricsTab:k.a.bool,showProfilerTab:k.a.bool,showPerformanceAdvisorTab:k.a.bool,showRealTimeTab:k.a.bool,showOnlineArchiveTab:k.a.bool,commandLineToolsUrl:k.a.string.isRequired},Mo.defaultProps={activeTab:null,metricsRoute:"",metricsUrl:"",showBackupTab:!1,showDataExplorerTab:!1,showMetricsTab:!0,showProfilerTab:!1,showPerformanceAdvisorTab:!1,showRealTimeTab:!1,showOnlineArchiveTab:!1};var Lo={modelTypes:{clusterDescriptionModel:Je.a,settingsModel:re.a}};Mo.Tabs=ko;var Uo=Object(p.connectBackboneToReact)((function(e){var t=e.clusterDescriptionModel,n=e.deploymentItem,r=e.settingsModel,o=r.canUseRealTimePerformancePanel(),i=r.isNDSPlan(),a=r.hasProjectFeature("PROFILER_NDS")&&r.hasProjectFeature("PERFORMANCE_ADVISOR")||!i,s=r.isPerformanceAdvisorExposed(),l=r.isRealTimePerformancePanelExposed(),c=t.isShardedCluster(),u=t.get("diskBackupEnabled"),d=!!t.get("tenantBackupEnabled"),p=r.isNdsGovEnabled();return{orgId:r.getCurrentOrgId(),clusterName:t.getName(),showMetricsTab:!!n,metricsRoute:n&&n.getRootMetricsRoute(),metricsUrl:n&&n.getMetricsUrl(),showBackupTab:u||d,showDataExplorerTab:r.isDataExplorerExposed(),showPerformanceAdvisorTab:!c&&s,showProfilerTab:!c&&a,showRealTimeTab:o&&l&&!c,showOnlineArchiveTab:!p,commandLineToolsUrl:t.getCommandLineToolsUrl()}}),Lo)(Mo),Fo=n(894),Bo=n(912);function zo(e){var t=e.label,n=e.value;return Object(z.jsx)("dl",{className:"section-header-weighted-row-group"},Object(z.jsx)("dt",{className:"section-header-weighted-row-group-label"},t),Object(z.jsx)("dd",{className:"section-header-weighted-row-group-value-small"},n))}zo.propTypes={label:k.a.string.isRequired,value:k.a.string.isRequired};var Vo=zo,qo=n(345),Go={AWS:"AWS",AZURE:"AZURE",GCP:"GCP",FREE:"FREE"};function Ho(e){var t=e.provider,n=e.version,r=e.isMultiRegion,o=e.region,i=e.isGeoSharded,a=e.numZones,s=e.instanceSizeDisplay,l=e.encryptedStorage,c="Region",u=o;return i?(c="Zone",u=a>1?"".concat(a," Zones"):o):r&&(c="Preferred Region"),Object(z.jsx)("div",{className:"section-header-weighted-row-cluster-description-header-info"},Object(z.jsx)(Vo,{label:"Version",value:n}),Object(z.jsx)(Vo,{label:c,value:u}),Object(z.jsx)(Vo,{label:"Cluster Tier",value:s}),t!==Go.FREE&&Object(z.jsx)(Vo,{label:"Encrypted Storage",value:String(l)}))}Ho.propTypes={provider:k.a.string.isRequired,version:k.a.string.isRequired,isMultiRegion:k.a.bool,region:k.a.string,isGeoSharded:k.a.bool,numZones:k.a.number,instanceSizeDisplay:k.a.string.isRequired,encryptedStorage:k.a.bool},Ho.defaultProps={isMultiRegion:!1,region:null,isGeoSharded:!1,numZones:0,encryptedStorage:!1};var Wo={modelTypes:{clusterDescriptionModel:Je.a,providerOptionsModel:qo.a}};Ho.CloudProviders=Go;var Yo=Object(p.connectBackboneToReact)((function(e){var t,n=e.clusterDescriptionModel,r=e.providerOptionsModel,o=n.getPreferredRegion(),i=n.getProvider(),a=n.getInstanceSize(),s=r.get(i).get("instanceSizes")[a],l=oe.k(a,s.isLowCPU,s.isNVMe);return t=i===Ho.CloudProviders.AZURE||i===Ho.CloudProviders.GCP||n.get("encryptEBSVolume"),{provider:i,version:n.get("mongoDBVersion"),isMultiRegion:n.getRegions().length>1,region:n.getRegionReadableNoProvider(o),isGeoSharded:n.isGeoShardedCluster(),numZones:n.getNumZones(),instanceSizeDisplay:l,encryptedStorage:t}}),Wo)(Ho);var Ko={name:"x4dmss",styles:"justify-content:space-between;"};function Zo(e){var t=e.clusterDescription,n=e.deploymentItem,r=e.clusterId,o=e.settingsModel,i=e.activeTab,a=e.providerOptionsModel;return Object(z.jsx)("header",{className:"section-header section-header-has-tabs"},Object(z.jsx)(Fo.a,{models:{settingsModel:o},items:[{href:"#clusters",text:"Clusters"}]}),Object(z.jsx)("div",{className:"section-header-weighted-row",css:Ko},Object(z.jsx)(Bo.a,{headlineText:r}),Object(z.jsx)(Yo,{models:{clusterDescriptionModel:t,providerOptionsModel:a}})),Object(z.jsx)(Uo,{activeTab:i,models:{clusterDescriptionModel:t,deploymentItem:n,settingsModel:o}}))}Zo.propTypes={clusterDescription:k.a.instanceOf(Je.a).isRequired,deploymentItem:k.a.oneOfType([k.a.instanceOf(bn.a),k.a.instanceOf(Se.a)]),clusterId:k.a.string.isRequired,settingsModel:k.a.instanceOf(re.a).isRequired,activeTab:k.a.string.isRequired,providerOptionsModel:k.a.instanceOf(qo.a).isRequired},Zo.defaultProps={deploymentItem:null};var $o=Zo,Xo=n(1972),Jo=n.n(Xo),Qo=Object(v.a)(d.View)(f.a,y.a,De.a,Vr,Object(fo.a)(".js-modal-container")).extend({template:Jo.a,templateContext:function(){return{stateClass:we(this.model.getClusterDescription(),this.model.getDeploymentItem())}},initialize:function(e){var t=this,n=e.settingsModel,r=e.clusterDetailPoller,o=e.liveImports,i=e.whenApplicationsLoaded,a=e.providerOptionsModel,s=e.isPrivateIPMode,l=e.loadSampleDatasetStatusCollection,c=e.loadSampleDatasetStatusPoller;this.settingsModel=n,this.providerOptionsModel=a;var u=this.model.getClusterDescription();this.registerReactComponent(Object(z.jsx)($o,{clusterDescription:u,deploymentItem:this.model.getDeploymentItem(),clusterId:u.getName(),settingsModel:this.settingsModel,activeTab:Uo.Tabs.OVERVIEW,providerOptionsModel:this.providerOptionsModel}),".js-react-page-header"),this.loadSampleDatasetStatusPoller=c,this.loadSampleDatasetStatusCollection=l,this.isPrivateIPMode=s,this.listenTo(this.model.getClusterDescription(),"change:state",this._updateSpinnerVisibility),this.listenTo(o,"sync",(function(){t.model.updateWithLiveImport(o)})),this.onInitialRender.then((function(){t.listenTo(t.model,"change:liveImport",t._showLiveImportProgress),t.listenTo(t.loadSampleDatasetStatus,"change",t._loadSampleDatasetStatusAlert),t.listenTo(t.loadSampleDatasetStatusCollection,"add",t.render)})),this.clusterDetailPoller=r,this.whenApplicationsLoaded=i},onRender:function(){this.clusterDetailPoller.start(),this._showClusterDetailHeader(),this.model.getClusterDescription().isShardedCluster()&&this.model.getDeploymentItem()?this._showShardDetails():this._showClusterDetails(),this.loadSampleDatasetStatus=Object(Bt.b)(this.loadSampleDatasetStatusCollection,this.model.getClusterDescription()),this.loadSampleDatasetStatus&&!Object(Bt.c)(this.loadSampleDatasetStatus)&&(this._loadSampleDatasetStatusAlert(),"WORKING"===this.loadSampleDatasetStatus.get("state")?this.loadSampleDatasetStatusPoller.start(Bt.d):this.loadSampleDatasetStatusPoller.stop()),this._showLiveImportProgress(),this.$(".section-header-tab").first().addClass("section-header-tab-is-left"),this.$(".section-header-tab").last().addClass("section-header-tab-is-right")},onDestroy:function(){this.clusterDetailPoller.stop(),this.loadSampleDatasetStatusPoller.stop()},_shouldShowSpinner:function(){var e=this.model.getClusterDescription();return e.isUpdating()||e.isCreating()},_updateSpinnerVisibility:function(){this.$(".loading-spinner").attr("hidden",!this._shouldShowSpinner())},_loadSampleDatasetStatusAlert:function(){this.loadSampleDatasetStatus&&!this.model.getClusterDescription().isPaused()&&(this.deregisterReactComponent(".js-loading-status"),this.registerReactComponent(Object(z.jsx)(p.BackboneProvider,{models:{loadSampleDatasetStatus:this.loadSampleDatasetStatus}},Object(z.jsx)(Wr,null)),".js-loading-status"))},_showClusterDetailHeader:function(){var e=new So({model:this.model,settingsModel:this.settingsModel,$modalContainer:this.$(".js-modal-container"),el:this.$(".cluster-detail-header"),whenApplicationsLoaded:this.whenApplicationsLoaded,analyticsCategory:"Atlas Cluster Detail Page",providerOptionsModel:this.providerOptionsModel,isPrivateIPMode:this.isPrivateIPMode,loadSampleDatasetStatus:this.loadSampleDatasetStatus,loadSampleDatasetStatusPoller:this.loadSampleDatasetStatusPoller}).render();this.trackForRemoval({headerView:e})},_showLiveImportProgress:function(){var e=this,t=this.model.getLiveImport();if(!t.isAcknowledged()&&t.has("status")){var n=new Mr({$modalContainer:this.$(".js-modal-container"),settingsModel:this.settingsModel,clusterDescription:this.model.getClusterDescription(),model:t,renderForClusterDetailPage:!0,showShardResyncConfirmation:function(t,n,r){e._showLiveImportResyncConfirmation(t,n,r,".resync-live-import-modal")}}).render(),r=this.$(".js-loading-status");0==r.children().length?r.append(n.$el):this.$(".js-loading-status div").replaceWith(n.$el),this.trackForRemoval({liveImportProgressView:n})}},_showShardDetails:function(){this.$(".cluster-detail").addClass("cluster-detail-is-expanded");var e=new To({model:this.model,settingsModel:this.settingsModel,$modalContainer:this.$(".js-modal-container"),el:this.$(".cluster-detail-details")}).render();this.trackForRemoval({detailsView:e})},_showClusterDetails:function(){var e=new wo({model:this.model,settingsModel:this.settingsModel,showClusterDetails:this.showClusterDetails,$modalContainer:this.$(".js-modal-container"),el:this.$(".cluster-detail-details")}).render();this.trackForRemoval({detailsView:e})}}),ei=n(1308),ti=n(240),ni=a.a.Model.extend({idAttribute:"_id"}),ri=a.a.Collection.extend({model:ni,initialize:function(e){this.settingsModel=e.settingsModel},url:function(){return"/nds/sampleDatasetLoad/".concat(this.settingsModel.getCurrentGroupId())}}),oi=n(1548),ii=n(982),ai=n(1022),si=n(938),li=n(1080),ci=n(1162),ui=n(332),di=n(893),pi=n(905),fi=n(46),hi=n(126),mi=n(978),gi=n(1226),bi=n(899),vi={starterClusterOptions:[{mark:"fa-check",text:"Highly available auto-healing cluster"},{mark:"fa-check",text:"End-to-end encryption"},{mark:"fa-check",text:"Role-based access control"}],singleRegionClusterOptions:[{mark:"fa-check",text:"Includes all features from Shared Clusters"},{mark:"fa-check",text:"Auto-scaling"},{mark:"fa-check",text:"Network isolation"},{mark:"fa-check",text:"Realtime performance metrics"}],multiRegionClusterOptions:[{mark:"fa-check",text:"Includes all features from Shared and Dedicated Clusters"},{mark:"fa-check",text:"Replicate data across multiple regions"},{mark:"fa-check",text:"Globally distributed read and write operations"},{mark:"fa-check",text:"Control data residency at the document level"}]},yi={starter:{isInstanceSizeVisible:function(e){return["M0","M2","M5"].includes(e.name)},isRegionVisible:function(e,t,n){var r=t.FREE.instanceSizes;return Object.keys(r).flatMap((function(e){return r[e].availableRegions})).filter((function(e){return e.providerName===n})).map((function(e){return e.regionName})).includes(e.key)},isGlobalConfigurationVisible:!1,isMultiRegionConfigurationVisible:!1,isVersionSelectionVisible:function(e){return e.filter((function(e){return!e.deprecated})).length>1},advancedOptions:{shardingVisible:!1,otherOptionsVisible:!1},providerTemplateKey:"m0",fromPathSelector:!0},single:{isInstanceSizeVisible:function(e){return!["M0","M2","M5"].includes(e.name)},isRegionVisible:function(){return!0},isGlobalConfigurationVisible:!1,isMultiRegionConfigurationVisible:!1,isVersionSelectionVisible:function(){return!0},advancedOptions:{shardingVisible:!0,otherOptionsVisible:!1},providerTemplateKey:"replicaSetM10",fromPathSelector:!0},multi:{isInstanceSizeVisible:function(e){return!["M0","M2","M5"].includes(e.name)},isRegionVisible:function(){return!0},isGlobalConfigurationVisible:!0,isMultiRegionConfigurationVisible:!0,isVersionSelectionVisible:function(){return!0},advancedOptions:{shardingVisible:!0,otherOptionsVisible:!0},providerTemplateKey:"crossRegionReplicaSet",fromPathSelector:!0},default:{isInstanceSizeVisible:function(){return!0},isRegionVisible:function(){return!0},isGlobalConfigurationVisible:!0,isMultiRegionConfigurationVisible:!0,isVersionSelectionVisible:function(){return!0},advancedOptions:{shardingVisible:!0,otherOptionsVisible:!0},providerTemplateKey:"replicaSet",fromPathSelector:!0}},Oi={starterClusterPath:{title:"Shared Clusters",description:"For teams learning MongoDB or developing small applications.",filterKey:"starter",hourlyPrice:"FREE",options:vi.starterClusterOptions,optionListClass:"path-selector-door-option-list-starter",footerClass:"path-selector-door-footer-starter"},singleRegionClusterPath:{title:"Dedicated Clusters",description:"For teams building applications that need advanced development and production-ready environments.",filterKey:"single",hourlyPrice:"$0.08/hr",monthlyPrice:"$56.94/month",options:vi.singleRegionClusterOptions,optionListClass:"path-selector-door-option-list-single",footerClass:"path-selector-door-footer-single",isRecommended:!0},multiRegionClusterPath:{title:"Dedicated Multi-Region Clusters",description:"For teams developing world-class applications that require multi-region resiliency or ultra-low latency.",filterKey:"multi",hourlyPrice:"$0.13/hr",monthlyPrice:"$98.55/month",options:vi.multiRegionClusterOptions,footerClass:"path-selector-door-footer-multi"}};var xi=function(e){if(!e||2!==e.split("=").length)return yi.default;var t=e.split("=")[1];return yi[t]||yi.default},ji=n(307),Ei=n(12);function Si(e){var t=e.clusterDescriptionModel,n=e.clusterName,r=e.deploymentItem,o=e.settingsModel,i=e.isTenant?"M2/M5 Snapshots":"Cloud Backup";return Object(z.jsx)("header",{className:"section-header section-header-has-tabs"},Object(z.jsx)(Fo.b,{items:[{href:"#clusters",text:"Clusters"}]}),Object(z.jsx)("div",{className:"section-header-weighted-row"},Object(z.jsx)(Bo.a,{headlineText:"".concat(n)}),Object(z.jsx)("div",null,Object(z.jsx)(Vo,{label:"Backup Type",value:i}))),Object(z.jsx)(Uo,{activeTab:Uo.Tabs.BACKUP,models:{clusterDescriptionModel:t,deploymentItem:r,settingsModel:o}}))}Si.propTypes={clusterDescriptionModel:k.a.instanceOf(Je.a).isRequired,clusterName:k.a.string.isRequired,deploymentItem:k.a.shape({getMetricsUrl:k.a.func.isRequired,getRootMetricsRoute:k.a.func.isRequired}).isRequired,settingsModel:k.a.instanceOf(re.a).isRequired,isTenant:k.a.bool.isRequired};var Ci=Si;function _i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Ai=function(e){A()(n,e);var t=_i(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{openingEditClusterModal:!1}),I()(C()(e),"enableBackupClicked",(function(){window.location.hash="clusters/edit/".concat(e.props.clusterDescriptionModel.getName())})),e}return E()(n,[{key:"render",value:function(){var e=this.state.openingEditClusterModal;return Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"empty-view empty-view-has-no-border"},Object(z.jsx)("img",{alt:"Disk Backup",className:"empty-view-image empty-view-image-no-padding",src:"/static/images/icon_empty_backup.svg"}),Object(z.jsx)("div",{className:"empty-view-text"},"No Backup Enabled"),Object(z.jsx)("button",{className:"button button-is-primary empty-view-has-margins",disabled:e,name:"enableBackupForCluster",onClick:this.enableBackupClicked},"Enable Backup")))}}]),n}(l.a.Component);Ai.propTypes={clusterDescriptionModel:k.a.instanceOf(Je.a).isRequired};var Ni=Ai,Ti=n(890),wi=n(969),Pi=n(119);function Ri(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Ii=function(e){A()(n,e);var t=Ri(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{errorMessage:""}),I()(C()(e),"handleCancelDownload",(function(){var t=e.props,n=t.groupId,r=t.clusterUniqueId,o=t.restoreJobId,i=t.closeModal,a=t.loadHistory;U.m.backup.cancelDownload(n,o).then((function(){a(n,r),i()})).catch((function(t){e.setState({errorMessage:Object(ut.b)(t)})}))})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.closeModal,n=e.settingsModel,r=this.state.errorMessage;return Object(z.jsx)(Ze.a,{size:"small",title:"Cancel Download",onClose:t},r&&Object(z.jsx)("div",null,Object(z.jsx)(M.a,{level:"danger"},r)),"As a reminder, you will be ",Object(z.jsx)("strong",null,"billed even if your download is cancelled"),".",Object(z.jsx)("a",{href:"".concat(n.getDocsUrl(),"/billing/"),target:"_blank"}," ","Learn more"),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{name:"quit",onClick:t},"Close")," ",Object(z.jsx)(Xe.a,{name:"cancelDownload",variant:"danger",onClick:this.handleCancelDownload},"Cancel Download")))}}]),n}(l.a.Component);I()(Ii,"propTypes",{groupId:k.a.string.isRequired,clusterUniqueId:k.a.string.isRequired,restoreJobId:k.a.string.isRequired,settingsModel:k.a.instanceOf(re.a).isRequired,closeModal:k.a.func.isRequired,loadHistory:k.a.func.isRequired});var Di=Ii,ki=n(331),Mi=n(339),Li=n(135);function Ui(e){var t=e.error,n=e.children,r=e.level,o=e.className,i=e.dismissible,a=e.onDismiss,s=Object(ut.b)(t,{},n),l=t&&t.errorCode&&Object(ut.a)(t.errorCode);return Object(z.jsx)(M.a,{level:r,className:o,dismissible:i,onDismiss:a},Object(z.jsx)("span",null,s)," ",l&&Object(z.jsx)("a",{href:l.url,target:"_blank",rel:"noopener noreferrer"},l.text))}Ui.propTypes={className:k.a.string,level:k.a.string,error:k.a.shape({errorCode:k.a.string,message:k.a.string}),dismissible:k.a.bool,onDismiss:k.a.func,children:k.a.node},Ui.defaultProps={className:"",level:"danger",error:{},dismissible:!1,onDismiss:function(){},children:null};var Fi=Ui,Bi=n(983);function zi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Vi=function(e){A()(n,e);var t=zi(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{showCancelModal:!1,restoreJobToCancel:"",restoreJobsToExpand:{},currentPage:0,error:null}),I()(C()(e),"componentDidMount",(function(){e.poller=He.a.create((function(){var t=e.props,n=t.clusterUniqueId,r=t.groupId,o=t.loadHistory,i=t.loadTenantRestores;return t.isTenant?i(r,n):o(r,n).then((function(){return e.markJobsAsSeen()}))})),e.startPolling()})),I()(C()(e),"componentWillUnmount",(function(){e.stopPolling()})),I()(C()(e),"getDropdownOptions",(function(){return Bi.a.map((function(t){return{key:t.name,text:Object(z.jsx)("div",{className:"nds-enterprise-security-kmip-tool-option","data-platform":t.name},Object(z.jsx)("i",{className:t.iconClassName})," ",t.displayName),onClick:function(){return e.onClickDownloadKmip(t.name)}}}))})),I()(C()(e),"onClickDownloadKmip",(function(t){var n=e.props,r=n.groupId,o=n.settingsModel.getCentralUrl();U.m.encryptionAtRest.getKmipProxyToolNames(r).then((function(e){window.location.href="".concat(o,"/download/agent/kmipProxy/").concat(e[t])}),(function(t){e.setState({error:t})}))})),I()(C()(e),"downloadClicked",(function(t){var n=e.props,r=n.isTenant,o=n.orgId;window.location.href=t,W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas ".concat(r?"Shared ":"","Backup Restore History Tab"),action:"Clicked Download Button"},{integrations:Object(W.c)(o)})})),I()(C()(e),"markJobsAsSeen",(function(){var t=e.props,n=t.groupId,r=t.restoreHistory,o=[];r.forEach((function(e){!0===e.showRestoreReady&&o.push(e.id)})),U.m.backup.markRestoreJobsAsSeen(n,o)})),I()(C()(e),"cancelRestoreClicked",(function(t){var n=e.props,r=n.isTenant,o=n.orgId;e.setState({showCancelModal:!0,restoreJobToCancel:t}),W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas ".concat(r?"Shared ":"","Backup Restore History Tab"),action:"Clicked Cancel Button"},{integrations:Object(W.c)(o)})})),I()(C()(e),"closeCancelRestore",(function(){e.setState({showCancelModal:!1,restoreJobToCancel:""})})),I()(C()(e),"showShardRestoreInfoClicked",(function(t,n){var r=e.state.restoreJobsToExpand;r[t]=n,e.setState({restoreJobsToExpand:r})})),I()(C()(e),"startPolling",(function(){e.poller.immediate().start(5e3)})),I()(C()(e),"stopPolling",(function(){e.poller.stop(),e.poller.removeHandlers()})),I()(C()(e),"getClassNameFromRsId",(function(e){var t=e.lastIndexOf("-"),n=e.lastIndexOf("-",t-1);return"config"===e.substring(n+1,t)?"mms-icon-replica-set-configsvr restore-history-table-caret":"mms-icon-replica-set restore-history-table-caret"})),I()(C()(e),"renderProgressBars",(function(e,t){var n=e===Li.b.MANUAL_DOWNLOAD,r=1;return t.requestStats.map((function(e){if("Failed"===e.status)return null;var o=e.bytesStreamed,i=t.totalBytes,a=Qn.a(o),s=Qn.a(i),l=Math.round(o/i*100);return Object(z.jsx)("li",{key:e.id,className:"restore-history-table-progress-bar"},Object(z.jsx)("small",{className:"restore-history-table-progress-label"},"REQUEST ",r++),100===l?Object(z.jsx)("span",{className:"restore-history-table-progress-text restore-history-table-".concat(n?"green":"blue")},n?"Completed!":"Finalizing Restore..."):Object(z.jsx)("span",{className:"restore-history-table-progress-text restore-history-table-blue"},n?"".concat(a.size," ").concat(a.unit," of ").concat(s.size," ").concat(s.unit," - ").concat(l,"%"):"Transferring Snapshot - ".concat(l,"%")))}))})),I()(C()(e),"renderAutomatedProgress",(function(t,n){return Object(z.jsx)("ul",{className:"restore-history-table-progress-list"},Object(z.jsx)("div",null,"Restoring in progress* (",t.status.succeeded," nodes complete)"),Object(z.jsx)("div",{className:"restore-history-table-gray"},"To: ",Object(z.jsx)("a",{href:n},t.targetClusterName)),e.renderProgressBars(t.deliveryType,t.status))})),I()(C()(e),"renderManualProgress",(function(t,n){var r=e.props,o=r.isTenant,i=r.isEncryptedSnapshotEnabled,a=r.docsUrl,s=r.orgId,l="".concat(a,"/billing/#advanced-security");return Object(z.jsx)("div",null,Object(z.jsx)("div",null,"Copy link or click download before expiration"),Object(z.jsx)("div",{className:"restore-history-table-copyable"},Object(z.jsx)(Ti.a,{compact:!0,copyableText:t.deliveryURL,onClick:function(){return W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas ".concat(o?"Shared ":"","Backup Restore History Tab"),action:"Clicked Copy Button"},{integrations:Object(W.c)(s)})}})),Object(z.jsx)("div",{className:"restore-history-table-download"},"or",Object(z.jsx)(Xe.a,{className:"restore-history-table-download-button",name:"download",onClick:function(){return e.downloadClicked(t.deliveryURL)}},Object(z.jsx)("i",{className:"fa fa-download"}))),n&&Object(z.jsx)("ul",{className:"restore-history-table-progress-list"},Object(z.jsx)("div",null,"Downloading in progress**"),e.renderProgressBars(t.deliveryType,t.status)),Object(z.jsx)(Xe.a,{size:"xsmall",className:"restore-history-table-cancel",name:"cancel",onClick:function(){e.cancelRestoreClicked(t.id)}},"Cancel"),i&&t.encrypted&&Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"fa fa-lock","aria-hidden":"true"})," To decrypt"," ",Object(z.jsx)(te.a,{withArrow:!0,className:"nds-enterprise-security-kmip-dropdown",placement:"left",buttonClassName:"button-is-xs nds-enterprise-security-kmip-button",placeholder:"download KMIP Proxy Standalone",buttonContent:"download KMIP Proxy Standalone",options:e.getDropdownOptions()}),"."," ",Object(z.jsx)("a",{href:l,target:"_blank",rel:"noopener noreferrer"},"Learn more ",Object(z.jsx)("i",{className:"fa fa-external-link","aria-hidden":"true"})),"."))})),I()(C()(e),"updateNextPage",(function(){var t=e.state.currentPage+1;e.setState({currentPage:t})})),I()(C()(e),"updatePrevPage",(function(){var t=e.state.currentPage-1;e.setState({currentPage:t})})),I()(C()(e),"renderManualProgressForShardedCluster",(function(t){var n=e.props,r=n.isTenant,o=n.orgId,i=e.state.restoreJobsToExpand[t.id];return Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"restore-history-table-clickable",onClick:function(){return e.showShardRestoreInfoClicked(t.id,!i)},role:"presentation"},Object(z.jsx)("i",{className:"fa fa-caret-down restore-history-table-caret"}),"Copy link or click download before expiration",Object(z.jsx)(Xe.a,{size:"xsmall",className:"restore-history-table-cancel",name:"cancel",onClick:function(){e.cancelRestoreClicked(t.id)}},"Cancel")),t.rsIdToDeliveryUrl.map((function(n){var i=null!==n.status.requestStats&&n.status.requestStats.length>0;return Object(z.jsx)("div",{className:"restore-history-table-shard-box",key:n.rsId},Object(z.jsx)("div",{className:"restore-history-table-shard-name"},Object(z.jsx)("i",{className:e.getClassNameFromRsId(n.rsId)}),n.rsId),null!==n.finishedDate&&Object(z.jsx)("div",{className:"restore-history-table-shard-download-completed"},"Completed at ",Object(z.jsx)(wi.a,{isoString:n.finishedDate})," "),n.deliveryUrl&&null===n.finishedDate&&Object(z.jsx)("div",{key:n.rsId},Object(z.jsx)("div",{className:"restore-history-table-copyable"},Object(z.jsx)(Ti.a,{compact:!0,copyableText:n.deliveryUrl,onClick:function(){return W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas ".concat(r?"Shared ":"","Backup Restore History Tab"),action:"Clicked Copy Button"},{integrations:Object(W.c)(o)})}})),Object(z.jsx)("div",{className:"restore-history-table-download"},"or",Object(z.jsx)(Xe.a,{className:"restore-history-table-download-button",name:"download",onClick:function(){return e.downloadClicked(n.deliveryUrl)}},Object(z.jsx)("i",{className:"fa fa-download"}))),i&&Object(z.jsx)("ul",{className:"restore-history-table-progress-list"},Object(z.jsx)("div",null,"Downloading in progress**"),e.renderProgressBars(t.deliveryType,n.status))))})))})),e}return E()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.clusterUniqueId,r=t.groupId,o=t.settingsModel,i=t.loadHistory,a=t.loadTenantRestores,s=t.isTenant,l=t.restoreHistory,c=t.restoreHistoryPageSize,u=this.state,d=u.showCancelModal,p=u.restoreJobToCancel,f=u.restoreJobsToExpand,h=u.currentPage,m=u.error,g=s?a:i;return Object(z.jsx)(L.a,{load:function(){return g(r,n,o)},hasTopSpacing:!0,renderWhenLoaded:!0,onLoadingComplete:this.markJobsAsSeen},m&&Object(z.jsx)("div",null,Object(z.jsx)(Fi,{error:m}),Object(z.jsx)("br",null)),0===l.length?Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"empty-view empty-view-has-no-border"},Object(z.jsx)("img",{alt:"Disk Backup Restores",className:"empty-view-image empty-view-image-no-padding",src:"/static/images/icon_empty_restores.svg"}),Object(z.jsx)("div",{className:"empty-view-text empty-view-text-is-heading"},"No Restores Available"),Object(z.jsx)("div",{className:"empty-view-text empty-view-text-is-sub-heading"},"Once you've started restoring a snapshot, you will be able to see your restore history here."))):Object(z.jsx)("div",null,Object(z.jsx)(Pi.a,{data:l,empty:"No Restores Available.",headerCellClassName:"plain-table-column-header plain-table-column-header-is-borderless",tableClassName:"table table-new table-has-top-margin",pageSize:c,page:h,updateNextPage:this.updateNextPage,updatePreviousPage:this.updatePrevPage},Object(z.jsx)(Pi.a.Column,{accessor:"submittedAt",cell:function(e){return Object(z.jsx)(Pi.a.Cell,{key:"submittedAt".concat(e.value)},Object(z.jsx)(wi.a,{isoString:e.value}))},header:"Start Time",sortable:!0}),Object(z.jsx)(Pi.a.Column,{cell:function(e){var t=e.data;return t.deliveryType===Li.b.MANUAL_DOWNLOAD||s&&t.deliveryType===Li.e.DOWNLOAD?Object(z.jsx)(Pi.a.Cell,{key:"deliveryType".concat(t.deliveryType)},Object(z.jsx)("div",null,"Manual Download")):Object(z.jsx)(Pi.a.Cell,{key:"deliveryType".concat(t.deliveryType)},Object(z.jsx)("div",null,"Automated Restore"))},header:"Delivery Type"}),Object(z.jsx)(Pi.a.Column,{accessor:"timestamp",cell:function(e){var t=e.data;return Object(z.jsx)(Pi.a.Cell,{key:"timestamp".concat(t.timestamp)},Object(z.jsx)(wi.a,{isoString:t.timestamp}))},header:"Snapshot Completed Time",sortable:!0}),Object(z.jsx)(Pi.a.Column,{cell:function(t){var n=t.data,r=null!==n.finishedDate,i=n.expired,a=n.canceled,l="FAILED"===n.status||!0===n.failed,c=n.deliveryType===Li.b.AUTOMATION_PULL||n.deliveryType===Li.b.DIRECT_ATTACH||n.deliveryType===Li.b.POINT_IN_TIME||s&&n.deliveryType===Li.e.RESTORE,u=!!n.rsIdToDeliveryUrl,d=!r&&!i&&!a,p=null!==n.deliveryURL||u,h=!s&&null!==n.status&&null!==n.status.requestStats&&n.status.requestStats.length>0,m=d&&c&&h,g=d&&p&&!c,b=r&&!i&&(!a||l),v="/v2/".concat(n.targetProjectId,"#clusters/detail/").concat(n.targetClusterName),y=f[n.id];return Object(z.jsx)(Pi.a.Cell,{key:"restoreJobId".concat(n.id)},u&&!c&&d&&!y&&Object(z.jsx)("div",{className:"restore-history-table-clickable",onClick:function(){return e.showShardRestoreInfoClicked(n.id,!y)},role:"presentation"},Object(z.jsx)("i",{className:"fa fa-caret-right restore-history-table-caret"}),"Expand"),d&&!h&&Object(z.jsx)("div",null,c&&Object(z.jsx)("em",{className:"text-is-green"},"Preparing restore..."),!c&&o.isGroupAtlasAdmin()&&!p&&Object(z.jsx)("em",{className:"text-is-green"},"Preparing download..."),!c&&!o.isGroupAtlasAdmin()&&!p&&Object(z.jsx)("em",{className:"text-is-green"}," Waiting for download to be prepared or completed...")),m&&e.renderAutomatedProgress(n,v),g&&!u&&e.renderManualProgress(n,h),g&&u&&y&&e.renderManualProgressForShardedCluster(n),i&&Object(z.jsx)("div",null,"Expired"),a&&!l&&Object(z.jsx)("div",null,"Canceled"),b&&Object(z.jsx)("div",null,l?"Failed at":"Completed at"," ",Object(z.jsx)(wi.a,{isoString:n.finishedDate}),c&&Object(z.jsx)("div",{className:"restore-history-table-gray"},"To: ",Object(z.jsx)("a",{href:v},n.targetClusterName))))},header:"Status"}),Object(z.jsx)(Pi.a.Column,{accessor:"expirationDate",cell:function(e){return Object(z.jsx)(Pi.a.Cell,{key:"expirationDate".concat(e.value)},Object(z.jsx)(wi.a,{isoString:e.value}))},header:"Expiration Date",sortable:!0})),Object(z.jsx)("div",{className:"restore-history-table-notes"},Object(z.jsx)("b",{className:"restore-history-table-notes-header"},"Notes:"),Object(z.jsx)("em",{className:"restore-history-table-notes-point"},"* Automated restore can sometimes restart on its own due to various reasons. This is natural. If this persists, however, please contact support for assistance."),!s&&Object(z.jsx)("em",{className:"restore-history-table-notes-point"},"** For multiple manual downloads of the same snapshot, all in-progress downloads will be shut down automatically after 1 successful download attempt"))),d&&Object(z.jsx)(Di,{groupId:r,clusterUniqueId:n,restoreJobId:p,settingsModel:o,closeModal:this.closeCancelRestore,loadHistory:g}))}}]),n}(l.a.Component);Vi.propTypes={clusterUniqueId:k.a.string.isRequired,groupId:k.a.string.isRequired,settingsModel:k.a.instanceOf(re.a).isRequired,loadHistory:k.a.func.isRequired,loadTenantRestores:k.a.func.isRequired,restoreHistory:k.a.arrayOf(k.a.object).isRequired,restoreHistoryPageSize:k.a.number,isTenant:k.a.bool.isRequired,isEncryptedSnapshotEnabled:k.a.bool.isRequired,docsUrl:k.a.string.isRequired,orgId:k.a.string.isRequired},Vi.defaultProps={restoreHistoryPageSize:10};var qi=Object(Ei.connect)((function(e,t){return{restoreHistory:t.isTenant?Mi.c(e):ki.b(e)}}),{loadHistory:ki.f,loadTenantRestores:Mi.f})(Vi);function Gi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Hi=function(e){A()(n,e);var t=Gi(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{errorMessage:""}),I()(C()(e),"handleDelete",(function(){var t=e.props.orgId;W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas Backup Delete Snapshot Modal",action:"Clicked Delete Button"},{integrations:Object(W.c)(t)});var n=e.props,r=n.groupId,o=n.clusterUniqueId,i=n.snapshotId,a=n.closeModal,s=n.loadBackups,l=n.onDeleteSnapshot;U.m.backup.deleteSnapshot(r,i).then((function(){s(r,o),l(),a()})).catch((function(t){e.setState({errorMessage:Object(ut.b)(t)})}))})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.closeModal,n=e.snapshotIsQueued,r=this.state.errorMessage;return Object(z.jsx)(Ze.a,{size:"small",title:"Delete Snapshot",onClose:t},r&&Object(z.jsx)("div",null,Object(z.jsx)(M.a,{level:"danger"},r),Object(z.jsx)("br",null)),Object(z.jsx)("p",null,"Are you sure you want to delete this snapshot",n&&" from the queue","?"),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{name:"cancel",onClick:t},"Cancel")," ",Object(z.jsx)(Xe.a,{name:"delete",variant:"danger",onClick:this.handleDelete},"Delete")))}}]),n}(l.a.Component);I()(Hi,"propTypes",{groupId:k.a.string.isRequired,clusterUniqueId:k.a.string.isRequired,snapshotId:k.a.string.isRequired,closeModal:k.a.func.isRequired,loadBackups:k.a.func.isRequired,onDeleteSnapshot:k.a.func.isRequired,snapshotIsQueued:k.a.bool.isRequired,orgId:k.a.string.isRequired});var Wi=Hi,Yi=n(153),Ki=n(113),Zi=n(1118),$i=n(15),Xi={PENDING:{text:"Pending",text_class:"text-is-gray",icon_class:""},ACTIVE:{text:"Active",text_class:"text-is-green",icon_class:"fa fa-circle text-success"},FAILED:{text:"Failed",text_class:"text-is-error",icon_class:"fa fa-exclamation-triangle text-error"}};function Ji(e){var t=e.value,n=e.requesterIpAddress,r=e.status,o=e.animatePending,i=e.deleteAfterDate,a=n?" (includes your current IP address)":"",s=Xi[r],l=!!i&&ee()(i).isBefore(ee()());return Object(z.jsx)("div",{className:"cluster-connect-modal-whitelist-entry"},Object(z.jsx)("span",{className:"cluster-connect-modal-whitelist-entry-status"},Object(z.jsx)("strong",null,t),i&&Object(z.jsx)("div",{className:"cluster-connect-modal-whitelist-entry-expiration-bubble-container"},Object(z.jsx)(Tt.a,{content:"This whitelist entry will be deleted within the next five minutes",hide:!l},Object(z.jsx)(Zi.a,{expirationDate:i,expiredText:"Pending Deletion"}))),i&&n&&Object(z.jsx)("span",null),a),Object(z.jsx)("span",{className:s.text_class},Object(z.jsx)("i",{className:ae()(s.icon_class,"cluster-connect-modal-whitelist-entry-active-icon")}),"Â ",Object(z.jsx)("strong",{className:"cluster-connect-modal-whitelist-entry-status-icon"},s.text,"PENDING"===r&&o&&Object(z.jsx)("span",{className:"inline-pending"}))))}function Qi(e){var t=e.value;return Object(z.jsx)("div",{className:"cluster-connect-modal-whitelist-entry",key:t},Object(z.jsx)("span",{className:"cluster-connect-modal-whitelist-entry-status"},Object(z.jsx)("strong",null,t)))}function ea(e){var t=e.error,n=e.showButtons,r=e.onClickAdd,o=e.currentIpv4Address,i=e.hasPeeringConnections,a=e.hasCurrentAccess,s=e.hasAllAccess,l=e.animatePending,c=e.ipsJson,u=e.securityGroupsJson,d=e.header,p=e.detailedMissingWhitelistWarning,f=c.length>0,h=u.length>0,m=f||h;return Object(z.jsx)("div",null,m?Object(z.jsx)("div",null,d&&Object(z.jsx)("p",{className:"text-is-gray step-indicator-step-child whitelist-header"},d),Object(z.jsx)("div",{className:"cluster-connect-modal-whitelist"},f&&c.map((function(e){return Object(z.jsx)(Ji,{value:e.value,requesterIpAddress:e.requesterIpAddress,status:(t=e.statusPerContainer,n=Object.keys(t),r=n.some((function(e){return"ACTIVE"===t[e]})),o=n.length&&n.every((function(e){return"FAILED"===t[e]})),r?"ACTIVE":o?"FAILED":"PENDING"),key:e.value,animatePending:l,deleteAfterDate:e.deleteAfterDate});var t,n,r,o})),h&&u.map((function(e){return Object(z.jsx)(Qi,{value:e.value,key:e.value})})))):Object(z.jsx)("p",{className:"step-indicator-step-child"},"You don't have any IP addresses ",i&&Object(z.jsx)("span",null,"or security groups "),"in your whitelist. ",p),t&&Object(z.jsx)("div",{className:"alert alert-danger"},t),n&&Object(z.jsx)("div",{className:"cluster-connect-modal-whitelist-buttons"},Object(z.jsx)("button",{className:"button button-is-xs button-is-primary button-is-normal-font-weight",onClick:function(){return r(void 0)},name:"addEntry"},Object(z.jsx)("i",{className:"mms-icon-add"})," Add Entry"),!a&&Object(z.jsx)("button",{className:"button button-is-xs button-is-normal-font-weight",onClick:function(){return r(o)},name:"addCurrent"},"Add Current IP Address"),!s&&Object(z.jsx)("button",{className:"button button-is-xs button-is-normal-font-weight",onClick:function(){return r("0.0.0.0/0")},name:"addAllAccess"},"Allow Access from Anywhere")))}Ji.propTypes={value:k.a.string.isRequired,requesterIpAddress:k.a.bool.isRequired,animatePending:k.a.bool.isRequired,status:k.a.oneOf(["PENDING","ACTIVE","FAILED"]).isRequired,deleteAfterDate:k.a.string},Ji.defaultProps={deleteAfterDate:void 0},Qi.propTypes={value:k.a.string.isRequired},ea.propTypes={error:k.a.string,showButtons:k.a.bool.isRequired,onClickAdd:k.a.func.isRequired,currentIpv4Address:k.a.string,hasPeeringConnections:k.a.bool.isRequired,hasCurrentAccess:k.a.bool.isRequired,hasAllAccess:k.a.bool.isRequired,animatePending:k.a.bool.isRequired,ipsJson:k.a.arrayOf(k.a.shape({value:k.a.string.isRequired,requesterIpAddress:k.a.bool.isRequired,statusPerContainer:k.a.object.isRequired})).isRequired,securityGroupsJson:k.a.arrayOf(k.a.shape({value:k.a.string.isRequired})).isRequired,header:k.a.string.isRequired,detailedMissingWhitelistWarning:k.a.node.isRequired},ea.defaultProps={error:"",showButtons:!1,onClickAdd:function(){},currentIpv4Address:"",hasPeeringConnections:!1,hasCurrentAccess:!1,hasAllAccess:!1,animatePending:!0,header:"You will only be able to connect to your cluster from the following list of IP addresses",detailedMissingWhitelistWarning:Object(z.jsx)("span",null,"You won't be able to connect without one.")};Object(p.connectBackboneToReact)((function(e){var t=e.settingsModel,n=e.whitelistedIpCollection,r=e.peerConnectionCollection,o=t.get("CURRENT_IPV4_ADDR");return{currentIpv4Address:o,hasPeeringConnections:r.length>0,hasCurrentAccess:!(!o||!n.any({value:"".concat(o,"/32")})),hasAllAccess:n.any({value:"0.0.0.0/0"}),ipsJson:n.getIPs().toJSON(),securityGroupsJson:n.getSecurityGroups().toJSON()}}))(ea);var ta=Object(Ei.connect)((function(e){return{currentIpv4Address:$i.i(e)}}))(ea),na=n(934);function ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var oa=function(e){A()(n,e);var t=ra(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{errorCode:null,errorMessage:"",requestCompleted:!1,requestInProgress:!1,whitelistedIpCollection:new na.a,tenantSnapshotUrl:void 0,isTenantDownloadCopyLinkRequest:!1}),I()(C()(e),"getDropdownOptions",(function(){return Bi.a.map((function(t){return{key:t.name,text:Object(z.jsx)("div",{className:"nds-enterprise-security-kmip-tool-option","data-platform":t.name},Object(z.jsx)("i",{className:t.iconClassName})," ",t.displayName),onClick:function(){return e.onClickDownloadKmip(t.name)}}}))})),I()(C()(e),"onClickDownloadKmip",(function(t){var n=e.props,r=n.groupId,o=n.centralUrl;U.m.encryptionAtRest.getKmipProxyToolNames(r).then((function(e){window.location.href=o+"/download/agent/kmipProxy/"+e[t]}),(function(t){e.setState({errorMessage:Object(ut.b)(t),errorCode:t.errorCode})}))})),I()(C()(e),"getBackupApi",(function(){return e.props.isTenant?U.m.tenantBackup:U.m.backup})),I()(C()(e),"onAuthExpiredSuccess",(function(){e.setState({errorCode:null,errorMessage:""})})),I()(C()(e),"handleDownload",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.props,r=n.groupId,o=n.snapshotId,i=n.onDownload,a=n.isTenant,s=n.closeModal,l=n.orgId;W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas ".concat(a?"Shared ":"","Backup Download Snapshot Modal"),action:"Clicked Download Button"},{integrations:Object(W.c)(l)}),e.setState({isTenantDownloadCopyLinkRequest:t,requestInProgress:!0}),e.getBackupApi().createDownload(r,o).then((function(t){var n=t.restoreJobIds;return i(),e.setState({requestCompleted:!0,requestInProgress:!1}),a?e.getBackupApi().getRestore(r,n[0]):Promise.resolve()})).then((function(n){a&&(t?e.setState({tenantSnapshotUrl:n.snapshotUrl}):(window.open(n.snapshotUrl,"_blank"),s()))})).catch((function(t){e.setState({requestInProgress:!1,errorMessage:Object(ut.b)(t),errorCode:t.errorCode})}))})),I()(C()(e),"getClassNameFromRsId",(function(e){var t=e.lastIndexOf("-"),n=e.lastIndexOf("-",t-1);return"config"===e.substring(n+1,t)?"mms-icon-replica-set-configsvr":"mms-icon-replica-set"})),e}return E()(n,[{key:"componentDidMount",value:function(){var e=this;si.a.loadWhitelist().then((function(t){e.setState({whitelistedIpCollection:t})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.closeModal,r=t.snapshotDate,o=t.docsUrl,i=t.clusterName,a=t.members,s=t.isTenant,c=t.isEncryptedSnapshotEnabled,u=t.encryptionAtRestId,d=t.orgId,p=this.state,f=p.errorCode,h=p.errorMessage,m=p.requestCompleted,g=p.requestInProgress,b=p.whitelistedIpCollection,v=p.isTenantDownloadCopyLinkRequest,y=p.tenantSnapshotUrl,O=b.length>0,x=b.getIPs().toJSON(),j=b.getSecurityGroups().toJSON(),E=b.hasPending(),S=O&&x.some((function(e){return e.requesterIpAddress})),C=Yi.a.isAuthExpired(f),_="Download ".concat(r),A=!!a&&a.map((function(t){return Object(z.jsx)("li",{key:t.rsId,className:"download-snapshot-modal-list-item-shard"},Object(z.jsx)("i",{className:e.getClassNameFromRsId(t.rsId)}),t.rsId)})),N="".concat(o,"/billing/#advanced-security");return Object(z.jsx)(Ze.a,{size:"medium",title:_,onClose:n},!m&&Object(z.jsx)("div",{className:"download-snapshot-modal"},h&&!C&&Object(z.jsx)("div",null,Object(z.jsx)(M.a,{level:"danger"},h),Object(z.jsx)("br",null)),!S&&Object(z.jsx)("div",{className:"ip-whitelist-warning"},Object(z.jsx)(M.a,{level:"warning"},"Add your IP address to the whitelist to download this snapshot."),Object(z.jsx)("br",null)),Object(z.jsx)("div",null,Object(z.jsx)("p",null,"Manually restore your snapshots for archival or other purposes.",s?" Download links can be used multiple times but will expire after 4 hours. ":" Download links can only be used once and will expire within 4 hours. ","You will only be able to download this snapshot from a location that has been"," ",Object(z.jsx)("a",{href:"#security/network/whitelist"},"whitelisted in your project"),"."),!s&&Object(z.jsx)("p",{className:"download-snapshot-modal-note"},"Note: For dedicated clusters, you will be ",Object(z.jsx)("strong",null,"billed upon initiating download")," even if the link is not used.",Object(z.jsx)("a",{href:"".concat(o,"/billing/cluster-configuration-costs/#cloud-provider-snapshots"),target:"_blank",onClick:function(){return W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas Backup Download Snapshot Modal",action:"Clicked Learn More Link"},{integrations:Object(W.c)(d)})}}," ","Learn more"))),Object(z.jsx)("div",null),Object(z.jsx)("h5",{className:"download-snapshot-modal-title"},"Existing IP Whitelist"),Object(z.jsx)(ta,{animatePending:!1,ipsJson:x,header:"",securityGroupsJson:j,detailedMissingWhitelistWarning:Object(z.jsx)("span",null,"Please ",Object(z.jsx)("a",{href:"#security/network/whitelist"},"add an IP address")," before downloading a snapshot.")}),E&&Object(z.jsx)("p",{className:"download-snapshot-modal-pending-notes"},"A pending IP whitelist entry may take a few minutes to become active. In the meantime, you can continue to initiate the download."," "),O&&Object(z.jsx)("div",null,Object(z.jsx)("a",{href:"#security/network/whitelist"},"Add or Modify your IP Addresses")),!!a&&a.length>0&&Object(z.jsx)("div",null,Object(z.jsx)("br",null),Object(z.jsx)("h5",{className:"download-snapshot-modal-title"},"Selected Snapshot Processes"),Object(z.jsx)("span",{className:"download-snapshot-modal-list-item"},Object(z.jsx)("i",{className:"mms-icon-cluster"}),i),Object(z.jsx)("ul",{className:"download-snapshot-modal-list"},A)),Object(z.jsx)("br",null),C&&Object(z.jsx)(Yi.a,{errorCode:f,onSuccess:this.onAuthExpiredSuccess}),Object(z.jsx)("footer",{className:"view-modal-footer"},Object(z.jsx)("hr",null),Object(z.jsx)("div",{className:"view-modal-actions"},Object(z.jsx)("div",null,Object(z.jsx)(Xe.a,{name:"cancel",onClick:n},"Cancel")),Object(z.jsx)("div",null,s&&Object(z.jsx)(Ki.a,{variant:"info",name:"copyDownloadLink",disabled:!O||g,onClick:function(){return e.handleDownload(!0)},showLoader:g},"Copy Link"),Object(z.jsx)(Ki.a,{variant:C?"default":"primary",name:"download",disabled:!S||g,onClick:function(){return e.handleDownload(!1)},showLoader:g,className:"button-has-margin-left"},"Download"))))),m&&(s?Object(z.jsx)("div",{name:"prepare-download"},v?Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",null,Object(z.jsx)(M.a,{level:"warning"},"The link to this snapshot will only be accessible from whitelisted IPs."),Object(z.jsx)("br",null)),!y&&"We are preparing your link. This should take a few minutes. ","As a reminder, your link will expire in 4 hours. Once you close this modal, you will no longer be able to view the download link.",y&&Object(z.jsx)(Ti.a,{commandClassName:"copy-command-is-full-width",copyableText:y}),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{name:"close",onClick:n},"Close"))):"Your download will begin shortly..."):Object(z.jsx)("div",{name:"prepare-download"},"We are preparing your link. This should take approximately 5 minutes. As a reminder, your link will expire in 4 hours.",Object(z.jsx)("p",{className:"download-snapshot-modal-reminder"},"You can close the modal and"," ",Object(z.jsx)("strong",null,Object(z.jsx)("em",null,"we will email you when your download is ready."))," ","Once ready, the link will also be available in the Restore History tab."),c&&null!=u&&Object(z.jsx)("div",{className:"collapsed-alert-full alert alert-info",role:"alert"},"Your snapshot is encrypted, to decrypt it"," ",Object(z.jsx)(te.a,{withArrow:!0,className:"download-snapshot-modal-kmip-tool-dropdown",placement:"left",buttonClassName:"download-snapshot-modal-kmip-tool-button",placeholder:"download KMIP Proxy",buttonContent:"download KMIP Proxy",options:this.getDropdownOptions()}),".",Object(z.jsx)("a",{href:N,target:"_blank",rel:"noopener noreferrer"},"Learn more ",Object(z.jsx)("i",{className:"fa fa-external-link","aria-hidden":"true"}))),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{name:"close",onClick:n},"Close")))))}}]),n}(l.a.Component);I()(oa,"propTypes",{groupId:k.a.string.isRequired,snapshotId:k.a.string.isRequired,clusterName:k.a.string.isRequired,members:k.a.arrayOf(k.a.shape({rsId:k.a.string.isRequired,snapshotId:k.a.string.isRequired})).isRequired,snapshotDate:k.a.string.isRequired,docsUrl:k.a.string.isRequired,closeModal:k.a.func.isRequired,onDownload:k.a.func.isRequired,isTenant:k.a.bool.isRequired,isEncryptedSnapshotEnabled:k.a.bool.isRequired,encryptionAtRestId:k.a.string.isRequired,centralUrl:k.a.string.isRequired,orgId:k.a.string.isRequired});var ia=oa,aa=n(891),sa=n(66),la=n(19);function ca(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var ua=l.a.Component,da=function(e){A()(n,e);var t=ca(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"onInputChange",(function(t){e.props.onRetentionValueChange(t.target.value)})),I()(C()(e),"getNewExpirationDate",(function(){var t=e.props,n=t.retentionValue,r=t.retentionUnit,o=t.completionTime,i=t.dateFormatCode,a=t.timeFormatCode,s=t.timeZoneId;if(!pa(n))return"N/A";var l,c=new Date(o),u=parseInt(n);switch(r){case"days":l=u;break;case"weeks":l=7*u;break;case"months":l=7*u*4}return c.setDate(c.getDate()+l),(0,sa.b)(i,a,s)(c.toISOString())})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.closeModal,n=e.snapshotTime,r=e.retentionValue,o=e.retentionUnit,i=e.errorMessage,a=e.onRetentionUnitChange,s=e.onEditRetentionClicked,l=e.dateFormatCode,c=e.timeFormatCode,u=e.timeZoneId,d=(0,sa.b)(l,c,u)(n);return Object(z.jsx)(Ze.a,{size:"medium",title:"Edit Retention Time for Snapshot: ".concat(d),onClose:t},Object(z.jsx)("div",{className:"nds-backup-retention-form-container"},i&&Object(z.jsx)("div",null,Object(z.jsx)(M.a,{level:"danger"},i),Object(z.jsx)("br",null)),Object(z.jsx)("form",null,Object(z.jsx)("label",{className:"nds-backup-retention-form-container-label"},"Retention Time"),Object(z.jsx)("div",{className:"nds-backup-retention-form-input-section"},Object(z.jsx)("input",{onChange:this.onInputChange,value:r,type:"text",className:"nds-backup-retention-form-input-section-input"}),Object(z.jsx)(aa.a,{value:o,onChange:a,options:[{label:"days",value:"days"},{label:"weeks",value:"weeks"},{label:"months",value:"months"}],className:"nds-backup-retention-form-input-section-dropdown"})),Object(z.jsx)("span",{className:"nds-backup-retention-form-legend"},"*Expires on ",this.getNewExpirationDate()," with current configurations.")),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{name:"save",variant:"primary",className:"nds-backup-retention-form-button",disabled:!pa(r),onClick:s},"Save Changes"),Object(z.jsx)(Xe.a,{name:"cancel",variant:"default",className:"nds-backup-retention-form-button",onClick:t},"Cancel"))))}}]),n}(ua);function pa(e){if(""===e||isNaN(e)||"string"==typeof e&&-1!=e.indexOf("."))return!1;var t=parseInt(e);return t>=1&&t<=5e4}I()(da,"propTypes",{closeModal:k.a.func.isRequired,snapshotTime:k.a.string.isRequired,completionTime:k.a.string.isRequired,retentionValue:k.a.string.isRequired,retentionUnit:k.a.string.isRequired,errorMessage:k.a.string.isRequired,onRetentionValueChange:k.a.func.isRequired,onRetentionUnitChange:k.a.func.isRequired,onEditRetentionClicked:k.a.func.isRequired,dateFormatCode:k.a.string,timeFormatCode:k.a.oneOf(["24-hour",""]),timeZoneId:k.a.string}),I()(da,"defaultProps",{dateFormatCode:"us1",timeFormatCode:"",timeZoneId:"Etc/UTC",errorMessage:""});var fa=Object(Ei.connect)((function(e){return{dateFormatCode:la.e(e),timeFormatCode:la.l(e),timeZoneId:la.n(e)}}))(da),ha=n(1052);function ma(e){var t=e.date,n=e.description,r=e.closeModal,o=e.dateFormatCode,i=e.timeFormatCode,a=e.timeZoneId,s=(0,sa.b)(o,i,a)(t),l="On Demand Snapshot: ".concat(s);return Object(z.jsx)(Ze.a,{size:"small",title:l,onClose:r},Object(z.jsx)("p",null,n),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{name:"cancel",onClick:r,className:["button","button-is-primary"].join(" ")},"Okay")," "))}ma.propTypes={date:k.a.string.isRequired,description:k.a.string.isRequired,closeModal:k.a.func.isRequired,dateFormatCode:k.a.string,timeFormatCode:k.a.oneOf(["24-hour",""]),timeZoneId:k.a.string},ma.defaultProps={dateFormatCode:"us1",timeFormatCode:"",timeZoneId:"Etc/UTC"};var ga=Object(Ei.connect)((function(e){return{dateFormatCode:la.e(e),timeFormatCode:la.l(e),timeZoneId:la.n(e)}}))(ma);function ba(e){var t=e.regions,n=e.closeModal;return Object(z.jsx)(Ze.a,{size:"small",title:"Regions",onClose:n},Object(z.jsx)("ul",null,t.map((function(e){return Object(z.jsx)("li",null,e)}))),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{name:"cancel",onClick:n,className:["button","button-is-primary"].join(" ")},"Okay")," "))}ba.propTypes={regions:k.a.arrayOf(k.a.string).isRequired,closeModal:k.a.func.isRequired};var va=ba,ya=n(1220);function Oa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var xa=function(e){A()(n,e);var t=Oa(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"componentDidMount",(function(){(0,e.props.loadRestoreDestinations)()})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.closeModal,n=e.snapshotEncrypted,r=e.snapshotEncryptionType,o=e.members,i=e.docsUrl,a=e.onAuthExpiredSuccess,s=e.restoreDisabled,l=e.errorCode,c=e.errorMessage,u=e.destinationGroupName,d=e.destinationGroupType,p=e.destinationOrgName,f=e.destinationItems,h=e.destinationClusterName,m=e.whitelistedIpCollection,g=e.onSelectProject,b=e.onChangeTargetCluster,v=e.handleRestore,y=e.onBackClick,O=e.isPit,x=e.userAgreedToRestore,j=e.onUserAgreementInput,E=Yi.a.isAuthExpired(l),S=m.getIPs().toJSON(),C=m.getSecurityGroups().toJSON(),_=m.hasPending(),A="CLOUD"===d,N="".concat(i,"/backup/cloud-provider-snapshots/#global-cluster-backups"),T=n&&!O,w=n||O,P=this.props.isResilient;return Object(z.jsx)("div",{className:"automated-restore-choose-cluster"},P&&Object(z.jsx)("div",{className:"automated-restore-choose-cluster-resilient"},Object(z.jsx)(M.a,{level:"danger"},Object(z.jsx)("div",null,Object(z.jsx)("b",null,"Warning!")," You are about to perform a restore of a snapshot that was taken using the fallback method! Click ",Object(z.jsx)("a",{href:"https://dochub.mongodb.org/core/atlas-resilient-backups"},"here")," for more information"))),T&&Object(z.jsx)("p",null,"Note: Snapshots cannot be restored to clusters with different encryption settings or topologies."),o&&o.some((function(e){return e.geoSharded}))&&Object(z.jsx)("div",{className:"bem-alert bem-alert-is-warning automated-restore-choose-cluster-warning-box"},Object(z.jsx)("div",{className:"automated-restore-choose-cluster-warning-header"},Object(z.jsx)("i",{className:"fa fa-exclamation-triangle automated-restore-choose-cluster-warning-icon"}),"Global Cluster Snapshot Restore"),Object(z.jsx)("div",{className:"automated-restore-choose-cluster-warning-text"},"You are restoring a snapshot taken on a global cluster that is distributed among different zones. You can read the global cluster"," ",Object(z.jsx)("a",{target:"_blank",href:N,className:ae()({"automated-restore-choose-cluster-has-dimmed-link":!0})},"documentation")," ","for more info. The snapshot has these zones:"),Object(z.jsx)("ul",null,o.filter((function(e){return e.geoSharded})).sort((function(e,t){return e.rsId>t.rsId?1:-1})).map((function(e){return Object(z.jsx)("li",{key:e.rsId},Object(z.jsx)("b",null,e.rsId),": ",e.region)})))),Object(z.jsx)("form",{id:"backupForm",className:"backup-form",onSubmit:function(e){return e.preventDefault()}},Object(z.jsx)("div",{className:"backup-form-input-groups"},Object(z.jsx)("div",{className:"backup-form-input-group form-group"},Object(z.jsx)("label",{htmlFor:"selectProject",className:"control-label"},"Target Project"),Object(z.jsx)(ya.a,{initialOrgName:p,initialGroupName:u,clientSideFilter:!1,automatedDiskRestore:!0,ndsOnly:w,buttonWidth:"max",onSelectProject:g}))),Object(z.jsx)("div",{className:"backup-form-input-groups"},Object(z.jsx)("div",{className:ae()("backup-form-input-group form-group",{"has-error":!1})},Object(z.jsx)("label",{htmlFor:"selectTargetCluster",className:"control-label"},"Target Cluster"),Object(z.jsx)(aa.a,{onChange:b,value:h,options:[{options:f.filter((function(e){return O||e.encryptionType===r})).map((function(e){return{label:e.name,value:e.name}}))},{label:"CLUSTERS WITH INCOMPATIBLE ENCRYPTION SETTINGS",options:f.filter((function(e){return!O&&e.encryptionType!==r})).map((function(e){return{label:e.name,value:e.name,disabled:!0}}))}]}))),Object(z.jsx)("div",null,""!==h&&Object(z.jsx)(M.a,{level:"warning"},Object(z.jsx)("p",null,Object(z.jsx)("i",{className:"fa fa-exclamation-triangle fa-fw"}),"Â All existing data on the target cluster ",h," will be deleted prior to the restore! The cluster ",h," will be unavailable for the duration of the restore. TypeÂ ",Object(z.jsx)("span",{className:"automated-restore-choose-cluster-i-agree-span"},'"I Agree"')," to perform restore."),Object(z.jsx)("input",{type:"text",className:"form-control automated-restore-choose-cluster-input",placeholder:"I Agree",name:"agreement",onChange:function(e){return j(e,"I Agree")}})))),A&&Object(z.jsx)("div",{className:"automated-restore-choose-cluster-whitelist-section"},Object(z.jsx)("span",null,"IP address(es) of the Cloud Manager project need to be whitelisted for the snapshot restore to work."),Object(z.jsx)("h5",{className:"automated-restore-choose-cluster-title"},"Existing IP Whitelist"),Object(z.jsx)(ta,{animatePending:!1,ipsJson:S,header:"",securityGroupsJson:C}),_&&Object(z.jsx)("p",{className:"automated-restore-choose-cluster-pending-notes"},"A pending IP whitelist entry may take a few minutes to become active. In the meantime, you can continue to initiate the restore."," "),Object(z.jsx)("div",null,Object(z.jsx)("a",{href:"#security/network/whitelist",target:"_blank"},"Add or Modify your IP Addresses"))),E&&Object(z.jsx)(Yi.a,{errorCode:l,onSuccess:a}),c&&!E&&Object(z.jsx)("div",{className:"automated-restore-choose-cluster-alert"},Object(z.jsx)("div",{className:"banner banner-is-alert banner-is-alert-unfixed-height"},Object(z.jsx)("div",{className:"banner-main"},"Error: ",c),Object(z.jsx)("br",null))),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{name:"cancel",className:"automated-restore-choose-cluster-button-cancel",onClick:t,disabled:s},"Cancel"),O&&Object(z.jsx)(Xe.a,{name:"back",className:"automated-restore-choose-cluster-button-back",onClick:y},"Go Back"),Object(z.jsx)(Xe.a,{name:"restore",variant:"primary",onClick:v,disabled:s||!x},"Restore")))}}]),n}(l.a.Component);I()(xa,"propTypes",{closeModal:k.a.func.isRequired,snapshotEncrypted:k.a.bool.isRequired,snapshotEncryptionType:k.a.oneOf(["NONE","AWS","AZURE"]).isRequired,members:k.a.arrayOf(k.a.shape({snapshotId:k.a.string,rsId:k.a.string,geoSharded:k.a.bool,region:k.a.string})),docsUrl:k.a.string.isRequired,restoreDisabled:k.a.bool.isRequired,errorCode:k.a.string.isRequired,errorMessage:k.a.string.isRequired,destinationGroupType:k.a.string.isRequired,destinationOrgName:k.a.string.isRequired,destinationGroupName:k.a.string.isRequired,destinationItems:k.a.arrayOf(k.a.shape({name:k.a.string,encryptionEnabled:k.a.bool,encryptionType:k.a.string,errorMessage:k.a.string})),destinationClusterName:k.a.string.isRequired,whitelistedIpCollection:k.a.instanceOf(na.a),onAuthExpiredSuccess:k.a.func.isRequired,loadRestoreDestinations:k.a.func.isRequired,handleRestore:k.a.func.isRequired,onSelectProject:k.a.func.isRequired,onChangeTargetCluster:k.a.func.isRequired,onBackClick:k.a.func.isRequired,isPit:k.a.bool.isRequired,userAgreedToRestore:k.a.bool.isRequired,onUserAgreementInput:k.a.func.isRequired,isResilient:k.a.bool.isRequired}),I()(xa,"defaultProps",{members:[],whitelistedIpCollection:new na.a});var ja=xa,Ea=n(909);function Sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Ca=function(e){A()(n,e);var t=Sa(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"getPitOptions",(function(){return[{label:"DATE & TIME",value:"datetime"},{label:"OPLOG TIMESTAMP",value:"optime"}]})),I()(C()(e),"getDateOptions",(function(){var t=e.props,n=t.minPitRangeTs,r=t.maxPitRangeTs,o=ee.a.unix(n).utc().startOf("day"),i=ee.a.unix(r).utc().startOf("day"),a=ee.a.duration(i.diff(o));return J.a.range(0,a.asDays()+1).map((function(){var e=o.format("MM/DD/YYYY");return o.add(1,"days"),{label:e,value:e}}))})),I()(C()(e),"getMinPitDate",(function(){var t=e.props.minPitRangeTs;return 0==t?"N/A":ee.a.unix(t).utc().format("MM/DD/YYYY HH:mm")})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.closeModal,n=e.restoreDisabled,r=e.errorMessage,o=e.goToChooseCluster,i=e.pitOptionValue,a=e.onChangePitOption,s=e.onChangePitDate,c=e.onChangePitTime,u=e.onChangeOplogTs,d=e.onChangeOplogInc,p=e.pitDate,f=e.pitTimeUTC,h=e.pitOplogTs,m=e.pitOplogInc,g=""!==r;return Object(z.jsx)("div",{className:"automated-restore-choose-pit"},Object(z.jsx)(ha.a,{className:"automated-restore-choose-pit-button-group",buttonClassName:"button-is-xs",options:this.getPitOptions(),value:i,onChange:a}),"datetime"===i?Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("p",{className:"automated-restore-choose-pit-desc"},"You can only restore to a specific point in time after ",this.getMinPitDate(),"."),Object(z.jsx)("div",{className:"automated-restore-choose-pit-input-section"},Object(z.jsx)("div",{className:"automated-restore-choose-pit-input-section-col50 automated-restore-choose-pit-input-section-centered"},Object(z.jsx)("label",null,"Date"),Object(z.jsx)("i",{className:"fa fa-calendar"}),Object(z.jsx)(Ea.a,{name:"dateInput",className:"automated-restore-choose-pit-input-section-select",dropdownTitle:"mm/dd/yyyy",options:this.getDateOptions(),onChange:s,value:p,disabled:g})),Object(z.jsx)("div",{className:"automated-restore-choose-pit-input-section-col50"},Object(z.jsx)("label",null,"Time (UTC)"),Object(z.jsx)("i",{className:"fa fa-clock-o"}),Object(z.jsx)("input",{name:"timeInput",className:"automated-restore-choose-pit-input-section-input",type:"text",value:f,placeholder:"hh:mm",onChange:function(e){return c(e.target.value)},disabled:g})))):Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("p",{className:"automated-restore-choose-pit-desc"},"To learn how to find the oplog timestamp, consult theÂ ",Object(z.jsx)("a",{href:"https://dochub.mongodb.org/core/atlas-oplog-timestamp",target:"_blank"},"documentation")),Object(z.jsx)("div",{className:"automated-restore-choose-pit-input-section"},Object(z.jsx)("div",{className:"automated-restore-choose-pit-input-section-col50"},Object(z.jsx)("label",null,"Timestamp"),Object(z.jsx)("i",{className:"fa fa-clock-o"}),Object(z.jsx)("input",{name:"timestamp",className:"automated-restore-choose-pit-input-section-input automated-restore-choose-pit-input-section-input-optime",type:"text",value:h,placeholder:"1395663575",onChange:function(e){return u(e.target.value)},disabled:g})),Object(z.jsx)("div",{className:"automated-restore-choose-pit-input-section-col50"},Object(z.jsx)("label",null,"Increment"),Object(z.jsx)("i",{className:"fa fa-adjust"}),Object(z.jsx)("input",{name:"increment",className:"automated-restore-choose-pit-input-section-input automated-restore-choose-pit-input-section-input-optime",type:"text",value:m,placeholder:"1",onChange:function(e){return d(e.target.value)},disabled:g})))),Object(z.jsx)("div",{className:"filler"}),r&&Object(z.jsx)("div",{className:"automated-restore-modal-alert"},Object(z.jsx)("div",{className:"banner banner-is-alert banner-is-alert-unfixed-height"},Object(z.jsx)("div",{className:"banner-main"},"Error: ",r),Object(z.jsx)("br",null))),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{name:"cancel",className:"automated-restore-choose-pit-button-cancel",onClick:t,disabled:n},"Cancel")," ",Object(z.jsx)(Xe.a,{name:"next",variant:"primary",onClick:o,disabled:n||g},"Next: Select Cluster")))}}]),n}(l.a.Component);I()(Ca,"propTypes",{closeModal:k.a.func.isRequired,restoreDisabled:k.a.bool.isRequired,pitOptionValue:k.a.string.isRequired,errorMessage:k.a.string.isRequired,pitDate:k.a.string.isRequired,pitTimeUTC:k.a.string.isRequired,pitOplogTs:k.a.string.isRequired,pitOplogInc:k.a.string.isRequired,minPitRangeTs:k.a.number.isRequired,maxPitRangeTs:k.a.number.isRequired,goToChooseCluster:k.a.func.isRequired,onChangePitOption:k.a.func.isRequired,onChangePitDate:k.a.func.isRequired,onChangePitTime:k.a.func.isRequired,onChangeOplogTs:k.a.func.isRequired,onChangeOplogInc:k.a.func.isRequired}),I()(Ca,"defaultProps",{minPitRangeTs:0,maxPitRangeTs:0});var _a=Ca;function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aa(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ta(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var wa=l.a.Component,Pa=function(e){A()(n,e);var t=Ta(n);function n(){var e;x()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),I()(C()(e),"state",{restoreDisabled:!1,errorCode:"",errorMessage:"",destinationGroupId:e.props.groupId,destinationGroupType:"",destinationOrgName:e.props.orgName,destinationGroupName:e.props.groupName,destinationItems:[],destinationClusterName:"",whitelistedIpCollection:new na.a,step:e.props.isPit?0:1,pitOptionValue:"datetime",pitDate:"",pitTimeUTC:"",pitOplogTs:"",pitOplogInc:"",userAgreedToRestore:!1,minPitRangeTs:0,maxPitRangeTs:0}),I()(C()(e),"componentDidMount",(function(){si.a.loadWhitelist().then((function(t){e.setState({whitelistedIpCollection:t})})),e.loadPITRestoreRange()})),I()(C()(e),"onAuthExpiredSuccess",(function(){e.clearError()})),I()(C()(e),"onUserAgreementInput",(function(t,n){e.setState({userAgreedToRestore:t.target.value===n})})),I()(C()(e),"clearError",(function(){e.setState({errorCode:"",errorMessage:""})})),I()(C()(e),"disableRestoreButton",(function(){e.setState({restoreDisabled:!0})})),I()(C()(e),"getBackupApi",(function(){return e.props.isTenant?U.m.tenantBackup:U.m.backup})),I()(C()(e),"onSelectProject",(function(t){e.setState({destinationGroupId:t.id,destinationGroupName:t.name,destinationOrgName:t.org.name,destinationClusterName:""},(function(){e.loadDestinations()}))})),I()(C()(e),"loadPITRestoreRange",(function(){var t=e.props,n=t.isPit,r=t.groupId,o=t.clusterUniqueId;n&&U.m.backup.getPitRestoreRange(r,o).then((function(t){null==t.start||null==t.end?e.setState({minPitRangeTs:0,maxPitRangeTs:0,errorMessage:"Could not find a base snapshot to perform a point in time restore. Please try again later."}):e.setState({minPitRangeTs:t.start.T,maxPitRangeTs:t.end.T})}),(function(t){e.setState({errorCode:t.errorCode,errorMessage:Object(ut.b)(t)})}))})),I()(C()(e),"onChangeTargetCluster",(function(t){e.setState({destinationClusterName:t.value})})),I()(C()(e),"getChosenPitUTCSeconds",(function(){var t=e.state,n=t.pitOptionValue,r=t.pitDate,o=t.pitTimeUTC;if(!e.props.isPit||"datetime"!==n)return null;var i=ee()("".concat(r," ").concat(o," +0000"),"MM/DD/YYYY HH:mm Z",!0);return i.isValid()?i.unix():-1})),I()(C()(e),"getChosenPitOplogTs",(function(){var t=e.props.isPit,n=e.state,r=n.pitOptionValue,o=n.pitOplogTs;return t&&"optime"===r?o:null})),I()(C()(e),"getChosenPitOplogInc",(function(){var t=e.props.isPit,n=e.state,r=n.pitOptionValue,o=n.pitOplogInc;return t&&"optime"===r?o:null})),I()(C()(e),"handleRestore",ct()(st.a.mark((function t(){var n,r,o,i,a,s,l,c,u,d,p,f,h,m,g;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.groupId,o=n.orgId,i=n.clusterName,a=n.snapshotId,s=n.closeModal,l=n.onRestore,c=n.isPit,u=n.isTenant,d=e.state,p=d.destinationGroupId,f=d.destinationClusterName,W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas ".concat(u?"Shared ":"","Backup Automated Restore Modal"),action:"Clicked Restore Button"},{integrations:Object(W.c)(o)}),e.disableRestoreButton(),h=e.getChosenPitUTCSeconds(),m=e.getChosenPitOplogTs(),g=e.getChosenPitOplogInc(),t.prev=7,t.next=10,e.getBackupApi().performAutomatedRestore(r,a,i,p,f,c,h,m,g);case 10:l(),s(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),e.setState({errorCode:t.t0.errorCode,errorMessage:Object(ut.b)(t.t0)});case 17:return t.prev=17,e.setState({restoreDisabled:!1}),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[7,14,17,20]])})))),I()(C()(e),"loadDestinations",(function(){var t=e.state.destinationGroupId,n=e.props,r=n.isSharded,i=n.snapshotId,a=n.isPit,s=U.m.clusterDescriptions.getClusterDescriptions(t),l=e.getBackupApi().getRestoreDestinationItems(t,r,i,a);Promise.all([s,l]).then((function(t){var n=o()(t,2),r=n[0],i=n[1],a={};r.forEach((function(e){a[e.deploymentClusterName]=e.name}));var s=i.destinationItems.map((function(e){return Na(Na({},e),{},{name:a[e.name]})}));e.setState({destinationGroupType:i.groupType,destinationItems:s})})).catch((function(t){e.setState({errorCode:t.errorCode,errorMessage:Object(ut.b)(t)})}))})),I()(C()(e),"getStartingStep",(function(){return e.props.isPit?0:1})),I()(C()(e),"goToRestoreTargetStep",(function(){var t=e.state,n=t.step,r=t.pitDate,o=t.pitTimeUTC,i=t.pitOplogTs,a=t.pitOplogInc;r&&o||i&&a?(e.clearError(),e.setState({step:Math.min(n+1,1)})):e.setState({errorCode:"",errorMessage:"Please choose a time to restore to"})})),I()(C()(e),"goToChooseRestoreTimeStep",(function(){var t=e.state.step;e.clearError(),e.setState({step:Math.max(t-1,e.getStartingStep())})})),I()(C()(e),"onChangePitOption",(function(t){e.setState({pitOptionValue:t})})),I()(C()(e),"onChangePitDate",(function(t){e.setState({pitDate:t})})),I()(C()(e),"onChangePitTime",(function(t){e.setState({pitTimeUTC:t})})),I()(C()(e),"onChangeOplogTs",(function(t){e.setState({pitOplogTs:t})})),I()(C()(e),"onChangeOplogInc",(function(t){e.setState({pitOplogInc:t})})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.closeModal,n=e.snapshotDate,r=e.snapshotEncrypted,o=e.snapshotEncryptionType,i=e.members,a=e.docsUrl,s=e.isPit,l=this.state,c=l.restoreDisabled,u=l.errorCode,d=l.errorMessage,p=l.destinationGroupName,f=l.destinationGroupType,h=l.destinationOrgName,m=l.destinationItems,g=l.destinationClusterName,b=l.whitelistedIpCollection,v=l.pitOptionValue,y=l.pitDate,O=l.pitTimeUTC,x=l.pitOplogTs,j=l.pitOplogInc,E=l.userAgreedToRestore,S=l.step,C=l.minPitRangeTs,_=l.maxPitRangeTs,A=s?"Point in Time Restore":"Restore ".concat(n);return Object(z.jsx)(Ze.a,{size:"medium",title:A,onClose:t},0==S&&Object(z.jsx)(_a,{closeModal:t,restoreDisabled:c,pitOptionValue:v,errorMessage:d,goToChooseCluster:this.goToRestoreTargetStep,onChangePitOption:this.onChangePitOption,onChangePitDate:this.onChangePitDate,onChangePitTime:this.onChangePitTime,onChangeOplogTs:this.onChangeOplogTs,onChangeOplogInc:this.onChangeOplogInc,pitDate:y,pitTimeUTC:O,pitOplogTs:x,pitOplogInc:j,minPitRangeTs:C,maxPitRangeTs:_}),1==S&&Object(z.jsx)(ja,{closeModal:t,snapshotEncrypted:r,snapshotEncryptionType:o,members:i,docsUrl:a,restoreDisabled:c,errorCode:u,errorMessage:d,destinationGroupType:f,destinationOrgName:h,destinationGroupName:p,destinationItems:m,destinationClusterName:g,whitelistedIpCollection:b,onAuthExpiredSuccess:this.onAuthExpiredSuccess,loadRestoreDestinations:this.loadDestinations,handleRestore:this.handleRestore,onSelectProject:this.onSelectProject,onChangeTargetCluster:this.onChangeTargetCluster,onBackClick:this.goToChooseRestoreTimeStep,isPit:s,userAgreedToRestore:E,onUserAgreementInput:this.onUserAgreementInput,isResilient:this.props.isResilient}))}}]),n}(wa);I()(Pa,"propTypes",{clusterUniqueId:k.a.string.isRequired,clusterName:k.a.string.isRequired,groupId:k.a.string.isRequired,orgId:k.a.string.isRequired,orgName:k.a.string.isRequired,groupName:k.a.string.isRequired,closeModal:k.a.func.isRequired,snapshotDate:k.a.string.isRequired,onRestore:k.a.func.isRequired,docsUrl:k.a.string.isRequired,isTenant:k.a.bool.isRequired,isPit:k.a.bool.isRequired,isResilient:k.a.bool.isRequired,snapshotId:k.a.string.isRequired,isSharded:k.a.bool.isRequired,members:k.a.arrayOf(k.a.shape({snapshotId:k.a.string,rsId:k.a.string,geoSharded:k.a.bool,regions:k.a.arrayOf(k.a.string)})),snapshotEncrypted:k.a.bool.isRequired,snapshotEncryptionType:k.a.oneOf(["NONE","AWS","AZURE","GCP"]).isRequired}),I()(Pa,"defaultProps",{members:[]});var Ra=Pa;function Ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Da=function(e){A()(n,e);var t=Ia(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{showDeleteModal:!1,snapshotToDelete:"",showAutomatedRestoreModal:!1,isSnapshotToRestoreSharded:!1,snapshotToRestore:"",snapshotDate:"",showDownloadModal:!1,snapshotToDownload:"",snapshotEncrypted:!1,snapshotEncryptionType:"NONE",encryptionAtRestId:null,membersOfSnapshotToDownload:null,shownEncryptionKeyIds:[],snapshotsFilter:"ALL",showOnDemandDescriptionModal:!1,onDemandDescription:"",onDemandDate:"",showEditRetentionModal:!1,editRetentionSnapshotId:"",selectedSnapshotTime:"",selectedSnapshotCompletionTime:"",retentionOverrideValue:"",retentionOverrideUnit:"",errorMessage:"",showRegionsModal:!1,regions:[]}),I()(C()(e),"componentDidMount",(function(){e.poller=He.a.create((function(){var t=e.props.updateRestoreStatus;return e.getRestoreJobs().then((function(e){if(e){var n=e.filter((function(e){return!0===e.showRestoreReady}));t(n.length)}}))})),e.startPolling()})),I()(C()(e),"componentWillUnmount",(function(){e.stopPolling()})),I()(C()(e),"getRestoreJobs",(function(){var t=e.props,n=t.groupId,r=t.clusterUniqueId;return t.isTenant?U.m.tenantBackup.getRestores(n,r):U.m.backup.getDiskBackupRestoreHistory(n,r)})),I()(C()(e),"getDownloadButtonDisabledContent",(function(t){return t.encryptionAtRestProvider&&"NONE"!==t.encryptionAtRestProvider?"Snapshots with Encryption at Rest enabled cannot be downloaded.":e.props.liveImportInProgress?"Disabled because a live migration is in progress.":"COMPLETED"!==t.status?"Disabled because the snapshot has not yet completed.":"Disabled because there is already an active download."})),I()(C()(e),"getRestoreButtonDisabledContent",(function(){return e.props.liveImportInProgress?"Disabled because a live migration is in progress.":"Disabled because the snapshot has not yet completed."})),I()(C()(e),"reloadRestoreHistory",(function(){var t=e.props,n=t.groupId,r=t.clusterUniqueId,o=t.isTenant,i=t.loadHistory,a=t.loadTenantRestores;o?a(n,r):i(n,r)})),I()(C()(e),"startPolling",(function(){e.poller.immediate().start(3e3)})),I()(C()(e),"stopPolling",(function(){e.poller&&(e.poller.stop(),e.poller.removeHandlers())})),I()(C()(e),"closeDeleteSnapshot",(function(){e.setState({showDeleteModal:!1,snapshotToDelete:""})})),I()(C()(e),"closeAutomatedRestore",(function(){e.setState({showAutomatedRestoreModal:!1,snapshotToRestore:"",snapshotDate:"",snapshotEncrypted:!1,snapshotEncryptionType:"NONE"})})),I()(C()(e),"closeDownloadSnapshot",(function(){e.setState({showDownloadModal:!1,snapshotToDownload:""})})),I()(C()(e),"closeOnDemandModal",(function(){(0,e.props.setOnDemandModalHidden)(),e.loadData()})),I()(C()(e),"closeEditRetentionModal",(function(){e.setState({showEditRetentionModal:!1})})),I()(C()(e),"closeOnDemandDescriptionModal",(function(){e.setState({showOnDemandDescriptionModal:!1})})),I()(C()(e),"closeRegionsModal",(function(){e.setState({showRegionsModal:!1})})),I()(C()(e),"editRetentionClicked",(function(t){var n=ka(t.retentionInMillis,t.retentionUnit);e.setState({editRetentionSnapshotId:t.id,selectedSnapshotTime:t.creationDate,selectedSnapshotCompletionTime:t.completionDate,retentionOverrideValue:String(n),retentionOverrideUnit:t.retentionUnit,showEditRetentionModal:!0,errorMessage:""})})),I()(C()(e),"downloadClicked",(function(t,n,r,o,i,a){var s=e.props,l=s.isTenant,c=s.orgId;W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas ".concat(l?"Shared ":"","Backup Snapshots Tab"),action:"Clicked Download Button"},{integrations:Object(W.c)(c)}),e.setState({showDownloadModal:!0,snapshotToDownload:t,snapshotDate:e.formatDateTime(l?r:n),encryptionAtRestId:i,membersOfSnapshotToDownload:a})})),I()(C()(e),"restoreClicked",(function(t){var n=e.props,r=n.isTenant,o=n.orgId;W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas ".concat(r?"Shared ":"","Backup Snapshots Tab"),action:"Clicked Restore Button"},{integrations:Object(W.c)(o)}),e.setState({showAutomatedRestoreModal:!0,snapshotToRestore:t.id,snapshotDate:e.formatDateTime(r?t.completedDate:t.creationDate),snapshotEncrypted:!!t.encryptionAtRestProvider&&"NONE"!==t.encryptionAtRestProvider,snapshotEncryptionType:t.encryptionAtRestProvider||"NONE",isSnapshotToRestoreSharded:!!t.members&&t.members.length>1,members:t.members,isResilient:"FALLBACK"===t.type})})),I()(C()(e),"trashClicked",(function(t){var n=e.props,r=n.isTenant,o=n.orgId;W.d.track(W.b.UX_ACTION_PERFORMED,{category:"Atlas ".concat(r?"Shared ":"","Backup Snapshots Tab"),label:"Clicked Delete Button"},{integrations:Object(W.c)(o)}),e.setState({showDeleteModal:!0,snapshotToDelete:t})})),I()(C()(e),"onRetentionValueChange",(function(t){var n="";pa(t)||(n="Retention value invalid. Please enter a whole number."),e.setState({errorMessage:n,retentionOverrideValue:t})})),I()(C()(e),"onRetentionUnitChange",(function(t){e.setState({retentionOverrideUnit:t.value})})),I()(C()(e),"formatDateTime",(function(t){if(!t)return"N/A";var n=e.props.settingsModel.get("TIME_ZONE_ID")||"UTC";return ee()(t).tz(n).format("MM/DD/YY - hh:mm A")})),I()(C()(e),"shouldDisableButton",(function(t,n){var r=e.props,o=r.restoreHistory,i=r.settingsModel;if(e.props.liveImportInProgress)return!0;var a=o.some((function(e){return!1===e.expired&&!1===e.canceled&&null===e.finishedDate&&e.snapshotId===t.id&&e.deliveryType===n})),s=n===Li.b.MANUAL_DOWNLOAD&&!!t.encryptionAtRestProvider&&"NONE"!==t.encryptionAtRestProvider&&!i.hasProjectFeature("CPS_DOWNLOAD_ENCRYPTED_SNAPSHOT");return a||s||"COMPLETED"!==t.status})),I()(C()(e),"snapshotIsQueued",(function(t){return e.props.snapshots.some((function(e){return e.id===t&&"QUEUED"===e.status}))})),I()(C()(e),"snapshotIsInProgress",(function(t){return e.props.snapshots.some((function(e){return e.id===t&&"IN_PROGRESS"===e.status}))})),I()(C()(e),"loadData",(function(){var t=e.props,n=t.groupId,r=t.clusterUniqueId,o=t.isTenant,i=t.loadBackups,a=t.loadHistory,s=t.loadTenantSnapshots,l=t.loadTenantRestores;o?(s(n,r),l(n,r)):(i(n,r),a(n,r))})),I()(C()(e),"disableCellText",(function(e){return"COMPLETED"===e.status?"":"snapshots-table-disabled"})),I()(C()(e),"handleEditRetention",(function(){var t=e.props,n=t.groupId,r=t.clusterUniqueId,o=t.loadBackups,i=e.state,a=i.editRetentionSnapshotId,s=i.retentionOverrideValue,l=i.retentionOverrideUnit,c=parseInt(s);U.m.backup.editSnapshotRetention(n,a,c,l).then((function(){o(n,r),e.closeEditRetentionModal()})).catch((function(t){e.setState({errorMessage:Object(ut.b)(t)})}))})),I()(C()(e),"filterSnapshots",(function(t){var n=e.state.snapshotsFilter;return"ON_DEMAND"===n?t.filter((function(e){return"FALLBACK"===e.type&&"ON_DEMAND"===e.frequency||"ON_DEMAND"===e.type})):"POLICY"==n?t.filter((function(e){return"FALLBACK"===e.type&&"ON_DEMAND"!==e.frequency||"SCHEDULED"===e.type})):t})),I()(C()(e),"getSnapshotsFilterOptions",(function(){return[{label:"All",value:"ALL"},{label:"On-Demand",value:"ON_DEMAND"},{label:"Policy",value:"POLICY"}]})),I()(C()(e),"getFrequencyLabel",(function(e){switch(e){case"HOURLY":return"Hourly";case"DAILY":return"Daily";case"WEEKLY":return"Weekly";case"MONTHLY":return"Monthly";case"ON_DEMAND":return"On-Demand";default:return"Invalid"}})),I()(C()(e),"handleShowEncryptionKeyId",(function(t){e.state.shownEncryptionKeyIds.includes(t.id)?e.setState((function(e){return{shownEncryptionKeyIds:e.shownEncryptionKeyIds.filter((function(e){return e!==t.id}))}})):e.setState((function(e){return{shownEncryptionKeyIds:[].concat(yn()(e.shownEncryptionKeyIds),[t.id])}}))})),I()(C()(e),"showOnDemandDescription",(function(t){e.setState({showOnDemandDescriptionModal:!0,onDemandDescription:t.description,onDemandDate:t.creationDate})})),I()(C()(e),"showRegions",(function(t){e.setState({showRegionsModal:!0,regions:t.regions})})),e}return E()(n,[{key:"render",value:function(){var e=this,t=this.props,r=t.snapshots,o=t.groupId,i=t.orgId,a=t.clusterName,s=t.clusterUniqueId,c=t.settingsModel,u=t.loadBackups,d=t.orgName,p=t.groupName,f=t.snapshotsPageSize,h=t.isTenant,m=t.showOnDemandModal,g=t.showPitModal,b=t.setPitModalHidden,v=this.state,y=v.showDeleteModal,O=v.snapshotToDelete,x=v.showDownloadModal,j=v.snapshotToDownload,E=v.membersOfSnapshotToDownload,S=v.showAutomatedRestoreModal,C=v.snapshotToRestore,_=v.snapshotDate,A=v.snapshotEncrypted,N=v.snapshotEncryptionType,T=v.encryptionAtRestId,w=v.isSnapshotToRestoreSharded,P=v.shownEncryptionKeyIds,R=v.snapshotsFilter,I=v.editRetentionSnapshotId,D=v.selectedSnapshotTime,k=v.selectedSnapshotCompletionTime,M=v.retentionOverrideValue,U=v.retentionOverrideUnit,F=v.showEditRetentionModal,B=v.errorMessage,V=v.members,q=v.showOnDemandDescriptionModal,G=v.onDemandDescription,H=v.onDemandDate,W=v.showRegionsModal,Y=v.regions,K=v.isResilient,Z=g||S,$=g?b:this.closeAutomatedRestore,X=c.hasProjectFeature("CPS_DIRECT_ATTACH");return Object(z.jsx)("section",null,Object(z.jsx)(L.a,{load:function(){return e.loadData()},hasTopSpacing:!0,renderWhenLoaded:!0},0===r.length?Object(z.jsx)("div",null,Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"empty-view empty-view-has-no-border"},Object(z.jsx)("img",{alt:"Disk Snapshots",className:"empty-view-image empty-view-image-no-padding",src:"/static/images/icon_empty_snapshots.svg"}),Object(z.jsx)("div",{className:"empty-view-text empty-view-text-is-heading"},"No Snapshots Available"),Object(z.jsx)("div",{className:"empty-view-text empty-view-text-is-sub-heading"},"Once your snapshots become available you will be able to see them here.")))):Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",{className:"snapshots-table-button-row"},!h&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",{className:"snapshots-table-view-snapshots-by-label"},"View Snapshots by:"),Object(z.jsx)(ha.a,{buttonClassName:"button-is-xs",options:this.getSnapshotsFilterOptions(),value:R,onChange:function(t){e.setState({snapshotsFilter:t})}}))),h&&Object(z.jsx)("div",{className:"snapshots-table-header"},"All Daily Snapshots"),Object(z.jsx)(Pi.a,{data:this.filterSnapshots(r),empty:"No Snapshots Available.",headerCellClassName:"plain-table-column-header plain-table-column-header-is-borderless",tableClassName:"table table-new table-has-top-margin",pageSize:f},!h&&Object(z.jsx)(Pi.a.Column,{accessor:"creationDate",cell:function(t){var n=t.data;return Object(z.jsx)(Pi.a.Cell,{key:"creationDate".concat(n.creationDate),className:e.disableCellText(n)},Object(z.jsx)("div",{className:"snapshots-table-creation-date-items"},n.creationDate&&Object(z.jsx)(wi.a,{isoString:n.creationDate,className:"snapshots-table-creation-date"}),"FALLBACK"===n.type&&Object(z.jsx)(Tt.a,{content:Object(z.jsx)("div",null,"This snapshot may contain inconsistent data, click for more information")},Object(z.jsx)("a",{href:"https://dochub.mongodb.org/core/atlas-resilient-backups"},Object(z.jsx)(lo.a,{glyph:"Warning",size:"small",fill:co.uiColors.yellow.base,className:"snapshots-table-resilient-icon"}))),!n.creationDate&&"SCHEDULED"===n.type&&Object(z.jsx)("i",null,"Scheduled"),!n.creationDate&&"ON_DEMAND"===n.type&&Object(z.jsx)("i",null,"On Demand Snapshot")))},header:"Time Created",sortable:!0,showSortable:!0}),h&&Object(z.jsx)(Pi.a.Column,{accessor:"completedDate",cell:function(t){var n=t.data;return Object(z.jsx)(Pi.a.Cell,{key:"completedDate".concat(n.completedDate),className:e.disableCellText(n)},n.completedDate&&Object(z.jsx)(wi.a,{isoString:n.completedDate}),!n.completedDate&&Object(z.jsx)("i",null,"TBD"))},header:"Completed Time",sortable:!0,showSortable:!0}),h&&Object(z.jsx)(Pi.a.Column,{accessor:"expirationDate",cell:function(t){var n=t.data;return Object(z.jsx)(Pi.a.Cell,{key:"expirationDate".concat(n.expirationDate),className:e.disableCellText(n)},n.expirationDate&&Object(z.jsx)(wi.a,{isoString:n.expirationDate}),!n.expirationDate&&Object(z.jsx)("i",null,"TBD"))},header:"Expiration Time",sortable:!0,showSortable:!0}),!h&&Object(z.jsx)(Pi.a.Column,{accessor:"retentionInMillis",cell:function(t){var n=t.data;return Object(z.jsx)(Pi.a.Cell,{key:"retentionInMillis".concat(n.retentionInMillis),className:e.disableCellText(n)},Ma(n.retentionInMillis,n.retentionUnit),"COMPLETED"===n.status&&Object(z.jsx)("a",{onClick:function(){return e.editRetentionClicked(n)},role:"button",tabIndex:"0"},"Â Edit"))},header:"Retention",sortable:!0,showSortable:!0}),!h&&Object(z.jsx)(Pi.a.Column,{accessor:"frequency",cell:function(t){var n=t.data;return Object(z.jsx)(Pi.a.Cell,{key:"frequency".concat(n.frequency),className:e.disableCellText(n)},"ON_DEMAND"!==n.frequency&&e.getFrequencyLabel(n.frequency),"ON_DEMAND"===n.frequency&&Object(z.jsx)("span",null,e.getFrequencyLabel(n.frequency)," ",Object(z.jsx)("a",{onClick:function(){return e.showOnDemandDescription(n)},role:"button",tabIndex:"0",name:"frequencyLink"}," ","See description")))},header:"Frequency",sortable:!0,showSortable:!0}),!h&&Object(z.jsx)(Pi.a.Column,{accessor:"shardCount",cell:function(t){var n=t.data;return Object(z.jsx)(Pi.a.Cell,{key:"shardCount".concat(n.shardCount),className:e.disableCellText(n)},!n.members&&1===n.shardCount&&"Replica Set",n.members&&1===n.shardCount&&"Sharded - ".concat(n.shardCount," shard"),n.members&&n.shardCount>1&&"Sharded - ".concat(n.shardCount," shards"))},header:"Cluster Type",sortable:!0,showSortable:!0}),!h&&X&&Object(z.jsx)(Pi.a.Column,{accessor:"regions",cell:function(t){var n=t.data;return Object(z.jsx)(Pi.a.Cell,{key:"shardCount".concat(n.regions),className:e.disableCellText(n)},!n.regions&&"N/A",n.regions&&1===n.regions.length&&n.regions[0],n.regions&&n.regions.length>1&&Object(z.jsx)("span",null,"Mixed -",Object(z.jsx)("a",{onClick:function(){return e.showRegions(n)},role:"button",tabIndex:"0",name:"regionLink"}," ","See All")))},header:"Location",sortable:!0,showSortable:!0}),Object(z.jsx)(Pi.a.Column,{accessor:"usedDiskSpaceInBytes",cell:function(t){return Object(z.jsx)(Pi.a.Cell,{key:"usedDiskSpaceInBytes".concat(t.value),className:e.disableCellText(t.data)},null==t.value?Object(z.jsx)("i",null,"TBD"):n.getFormattedBytes(t.value))},header:"Used Size",sortable:!0,showSortable:!0}),Object(z.jsx)(Pi.a.Column,{accessor:"mongoDbVersion",cell:function(t){var n=t.data;return Object(z.jsx)(Pi.a.Cell,{key:"mongoDbVersion".concat(n.mongoDbVersion),className:e.disableCellText(n)},n.mongoDbVersion)},header:"MongoDB Version",sortable:!0,showSortable:!0}),!h&&Object(z.jsx)(Pi.a.Column,{accessor:"encryptionAtRestId",header:"Encryption Key ID",cell:function(t){var n=t.data;return Object(z.jsx)(Pi.a.Cell,{key:"encryptionAtRestId".concat(n.encryptionAtRestId),className:e.disableCellText(n)},"NONE"===n.encryptionAtRestProvider&&Object(z.jsx)("i",null,"Not enabled"),["AWS","AZURE","GCP"].includes(n.encryptionAtRestProvider)&&Object(z.jsx)("span",null,"Enabled"," ",Object(z.jsx)("a",{onClick:function(){return e.handleShowEncryptionKeyId(n)},role:"button",tabIndex:"0"},P.includes(n.id)?"Hide":"Show"," ID")),!n.encryptionAtRestProvider&&Object(z.jsx)("i",null,"TBD"))},sortable:!0,showSortable:!0}),Object(z.jsx)(Pi.a.Column,{cell:function(t){var n=t.data;return Object(z.jsx)(Pi.a.Cell,{key:"snapshotId".concat(n.id),className:e.disableCellText(n)},Object(z.jsx)(Tt.a,{content:e.getRestoreButtonDisabledContent(),hide:!e.shouldDisableButton(n,null)},Object(z.jsx)(Xe.a,{variant:"info",size:"xsmall",className:"backupRestore",name:"restoreSnapshot",key:n.id,disabled:e.shouldDisableButton(n,null),onClick:function(){e.restoreClicked(n)}},"Restore")),Object(z.jsx)(Tt.a,{content:e.getDownloadButtonDisabledContent(n),hide:!e.shouldDisableButton(n,"MANUAL_DOWNLOAD")},Object(z.jsx)(Xe.a,{name:"downloadSnapshot",className:"button-has-margin-left backupDownload",size:"xsmall",onClick:function(){e.downloadClicked(n.id,n.creationDate,n.completedDate,n.clusterName,n.encryptionAtRestId,h?[]:n.members)},disabled:e.shouldDisableButton(n,"MANUAL_DOWNLOAD")},"Download")),!h&&Object(z.jsx)(Xe.a,{name:"deleteSnapshot",size:"xsmall",className:"button-has-margin-left button-is-icon",disabled:e.snapshotIsInProgress(n.id)||e.snapshotIsQueued(n.id),onClick:function(){e.trashClicked(n.id)}},Object(z.jsx)("i",{className:"fa fa-trash-o"})))},header:"Actions"}),!h&&Object(z.jsx)(Pi.a.Row,{show:function(e){return"COMPLETED"!==e.status||e.encryptionAtRestId},cell:function(t){var n=t.data;return Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(Pi.a.Cell,{key:"status".concat(n.id),colSpan:7,className:"snapshots-table-no-border-cell"},"COMPLETED"!==n.status&&Object(z.jsx)("span",{className:"snapshots-table-status-bar"},Object(z.jsx)("span",{className:"snapshots-table-status-bar-label"},"Status"),"FAILED"===n.status&&Object(z.jsx)("span",{className:"snapshots-table-status-bar-description-failed"},"Taking snapshot failed"),"QUEUED"===n.status&&Object(z.jsx)("span",{className:"snapshots-table-status-bar-description"},"Waiting in Queue"),"IN_PROGRESS"===n.status&&Object(z.jsx)("span",{className:"snapshots-table-status-bar-description"},"Taking Snapshot"),e.snapshotIsQueued(n.id)&&Object(z.jsx)(Xe.a,{name:"deleteSnapshot",className:"button-has-margin-left button-is-xs snapshots-table-status-bar-button",onClick:function(){e.trashClicked(n.id)}},"Cancel"))),Object(z.jsx)(Pi.a.Cell,{colSpan:2,className:"snapshots-table-no-border-cell"},P.includes(n.id)&&Object(z.jsx)("span",{className:"snapshots-table-status-bar"},Object(z.jsx)("span",{className:"snapshots-table-status-bar-label"},"Key ID"),Object(z.jsx)("span",null,n.encryptionAtRestId))))}}))),y&&Object(z.jsx)(Wi,{groupId:o,clusterUniqueId:s,snapshotId:O,closeModal:this.closeDeleteSnapshot,loadBackups:u,onDeleteSnapshot:this.reloadRestoreHistory,snapshotIsQueued:this.snapshotIsQueued(O),orgId:i}),Z&&Object(z.jsx)(Ra,{clusterUniqueId:s,clusterName:a,groupId:o,groupName:p,orgId:i,orgName:d,snapshotId:C,snapshotDate:_,closeModal:$,onRestore:this.reloadRestoreHistory,snapshotEncrypted:A,snapshotEncryptionType:N,isSharded:w,members:V,docsUrl:c.getDocsUrl(),isTenant:h,isPit:g,isResilient:K}),x&&Object(z.jsx)(ia,{groupId:o,snapshotId:j,clusterName:a,members:E,snapshotDate:_,docsUrl:c.getDocsUrl(),closeModal:this.closeDownloadSnapshot,onDownload:this.reloadRestoreHistory,isTenant:h,isEncryptedSnapshotEnabled:c.hasProjectFeature("CPS_DOWNLOAD_ENCRYPTED_SNAPSHOT"),encryptionAtRestId:T,centralUrl:c.getCentralUrl(),orgId:i}),m&&Object(z.jsx)(kt,{closeModal:this.closeOnDemandModal,clusterName:a,clusterUniqueId:s,groupId:o,orgId:i}),F&&Object(z.jsx)(fa,{closeModal:this.closeEditRetentionModal,clusterUniqueId:s,groupId:o,snapshotId:I,snapshotTime:D,completionTime:k,retentionValue:M,retentionUnit:U,onRetentionValueChange:this.onRetentionValueChange,onRetentionUnitChange:this.onRetentionUnitChange,onEditRetentionClicked:this.handleEditRetention,errorMessage:B}),q&&Object(z.jsx)(ga,{date:H,description:G,closeModal:this.closeOnDemandDescriptionModal}),W&&Object(z.jsx)(va,{regions:Y,closeModal:this.closeRegionsModal})))}}],[{key:"getFormattedBytes",value:function(e){var t=Qn.a(e);return"".concat(t.size," ").concat(t.unit)}}]),n}(l.a.Component);Da.propTypes={snapshots:k.a.arrayOf(k.a.object).isRequired,groupId:k.a.string.isRequired,orgId:k.a.string.isRequired,clusterName:k.a.string.isRequired,clusterUniqueId:k.a.string.isRequired,settingsModel:k.a.instanceOf(re.a).isRequired,loadBackups:k.a.func.isRequired,groupName:k.a.string.isRequired,orgName:k.a.string.isRequired,updateRestoreStatus:k.a.func.isRequired,restoreHistory:k.a.arrayOf(k.a.object).isRequired,loadHistory:k.a.func.isRequired,snapshotsPageSize:k.a.number,isTenant:k.a.bool.isRequired,liveImportInProgress:k.a.bool.isRequired,loadTenantSnapshots:k.a.func.isRequired,loadTenantRestores:k.a.func.isRequired,showOnDemandModal:k.a.bool.isRequired,setOnDemandModalHidden:k.a.func.isRequired,showPitModal:k.a.bool.isRequired,setPitModalHidden:k.a.func.isRequired},Da.defaultProps={snapshotsPageSize:10};var ka=function(e,t){switch(t){case"days":return Math.round(e/864e5);case"weeks":return Math.round(e/6048e5);case"months":return Math.round(e/24192e5);default:return-1}},Ma=function(e,t){return t&&-1!=e?"".concat(ka(e,t)," ").concat(t):"TBD"},La=Object(Ei.connect)((function(e,t){return{snapshots:t.isTenant?Mi.d(e):ki.c(e),restoreHistory:t.isTenant?Mi.c(e):ki.b(e)}}),{loadBackups:ki.g,loadHistory:ki.f,loadTenantSnapshots:Mi.g,loadTenantRestores:Mi.f})(Da),Ua=n(75),Fa=n.n(Ua),Ba=n(116),za=n.n(Ba),Va=n(959),qa=n(984),Ga=n(940),Ha=n(933);function Wa(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ya(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Za=function(e){A()(n,e);var t=Ka(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"buildOldSnapshotMap",(function(){var t,n={},r=Wa(e.props.allSnapshots);try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o.id]=o}}catch(e){r.e(e)}finally{r.f()}return n})),I()(C()(e),"getLabel",(function(e,t){var n=t[e.id],r=n.creationDate,o=n.retentionInMillis,i=n.retentionUnit,a=e.retentionInMillis,s=e.retentionUnit,c=Ma(o,i),u=Ma(a,s),d=a>o?"text-is-green":"text-is-red";return Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("span",null,r," : "),Object(z.jsx)("span",null,c," -> "),Object(z.jsx)("em",{className:d},u))})),e}return E()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.closeModal,r=t.snapshotsAffectedByPolicy,o=this.buildOldSnapshotMap();return Object(z.jsx)(Ze.a,{size:"small",title:"Snapshots will be affected",onClose:n},Object(z.jsx)(M.a,{level:"danger",className:"nds-backup-policy-form-delete-warning"},Object(z.jsx)("i",{className:"fa fa-exclamation-triangle nds-backup-policy-form-delete-warning-icon"}),Object(z.jsx)("b",null,"Your existing snapshots' retention will be affected.")," ",r.length," snapshots will be affected as a result of the new policy configurations. ",Object(z.jsx)("br",null),Object(z.jsx)("br",null),Object(z.jsx)("div",null,r.map((function(t){return Object(z.jsx)("li",{key:t.id},e.getLabel(t,o))})))),Object(z.jsx)(Ze.a.ModalFooter,null,Object(z.jsx)(Xe.a,{name:"quit",onClick:n},"Close")))}}]),n}(l.a.Component);I()(Za,"propTypes",{closeModal:k.a.func.isRequired,allSnapshots:k.a.arrayOf(k.a.object).isRequired,snapshotsAffectedByPolicy:k.a.arrayOf(k.a.object)});var $a=Za;function Xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Ja=function(e){A()(n,e);var t=Xa(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"loadData",(function(){var t=e.props,n=t.groupId,r=t.clusterUniqueId;(0,t.loadBackups)(n,r)})),I()(C()(e),"onReferenceHourChange",(function(t){var n=e.props,r=n.updateReferenceTime,o=n.referenceTimeInMins%60;r(60*t.value+o)})),I()(C()(e),"onReferenceMinuteChange",(function(t){var n=e.props,r=n.updateReferenceTime,o=n.referenceTimeInMins;r(60*Math.floor(o/60)+t.value)})),I()(C()(e),"onOplogWindowChange",(function(t){(0,e.props.updateOplogWindow)(t.value)})),I()(C()(e),"getHourOptions",(function(){return J.a.range(0,24).map((function(e){var t="0".concat(e).slice(-2);return{label:"".concat(t),value:e}}))})),I()(C()(e),"getMinuteOptions",(function(){return J.a.range(0,60).map((function(e){var t="0".concat(e).slice(-2);return{label:"".concat(t),value:e}}))})),I()(C()(e),"getOplogWindowOptions",(function(){var t=e.props.maxRestoreWindow;return J.a.range(1,t+1).map((function(e){return{label:"".concat(e),value:e}}))})),I()(C()(e),"addNewPolicyItem",(function(){(0,e.props.addBackupPolicyItem)(e.getNewPolicyItem())})),I()(C()(e),"getNewPolicyItem",(function(){var t=e.props,n=t.backupPolicyItems,r=t.isNvme,o=n.some((function(e){return"HOURLY"===e.frequencyType})),i=n.some((function(e){return"DAILY"===e.frequencyType}));return o?i?{id:(new Ha.ObjectID).toString(),frequencyInterval:6,frequencyType:"WEEKLY",retention:6,retentionUnit:"WEEKS"}:{id:(new Ha.ObjectID).toString(),frequencyInterval:1,frequencyType:"DAILY",retention:7,retentionUnit:"DAYS"}:r?{id:(new Ha.ObjectID).toString(),frequencyInterval:12,frequencyType:"HOURLY",retention:4,retentionUnit:"DAYS"}:{id:(new Ha.ObjectID).toString(),frequencyInterval:6,frequencyType:"HOURLY",retention:2,retentionUnit:"DAYS"}})),I()(C()(e),"getTimeFromTimeZone",(function(){var t=e.props.timeZoneId||"Etc/UTC";return e.getUTCMomentFromRefTime().tz(t).format("HH:mm (zz)")})),I()(C()(e),"getUTCMomentFromRefTime",(function(){var t=e.props.referenceTimeInMins,n=Math.floor(t/60),r=t%60,o="".concat(n,":").concat(r);return Ct.a.utc(o,"HH:mm")})),I()(C()(e),"getTimeUTC",(function(){return e.getUTCMomentFromRefTime().format("HH:mm UTC")})),I()(C()(e),"getIntervalOptionsForFrequencyUnit",(function(t){for(var n=e.props.isNvme,r=[{label:"First day of month",value:1},{label:"Last day of month",value:40}],o=2;o<=28;o++){var i=void 0;switch(o){case 2:i="2nd";break;case 3:i="3rd";break;case 21:i="21st";break;case 22:i="22nd";break;case 23:i="23rd";break;default:i="".concat(o,"th")}r.push({label:"".concat(i," of month"),value:o})}switch(t){case"HOURLY":return n?[{label:"12 hours",value:12}]:[{label:"1 hour",value:1},{label:"2 hours",value:2},{label:"4 hours",value:4},{label:"6 hours",value:6},{label:"8 hours",value:8},{label:"12 hours",value:12}];case"DAILY":return[{label:"N/A",value:1}];case"WEEKLY":return[{label:"Monday",value:1},{label:"Tuesday",value:2},{label:"Wednesday",value:3},{label:"Thursday",value:4},{label:"Friday",value:5},{label:"Saturday",value:6},{label:"Sunday",value:7}];case"MONTHLY":return r;default:return[]}})),I()(C()(e),"groupByFrequencyInterval",(function(e,t){return"MONTHLY"!==e?"":1===t||40===t?"Frequent Options":"Custom Dates"})),I()(C()(e),"calculateEstimateNumberOfSnapshots",(function(){for(var t=e.props.backupPolicyItems,n=0,r=0;r<t.length;r++){var o=t[r],i=e.getFrequencyInMillis(o.frequencyInterval,o.frequencyType),a=es(o.retention,o.retentionUnit);n+=Math.round(a/i)}return n})),I()(C()(e),"getFrequencyInMillis",(function(e,t){switch(t){case"HOURLY":return 36e5*e;case"DAILY":return 864e5;case"WEEKLY":return 6048e5;case"MONTHLY":return 24192e5;default:return-1}})),I()(C()(e),"countOverridenSnapshots",(function(){var t=e.props.allSnapshots;if(!t||0==t.length)return 0;for(var n=0,r=0;r<t.length;r++){n+=t[r].overrideRetentionPolicy?1:0}return n})),e}return E()(n,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this,t=this.props,n=t.docsUrl,r=t.referenceTimeInMins,o=t.restoreWindowDays,i=t.isPitAvailable,a=t.backupPolicyItems,s=t.allSnapshots,l=t.isPolicyModified,c=t.removeBackupPolicyItem,u=t.toggleSnapshotRemovalModal,d=t.showSaveMessage,p=t.error,f=t.displayDeletePolicyWarning,h=t.shouldShowRemovalModal,m=t.snapshotsAffectedByPolicy,g=t.updateBackupPolicyData,b=t.cancelBackupChanges,v=t.onSaveClick,y=t.updateExistingSnapshots,O=t.toggleUpdateSnapshots,x=Math.floor(r/60),j=r%60,E=this.calculateEstimateNumberOfSnapshots();return Object(z.jsx)("div",{className:"section-content nds-backup-policy-form-is-bounded"},Object(z.jsx)("div",{className:"nds-backup-policy-form-section"},Object(z.jsx)("h4",null,"BACKUP POLICY TIME")),Object(z.jsx)("div",{className:"nds-backup-policy-form-section"},Object(z.jsx)("label",{className:"nds-backup-policy-form-label"},"Snapshot Time (UTC)"),Object(z.jsx)("br",null),Object(z.jsx)(aa.a,{value:x,options:this.getHourOptions(),onChange:this.onReferenceHourChange,className:"nds-backup-policy-form-time-select"}),Object(z.jsx)("label",{className:"nds-backup-policy-form-time-label-hour"},"hr"),Object(z.jsx)(aa.a,{value:j,options:this.getMinuteOptions(),onChange:this.onReferenceMinuteChange,className:"nds-backup-policy-form-time-select"}),Object(z.jsx)("label",{className:"nds-backup-policy-form-time-label-minute"},"min"),Object(z.jsx)("div",{className:"nds-backup-policy-form-small nds-backup-policy-form-small-time"},"* Your selected time zone: ",this.getTimeFromTimeZone(),Object(z.jsx)("br",null),"**This snapshot time applies to all rows in the table below."),Object(z.jsx)("div",{className:"nds-backup-policy-form-small nds-backup-policy-form-small-time"})),Object(z.jsx)("div",{className:"nds-backup-policy-form-section"},Object(z.jsx)("h4",null,"BACKUP POLICY FREQUENCY AND RETENTION")),Object(z.jsx)("div",{className:"nds-backup-policy-form-section"},Object(z.jsx)(Va.a,{columns:[{field:"frequencyType",propagates:!1,title:Object(z.jsx)("span",null,"Frequency Unit",Object(z.jsx)(Tt.a,{content:"Choose how frequently to take snapshots. Select 1 of 4 options per row: Hourly, Daily, Weekly, Monthly. You can add more than 1 of Weekly and/or Monthly frequencies only."},Object(z.jsx)("i",{className:"fa fa-info-circle tooltip-icon"}))),component:Object(qa.d)({options:[{label:"Hourly Snapshot",value:"HOURLY"},{label:"Daily Snapshot",value:"DAILY"},{label:"Weekly Snapshot",value:"WEEKLY"},{label:"Monthly Snapshot",value:"MONTHLY"}],searchable:!1}),headerClassName:"nds-backup-policy-form-column-header-is-large",isDisabled:function(e){return!e.newItem}},{field:"frequencyInterval",propagates:!1,title:"Every",render:function(t){var n=t.data,r=za()(t,["data"]);return Object(z.jsx)(qa.c,Fa()({options:e.getIntervalOptionsForFrequencyUnit(n.frequencyType),groupBy:function(t){var r=t.value;return e.groupByFrequencyInterval(n.frequencyType,r)}},r))},headerClassName:"nds-backup-policy-form-column-header-is-large",isApplicable:function(e){return"DAILY"!==e.frequencyType}},{field:"retention",propagates:!1,title:Object(z.jsx)("span",null,"Retention Time",Object(z.jsx)(Tt.a,{content:"Note that less frequent policy item needs to have longer retention time than more frequent ones. (ex. Monthly snapshot needs longer retention than daily snapshot.)"},Object(z.jsx)("i",{className:"fa fa-info-circle tooltip-icon"}))),titleColSpan:2,component:Object(Ga.b)({name:"retentionTime"}),headerClassName:"nds-backup-policy-form-column-header-is-xs"},{field:"retentionUnit",propagates:!1,component:Object(qa.d)({options:[{label:"days",value:"DAYS"},{label:"weeks",value:"WEEKS"},{label:"months",value:"MONTHS"}],searchable:!1}),headerClassName:"nds-backup-policy-form-column-header-is-xs"},{field:"snapshotTime",propagates:!1,title:"Snapshot Time",isDisabled:function(){return!0},component:Object(Ga.b)({name:"snapshotTime",placeholder:this.getTimeUTC()}),headerClassName:"nds-backup-policy-form-column-header-is-xs"},{field:"delete",propagates:!1,title:"",key:"delete",render:function(e){var t=e.data;return Object(z.jsx)(Xe.a,{name:"delete",disabled:!1,size:"xsmall",onClick:function(){return c(t.id)}},"DELETE")},headerClassName:"nds-backup-policy-form-column-header-is-xs"}],data:a,onChange:function(e){var t=e.getUpdatedData;return g(t())},structure:{expandable:!1,rowKey:function(e){return e.id}}}),Object(z.jsx)(Xe.a,{name:"addNewFrequencyItem",className:"nds-backup-policy-form-add-button",value:"Add Frequency Unit",onClick:this.addNewPolicyItem},"+ Add Frequency Unit"),Object(z.jsx)("div",{className:"nds-backup-policy-form-small nds-backup-policy-form-small-policy"},"*Once a frequency unit has been created, it cannot be changed later. Snapshot interval and retention time can be further edited. More information on",Object(z.jsx)("a",{href:"".concat(n,"/backup/cloud-provider-snapshots/#snapshot-scheduling-and-retention-policy"),target:"_blank"}," ","Backup Policy docs.")),Object(z.jsx)("div",{className:"nds-backup-policy-form-small nds-backup-policy-form-small-time"}),i&&Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"nds-backup-policy-form-section"},Object(z.jsx)("h4",null,"POINT IN TIME RESTORE POLICY")),Object(z.jsx)("div",{className:"nds-backup-policy-form-section"},Object(z.jsx)("label",{className:"nds-backup-policy-form-label"},"Restore Window"),Object(z.jsx)("br",null),Object(z.jsx)(aa.a,{value:o,options:this.getOplogWindowOptions(),onChange:this.onOplogWindowChange,className:"nds-backup-policy-form-oplog-select"}),Object(z.jsx)("label",{className:"nds-backup-policy-form-oplog-label"},"Days")),Object(z.jsx)("div",{className:"nds-backup-policy-form-small nds-backup-policy-form-small-time"},"* The maximum restore window cannot exceed the hourly retention time.")),Object(z.jsx)("div",{className:"nds-backup-policy-form-section nds-backup-policy-form-checkbox-area"},Object(z.jsx)("input",{type:"checkbox",className:"wizard-form-checkbox-input",name:"toggleUpdateSnapshots",checked:y,onChange:O})," ",Object(z.jsx)("span",null,"Apply policy retention changes to existing snapshots")),Object(z.jsx)("div",{className:"nds-backup-policy-form-footer-note"},"Projecting an estimate total count of ",E," snapshots with the above configuration.Â ",this.countOverridenSnapshots()," existing snapshots' retention time have been manually edited. Â ",Object(z.jsx)("a",{target:"_blank",href:"".concat(n,"/billing/cluster-configuration-costs/#billing-backup-cloud-provider-snapshots")},"view billing docs"))),f&&Object(z.jsx)(M.a,{level:"danger",className:"nds-backup-policy-form-delete-warning",name:"save-alert"},Object(z.jsx)("i",{className:"fa fa-exclamation-triangle nds-backup-policy-form-delete-warning-icon"}),Object(z.jsx)("b",null,"Your existing snapshots will be affected.")," ",Object(z.jsx)("a",{role:"link",onClick:function(){return u(!0)},tabIndex:0},"See full list of snapshots")),h&&Object(z.jsx)($a,{closeModal:function(){return u(!1)},allSnapshots:s,snapshotsAffectedByPolicy:m}),Object(z.jsx)("div",{className:"nds-backup-policy-form-section"},p&&Object(z.jsx)(M.a,{level:"danger"},p)),Object(z.jsx)("div",{className:"nds-backup-policy-form-section nds-backup-policy-form-actions-section"},Object(z.jsx)(Xe.a,{name:"save",onClick:v,variant:"primary",className:"nds-backup-policy-form-button",disabled:!l},"Save Changes"),Object(z.jsx)(Xe.a,{name:"cancel",disabled:!l,onClick:b,variant:"default",className:"nds-backup-policy-form-button"},"Cancel"),d&&Object(z.jsx)("span",{className:"nds-backup-policy-form-save-message"},Object(z.jsx)("i",{className:"mms-icon-check nds-backup-policy-form-save-message-icon"}),Object(z.jsx)("strong",null,"Saved!"))))}}]),n}(s.Component);Ja.propTypes={clusterUniqueId:k.a.string.isRequired,groupId:k.a.string.isRequired,referenceTimeInMins:k.a.number.isRequired,restoreWindowDays:k.a.number.isRequired,isPitAvailable:k.a.bool.isRequired,updateOplogWindow:k.a.func.isRequired,updateReferenceTime:k.a.func.isRequired,docsUrl:k.a.string.isRequired,timeZoneId:k.a.string.isRequired,backupPolicyItems:k.a.arrayOf(k.a.shape(Li.c)),backupPolicyId:k.a.string,updateBackupPolicyData:k.a.func.isRequired,addBackupPolicyItem:k.a.func.isRequired,removeBackupPolicyItem:k.a.func.isRequired,allSnapshots:k.a.arrayOf(k.a.object).isRequired,loadBackups:k.a.func.isRequired,cancelBackupChanges:k.a.func.isRequired,onSaveClick:k.a.func.isRequired,isPolicyModified:k.a.bool.isRequired,toggleSnapshotRemovalModal:k.a.func.isRequired,showSaveMessage:k.a.bool.isRequired,error:k.a.string,shouldShowRemovalModal:k.a.bool.isRequired,snapshotsAffectedByPolicy:k.a.arrayOf(k.a.object).isRequired,displayDeletePolicyWarning:k.a.bool.isRequired,updateExistingSnapshots:k.a.bool.isRequired,toggleUpdateSnapshots:k.a.func.isRequired,isNvme:k.a.bool.isRequired,maxRestoreWindow:k.a.number.isRequired},Ja.defaultProps={referenceTimeInMins:-1,error:"",snapshotsAffectedByPolicy:[],allSnapshots:[],isNvme:!1};var Qa=Object(Ei.connect)((function(e){return{allSnapshots:ki.c(e),timeZoneId:la.n(e)}}),{loadBackups:ki.g})(Ja),es=function(e,t){switch(t){case"DAYS":return 864e5*e;case"WEEKS":return 864e5*e*7;case"MONTHS":return 864e5*e*7*4;default:return-1}};function ts(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var ns=function(e){var t=e.src,n=e.alt;return Object(z.jsx)("img",{className:"callout-banner-icon",src:t,alt:n})};ns.propTypes={src:k.a.string.isRequired,alt:k.a.string.isRequired};var rs=function(e){var t=e.children;return Object(z.jsx)("span",{className:"callout-text callout-text-bold callout-text-after-icon"},t)};rs.propTypes={children:k.a.node.isRequired};var os=function(e){var t=e.href,n=e.text;return Object(z.jsx)("a",{href:t,className:"button button-is-primary callout-button callout-button-bold callout-button-short"},n)};os.propTypes={href:k.a.string.isRequired,text:k.a.string.isRequired};var is=function(e){A()(n,e);var t=ts(n);function n(){return x()(this,n),t.apply(this,arguments)}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className;return Object(z.jsx)("div",{className:ae()("callout",n)},Object(z.jsx)("div",{className:"callout-content callout-content-new"},t))}}]),n}(l.a.Component);I()(is,"Icon",ns),I()(is,"Text",rs),I()(is,"Link",os),I()(is,"propTypes",{children:k.a.oneOfType([k.a.node,k.a.arrayOf(k.a.node)]).isRequired,className:k.a.string}),I()(is,"defaultProps",{className:""});var as=is,ss=n(164),ls=n(51);function cs(e){var t=e.clusterName,n=(e.docsUrl,[{key:0,frequencyUnit:"Daily Snapshot",every:"24 Hours",retentionTime:"8 Days",snapshotTime:e.snapshotTime}]);return Object(z.jsx)("div",null,Object(z.jsx)(as,null,Object(z.jsx)(as.Icon,{src:"/static/images/icon-m2m5-upgrade.svg",alt:""}),Object(z.jsx)(as.Text,null,"If you need more control over the timing and expiration of your backups, we recommend upgrading to one of our dedicated clusters (M10+)."),Object(z.jsx)(as.Link,{href:"#clusters/edit/".concat(t),text:"Upgrade Cluster"})),Object(z.jsx)("h3",{className:"nds-backup-policy-tenant-page-header"},"Backup Policy"),Object(z.jsx)(ss.a,{tableClassName:"nds-backup-policy-tenant-page-table",headerCellClassName:"nds-backup-policy-tenant-page-table-header-cell",rowClassName:function(){return"nds-backup-policy-tenant-page-table-row"},data:n},Object(z.jsx)(ls.a.Column,{header:Object(z.jsx)(ls.a.CellHeader,{key:"frequencyUnit"},"Frequency Unit"," ",Object(z.jsx)(Tt.a,{placement:"top",content:"This is how often a snapshot is taken. Frequency of M2/M5 backups cannot be changed"},Object(z.jsx)("i",{className:"fa fa-info-circle nds-backup-policy-tenant-page-table-info"}))),accessor:"frequencyUnit"}),Object(z.jsx)(ls.a.Column,{header:"Every",accessor:"every"}),Object(z.jsx)(ls.a.Column,{header:Object(z.jsx)(ls.a.CellHeader,{key:"retentionTime"},"Retention Time"," ",Object(z.jsx)(Tt.a,{placement:"top",content:"Backups will be deleted after this period"},Object(z.jsx)("i",{className:"fa fa-info-circle nds-backup-policy-tenant-page-table-info"}))),accessor:"retentionTime"}),Object(z.jsx)(ls.a.Column,{header:Object(z.jsx)(ls.a.CellHeader,{key:"snapshotTime"},"Snapshot Time"," ",Object(z.jsx)(Tt.a,{placement:"top",content:"Taken daily at this time"},Object(z.jsx)("i",{className:"fa fa-info-circle nds-backup-policy-tenant-page-table-info"}))),accessor:"snapshotTime"})),Object(z.jsx)("div",{className:"nds-backup-policy-tenant-page-upgrade-note"},Object(z.jsx)("small",null,"*To add another frequency unit, you must upgrade to a dedicated cluster (M10+).")),Object(z.jsx)("div",{className:"nds-backup-policy-tenant-page-retention-info"},Object(z.jsx)("p",{className:"nds-backup-policy-tenant-page-retention-info-text"},"Retaining approximately 8 snapshots with this policy."),Object(z.jsx)("p",{className:"nds-backup-policy-tenant-page-retention-info-text"},Object(z.jsx)("a",{href:"https://dochub.mongodb.org/core/atlas-m2-m5-snapshots",target:"_blank",rel:"noopener noreferrer"},"View the M2 and M5 backup docs."))))}cs.propTypes={clusterName:k.a.string.isRequired,docsUrl:k.a.string.isRequired,snapshotTime:k.a.string.isRequired};var us=cs,ds=n(1119);function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var ms=l.a.Component,gs=function(e){A()(n,e);var t=hs(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{unseenRestoreJobsCount:0,showSaveMessage:!1,error:"",displayDeletePolicyWarning:!1,shouldShowRemovalModal:!1,snapshotsAffectedByPolicy:[],backupPolicyItems:[],origBackupPolicyItems:[],backupPolicyId:void 0,isPolicyModified:!1,referenceTimeInMins:0,restoreWindowDays:2,origReferenceTimeInMins:0,updateExistingSnapshots:!1,showOnDemandModal:!1,showPitModal:!1}),I()(C()(e),"componentDidMount",(function(){var t=e.props,n=t.settingsModel,r=t.clusterUniqueId,o=t.isTenant,i=t.loadTenantBackupMetadata;o?i(n.getCurrentGroupId(),r):e.refreshBackupJob()})),I()(C()(e),"refreshBackupJob",(function(){var t=e.props,n=t.clusterUniqueId;(0,t.loadBackupMetadata)(n).then((function(){e._loadBackupPolicyItems(n)}))})),I()(C()(e),"_loadBackupPolicyItems",(function(){var t=e.props.backup;if(t.policies){var n=t.policies[0].policyItems,r=t.policies[0].id;e.setState({referenceTimeInMins:t.referenceTimeInMins,restoreWindowDays:t.restoreWindowDays,origReferenceTimeInMins:t.referenceTimeInMins,origRestoreWindowDays:t.restoreWindowDays,backupPolicyItems:n,backupPolicyId:r,origBackupPolicyItems:n})}})),I()(C()(e),"getMaxRestoreWindow",(function(){var t=e.state.origBackupPolicyItems;if(void 0===t)return 7;for(var n=7,r=0;r<t.length;r++){var o=t[r];if("HOURLY"===o.frequencyType){var i=es(o.retention,o.retentionUnit);n=Math.round(i/864e5);break}}return n})),I()(C()(e),"cancelBackupChanges",(function(){e.setState({isPolicyModified:!1,referenceTimeInMins:e.state.origReferenceTimeInMins,restoreWindowDays:e.state.origRestoreWindowDays,backupPolicyItems:e.state.origBackupPolicyItems,displayDeletePolicyWarning:!1,snapshotsAffectedByPolicy:[],updateExistingSnapshots:!1,error:""})})),I()(C()(e),"updateBackupPolicyData",(function(t){var n=e.props.clusterDescriptionModel,r=e.state.updateExistingSnapshots;t.forEach((function(e){if("DAILY"===e.frequencyType)e.frequencyInterval=1;else if("HOURLY"===e.frequencyType){if(n.attributes.isNvme)[12].includes(e.frequencyInterval)||(e.frequencyInterval=12);else[1,2,4,6,8,12].includes(e.frequencyInterval)||(e.frequencyInterval=1)}else"WEEKLY"===e.frequencyType&&e.frequencyInterval>7&&(e.frequencyInterval=1)})),e.setState({backupPolicyItems:t,isPolicyModified:!0}),r&&e.fetchSnapshotsAffectedByPolicy(t)})),I()(C()(e),"updateReferenceSettings",(function(t){e.setState({referenceTimeInMins:t,isPolicyModified:!0})})),I()(C()(e),"updateOplogWindow",(function(t){e.setState({restoreWindowDays:t,isPolicyModified:!0})})),I()(C()(e),"toggleSnapshotRemovalModal",(function(t){e.setState({shouldShowRemovalModal:t})})),I()(C()(e),"toggleUpdateExistingSnapshots",(function(){var t=e.state,n=t.backupPolicyItems,r=!t.updateExistingSnapshots,o=t.isPolicyModified||r;e.setState({updateExistingSnapshots:r,isPolicyModified:o}),e.fetchSnapshotsAffectedByPolicy(n)})),I()(C()(e),"displayWarningIfRequired",(function(){var t=e.state,n=t.snapshotsAffectedByPolicy,r=t.updateExistingSnapshots,o=0!==n.length;e.setState({displayDeletePolicyWarning:o&&r})})),I()(C()(e),"handleSaveMessage",(function(t){e.setState({showSaveMessage:t}),t&&(e.setState({isPolicyModified:!1,origReferenceTimeInMins:e.state.referenceTimeInMins,origRestoreWindowDays:e.state.restoreWindowDays,origBackupPolicyItems:e.state.backupPolicyItems,error:"",snapshotsAffectedByPolicy:[],displayDeletePolicyWarning:!1}),setTimeout((function(){e.setState({showSaveMessage:!1})}),1e3))})),I()(C()(e),"convertToRequestReadyView",(function(e){return e.map((function(e){var t=fs({},e);return delete t.newItem,t}))})),I()(C()(e),"onSaveClick",(function(){var t=e.props,n=t.settingsModel,r=t.clusterUniqueId,o=e.state,i=o.backupPolicyItems,a=o.backupPolicyId,s=o.referenceTimeInMins,l=o.restoreWindowDays,c=o.updateExistingSnapshots,u=n.getCurrentGroupId(),d=e.convertToRequestReadyView(i);(s<0||s>1439)&&e.handleSaveMessage(!1),l<1&&e.handleSaveMessage(!1),U.m.backup.updateBackupPolicy(u,r,s,l,d,a,c).then((function(){e.handleSaveMessage(!0)}),(function(t){e.setState({error:t.message})}))})),I()(C()(e),"fetchSnapshotsAffectedByPolicy",(function(t){var n=e.props,r=n.settingsModel,o=n.clusterUniqueId,i=e.state.backupPolicyId,a=r.getCurrentGroupId(),s=e.convertToRequestReadyView(t);U.m.backup.getSnapshotsAffectedByPolicy(a,o,s,i).then((function(t){e.setState({snapshotsAffectedByPolicy:t,error:""}),e.displayWarningIfRequired()}),(function(t){e.setState({error:t.message})}))})),I()(C()(e),"addBackupPolicyItem",(function(t){t.newItem=!0,e.setState({backupPolicyItems:e.state.backupPolicyItems.concat(t),isPolicyModified:!0})})),I()(C()(e),"removeBackupPolicyItem",(function(t){e.setState({backupPolicyItems:e.state.backupPolicyItems.filter((function(e){return e.id!=t})),isPolicyModified:!0})})),I()(C()(e),"format",(function(e){return e?ee()(e).format("MM/DD/YY - hh:mm A"):"N/A"})),I()(C()(e),"updateRestoreStatus",(function(t){e.setState({unseenRestoreJobsCount:t})})),I()(C()(e),"onDemandSnapshotClicked",(function(){var t=e.props,n=t.isTenant,r=t.settingsModel;W.d.track(W.b.UX_ACTION_PERFORMED,{category:"Atlas ".concat(n?"Shared ":"","Backup Snapshots Tab"),label:"Clicked On Demand Snapshots Button"},{integrations:Object(W.c)(r.getCurrentOrgId())}),e.setState({showOnDemandModal:!0})})),I()(C()(e),"setOnDemandModalHidden",(function(){e.setState({showOnDemandModal:!1})})),I()(C()(e),"pitRestoreClicked",(function(){e.setState({showPitModal:!0})})),I()(C()(e),"setPitModalHidden",(function(){e.setState({showPitModal:!1})})),I()(C()(e),"displayTenantSnapshotLocalTime",(function(){var t=e.props,n=t.backup,r=t.isTenant,o=t.timeZoneId;if(r)return Ct()(n.nextSnapshotDate,"YYYY-MM-DD[T]HH:mm:ssZ").tz(o||"UTC").format("HH:mm z")})),e}return E()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.baseTitle,r=t.clusterDescriptionModel,o=t.clusterName,i=t.clusterUniqueId,a=t.deploymentItem,s=t.hasBackupEnabled,c=t.liveImportInProgress,u=t.selectedTab,d=t.settingsModel,p=t.snapshotCount,f=t.backup,h=t.isTenant,m=this.state,g=m.unseenRestoreJobsCount,b=m.backupPolicyItems,v=m.backupPolicyId,y=m.isPolicyModified,O=m.referenceTimeInMins,x=m.restoreWindowDays,j=m.showSaveMessage,E=m.error,S=m.displayDeletePolicyWarning,C=m.shouldShowRemovalModal,_=m.snapshotsAffectedByPolicy,A=m.updateExistingSnapshots,N=m.showOnDemandModal,T=m.showPitModal,w=r.isPitEnabled()&&!h;return Object(z.jsx)("section",{className:"backup-cluster-page-section"},Object(z.jsx)(ji.Helmet,{title:"Backup",titleTemplate:"%s | ".concat(n)}),Object(z.jsx)(Ci,{clusterDescriptionModel:r,clusterName:o,deploymentItem:a,settingsModel:d,isTenant:h}),!s&&Object(z.jsx)(Ni,{clusterDescriptionModel:r}),s&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(ds.a,null,Object(z.jsx)(ds.a.Tab,{active:"snapshots"===u,href:"#clusters/backup/".concat(o,"/snapshots"),linkText:"Snapshots",onClick:function(){return W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas ".concat(h?"Shared ":"","Backup Tab"),action:"Clicked Snapshots Subtab"},{integrations:Object(W.c)(d.getCurrentOrgId())})}}),Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(ds.a.Tab,{active:"history"===u,href:"#clusters/backup/".concat(o,"/history"),linkText:"Restore History",onClick:function(){return W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas ".concat(h?"Shared ":"","Backup Tab"),action:"Clicked Restore History Subtab"},{integrations:Object(W.c)(d.getCurrentOrgId())})},backupRestore:!0},"history"!==u&&g>0&&Object(z.jsx)("span",{className:"backup-alerts-widget"},g)),Object(z.jsx)(ds.a.Tab,{active:"policy"===u,href:"#clusters/backup/".concat(o,"/policy"),linkText:"Backup Policy"}))),"snapshots"===u&&Object(z.jsx)(ds.a,null,Object(z.jsx)(ds.a.InfoItem,null,"Last Snapshot:",null==f.lastSnapshotDate?Object(z.jsx)("span",{className:"section-subtabs-right-item-detail"},"N/A"):Object(z.jsx)(wi.a,{className:"section-subtabs-right-item-detail",isoString:f.lastSnapshotDate})),Object(z.jsx)(ds.a.InfoItem,null,"Next Estimated Snapshot:",Object(z.jsx)(wi.a,{className:"section-subtabs-right-item-detail",isoString:f.nextSnapshotDate})),Object(z.jsx)(ds.a.InfoItem,null,"Total Snapshot Count: ",Object(z.jsx)("span",{className:"section-subtabs-right-item-detail"},p)),Object(z.jsx)(ds.a.Info,null,Object(z.jsx)("div",{className:"backup-cluster-page-section-buttons-area"},Object(z.jsx)(Xe.a,{size:"xsmall",name:"onDemandSnapshot",onClick:function(){e.onDemandSnapshotClicked()},disabled:h||c},Object(z.jsx)(Tt.a,{content:Object(z.jsx)("div",{className:"snapshots-table-tooltip"},"On-Demand Snapshots are not available for M2/M5 clusters. You can upgrade to a Dedicated cluster (M10+) if you would like this feature."),hide:!h},"Take Snapshot Now")),Object(z.jsx)(Xe.a,{size:"xsmall",name:"pitRestore",onClick:function(){e.pitRestoreClicked()},disabled:!w||c},Object(z.jsx)(Tt.a,{offset:{left:40},content:Object(z.jsx)("div",{className:"snapshots-table-tooltip"},h?"Point in Time Restore is not available on M2/M5 clusters. To enable this feature, upgrade to a Dedicated cluster (M10+) and turn it on in the cluster's Configuration":"Point in Time Restore is turned off for this cluster. To enable this feature, you must first turn it on in the cluster's Configuration"),hide:w},"Point in Time Restore")))))),s&&"snapshots"===u&&Object(z.jsx)(La,{clusterName:o,clusterUniqueId:i,settingsModel:d,groupId:d.getCurrentGroupId(),orgId:d.getCurrentOrgId(),orgName:d.getCurrentOrgName(),groupName:d.getCurrentGroupName(),updateRestoreStatus:this.updateRestoreStatus,isTenant:h,liveImportInProgress:c,showOnDemandModal:N,setOnDemandModalHidden:this.setOnDemandModalHidden,showPitModal:T,setPitModalHidden:this.setPitModalHidden}),s&&"history"===u&&Object(z.jsx)(qi,{clusterUniqueId:i,settingsModel:d,groupId:d.getCurrentGroupId(),isTenant:h,isEncryptedSnapshotEnabled:d.hasProjectFeature("CPS_DOWNLOAD_ENCRYPTED_SNAPSHOT"),docsUrl:d.getDocsUrl(),orgId:d.getCurrentOrgId()}),s&&"policy"===u&&(h?Object(z.jsx)(us,{snapshotTime:this.displayTenantSnapshotLocalTime(),docsUrl:d.getDocsUrl(),clusterName:o}):Object(z.jsx)(Qa,{clusterUniqueId:i,clusterName:o,groupId:d.getCurrentGroupId(),referenceTimeInMins:O,restoreWindowDays:x,isPitAvailable:w,updateReferenceTime:this.updateReferenceSettings,updateOplogWindow:this.updateOplogWindow,docsUrl:d.getDocsUrl(),backupPolicyId:v,backupPolicyItems:b,updateBackupPolicyData:this.updateBackupPolicyData,addBackupPolicyItem:this.addBackupPolicyItem,removeBackupPolicyItem:this.removeBackupPolicyItem,isPolicyModified:y,toggleSnapshotRemovalModal:this.toggleSnapshotRemovalModal,showSaveMessage:j,error:E,displayDeletePolicyWarning:S,shouldShowRemovalModal:C,snapshotsAffectedByPolicy:_,cancelBackupChanges:this.cancelBackupChanges,onSaveClick:this.onSaveClick,updateExistingSnapshots:A,toggleUpdateSnapshots:this.toggleUpdateExistingSnapshots,isNvme:r.attributes.isNvme,maxRestoreWindow:this.getMaxRestoreWindow()})))}}]),n}(ms);gs.propTypes={baseTitle:k.a.string,clusterDescriptionModel:k.a.instanceOf(Je.a).isRequired,clusterName:k.a.string.isRequired,clusterUniqueId:k.a.string.isRequired,deploymentItem:k.a.shape({getMetricsUrl:k.a.func.isRequired,getRootMetricsRoute:k.a.func.isRequired}).isRequired,hasBackupEnabled:k.a.bool.isRequired,liveImportInProgress:k.a.bool.isRequired,selectedTab:k.a.string,settingsModel:k.a.instanceOf(re.a).isRequired,snapshotCount:k.a.number.isRequired,timeZoneId:k.a.string.isRequired,backup:k.a.shape({lastSnapshotDate:k.a.string,nextSnapshotDate:k.a.string,referenceTimeInMins:k.a.number,restoreWindowDays:k.a.number,retentionTimeInMillis:k.a.number,policies:k.a.arrayOf(k.a.shape({id:k.a.string.isRequired,policyItems:k.a.arrayOf(k.a.shape(Li.c))}))}).isRequired,isTenant:k.a.bool.isRequired,loadBackupMetadata:k.a.func.isRequired,loadTenantBackupMetadata:k.a.func.isRequired},gs.defaultProps={baseTitle:"",selectedTab:"snapshots"};var bs=Object(Ei.connect)((function(e,t){return{backup:t.isTenant?Mi.b(e):ki.d(e),snapshotCount:t.isTenant?Mi.d(e).length:ki.c(e).length,timeZoneId:la.n(e)}}),{loadBackupMetadata:ki.e,loadTenantBackupMetadata:Mi.e})(gs),vs=n(1160),ys=n(917),Os=n(968),xs=n(1051),js=n(931),Es=n(1313);function Ss(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Cs=function(e){A()(n,e);var t=Ss(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{showConnectModal:!1}),I()(C()(e),"getToolsCopyableCommand",(function(t){var n=e.props,r=n.clusterDescription,o=n.usersCollection.getFirstSCRAMUser(),i=hr.a.fromClusterDescription(r),a=o?o.get("user"):null;if(e.validateCommand(t)){var s,l,c=function(e){return Object(z.jsx)("span",null,Object(z.jsx)("strong",{className:"text text-is-green text-is-code"},e))},u=a||"<USERNAME>",d=a?Object(z.jsx)("strong",null,u):c(u),p=function(e){var t=e?"<DATABASE>":"",n=i.getSRVAddress();return{uriParam:"mongodb+srv://".concat(u,":").concat("<PASSWORD>","@").concat(n).concat(e?"/":"").concat(t),uriParamMarkup:Object(z.jsx)("span",null,"mongodb+srv://",d,":",c("<PASSWORD>"),"@",n,e?"/":"",c(t))}}(["mongodump","mongoexport","mongoimport"].includes(t)),f=p.uriParam,h=p.uriParamMarkup,m="",g="";return"mongoexport"===t?(m="--collection <COLLECTION> --type <FILETYPE> --out <FILENAME>",g=Object(z.jsx)("span",null,"--collection ",c("<COLLECTION>")," --type ",c("<FILETYPE>")," --out ",c("<FILENAME>"))):"mongoimport"===t&&(m="--collection <COLLECTION> --type <FILETYPE> --file <FILENAME>",g=Object(z.jsx)("span",null,"--collection ",c("<COLLECTION>")," --type ",c("<FILETYPE>")," --file ",c("<FILENAME>"))),r.isShardedCluster()&&"mongotop"===t?(s="".concat(t," --host <MONGOD_HOSTNAME> --ssl --username ").concat(a," --password <PASSWORD> ")+"--authenticationDatabase admin ".concat(m),l=Object(z.jsx)("span",null,t," --host ",c("<MONGOD_HOSTNAME>")," --ssl --username ",c(a)," --password"," ",c("<PASSWORD>")," --authenticationDatabase admin ",g)):(s="".concat(t," --uri ").concat(f," ").concat(m),l=Object(z.jsx)("span",null,t," --uri ",h," ",g)),Object(z.jsx)(Ti.a,{copyableText:s,inheritLineHeight:!0,commandClassName:"copy-command-is-full-width",scrollVertically:!0,wrap:!0},l)}})),I()(C()(e),"getDocsLinkMarkup",(function(t){if(e.validateCommand(t)){var n="https://docs.mongodb.com/manual/reference/program/"+t;return Object(z.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-is-code docs-link"},t,"Â ",Object(z.jsx)("i",{className:"fa fa-external-link"}))}})),I()(C()(e),"getApiKeyLink",(function(e){var t="/v2/".concat(e,"#access/apiKeys/create");return Object(z.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer"},"API KeyÂ ",Object(z.jsx)("i",{className:"fa fa-external-link"}))})),I()(C()(e),"validateCommand",(function(e){if(!(n.validCommands.indexOf(e)<0))return!0})),e}return E()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.baseTitle,r=t.clusterDescription,o=t.deploymentItem,i=t.clusterId,s=t.settingsModel,l=t.whitelistedIpCollection,c=t.peerConnectionCollection,u=t.userSecurity,d=t.usersCollection,f=t.providerOptionsModel,h=t.showPrivateIpModeWarning,m=t.awsPrivateLinks,g=t.showPrivateConnectionString,b=t.hasAvailablePeer,v=this.state.showConnectModal,y=s.getCurrentGroupId(),O={uiState:new a.a.Model({showModal:!0,onClose:function(){e.setState({showConnectModal:!1})}}),settingsModel:s,connectOptions:hr.a.fromClusterDescription(r),whitelistedIpCollection:l,peerConnectionCollection:c,userSecurity:u,usersCollection:d,providerOptionsModel:f},x=r.getPrivateLinkSRVAddresses()?Object.keys(r.getPrivateLinkSRVAddresses()):void 0;return Object(z.jsx)("div",null,Object(z.jsx)(ji.Helmet,{title:"Command Line Tools",titleTemplate:"%s | ".concat(n)}),Object(z.jsx)($o,{clusterDescription:r,deploymentItem:o,clusterId:i,settingsModel:s,activeTab:Uo.Tabs.COMMAND_LINE_TOOLS,providerOptionsModel:f}),Object(z.jsx)("div",{className:"section-content section-content-is-bounded"},Object(z.jsx)("div",{className:"nds-command-line-tools-page-section"},Object(z.jsx)("h3",null,"Connect To Your Cluster"),Object(z.jsx)("p",null,"Methods to connect your application to your cluster via MongoShell, URI, or Compass can be found in the connect modal."),Object(z.jsx)("button",{type:"button",onClick:function(){e.setState({showConnectModal:!0})},className:"button button-is-info command-line-tools-connect-instructions-button"},"Connect Instructions"),v&&Object(z.jsx)(p.BackboneProvider,{models:O},Object(z.jsx)(vs.a,{isClusterThreeFour:3.4===r.getMongoDBMajorVersion(),showPrivateIpModeWarning:h,awsPrivateLinks:m,context:"Command Line Tools",showPrivateConnectionString:g,hasAvailablePeer:b,horizons:x}))),Object(z.jsx)("div",{className:"section-content section-content-is-bounded"},Object(z.jsx)("div",{className:"nds-command-line-tools-page-section"},Object(z.jsx)("h3",null,"Manage Your Cluster From the Command Line Interface"),Object(z.jsx)("p",null,"Provision and manage Atlas clusters with the MongoDB CLI for easier scripting and testing. To get started, create a programmatic ",this.getApiKeyLink(y)," for your project (Project ID: ",y,")."),Object(z.jsx)(Xe.a,{variant:"info",rel:"noopener noreferrer",href:"https://docs.mongodb.com/mongocli/stable/install/",target:"_blank"},"Install MongoDB CLI"))),Object(z.jsx)("div",{className:"nds-command-line-tools-page-section"},Object(z.jsx)("h3",null,"Binary Import and Export Tools"),Object(z.jsx)("p",null," ","Replace ",Object(z.jsx)("strong",{className:"text-is-green"},"PASSWORD")," with the password for the admin user and"," ",Object(z.jsx)("strong",{className:"text-is-green"},"DATABASE")," with the name of the database you wish to import/export to your cluster."),Object(z.jsx)("p",null," ",this.getDocsLinkMarkup("mongorestore")," | creates a new database or adds data to an existing database. By default, ",Object(z.jsx)("span",{className:"text-is-code"},"mongorestore")," reads the database dump in the dump/ sub-directory of the current directory; to restore from a different directory, pass in the path to the directory as a final argument."),this.getToolsCopyableCommand("mongorestore"),Object(z.jsx)("p",null," ",this.getDocsLinkMarkup("mongodump")," | creates a binary export of the contents of a database "),this.getToolsCopyableCommand("mongodump")),Object(z.jsx)("div",{className:"nds-command-line-tools-page-section"},Object(z.jsx)("h3",null,"Data Import and Export Tools"),Object(z.jsx)("p",null," ","Replace ",Object(z.jsx)("strong",{className:"text-is-green"},"PASSWORD")," with the password for the admin user,"," ",Object(z.jsx)("strong",{className:"text-is-green"},"DATABASE")," with the name of the database you wish to import/export to your cluster, and ",Object(z.jsx)("strong",{className:"text-is-green"},"COLLECTION")," with the name of the collection you wish to import/export to your cluster. Replace"," ",Object(z.jsx)("strong",{className:"text-is-green"},"FILETYPE")," withÂ ",Object(z.jsx)("span",{className:"text-is-code"},"json")," or ",Object(z.jsx)("span",{className:"text-is-code"},"csv")," to specify the file type. Where applicable, replace ",Object(z.jsx)("strong",{className:"text-is-green"},"FILENAME")," with the location and name of the output file (for export) or data source (for import)."),Object(z.jsx)("p",null,Object(z.jsx)("strong",null,"NOTE:")," When exporting or importing CSV data, an additional"," ",Object(z.jsx)("span",{className:"text-is-code"},"--fields"),"Â flag is often required. See documentation for the specific tool for additional details."),Object(z.jsx)("p",null," ",this.getDocsLinkMarkup("mongoimport")," | imports content from an Extended JSON, CSV, or TSV export "),this.getToolsCopyableCommand("mongoimport"),Object(z.jsx)("p",null," ",this.getDocsLinkMarkup("mongoexport")," | produces a JSON or CSV export of data stored in a MongoDB instance"," "),this.getToolsCopyableCommand("mongoexport")),Object(z.jsx)("div",{className:"nds-command-line-tools-page-section"},Object(z.jsx)("h3",null,"Set Up Diagnostics"),Object(z.jsx)("p",null," ","Replace ",Object(z.jsx)("strong",{className:"text-is-green"},"PASSWORD")," with the password for the admin user."),Object(z.jsx)("p",null," ",this.getDocsLinkMarkup("mongostat")," | provides a quick overview of the status of a currently running mongod or mongos instance"," "),this.getToolsCopyableCommand("mongostat"),Object(z.jsx)("p",null," ",this.getDocsLinkMarkup("mongotop")," | tracks the amount of time a MongoDB instance spends reading and writing data"," "),this.getToolsCopyableCommand("mongotop"))),Object(z.jsx)("div",{className:"section-content section-content-is-bounded"},Object(z.jsx)("div",{className:"nds-command-line-tools-page-section"},Object(z.jsx)(Es.a,{groupId:y}))))}}]),n}(l.a.Component);I()(Cs,"validCommands",["mongorestore","mongodump","mongoimport","mongoexport","mongostat","mongotop"]),I()(Cs,"propTypes",{baseTitle:k.a.string,clusterDescription:k.a.instanceOf(Je.a).isRequired,deploymentItem:k.a.oneOfType([k.a.instanceOf(bn.a),k.a.instanceOf(Se.a)]),clusterId:k.a.string.isRequired,settingsModel:k.a.instanceOf(re.a).isRequired,usersCollection:k.a.instanceOf(ys.a).isRequired,whitelistedIpCollection:k.a.instanceOf(na.a).isRequired,peerConnectionCollection:k.a.instanceOf(Os.a).isRequired,userSecurity:k.a.instanceOf(xs.a).isRequired,providerOptionsModel:k.a.instanceOf(qo.a).isRequired,showPrivateIpModeWarning:k.a.bool,awsPrivateLinks:k.a.arrayOf(js.a),showPrivateConnectionString:k.a.bool,hasAvailablePeer:k.a.bool}),I()(Cs,"defaultProps",{baseTitle:"",deploymentItem:null,showPrivateIpModeWarning:!1,showPrivateConnectionString:!1,hasAvailablePeer:!1,awsPrivateLinks:[]});var _s=Cs,As=n(1070),Ns=n(970);function Ts(e){var t=e.sources;return Object(z.jsx)("div",{hidden:!0},t.map((function(e){return Object(z.jsx)("img",{key:e,src:e,alt:""})})))}Ts.propTypes={sources:k.a.arrayOf(k.a.string).isRequired};var ws=Ts,Ps=n(897);function Rs(e){var t=e.usesIndexKeyLimit,n=e.failIndexKeyTooLong,r=e.toggleProcessArg;return Object(z.jsx)(l.a.Fragment,null," ",Object(z.jsx)("strong",{className:"nds-cluster-form-collapsible-content-item-title"},"Enforce Index Key Limit"),!t&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(M.a,{level:"warning",className:"bem-alert-has-small-margin-bottom"},"The"," ",Object(z.jsx)("a",{href:"https://docs.mongodb.com/manual/reference/limits/#Index-Key-Limit",rel:"noopener noreferrer",target:"_blank"},"Index Key Limit")," ","has been removed in MongoDB version 4.2 and higher.")),Object(z.jsx)("p",null,"Documents can only be updated or inserted if, for all indexed fields, the corresponding index entries do not exceed 1024 bytes."),Object(z.jsx)("p",null,"If disabled (",Object(z.jsx)("strong",{className:"text-is-code"},"failIndexKeyTooLong=false"),"), documents with indexed fields exceeding the index limit will be inserted or modified successfully, but not indexed."," ",Object(z.jsx)("a",{href:"https://docs.mongodb.com/manual/reference/parameters/#param.failIndexKeyTooLong",className:"nds-cluster-form-docs-link",rel:"noopener noreferrer",target:"_blank"},"View documentation")),Object(z.jsx)(Ps.a,{enabled:n,onToggle:function(e){r("failIndexKeyTooLong",t?e:null)},enabledText:"YES",disabledText:"NO",disabled:!t}),!n&&t&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("br",null),Object(z.jsx)("br",null),Object(z.jsx)(M.a,{level:"warning",isSaturated:!0},Object(z.jsx)("strong",null,"Caution:")," Disabling this setting means that query results may be inconsistent with document contents. We discourage use of this capability except for temporary migration purposes."))," ")}Rs.propTypes={usesIndexKeyLimit:k.a.bool.isRequired,failIndexKeyTooLong:k.a.bool.isRequired,toggleProcessArg:k.a.func.isRequired};var Is=Rs;function Ds(e){var t=e.noTableScan,n=e.toggleProcessArg;return Object(z.jsx)(l.a.Fragment,null," ",Object(z.jsx)("strong",{className:"nds-cluster-form-collapsible-content-item-title"},"Require Indexes for All Queries"),Object(z.jsx)("p",null,"Do not run queries that require a collection scan; return an error instead."," ",Object(z.jsx)("a",{href:"https://docs.mongodb.com/manual/reference/parameters/#param.notablescan",className:"nds-cluster-form-docs-link",rel:"noopener noreferrer",target:"_blank"},"View documentation")),Object(z.jsx)(Ps.a,{enabled:t,onToggle:function(e){n("noTableScan",e)},enabledText:"YES",disabledText:"NO"}),t&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("br",null),Object(z.jsx)("br",null),Object(z.jsx)(M.a,{level:"warning",isSaturated:!0},Object(z.jsx)("strong",null,"Caution:")," Enabling this setting can severely impact your ability to successfully run ad-hoc queries against the database.")))}Ds.propTypes={noTableScan:k.a.bool.isRequired,toggleProcessArg:k.a.func.isRequired};var ks=Ds;function Ms(e){var t=e.javascriptEnabled,n=e.toggleProcessArg;return Object(z.jsx)(l.a.Fragment,null," ",Object(z.jsx)("strong",{className:"nds-cluster-form-collapsible-content-item-title"},"Allow Server-Side JavaScript"),Object(z.jsx)("p",null,"Operations that perform server-side execution of JavaScript are allowed (e.g."," ",Object(z.jsx)("strong",{className:"text-is-code"},"$where")," query operator,"," ",Object(z.jsx)("strong",{className:"text-is-code"},"mapReduce"),", etc.)."," ",Object(z.jsx)("a",{href:"https://docs.mongodb.com/manual/reference/configuration-options/#security.javascriptEnabled",className:"nds-cluster-form-docs-link",rel:"noopener noreferrer",target:"_blank"},"View documentation")),Object(z.jsx)(Ps.a,{enabled:t,onToggle:function(e){n("javascriptEnabled",e)},enabledText:"YES",disabledText:"NO"}))}Ms.propTypes={javascriptEnabled:k.a.bool.isRequired,toggleProcessArg:k.a.func.isRequired};var Ls=Ms,Us=n(301);function Fs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Bs=l.a.Component,zs=[{label:"TLS 1.0 and above",value:"TLS1_0"},{label:"TLS 1.1 and above",value:"TLS1_1"},{label:"TLS 1.2 and above",value:"TLS1_2"}],Vs=function(e){A()(n,e);var t=Fs(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{showOptions:!1,currentlySetOplogSizeMB:e.props.processArgs.oplogSizeMB}),I()(C()(e),"onChangeMinimumTlsVersion",(function(t){var n=e.props,r=n.processArgs,o=n.setClusterFormValue,i=Object(Us.a)(r);i.minimumEnabledTlsProtocol=t.value,o("processArgs",i)})),I()(C()(e),"toggleProcessArg",(function(t,n){var r=e.props,o=r.processArgs,i=r.setClusterFormValue,a=Object(Us.a)(o);a[t]=n,i("processArgs",a)})),I()(C()(e),"onBlurOplogSizeMB",(function(t){var n=e.props,r=n.processArgs,o=n.setClusterFormValue,i=parseInt(t.target.value.trim(),10);i=isNaN(i)?null:i;var a=Object(Us.a)(r);a.oplogSizeMB=i,o("processArgs",a)})),e}return E()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.processArgs,r=t.originalProcessArgs,o=t.mongoDBVersion,i=t.diskSizeGB,a=t.clusterUsageStats,s=t.isNVMe,c=this.state,u=c.showOptions,d=c.currentlySetOplogSizeMB,p=oe.c(i,a.clusterMaxDiskUsageMB,a.currentOplogUsageSizeMB,d,s),f=oe.q(n,r,i,o,p,s),h="TLS1_0"===n.minimumEnabledTlsProtocol,m=oe.E(o),g=parseFloat(o)<=4.2;return Object(z.jsx)("section",{className:"nds-cluster-form-collapsible-content"},Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-header",role:"presentation",onClick:function(){e.setState({showOptions:!u})}},Object(z.jsx)("div",{className:"nds-cluster-form-setting-accordion"},Object(z.jsx)("i",{className:ae()("fa fa-angle-right nds-cluster-form-collapsible-content-accordion accordion-headline-arrow",{"accordion-headline-arrow-is-down":u})}),Object(z.jsx)("span",{className:"nds-cluster-form-collapsible-content-label"},Object(z.jsx)("strong",null,"More Configuration Options")))),u&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item"},Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-left"},Object(z.jsx)("strong",{className:"nds-cluster-form-collapsible-content-item-title"},"Set Oplog Size"),Object(z.jsx)("p",null,"Set the maximum size of this cluster's oplog.",Object(z.jsx)("br",null),Object(z.jsx)("a",{href:"https://docs.mongodb.com/manual/reference/configuration-options/#replication.oplogSizeMB",className:"nds-cluster-form-docs-link",rel:"noopener noreferrer",target:"_blank"},"View documentation")),Object(z.jsx)("div",null,Object(z.jsx)("input",{type:"number",defaultValue:n.oplogSizeMB||"",min:"0",placeholder:oe.h(i,s),max:p,className:ae()("nds-cluster-form-oplog-size-input-control",{"nds-cluster-form-oplog-size-input-control-error":""!==f}),onBlur:this.onBlurOplogSizeMB}),Object(z.jsx)("input",{disabled:!0,type:"text",value:"MB",className:ae()("nds-cluster-form-oplog-size-unit-control",{"nds-cluster-form-oplog-size-unit-control-error":""!==f})}),Object(z.jsx)("span",{className:"nds-cluster-form-oplog-size-available"},Object(z.jsx)("span",{id:"nds-cluster-form-oplog-size-available"},p.toLocaleString())," MB available"),f&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("br",null),Object(z.jsx)("br",null),Object(z.jsx)(M.a,{level:"danger"},f)),Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("br",null),Object(z.jsx)("br",null),"Atlas automatically adjusts the oplog size of your cluster to ensure optimal performance and cost based on MongoDB best practices."," ",Object(z.jsx)("a",{href:"https://docs.mongodb.com/manual/core/replica-set-oplog/#oplog-size",className:"nds-cluster-form-docs-link",target:"_blank"},"Read more about oplog configuration.")))),Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-right"},Object(z.jsx)("strong",{className:"nds-cluster-form-collapsible-content-item-title"},"Set Minimum TLS Protocol Version"),Object(z.jsx)("p",null,"Configure this cluster to only accept connections using selected protocols below."," ",Object(z.jsx)("a",{href:"https://docs.mongodb.com/manual/reference/configuration-options/#net.ssl.disabledProtocols",className:"nds-cluster-form-docs-link",target:"_blank"},"View documentation")),Object(z.jsx)("div",{className:"dropdown-select-content nds-cluster-form-tls-select"},Object(z.jsx)(aa.a,{value:n.minimumEnabledTlsProtocol||"",options:zs,onChange:this.onChangeMinimumTlsVersion,className:"dropdown-select"})),h&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("br",null),Object(z.jsx)(M.a,{level:"warning",isSaturated:!0},Object(z.jsx)("strong",null,"Caution:")," We strongly advise using TLS 1.1+ or TLS 1.2+ where possible. Learn more from"," ",Object(z.jsx)("a",{href:"https://blog.pcisecuritystandards.org/are-you-ready-for-30-june-2018-sayin-goodbye-to-ssl-early-tls",className:"bem-alert-link bem-alert-link-underlined",rel:"noopener noreferrer",target:"_blank"},"PCI SSC")," ","and"," ",Object(z.jsx)("a",{href:"https://www.nist.gov/news-events/news/2014/04/nist-revises-guide-use-transport-layer-security-tls-networks",className:"bem-alert-link bem-alert-link-underlined",rel:"noopener noreferrer",target:"_blank"},"NIST"),".")))),g?Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("hr",{className:"nds-cluster-form-collapsible-content-item-separator"}),Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item"},Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-left"},Object(z.jsx)(Is,{usesIndexKeyLimit:m,failIndexKeyTooLong:n.failIndexKeyTooLong,toggleProcessArg:this.toggleProcessArg})),Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-right"},Object(z.jsx)(ks,{noTableScan:n.noTableScan,toggleProcessArg:this.toggleProcessArg}))),Object(z.jsx)("hr",{className:"nds-cluster-form-collapsible-content-item-separator"}),Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item"},Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-left"},Object(z.jsx)(Ls,{javascriptEnabled:n.javascriptEnabled,toggleProcessArg:this.toggleProcessArg})))):Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("hr",{className:"nds-cluster-form-collapsible-content-item-separator"}),Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item"},Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-left"},Object(z.jsx)(ks,{noTableScan:n.noTableScan,toggleProcessArg:this.toggleProcessArg})," "),Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-right"},Object(z.jsx)(Ls,{javascriptEnabled:n.javascriptEnabled,toggleProcessArg:this.toggleProcessArg})))),Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-footer"})))}}]),n}(Bs);I()(Vs,"propTypes",{processArgs:k.a.shape(me.u).isRequired,originalProcessArgs:k.a.shape(me.u).isRequired,diskSizeGB:k.a.number.isRequired,setClusterFormValue:k.a.func.isRequired,mongoDBVersion:k.a.string.isRequired,clusterUsageStats:k.a.shape(me.j).isRequired,isNVMe:k.a.bool.isRequired});var qs=Vs,Gs=n(1545),Hs=function(e){var t=e.find((function(e){return"FREE"!==e["@provider"]&&e.isProvisioned}));return t?t["@provider"]:null},Ws=function(e,t){return t.find((function(t){return t["@provider"]===e&&t.isProvisioned}))},Ys=n(941),Ks=n(914);function Zs(e){var t=e.setClusterFormValue,n=e.isEdit,r=e.provider,o=e.originalProvider,i=e.isPrivateIPModeEnabled,a=e.instanceSize,s=e.isTenantUpgrade,l=e.cloudContainers,c=e.isGeoSharded,u=e.orgId,d=e.isNdsGovEnabled,p=n&&!s,f=!oe.C(a),h=Hs(l),m=i&&f,g=i&&!!h&&h!==Ys.a.GCP&&f,b=i&&!!h&&h!==Ys.a.AZURE&&f,v=i&&c,y=p||m,O=p||g,x=p||b||v,j="You have existing dedicated ".concat(h," clusters in this project. Projects with Connect via Peering Only enabled only supports dedicated clusters of a single provider.");function E(e){if(p)return"A cluster's provider cannot be changed after it has been deployed.";switch(e){case Ys.a.AWS:return"Only dedicated GCP or AZURE clusters are available when Connect via Peering Only is turned on.";case Ys.a.GCP:return j;case Ys.a.AZURE:return b?j:v?"Projects with Connect via Peering Only enabled do not support Global Writes for Azure.":"";default:return""}}return Object(z.jsx)("div",null,s&&r!==o&&Object(z.jsx)("div",null,Object(z.jsx)(M.a,{level:"warning"},Object(z.jsx)("strong",null,"Please Note:")," Transitioning to a cluster on a different provider will require your cluster connection string (MongoDB Connection URI) to change."),Object(z.jsx)("br",null)),Object(z.jsx)(Gs.a,{onChangeProvider:function(e){return n=e,W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Cluster Builder",action:"Cloud Provider Selected",value:n,pathfinder_filter:"".concat(n," Cloud Provider Selected")},{integrations:Object(W.c)(u)}),void t("@provider",n);var n},providers:d?[{name:Ys.a.AWS,disabled:y,disabledReason:E(Ys.a.AWS)}]:[{name:Ys.a.AWS,disabled:y,disabledReason:E(Ys.a.AWS)},{name:Ys.a.GCP,disabled:O,disabledReason:E(Ys.a.GCP)},{name:Ys.a.AZURE,disabled:x,disabledReason:E(Ys.a.AZURE)}],selectedProvider:r}))}Zs.propTypes={setClusterFormValue:k.a.func.isRequired,isEdit:k.a.bool.isRequired,provider:k.a.oneOf(["AWS","AZURE","GCP"]).isRequired,originalProvider:k.a.oneOf(["AWS","AZURE","GCP"]).isRequired,isPrivateIPModeEnabled:k.a.bool.isRequired,instanceSize:k.a.string.isRequired,isTenantUpgrade:k.a.bool,cloudContainers:k.a.arrayOf(k.a.oneOfType([k.a.shape(Ks.g),k.a.shape(Ks.c),k.a.shape(Ks.a),k.a.shape(Ks.f)])).isRequired,isGeoSharded:k.a.bool,orgId:k.a.string.isRequired,isNdsGovEnabled:k.a.bool.isRequired},Zs.defaultProps={isTenantUpgrade:!1,isGeoSharded:!1};var $s=Zs,Xs=n(885),Js=n(892);function Qs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var el=function(e){A()(n,e);var t=Qs(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{showSummary:!1,showReadOnly:new Array(e.props.replicationSpecs.length).fill(!0)}),I()(C()(e),"getZoneColorIcon",(function(e){return Object(z.jsx)("i",{className:"fa fa-circle nds-cluster-form-geo-zone-picker-icon",style:{color:e}})})),I()(C()(e),"getReadOnlyRegionsText",(function(e){return e.map((function(e){return"".concat(e.regionView.location," (").concat(e.regionView.name,")")})).join(", ")})),I()(C()(e),"getTooltipContent",(function(){return Object(z.jsx)("div",{className:"nds-cluster-form-tooltip"},"Zones configured for local reads contain read-only nodes in the preferred regions of every other zone. This provides users with low-latency reads to data written in other zones.",Object(z.jsx)("br",null),Object(z.jsx)("br",null),"Read-only regions can be configured in the Zone Configuration accordion.")})),I()(C()(e),"getConfigureLocalReadsButton",(function(){var t=e.props.replicationSpecs,n=Xs.a.areAllConfiguredForGlobalReads(t),r=Object(z.jsx)(Xe.a,{size:"xsmall",onClick:e.configureGlobalReads,disabled:n},"Configure local reads in all zones");return n?Object(z.jsx)(Tt.a,{content:"All zones have been configured for local reads"},r):r})),I()(C()(e),"configureGlobalReads",(function(t){t.stopPropagation();var n=e.props,r=n.replicationSpecs;(0,n.setClusterFormValue)("replicationSpecs",Xs.a.configureGlobalReads(r))})),I()(C()(e),"updateShowReadOnly",(function(){e.setState({showReadOnly:new Array(e.props.replicationSpecs.length).fill(!0)})})),e}return E()(n,[{key:"componentDidUpdate",value:function(e){Xs.a.areSpecsEqual(this.props.replicationSpecs,e.replicationSpecs)||this.updateShowReadOnly()}},{key:"render",value:function(){var e=this,t=this.props.replicationSpecs,n=this.state,r=n.showSummary,o=n.showReadOnly;return Object(z.jsx)("section",{className:"nds-cluster-form-collapsible-content"},Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-header",role:"presentation",onClick:function(){e.setState({showSummary:!r})}},Object(z.jsx)("div",{className:"nds-cluster-form-setting-accordion"},Object(z.jsx)("i",{className:ae()("fa fa-angle-right nds-cluster-form-collapsible-content-accordion accordion-headline-arrow",{"accordion-headline-arrow-is-down":r})}),Object(z.jsx)("span",{className:"nds-cluster-form-collapsible-content-label"},Object(z.jsx)("strong",null,"Zone configuration summary"))),Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-header-button"},this.getConfigureLocalReadsButton(),Object(z.jsx)(Tt.a,{content:this.getTooltipContent},Object(z.jsx)("i",{className:"fa fa-info-circle nds-cluster-form-info-icon zone-section-tooltip-icon"})))),r&&t.map((function(n,r){var i=!!t[r+1],a=Xs.a.getPreferredRegion(n),s=Xs.a.getReadOnlyRegionSpecs(n),c=a.regionView.continent,u=Xs.a.isConfiguredForGlobalReads(t,n),d=Xs.a.handlesPartialOutage(n),p=Xs.a.handlesFullOutage(n);return Object(z.jsx)(l.a.Fragment,{key:n.zoneName},Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item"},Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-icon"},e.getZoneColorIcon(Js.b(r))),Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-section nds-cluster-form-collapsible-content-item-zone-info"},Object(z.jsx)("span",{className:"nds-cluster-form-collapsible-content-label"},Object(z.jsx)("strong",null,n.zoneName)),Object(z.jsx)("span",{className:"nds-cluster-form-collapsible-content-item-shard-text nds-cluster-form-collapsible-content-item-section-second-element"},n.numShards," shard",n.numShards>1?"s":"")),Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-section nds-cluster-form-collapsible-content-item-region-info"},Object(z.jsx)("span",{className:"nds-cluster-form-collapsible-content-label"},a.regionView.location," (",a.regionView.name,")"),s.length>0&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-section-accordion-line"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-accordion",role:"presentation",onClick:function(){o[r]=!o[r],e.setState({showReadOnly:o})}},Object(z.jsx)("i",{className:ae()("fa fa-angle-right nds-cluster-form-collapsible-content-accordion accordion-headline-arrow",{"accordion-headline-arrow-is-down":o[r]})}),Object(z.jsx)("span",null,Object(z.jsx)("strong",null,s.length," read-only region",s.length>1?"s":"")))),o[r]&&Object(z.jsx)("span",{className:"nds-cluster-form-collapsible-content-item-region-info-read-only"},e.getReadOnlyRegionsText(s)))),Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-section nds-cluster-form-collapsible-content-item-analysis-info"},Object(z.jsx)("div",{className:"zone-section-status-text zone-section-status-text-is-green"},Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"mms-icon-check zone-section-status-text-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Low latency reads and writes in"," ",Object(z.jsx)("strong",null,Js.c(c,!1)))),t.length>1&&Object(z.jsx)("div",{className:ae()("zone-section-status-text",{"zone-section-status-text-is-green":u,"zone-section-status-text-is-gray":!u})},Object(z.jsx)("div",null,u&&Object(z.jsx)("i",{className:"mms-icon-check zone-section-status-text-icon"}),!u&&Object(z.jsx)("i",{className:"mms-icon-remove zone-section-status-text-icon zone-section-status-text-remove-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Local reads in all other zones")),Object(z.jsx)("div",{className:ae()("zone-section-status-text",{"zone-section-status-text-is-green":d,"zone-section-status-text-is-gray":!d})},d&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"mms-icon-check zone-section-status-text-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Available during partial region outage")),!d&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"mms-icon-remove zone-section-status-text-icon zone-section-status-text-remove-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Not available during partial region outage"))),Object(z.jsx)("div",{className:ae()("zone-section-status-text",{"zone-section-status-text-is-green":p,"zone-section-status-text-is-gray":!p})},p&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"mms-icon-check zone-section-status-text-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Available during full region outage")),!p&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"mms-icon-remove zone-section-status-text-icon zone-section-status-text-remove-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Not available during full region outage"))))),i&&Object(z.jsx)("hr",{className:"nds-cluster-form-collapsible-content-item-separator"}))})),r&&Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-footer"}))}}]),n}(l.a.Component);I()(el,"propTypes",{replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,setClusterFormValue:k.a.func.isRequired});var tl=el,nl=n(1541),rl={getRegionsWithAvailableInstances:function(e,t,n,r,o,i,a){var s=this,l=Object.values(r);oe.B(i)&&(l=l.filter((function(e){return e.supportsSharding})),oe.w(i)&&(l=l.filter((function(e){return!e.isNVMe}))));var c=Object.values(a.filter((function(e){return e!==o}))).map((function(e){return e.regionsConfig})).flatMap((function(e){return Object.keys(e)})),u=new Set(Object.keys(o.regionsConfig).concat(c)),d=!1;if(e){var p=e.electableNodes>0,f=e.readOnlyNodes>0,h=e.analyticsNodes>0;d=p&&f||p&&h||f&&h}var m=!e||c.includes(e.regionView.key)||d?yn()(u):yn()(u).filter((function(t){return t!==e.regionView.key}));if(0===m.length)return t.map((function(e){return e.key}));var g=new Set;return l.forEach((function(e){s.findCommonFamilyForInstanceSize(e,m,n).forEach((function(t){e.availableRegions.forEach((function(e){e.availableFamilies.includes(t)&&g.add(e.regionName)}))}))})),Array.from(g)},findCommonFamilyForInstanceSize:function(e,t,n){var r=0,o=e.availableRegions,i={};return t.forEach((function(e){r++;var t=o.find((function(t){return t.regionName===e&&t.providerName===n}));t&&t.availableFamilies.forEach((function(e){e in i?i[e]++:i[e]=1}))})),Object.keys(i).filter((function(e){return i[e]===r}))}};function ol(e){var t,n=e.setClusterFormValue,r=e.isEdit,o=e.defaultTemplates,i=e.clusterType,a=e.originalClusterType,s=e.originalInstanceSize,c=e.currentInstanceSize,u=e.provider,d=e.originalProvider,p=e.replicationSpecs,f=e.geoSharding,h=e.groupId,m=e.docsUrl,g=e.onShardingEnabled,b=e.isPrivateIPModeEnabled,v=e.minShardingInstanceSize,y=e.isNVMe,O=e.cloudContainers,x=e.showOverlayTemplates,j=e.orgId,E=e.providerOptions;function S(e){n("clusterType",e?me.i.GEOSHARDED:me.i.REPLICASET),e&&g()}return Object(z.jsx)(l.a.Fragment,null,(i===me.i.GEOSHARDED&&(Xs.a.hasAllCorrectlyComposedZoneNames(p)?Xs.a.hasValidZoneNames(p)?Xs.a.hasValidNumberOfShards(p)?Xs.a.isValid(p,i)||(t=Object(z.jsx)(M.a,{level:"danger",className:"nds-cluster-form-collapsible-content-alert"},Object(z.jsx)("strong",null,"Your cluster cannot be deployed because at least one zone has an invalid combination of nodes.")," ","Please configure the zone appropriately in the Zone Configuration accordion below.")):t=Object(z.jsx)(M.a,{level:"danger",className:"nds-cluster-form-collapsible-content-alert"},Object(z.jsx)("strong",null,"Your cluster cannot be deployed because clusters cannot have more than"," ",Xs.a.MAX_NUM_SHARDS," shards total across all zones.")," ","Please adjust the total number of shards in the Zone Configuration accordion below."):t=Object(z.jsx)(M.a,{level:"danger",className:"nds-cluster-form-collapsible-content-alert"},Object(z.jsx)("strong",null,"Your cluster cannot be deployed because more than one zone has the same name.")," Please name each zone uniquely in the Zone Configuration accordion below."):t=Object(z.jsx)(M.a,{level:"danger",className:"nds-cluster-form-collapsible-content-alert"},Object(z.jsx)("strong",null,"Your cluster cannot be deployed because a zone has an invalid zone name.")," Please use a valid zone name in the Zone Configuration accordion below.")),t),Object(z.jsx)("div",{className:"nds-cluster-form-setting"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-wider"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-large"},"Enable Global Writes")," ",Object(z.jsx)("strong",null,"(",v," and up)")),Object(z.jsx)("div",null,"Low-latency reads and writes from anywhere in the world."," ",Object(z.jsx)("a",{href:"".concat(m,"/global-clusters"),target:"_blank"},"View documentation"),i===me.i.GEOSHARDED&&Object(z.jsx)("ul",null,Object(z.jsx)("li",null,"Define multiple zones within a single cluster made up of one or more cloud regions."),Object(z.jsx)("li",null,"After deployment, we will show you how to associate data with the nearest zone using location attributes.")))),Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-selection"},function(){var e=i===me.i.GEOSHARDED,t=r&&oe.B(a),n=r&&oe.C(s),o=b&&u===Ys.a.AZURE,l=rl.getRegionsWithAvailableInstances(null,null,u,E[u].instanceSizes,p[0],me.i.GEOSHARDED,p),c=t||n||y||o||!l.length,d=Object(z.jsx)(Ps.a,{enabled:e,onToggle:S,enabledText:"ON",disabledText:"OFF",disabled:c});if(c){var f="Global Writes is not available for this configuration.";return t?f=e?"Existing Sharded Clusters cannot be converted to Replica Sets.":"Existing Sharded Clusters cannot be converted to Global Clusters":n?f="A shared-tier cluster cannot be upgraded directly to a Sharded Cluster. Upgrade to a dedicated Replica Set first to enable this option.":y?f="Global Writes is unavailable for clusters with local NVMe SSDs.":o?f="Projects with Connect via Peering Only enabled do not support Global Writes for Azure.":l.length||(f="The selected combination of regions is not valid for any instance size supported by Global Clusters."),Object(z.jsx)(Tt.a,{content:Object(Js.e)(f)},d)}return d}())),i===me.i.GEOSHARDED&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("hr",{className:"nds-cluster-form-hr-thin"}),Object(z.jsx)("div",{className:"nds-cluster-form-has-less-padding-bottom"},"Choose the cloud provider for all of your zones' regions"),Object(z.jsx)($s,{setClusterFormValue:n,isEdit:r,provider:u,originalProvider:d,instanceSize:c,isPrivateIPModeEnabled:b,cloudContainers:O,isGeoSharded:!0,orgId:j})),Object(z.jsx)(nl.a,{groupId:h,replicationSpecs:p,geoSharding:f,setClusterFormValue:n,defaultTemplates:o,provider:u,isEdit:r,isMapInteractive:i===me.i.GEOSHARDED,showTemplates:x}),i===me.i.GEOSHARDED&&Object(z.jsx)(tl,{replicationSpecs:p,setClusterFormValue:n}))}ol.propTypes={setClusterFormValue:k.a.func.isRequired,isEdit:k.a.bool.isRequired,defaultTemplates:k.a.shape({AWS:k.a.shape(me.k),AZURE:k.a.shape(me.k),GCP:k.a.shape(me.k),FREE:k.a.shape(me.k)}).isRequired,clusterType:k.a.oneOf(Object.keys(me.i)).isRequired,originalClusterType:k.a.oneOf(Object.keys(me.i)).isRequired,originalInstanceSize:k.a.string.isRequired,currentInstanceSize:k.a.string.isRequired,provider:k.a.oneOf(["AWS","AZURE","GCP"]).isRequired,originalProvider:k.a.oneOf(["AWS","AZURE","GCP"]).isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,geoSharding:k.a.shape(me.n).isRequired,groupId:k.a.string.isRequired,docsUrl:k.a.string.isRequired,onShardingEnabled:k.a.func.isRequired,isPrivateIPModeEnabled:k.a.bool.isRequired,minShardingInstanceSize:k.a.string.isRequired,isNVMe:k.a.bool.isRequired,cloudContainers:k.a.arrayOf(k.a.oneOfType([k.a.shape(Ks.g),k.a.shape(Ks.c),k.a.shape(Ks.a),k.a.shape(Ks.f)])).isRequired,showOverlayTemplates:k.a.bool,orgId:k.a.string.isRequired,providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired},ol.defaultProps={showOverlayTemplates:!0};var il=ol,al=n(1121),sl=n(896),ll=n(1053);function cl(e){var t=e.value,n=e.onChange,r=e.replicationSpec,o=e.replicationSpecs,i=e.regions,a=e.availableRegions,s=e.className,l=e.disabledChecks,c=e.isNDSGovEnabled;function u(e){return!Xs.a.getUnusedElectableRegions(r,i).some((function(t){return t.key===e}))}function d(e){return!Xs.a.getUnusedReadOnlyRegions(r,i).some((function(t){return t.key===e}))}function p(e){return!Xs.a.getUnusedAnalyticsRegions(r,i).some((function(t){return t.key===e}))}return Object(z.jsx)(ll.a,{value:t,onChange:n,tooltipRenderer:function(e){var t=l.checkPreferred,n=l.checkElectable,i=l.checkReadOnly;return l.checkAnalytics&&function(e){if(p(e))return Object(z.jsx)("div",{className:"nds-cluster-form-tooltip"},"This region has already been selected as an analytics replica")}(e)||i&&function(e){if(d(e))return Object(z.jsx)("div",{className:"nds-cluster-form-tooltip"},"This region has already been selected as a read-only replica")}(e)||t&&function(e){var t=Xs.a.getZoneWithPreferredRegion(o,e);if(t)return Object(z.jsx)("div",{className:"nds-cluster-form-tooltip"},"This region has already been selected as the preferred region for the ",Object(z.jsx)("strong",null,t)," ","zone")}(e)||n&&function(e){if(u(e)){var t=Xs.a.getPreferredRegion(r).regionView.key===e?"the preferred region":"an electable region";return Object(z.jsx)("div",{className:"nds-cluster-form-tooltip"},"This region has already been selected as ",t)}}(e)||a&&function(e){if(!a.includes(e))return Object(z.jsx)("div",{className:"nds-cluster-form-tooltip"},"This region is not supported with your existing configuration. Try changing to a different cluster tier or switching to a different region.")}(e)||void 0},regions:i,className:ae()("dropdown-select",I()({},s,!!s)),isRegionDisabled:function(e){var t=l.checkPreferred,n=l.checkElectable,r=l.checkReadOnly;return l.checkAnalytics&&p(e)||r&&d(e)||t&&function(e){return!Xs.a.getUnusedPreferredRegions(o,i).some((function(t){return t.key===e}))}(e)||n&&u(e)||a&&!a.includes(e)},regionGroupingType:c?Js.a.ENV:Js.a.CONTINENT})}cl.propTypes={value:k.a.string.isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,replicationSpec:k.a.shape(me.x).isRequired,regions:k.a.arrayOf(k.a.shape(sl.a)).isRequired,availableRegions:k.a.arrayOf(k.a.string),onChange:k.a.func.isRequired,className:k.a.string,disabledChecks:k.a.shape({checkPreferred:k.a.bool,checkElectable:k.a.bool,checkReadOnly:k.a.bool,checkAnalytics:k.a.bool}),isNDSGovEnabled:k.a.bool},cl.defaultProps={className:null,disabledChecks:{},isNDSGovEnabled:!1};var ul=cl;function dl(e){var t=e.replicationSpec,n=e.hasMultipleZones,r=e.isConfiguredForGlobalReads,o=Xs.a.getPreferredRegion(t).regionView.continent;return Object(z.jsx)("div",{className:"zone-section zone-section-is-narrow"},Object(z.jsx)("div",{className:"zone-section-status-leading-text"},Object(z.jsx)("strong",null,"As configured, this zone has:")),Object(z.jsx)("div",{className:"zone-section-status"},Object(z.jsx)("div",{className:"zone-section-status-text zone-section-status-text-is-green"},Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"mms-icon-check zone-section-status-text-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Low latency reads and writes in ",Object(z.jsx)("strong",null,Js.c(o,!1)))),n&&Object(z.jsx)("div",{className:ae()("zone-section-status-text",{"zone-section-status-text-is-green":r,"zone-section-status-text-is-gray":!r})},Object(z.jsx)("div",null,r&&Object(z.jsx)("i",{className:"mms-icon-check zone-section-status-text-icon"}),!r&&Object(z.jsx)("i",{className:"mms-icon-remove zone-section-status-text-icon zone-section-status-text-remove-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Local reads in all other zones"))))}dl.propTypes={replicationSpec:k.a.shape(me.x).isRequired,hasMultipleZones:k.a.bool.isRequired,isConfiguredForGlobalReads:k.a.bool.isRequired};var pl=dl;function fl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var hl=l.a.Component,ml=J.a.range(1,Xs.a.MAX_NUM_SHARDS+1).map((function(e){return{label:"".concat(e),value:e}})),gl=function(e){A()(n,e);var t=fl(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{zoneName:e.props.replicationSpec.zoneName,showOptions:!1}),I()(C()(e),"onChangeZoneName",(function(t){var n=t.target.value;e.updateZoneNameInput(n)})),I()(C()(e),"onBlurZoneName",(function(t){var n=e.props,r=n.replicationSpec,o=n.updateReplicationSpecs,i=t.target.value;if(i!==e.props.replicationSpec.zoneName){var a=Object(Us.a)(r);a.zoneName=i,o(a)}})),I()(C()(e),"onChangeShardingCount",(function(t){var n=e.props,r=n.replicationSpec,o=n.updateReplicationSpecs,i=parseInt(t.value,10),a=Object(Us.a)(r);a.numShards=i,o(a)})),I()(C()(e),"updateZoneNameInput",(function(t){e.setState({zoneName:t})})),I()(C()(e),"displayShardingCount",(function(e){return"".concat(e.label," Shard").concat(e.value>1?"s":"")})),e}return E()(n,[{key:"componentDidUpdate",value:function(e){J.a.isEqual(e.replicationSpec,this.props.replicationSpec)||this.updateZoneNameInput(this.props.replicationSpec.zoneName)}},{key:"render",value:function(){var e=this,t=this.props,n=t.replicationSpec,r=t.replicationSpecs,o=this.state,i=o.zoneName,a=o.showOptions,s=Xs.a.isZoneNameValid(r,n.id,i),c=!Xs.a.hasValidNumberOfShards(r)&&n.numShards>1;return Object(z.jsx)("section",{className:"nds-cluster-form-collapsible-content"},Object(z.jsx)("div",{className:ae()("nds-cluster-form-collapsible-content-header",{"zone-section-accordion-header":a}),role:"presentation",onClick:function(){e.setState({showOptions:!a})}},Object(z.jsx)("div",{className:"nds-cluster-form-setting-accordion"},Object(z.jsx)("i",{className:ae()("fa fa-angle-right nds-cluster-form-collapsible-content-accordion accordion-headline-arrow",{"accordion-headline-arrow-is-down":a})}),Object(z.jsx)("span",{className:"nds-cluster-form-collapsible-content-label"},Object(z.jsx)("strong",null,"Additional Options")))),a&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",{className:"zone-section-group"},Object(z.jsx)("div",{className:"zone-section-option-group"},Object(z.jsx)("span",{className:"nds-cluster-form-collapsible-content-label zone-section-option-group-header-item-spacing"},"Number of Shards in this Zone"),Object(z.jsx)("span",{className:"zone-section-option-group-description-item-spacing"},Object(z.jsx)("strong",null,"We recommend only 1 shard per zone."),"Â ",Object(z.jsx)(Tt.a,{content:Js.e("To scale for multiple areas with high user volume, create another zone.")},Object(z.jsx)("i",{className:"fa fa-info-circle nds-cluster-form-info-icon"}))),Object(z.jsx)(aa.a,{value:n.numShards,valueRenderer:this.displayShardingCount,options:ml,onChange:this.onChangeShardingCount,className:ae()("zone-section-option-group-num-shards-field",{"zone-section-option-group-num-shards-field-error":c})}),Object(z.jsx)("div",{className:ae()("nds-cluster-form-name-input-subtext zone-section-option-group-num-shards-field-subtext",{"nds-cluster-form-name-input-subtext-error":c})},"Clusters cannot have more than ",Xs.a.MAX_NUM_SHARDS," shards total across all zones.")),Object(z.jsx)("div",{className:"zone-section-option-group zone-section-option-group-right-side"},Object(z.jsx)("span",{className:"nds-cluster-form-collapsible-content-label zone-section-option-group-header-item-spacing"},"Zone Name"),Object(z.jsx)("span",{className:"zone-section-option-group-description-item-spacing"},"This does not have any impact on the data in your collections."),Object(z.jsx)("input",{type:"text",value:i,onChange:this.onChangeZoneName,onBlur:this.onBlurZoneName,className:ae()("nds-cluster-form-name-input-control zone-section-option-group-zone-name-field",{"nds-cluster-form-name-input-control-error":!s})}),Object(z.jsx)("div",{className:ae()("nds-cluster-form-name-input-subtext zone-section-option-group-zone-name-field-subtext",{"nds-cluster-form-name-input-subtext-error":!s})},"Zone names must be unique and â¤ 20 characters. They can only contain ASCII letters, numbers, hyphens, and spaces."))),Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-footer"})))}}]),n}(hl);I()(gl,"propTypes",{replicationSpec:k.a.shape(me.x).isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,updateReplicationSpecs:k.a.func.isRequired});var bl=gl;function vl(e){var t=e.replicationSpec,n=e.hasMultipleZones,r=e.isConfiguredForGlobalReads,o=Xs.a.getPreferredRegion(t).regionView.continent,i=Xs.a.handlesPartialOutage(t),a=Xs.a.handlesFullOutage(t);return Object(z.jsx)("div",{className:"zone-section-group zone-section-group-conditions",style:{justifyContent:"initial"}},Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-section nds-cluster-form-collapsible-content-item-section-first-column-validation"},Object(z.jsx)("div",{className:"zone-section-status-text zone-section-status-text-is-green"},Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"mms-icon-check zone-section-status-text-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Low latency reads and writes in ",Object(z.jsx)("strong",null,Js.c(o,!1)))),n&&Object(z.jsx)("div",{className:ae()("zone-section-status-text",{"zone-section-status-text-is-green":r,"zone-section-status-text-is-gray":!r})},Object(z.jsx)("div",null,r&&Object(z.jsx)("i",{className:"mms-icon-check zone-section-status-text-icon"}),!r&&Object(z.jsx)("i",{className:"mms-icon-remove zone-section-status-text-icon zone-section-status-text-remove-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Local reads in all other zones"))),Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-section"},Object(z.jsx)("div",{className:ae()("zone-section-status-text",{"zone-section-status-text-is-green":i,"zone-section-status-text-is-gray":!i})},i&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"mms-icon-check zone-section-status-text-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Available during partial region outage")),!i&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"mms-icon-remove zone-section-status-text-icon zone-section-status-text-remove-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Not available during partial region outage"))),Object(z.jsx)("div",{className:ae()("zone-section-status-text",{"zone-section-status-text-is-green":a,"zone-section-status-text-is-gray":!a})},a&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"mms-icon-check zone-section-status-text-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Available during full region outage")),!a&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",null,Object(z.jsx)("i",{className:"mms-icon-remove zone-section-status-text-icon zone-section-status-text-remove-icon"})),Object(z.jsx)("div",{className:"zone-section-status-text-spacing"},"Not available during full region outage")))))}vl.propTypes={replicationSpec:k.a.shape(me.x).isRequired,hasMultipleZones:k.a.bool.isRequired,isConfiguredForGlobalReads:k.a.bool.isRequired};var yl=vl,Ol=n(1983);function xl(e){var t=e.className,n=e.provider,r=e.onChange,o=e.providers,i=[];o.forEach((function(e){i.push({value:e,label:e})}));return Object(z.jsx)(aa.a,{className:ae()("dropdown-select",I()({},t,!!t)),value:n,onChange:r,options:i,optionRenderer:function(e){return Object(z.jsx)("div",{className:"provider-select-option"},e.label)}})}xl.propTypes={className:k.a.string,provider:k.a.oneOf(["AWS","GCP","AZURE","FREE"]).isRequired,onChange:k.a.func,providers:k.a.arrayOf(k.a.oneOf(["AWS","GCP","AZURE","FREE"]))};var jl=xl;function El(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?El(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):El(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var _l=function(e){A()(n,e);var t=Cl(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{regionNodeCounts:{}}),I()(C()(e),"onAddRegion",(function(){e.props.addRegion()})),I()(C()(e),"onRemoveRegion",(function(t){e.props.removeRegion(t)})),I()(C()(e),"onChangeRegion",(function(t,n){e.props.changeRegion(t,n)})),I()(C()(e),"onChangeNodes",(function(t,n){var r=parseInt(t.target.value,10);if(isNaN(r)||r<1){var o=e.state.regionNodeCounts;o[n]="",e.setRegionNodeCounts(o)}else e.props.changeNodes(r,n)})),I()(C()(e),"onBlurChangeNodeInput",(function(t,n){var r=parseInt(t.target.value,10)||1;e.props.changeNodes(r,n)})),I()(C()(e),"setRegionNodeCounts",(function(t){e.setState({regionNodeCounts:t})})),I()(C()(e),"getRegionNodeTypeRowLabel",(function(t){if(e.props.regionNodeType===me.s.ELECTABLE&&t)return Object(z.jsx)("span",null,Object(z.jsx)(Tt.a,{content:Object(Js.e)("Nodes in the highest priority region are prioritized during replica set member elections.")},Object(z.jsx)("div",{className:"bubble-text bubble-text-is-light-blue"},"Highest Priority")))})),I()(C()(e),"getTableRegions",(function(t){var n=e.props.regionNodeType;return n===me.s.ANALYTICS?Xs.a.getAnalyticsRegionSpecs(t):n===me.s.READ_ONLY?Xs.a.getReadOnlyRegionSpecs(t):Xs.a.getElectableRegionSpecs(t).sort((function(e,t){return t.priority-e.priority}))})),I()(C()(e),"generateRegionNodeCounts",(function(t){var n=e.props.regionNodeType,r={};return e.getTableRegions(t).forEach((function(e){n===me.s.ANALYTICS?r[e.regionView.key]=e.analyticsNodes:n===me.s.READ_ONLY?r[e.regionView.key]=e.readOnlyNodes:r[e.regionView.key]=e.electableNodes})),r})),e}return E()(n,[{key:"componentDidMount",value:function(){var e=this.generateRegionNodeCounts(this.props.replicationSpec);this.setRegionNodeCounts(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.generateRegionNodeCounts(e.replicationSpec);this.setRegionNodeCounts(t)}},{key:"render",value:function(){var e,t,n,r=this,o=this.props,i=o.replicationSpec,a=o.replicationSpecs,s=o.regions,c=o.regionNodeType,u=o.providerInstances,d=o.provider,p=o.clusterType,f=o.isPrivateIpModeAzure,h=o.isNDSGovEnabled,m=o.crossCloudEnabled,g=this.state.regionNodeCounts,b=Xs.a.getPreferredRegion(i),v=this.getTableRegions(i),y=v.length>1,O=rl.getRegionsWithAvailableInstances(null,s,d,u,i,p,a),x=s.filter((function(e){return O.includes(e.key)})),j=f&&v.length>0,E=Xs.a.getAnalyticsRegionSpecs(i).length>0,S=Xs.a.getReadOnlyRegionSpecs(i).length>0,C=Xs.a.getTotalNodes(i)>=50,_=Xs.a.getTotalElectableNodes(i)>=7;c===me.s.ANALYTICS?(n=0===Xs.a.getUnusedAnalyticsRegions(i,x).length,e=C||n||j):c===me.s.READ_ONLY?(n=0===Xs.a.getUnusedReadOnlyRegions(i,x).length,e=C||n||j):(n=0===Xs.a.getUnusedElectableRegions(i,x).length,e=_||n||j),e&&(t=j?"Azure clusters must be Single-Region as this project uses Peering-Only mode":n?"There are no more regions supported with your existing configuration. Try changing to a different cluster tier or changing your region configuration.":"You have reached the maximum number of nodes allowed.");var A=Object(z.jsx)(Ki.a,{isLink:!0,onClick:this.onAddRegion,className:ae()("link",{"link-is-disabled":e}),disabled:e},"+ Add a region");e&&(A=Object(z.jsx)(Tt.a,{content:Object(Js.e)(t)},A));var N=c!==me.s.ELECTABLE||!m,T=function(e){var t=e.regionSpec,n=e.availableRegions,o=e.isPreferred,l=e.showRemoveIcon,u=e.index;return Object(z.jsx)(Ol.Draggable,{draggableId:t.regionView.key,index:u,isDragDisabled:N},(function(e){return Object(z.jsx)("tr",Fa()({className:"cross-region-section-table-row",ref:e.innerRef},e.draggableProps,e.dragHandleProps),m&&Object(z.jsx)("td",{className:"cross-region-section-table-cell"},Object(z.jsx)("div",{style:{marginBottom:"-4px"}},Object(z.jsx)(jl,{className:"nds-cluster-form-cross-region-provider-select",provider:t.regionView.provider,onChange:function(e){return console.log(e)},providers:["AWS","AZURE","GCP"]}))),Object(z.jsx)("td",{className:"cross-region-section-table-cell"},Object(z.jsx)("div",{style:{marginBottom:"-4px"}},Object(z.jsx)(ul,{className:"nds-cluster-form-cross-region-select",value:t.regionView.key,onChange:function(e){r.onChangeRegion(e.key,t.regionView.key)},regions:s,availableRegions:n,replicationSpec:i,replicationSpecs:a,disabledChecks:{checkPreferred:o,checkElectable:c===me.s.ELECTABLE,checkReadOnly:c===me.s.READ_ONLY,checkAnalytics:c===me.s.ANALYTICS},clusterType:p,isNDSGovEnabled:h}))),Object(z.jsx)("td",{className:"cross-region-section-table-cell"},r.getRegionNodeTypeRowLabel(o)),Object(z.jsx)("td",{className:"cross-region-section-table-cell"},Object(z.jsx)("input",{className:"cross-region-section-input",type:"number",min:"1",max:c===me.s.ELECTABLE?7:50,value:g[t.regionView.key]||"",onChange:function(e){r.onChangeNodes(e,t.regionView.key)},onBlur:function(e){r.onBlurChangeNodeInput(e,t.regionView.key)}})),Object(z.jsx)("td",{className:"cross-region-section-table-cell cross-region-section-table-cell-is-delete"},l&&Object(z.jsx)(Xe.a,{size:"small",onClick:function(){r.onRemoveRegion(t.regionView.key)},disabled:c===me.s.ELECTABLE&&!y},Object(z.jsx)("i",{className:"fa fa-trash-o"}))))}))};return Object(z.jsx)("div",{className:ae()("cross-region-section-wrapper",{"cross-region-section-wrapper-has-short-margin-bottom":c===me.s.ANALYTICS})},Object(z.jsx)("div",{className:ae()("cross-region-section",{"cross-region-section-is-light":c!==me.s.ELECTABLE})},Object(z.jsx)(Ol.DragDropContext,{onDragEnd:function(e){if(c===me.s.ELECTABLE){var t=e.destination,n=e.source,r=e.draggableId;if(t&&(t.droppableId!==n.droppableId||t.index!==n.index)){var o=v[n.index];o.regionView.key!==r&&console.log("error");var i=o.priority,a=v[t.index].priority,s=v.map((function(e){if(e.regionView.key===r)return Sl(Sl({},e),{},{priority:a});var t=e.priority;return i<a&&t>i&&t<=a?Sl(Sl({},e),{},{priority:t-1}):i>a&&t<i&&t>=a?Sl(Sl({},e),{},{priority:t+1}):e})).sort((function(e,t){return t.priority-e.priority}));v=s}}},isDropDisabled:N},Object(z.jsx)("table",{className:"cross-region-section-table"},Object(z.jsx)("thead",{className:"cross-region-section-table-header"},Object(z.jsx)("tr",null,m&&Object(z.jsx)("th",{className:"cross-region-section-table-cell cross-region-section-table-cell-provider"},"Provider"),Object(z.jsx)("th",{className:"cross-region-section-table-cell cross-region-section-table-cell-region"},"Region"),Object(z.jsx)("th",{className:"cross-region-section-table-cell cross-region-section-table-cell-node-type","aria-label":"node-type"}),Object(z.jsx)("th",{className:"cross-region-section-table-cell cross-region-section-table-cell-num-nodes"},"Nodes"),Object(z.jsx)("th",{className:"cross-region-section-table-cell cross-region-section-table-cell-delete-icon","aria-label":"delete-actions"},"Â "))),Object(z.jsx)(Ol.Droppable,{droppableId:"region-table-id"},(function(e){return Object(z.jsx)("tbody",Fa()({ref:e.innerRef},e.droppableProps),v.map((function(e,t){var n=b===e&&c===me.s.ELECTABLE,r=y||c!==me.s.ELECTABLE,o=rl.getRegionsWithAvailableInstances(e,s,d,u,i,p,a);return f&&(S||E)&&(o=o.filter((function(t){return t===e.regionView.key}))),Object(z.jsx)(T,{key:e.regionView.key,regionSpec:e,availableRegions:o,isPreferred:n,showRemoveIcon:r,index:t})})),e.placeholder)})))),Object(z.jsx)("div",{className:"cross-region-section-footer"},A,f&&c===me.s.ELECTABLE&&Object(z.jsx)(l.a.Fragment,null," ","Â· ",Object(z.jsx)("a",{href:"https://www.mongodb.org/dochub/core/atlas-horizon-faq"},"Disable Peering-only mode")," ","to add more regions to Azure clusters in this project"))))}}]),n}(l.a.Component);I()(_l,"propTypes",{providerInstances:k.a.objectOf(k.a.shape(me.p)).isRequired,provider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,replicationSpec:k.a.shape(me.x).isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,regions:k.a.arrayOf(k.a.shape(sl.a)).isRequired,regionNodeType:k.a.oneOf(Object.keys(me.s)),addRegion:k.a.func.isRequired,removeRegion:k.a.func.isRequired,changeRegion:k.a.func.isRequired,changeNodes:k.a.func.isRequired,clusterType:k.a.oneOf(Object.keys(me.i)).isRequired,isPrivateIpModeAzure:k.a.bool.isRequired,isNDSGovEnabled:k.a.bool,crossCloudEnabled:k.a.bool}),I()(_l,"defaultProps",{regionNodeType:me.s.ELECTABLE,isNDSGovEnabled:!1,crossCloudEnabled:!1});var Al=_l;function Nl(e){var t=e.replicationSpecs,n=e.replicationSpec,r=e.regions,o=e.updateReplicationSpecs,i=e.providerOptions,a=e.provider,s=e.clusterType,l=e.isPrivateIpModeAzure,c=e.isNDSGovEnabled,u=e.crossCloudEnabled;return Object(z.jsx)(Al,{replicationSpecs:t,replicationSpec:n,regions:r,providerInstances:i[a].instanceSizes,provider:a,regionNodeType:me.s.ELECTABLE,addRegion:function(){var e=rl.getRegionsWithAvailableInstances(null,r,a,i[a].instanceSizes,n,s,t),c=r.filter((function(t){return e.includes(t.key)})),u=Xs.a.getAllUniqueSpecRegions(t);l&&u.length>0&&(c=c.filter((function(e){return e===u})));var d=Xs.a.addNewElectableRegion(n,c);o(d)},removeRegion:function(e){var t=Xs.a.removeElectableRegion(n,e);o(t)},changeRegion:function(e,t){var i=Xs.a.changeElectableRegion(n,r,e,t);o(i)},changeNodes:function(e,t){var r=Xs.a.changeElectableNodes(n,e,t);o(r)},clusterType:s,isPrivateIpModeAzure:l,isNDSGovEnabled:c,crossCloudEnabled:u})}Nl.propTypes={providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,provider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,replicationSpec:k.a.shape(me.x).isRequired,regions:k.a.arrayOf(k.a.shape(sl.a)).isRequired,updateReplicationSpecs:k.a.func.isRequired,clusterType:k.a.oneOf(Object.keys(me.i)).isRequired,isPrivateIpModeAzure:k.a.bool.isRequired,isNDSGovEnabled:k.a.bool,crossCloudEnabled:k.a.bool},Nl.defaultProps={isNDSGovEnabled:!1,crossCloudEnabled:!1};var Tl=Nl;function wl(e){var t=e.replicationSpecs,n=e.replicationSpec,r=e.regions,o=e.updateReplicationSpecs,i=e.providerOptions,a=e.provider,s=e.clusterType,l=e.isPrivateIpModeAzure,c=e.isNDSGovEnabled,u=e.crossCloudEnabled;return Object(z.jsx)(Al,{replicationSpecs:t,replicationSpec:n,regions:r,regionNodeType:me.s.READ_ONLY,addRegion:function(){var e=rl.getRegionsWithAvailableInstances(null,r,a,i[a].instanceSizes,n,s,t),c=r.filter((function(t){return e.includes(t.key)}));if(l){var u=Xs.a.getAllUniqueSpecRegions(t);c=c.filter((function(e){return e.key===u[0]}))}var d=Xs.a.addNewReadOnlyRegion(n,c);o(d)},removeRegion:function(e){var t=Xs.a.removeReadOnlyRegion(n,e);o(t)},changeRegion:function(e,t){var i=Xs.a.changeReadOnlyRegion(n,r,e,t);o(i)},changeNodes:function(e,t){var r=Xs.a.changeReadOnlyNodes(n,e,t);o(r)},providerInstances:i[a].instanceSizes,provider:a,clusterType:s,isPrivateIpModeAzure:l,isNDSGovEnabled:c,crossCloudEnabled:u})}wl.propTypes={replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,replicationSpec:k.a.shape(me.x).isRequired,regions:k.a.arrayOf(k.a.shape(sl.a)).isRequired,updateReplicationSpecs:k.a.func.isRequired,providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,provider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,clusterType:k.a.oneOf(Object.keys(me.i)).isRequired,isPrivateIpModeAzure:k.a.bool.isRequired,isNDSGovEnabled:k.a.bool,crossCloudEnabled:k.a.bool},wl.defaultProps={isNDSGovEnabled:!1,crossCloudEnabled:!1};var Pl=wl;function Rl(e){var t=e.replicationSpecs,n=e.replicationSpec,r=e.regions,o=e.updateReplicationSpecs,i=e.providerOptions,a=e.provider,s=e.clusterType,l=e.isPrivateIpModeAzure,c=e.isNDSGovEnabled,u=e.crossCloudEnabled;return Object(z.jsx)(Al,{replicationSpecs:t,replicationSpec:n,regions:r,regionNodeType:me.s.ANALYTICS,addRegion:function(){var e=rl.getRegionsWithAvailableInstances(null,r,a,i[a].instanceSizes,n,s,t),c=r.filter((function(t){return e.includes(t.key)}));if(l){var u=Xs.a.getAllUniqueSpecRegions(t);c=c.filter((function(e){return e.key===u[0]}))}var d=Xs.a.addNewAnalyticsRegion(n,c);o(d)},removeRegion:function(e){var t=Xs.a.removeAnalyticsRegion(n,e);o(t)},changeRegion:function(e,t){var i=Xs.a.changeAnalyticsRegion(n,r,e,t);o(i)},changeNodes:function(e,t){var r=Xs.a.changeAnalyticsNodes(n,e,t);o(r)},providerInstances:i[a].instanceSizes,provider:a,clusterType:s,isPrivateIpModeAzure:l,isNDSGovEnabled:c,crossCloudEnabled:u})}Rl.propTypes={replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,replicationSpec:k.a.shape(me.x).isRequired,regions:k.a.arrayOf(k.a.shape(sl.a)).isRequired,updateReplicationSpecs:k.a.func.isRequired,providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,provider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,clusterType:k.a.oneOf(Object.keys(me.i)).isRequired,isPrivateIpModeAzure:k.a.bool.isRequired,isNDSGovEnabled:k.a.bool,crossCloudEnabled:k.a.bool},Rl.defaultProps={isNDSGovEnabled:!1,crossCloudEnabled:!1};var Il=Rl;function Dl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var kl=function(e){A()(n,e);var t=Dl(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"getElectableAlert",(function(){var t,n=e.props.replicationSpec,r=Xs.a.hasValidElectableNodes(n),o=Xs.a.hasLongElections(n);return r?o&&(t=Object(z.jsx)(M.a,{level:"info",className:"cross-region-section-wrapper cross-region-section-table-alert"},Object(z.jsx)("strong",null,"Please Note:")," Having electable nodes spread across a large distance can lead to long election times.")):t=Object(z.jsx)(M.a,{level:"danger",className:"cross-region-section-wrapper cross-region-section-table-alert"},Object(z.jsx)("strong",null,"The total number of electable nodes must be 3, 5, or 7 to ensure reliable elections.")," Please change the number of electable nodes or move some of them into a read-only region."),t})),I()(C()(e),"getChangingPriorityAlert",(function(){var t,n=e.props,r=n.hasPITHighestPriorityRegionChanged;return n.isEdit&&r&&(t=Object(z.jsx)(M.a,{level:"warning",className:"cross-region-section-wrapper cross-region-section-table-alert"},Object(z.jsx)("strong",null,"Please note:")," By moving primary region, your existing oplogs are being deleted which will impact your Point In Time Restore.")),t})),I()(C()(e),"getReadOnlyAlert",(function(){var t,n=e.props.replicationSpec;return Xs.a.hasValidTotalNodes(n)||(t=Object(z.jsx)(M.a,{level:"danger",className:"cross-region-section-wrapper cross-region-section-table-alert"},Object(z.jsx)("strong",null,"Please Note:")," Your total number of nodes exceeds the maximum number of nodes (50) allowed by MongoDB. Please reduce the number of nodes to deploy your cluster.")),t})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.replicationSpec,n=e.replicationSpecs,r=e.providerRegions,o=e.updateReplicationSpecs,i=e.providerOptions,a=e.provider,s=e.clusterType,l=e.isPrivateIpModeAzure,c=e.isNDSGovEnabled,u=e.crossCloudEnabled,d=Xs.a.getTotalReadOnlyNodes(t)>0,p=Xs.a.getTotalAnalyticsNodes(t)>0,f=u?"nds-cluster-form-cross-region-large":"nds-cluster-form-cross-region";return Object(z.jsx)("div",{className:f},Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"nds-cluster-form-setting-text-is-large"},Object(z.jsx)("strong",null,"Electable nodes")," for high availability"),Object(z.jsx)("div",{className:"nds-cluster-form-setting-text-is-medium"},"Configure 3, 5, or 7 nodes across multiple regions to better withstand data center outages"),Object(z.jsx)(al.a,{provider:a}),this.getElectableAlert(),this.getChangingPriorityAlert(),Object(z.jsx)(Tl,{replicationSpecs:n,replicationSpec:t,providerOptions:i,provider:a,regions:r,updateReplicationSpecs:o,clusterType:s,isPrivateIpModeAzure:l,isNDSGovEnabled:c,crossCloudEnabled:u})),Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"nds-cluster-form-setting-text-is-large"},Object(z.jsx)("strong",null,"Read-only nodes")," for optimal local reads"),Object(z.jsx)("div",{className:"nds-cluster-form-setting-text-is-medium"},"Add replicas in additional regions to optimize for local reads in any of your service areas"),d&&this.getReadOnlyAlert(),Object(z.jsx)(Pl,{replicationSpecs:n,replicationSpec:t,regions:r,providerOptions:i,provider:a,updateReplicationSpecs:o,clusterType:s,isPrivateIpModeAzure:l,isNDSGovEnabled:c,crossCloudEnabled:u})),Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"nds-cluster-form-setting-text-is-large"},Object(z.jsx)("strong",null,"Analytics nodes")," for workload isolation"),Object(z.jsx)("div",{className:"nds-cluster-form-setting-text-is-medium"},"Isolate queries on read-only nodes that will not contend with your operational workload"),p&&this.getReadOnlyAlert(),Object(z.jsx)(Il,{providerOptions:i,provider:a,replicationSpecs:n,replicationSpec:t,regions:r,updateReplicationSpecs:o,g:!0,clusterType:s,isPrivateIpModeAzure:l,isNDSGovEnabled:c,crossCloudEnabled:u})))}}]),n}(l.a.Component);I()(kl,"propTypes",{replicationSpec:k.a.shape(me.x).isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,provider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,providerRegions:k.a.arrayOf(k.a.shape(sl.a)).isRequired,updateReplicationSpecs:k.a.func.isRequired,isEdit:k.a.bool,clusterType:k.a.oneOf(Object.keys(me.i)).isRequired,hasPITHighestPriorityRegionChanged:k.a.bool,isPrivateIpModeAzure:k.a.bool.isRequired,isNDSGovEnabled:k.a.bool,crossCloudEnabled:k.a.bool}),I()(kl,"defaultProps",{isNDSGovEnabled:!1,crossCloudEnabled:!1});var Ml=kl;function Ll(e){var t=e.disabled,n=e.children,r="\n      Only ".concat(Xs.a.MAX_NUM_REPLICATION_SPECS," zones are supported at this time. For\n      more availability, secondary and read-only regions can be added to each zone under the Zone\n      Configuration accordion.\n    ");return t?Object(z.jsx)(Tt.a,{content:Js.e(r),placement:"top"},n):n}Ll.propTypes={disabled:k.a.bool.isRequired,children:k.a.node.isRequired};var Ul=Ll;function Fl(e){var t,n,r,o=e.replicationSpecs,i=e.replicationSpec,a=e.onChange,s=e.addZoneHandler,l=e.resetZonesHandler,c=e.isResetDisabled,u=function(e,t){return Object(z.jsx)("i",{className:ae()("fa fa-circle nds-cluster-form-geo-zone-picker-icon",{"nds-cluster-form-geo-zone-picker-icon-option-value":!t,"nds-cluster-form-geo-zone-picker-icon-selected-value":t}),style:{color:e}})};return Object(z.jsx)(aa.a,{className:"dropdown-select nds-cluster-form-is-geo-zone",value:i.id,valueRenderer:function(e){return Object(z.jsx)("div",null,u(Js.b(e.index),!0),Object(z.jsx)("strong",null,e.zoneName)," (",e.location,")")},options:(t=o.map((function(e,t){return{label:"".concat(e.zoneName," (").concat(Xs.a.getPreferredRegion(e).regionView.location,")"),value:e.id,zoneName:e.zoneName,location:Xs.a.getPreferredRegion(e).regionView.location,id:e.id,index:t,disabled:!1,action:"selectZone"}})),n={label:"+ Add a Zone",value:"+ Add a Zone",location:void 0,index:o.length,disabled:Xs.a.hasMaxNumReplicationSpecs(o),action:"addZone"},r={label:"Reset Zone Configuration",value:"Reset Zone Configuration",location:void 0,index:o.length+1,disabled:c,action:"resetZones"},t.concat([n,r])),optionRenderer:function(e){return"+ Add a Zone"===e.value?Object(z.jsx)(Ul,{disabled:e.disabled},Object(z.jsx)("div",{className:ae()("nds-cluster-form-geo-zone-picker-add-zone-button",{"nds-cluster-form-geo-zone-picker-add-zone-button-is-disabled":e.disabled})},e.value)):"Reset Zone Configuration"===e.value?Object(z.jsx)("div",{className:ae()("nds-cluster-form-geo-zone-picker-reset-zones-button",{"nds-cluster-form-geo-zone-picker-reset-zones-button-is-disabled":e.disabled})},e.value):Object(z.jsx)("div",null,u(Js.b(e.index),!1),Object(z.jsx)("strong",null,e.zoneName)," (",e.location,")")},onChange:function(e){switch(e.action){case"selectZone":a(e);break;case"addZone":s();break;case"resetZones":l()}}})}Fl.propTypes={replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,replicationSpec:k.a.shape(me.x).isRequired,onChange:k.a.func.isRequired,addZoneHandler:k.a.func.isRequired,resetZonesHandler:k.a.func.isRequired,isResetDisabled:k.a.bool.isRequired};var Bl=Fl;function zl(e){var t,n=e.replicationSpecs,r=e.originalReplicationSpecs,o=e.defaultOneZoneReplicationSpec,i=e.selectedReplicationSpec,a=e.setClusterFormValue,s=e.setSelectedReplicationSpecId,l=e.providerRegions,c=e.isEdit,u=e.providerOptions,d=e.provider,p=e.clusterType;function f(){var e=rl.getRegionsWithAvailableInstances(null,l,d,u[d].instanceSizes,i,p,n),t=l.filter((function(t){return e.includes(t.key)})),r=Xs.a.addNewReplicationSpec(n,t);a("replicationSpecs",r),s(r[r.length-1].id)}return Object(z.jsx)("div",{className:"nds-cluster-form-geo-zone-accordion-header"},Object(z.jsx)("div",{className:"nds-cluster-form-geo-zone-picker"},Object(z.jsx)(Bl,{replicationSpecs:n,replicationSpec:i,onChange:function(e){return s(e.id)},isResetDisabled:(t=c?r:[o],Xs.a.areSpecsEqual(n,t)),addZoneHandler:f,resetZonesHandler:function(){var e;c?(e=r[0].id,a("replicationSpecs",r)):(e=o.id,a("replicationSpecs",[o])),s(e)}})),Object(z.jsx)(Xe.a,{className:"nds-cluster-form-geo-zone-delete",size:"small",disabled:1===n.length,onClick:function(){var e=i.id,t=Xs.a.deleteReplicationSpec(n,e);a("replicationSpecs",t);var r=n.indexOf(n.find((function(t){return t.id===e})))-1;s(t[r=r>-1?r:0].id)}},Object(z.jsx)("i",{className:"fa fa-trash-o"})),Object(z.jsx)(Ul,{disabled:Xs.a.hasMaxNumReplicationSpecs(n)},Object(z.jsx)(Xe.a,{disabled:Xs.a.hasMaxNumReplicationSpecs(n),onClick:f},"+ Add a Zone")))}zl.propTypes={replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,originalReplicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,defaultOneZoneReplicationSpec:k.a.shape(me.x).isRequired,selectedReplicationSpec:k.a.shape(me.x).isRequired,setClusterFormValue:k.a.func.isRequired,setSelectedReplicationSpecId:k.a.func.isRequired,providerRegions:k.a.arrayOf(k.a.shape(sl.a)).isRequired,isEdit:k.a.bool.isRequired,providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,provider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,clusterType:k.a.oneOf(Object.keys(me.i)).isRequired};var Vl=zl;function ql(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Gl=function(e){A()(n,e);var t=ql(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{showCrossRegion:Xs.a.isCrossRegionEnabled(e.props.replicationSpec)}),I()(C()(e),"onChangeRegion",(function(t,n){var r=e.props,o=r.replicationSpec,i=r.providerRegions;(0,r.updateReplicationSpecs)(Xs.a.changeElectableRegion(o,i,t,n))})),I()(C()(e),"revertToSingleRegion",(function(){var t=e.props,n=t.replicationSpec,r=t.updateReplicationSpecs;Xs.a.isCrossRegionEnabled(n)&&r(Xs.a.convertToSingleRegion(n));e.setState({showCrossRegion:!1})})),I()(C()(e),"updateShowCrossRegion",(function(){Xs.a.isCrossRegionEnabled(e.props.replicationSpec)&&!e.state.showCrossRegion&&e.setState({showCrossRegion:Xs.a.isCrossRegionEnabled(e.props.replicationSpec)})})),e}return E()(n,[{key:"componentDidUpdate",value:function(e){e.replicationSpec.id===this.props.replicationSpec.id&&J.a.isEqual(e.replicationSpec,this.props.replicationSpec)||this.updateShowCrossRegion()}},{key:"render",value:function(){var e=this,t=this.props,n=t.replicationSpec,r=t.replicationSpecs,o=t.originalReplicationSpecs,i=t.defaultOneZoneReplicationSpec,a=t.providerRegions,s=t.isAccordionActive,c=t.onAccordionHeadlineClick,u=t.highlightSecondaryText,d=t.setClusterFormValue,p=t.updateReplicationSpecs,f=t.setSelectedReplicationSpecId,h=t.isEdit,m=t.providerOptions,g=t.provider,b=t.clusterType,v=t.isPrivateIPModeEnabled,y=t.crossCloudEnabled,O=this.state.showCrossRegion,x=Xs.a.getPreferredRegion(n),j=r.length>1,E=Xs.a.isConfiguredForGlobalReads(r,n),S=Xs.a.isSingleSpecValid(r,n),C=!Xs.a.hasValidNumberOfShards(r)&&n.numShards>1,_=v&&g===Ys.a.AZURE,A=rl.getRegionsWithAvailableInstances(x,a,g,m[g].instanceSizes,n,b,r);return Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(Vl,{selectedReplicationSpec:n,replicationSpecs:r,originalReplicationSpecs:o,defaultOneZoneReplicationSpec:i,setClusterFormValue:d,setSelectedReplicationSpecId:f,providerRegions:a,isEdit:h,provider:g,providerOptions:m,clusterType:b}),Object(z.jsx)(Ns.a,{headlineText:"Zone Configuration",secondaryText:"".concat(x.regionView.location," (").concat(x.regionView.name,")"),active:s,onHeadlineClick:c,highlightSecondaryText:u,errorSecondaryText:!S||C,colorCode:Js.b(Xs.a.getReplicationSpecIndexFromId(r,n.id)),animate:!0,hasSummary:!0},!O&&Object(z.jsx)("div",null,h&&Object(z.jsx)("div",null,Object(z.jsx)("strong",null,"Removing an entire region or zone")," can cause 3.4 style connection strings to be invalid."),Object(z.jsx)("div",{className:"zone-section-group zone-section-group-config"},Object(z.jsx)("div",{className:"zone-section zone-section-is-wide"},Object(z.jsx)("span",null,"Select the preferred region for your zone"),Object(z.jsx)(al.a,{provider:g}),Object(z.jsx)("div",{className:"zone-section-status"},Object(z.jsx)(ul,{value:x.regionView.key,onChange:function(t){e.onChangeRegion(t.key,x.regionView.key)},regions:a,availableRegions:A,replicationSpecs:r,replicationSpec:n,disabledChecks:{checkPreferred:!0,checkElectable:!1,checkReadOnly:!1},className:"nds-cluster-form-is-geosharding"})),Object(z.jsx)("span",null,"By default, each zone has 3 nodes per shard."),Object(z.jsx)("div",null,Object(z.jsx)(Ki.a,{isLink:!0,className:"link",onClick:function(){e.setState({showCrossRegion:!0})}},"Select Multi-Region, Workload Isolation, and Replication Options"),Object(z.jsx)(Tt.a,{content:Js.e("Better withstand data center outages and optimize for reads in selected service areas")},Object(z.jsx)("i",{className:"fa fa-info-circle nds-cluster-form-info-icon zone-section-tooltip-icon"})))),Object(z.jsx)(pl,{replicationSpec:n,hasMultipleZones:r.length>1,isConfiguredForGlobalReads:E}))),O&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",{className:"nds-cluster-form-padding-right"},Object(z.jsx)(Ki.a,{isLink:!0,className:"link zone-section-top",onClick:this.revertToSingleRegion},"Revert to default node configuration"),Object(z.jsx)(Tt.a,{content:Js.e("Reverting to a single region will remove all read-only nodes as well as any electable secondaries outside of the preferred region.")},Object(z.jsx)("i",{className:"fa fa-info-circle nds-cluster-form-info-icon zone-section-tooltip-icon"})),h&&Object(z.jsx)("div",null,Object(z.jsx)("strong",null,"Removing an entire region or zone")," can cause 3.4 style connection strings to be invalid."),Object(z.jsx)(yl,{replicationSpec:n,hasMultipleZones:j,isConfiguredForGlobalReads:E})),Object(z.jsx)("div",{className:"zone-section-group-config"},Object(z.jsx)(Ml,{providerOptions:m,provider:g,replicationSpec:n,replicationSpecs:r,providerRegions:a,updateReplicationSpecs:p,showCrossRegion:O,clusterType:b,isPrivateIpModeAzure:_,crossCloudEnabled:y}))),Object(z.jsx)(bl,{replicationSpec:n,replicationSpecs:r,updateReplicationSpecs:p})))}}]),n}(l.a.Component);I()(Gl,"propTypes",{providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,provider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,replicationSpec:k.a.shape(me.x).isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,originalReplicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,defaultOneZoneReplicationSpec:k.a.shape(me.x).isRequired,providerRegions:k.a.arrayOf(k.a.shape(sl.a)).isRequired,highlightSecondaryText:k.a.bool.isRequired,onAccordionHeadlineClick:k.a.func.isRequired,isAccordionActive:k.a.bool.isRequired,setClusterFormValue:k.a.func.isRequired,updateReplicationSpecs:k.a.func.isRequired,setSelectedReplicationSpecId:k.a.func.isRequired,isEdit:k.a.bool.isRequired,clusterType:k.a.oneOf(Object.keys(me.i)).isRequired,isPrivateIPModeEnabled:k.a.bool.isRequired,crossCloudEnabled:k.a.bool}),I()(Gl,"defaultProps",{crossCloudEnabled:!1});var Hl=Gl,Wl="Low-CPU",Yl="General",Kl="Local NVMe SSD";function Zl(e){var t=e.instance,n=e.instanceGroup,r=e.setClusterFormValue,o=e.replicationSpecs,i=e.originalEBSVolumeType,a=e.canTurnOnPit,s=n.lowCPU,c=n.highCPU,u=n.NVMe,d=!!u.instance&&t.name===u.instance.name,p=Object.values(n).filter((function(e){return void 0!==e.instance&&!e.isDisabled})).length>1,f=function(e,t,n,r){if(t.instance){var o=Object(z.jsx)(Xe.a,{className:ae()("button-is-flat","button-is-flex","button-is-flex-center","instance-table-option-selector-class-button",{"button-is-flat-is-selected":e.name===t.instance.name,"instance-table-option-selector-class-button-disabled":t.isDisabled}),onClick:r,disabled:t.isDisabled},n);return t.isDisabled?Object(z.jsx)(Tt.a,{content:Object(Js.e)(t.tooltip),wrapperClassName:ae()("instance-table-option-selector-class-button"),display:"inline"},o):o}},h=function(e){if(r("instanceSize",e.name),r("replicationSpecs",o),s.instance&&e.name===s.instance.name?r("instanceClass",me.o.LOW_CPU):r("instanceClass",me.o.HIGH_CPU),d){var t=e.defaultStorageGB,n=oe.r(e,t);r("diskSizeGB",t),r("diskIOPS",n),r("ebsVolumeType",i)}};return Object(z.jsx)("div",{className:"instance-table-option"},Object(z.jsx)("div",{className:"instance-table-option-key"},"Class"),Object(z.jsx)("div",{className:ae()({"instance-table-option-additional-info":!p,"instance-table-option-selector instance-table-option-selector-class":p})},p?Object(z.jsx)(l.a.Fragment,null,f(t,s,Wl,(function(){return h(s.instance)})),f(t,c,Yl,(function(){return h(c.instance)})),f(t,u,Kl,(function(){return e=u.instance,r("instanceSize",e.name),r("replicationSpecs",o),r("diskBackupEnabled",!0),r("backupEnabled",!1),r("instanceClass",me.o.NVME),r("diskSizeGB",e.defaultStorageGB),r("diskIOPS",e.maxIOPS),r("ebsVolumeType","io1"),void r("pitEnabled",a);var e}))):Object(z.jsx)("div",{className:"instance-table-option-additional-info-row"},Object(z.jsx)("div",{className:"instance-table-option-additional-info-cell"},u.instance&&t.name===u.instance.name?Kl:s.instance&&t.name===s.instance.name?Wl:Yl))))}Zl.propTypes={instance:k.a.shape(me.p).isRequired,instanceGroup:k.a.shape({highCPU:k.a.shape({instance:k.a.shape(me.p),isDisabled:k.a.bool,tooltip:k.a.string}),lowCPU:k.a.shape({instance:k.a.shape(me.p),isDisabled:k.a.bool,tooltip:k.a.string}),NVMe:k.a.shape({instance:k.a.shape(me.p),isDisabled:k.a.bool,tooltip:k.a.string})}).isRequired,setClusterFormValue:k.a.func.isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,originalEBSVolumeType:k.a.oneOf(["gp2","io1"]),canTurnOnPit:k.a.bool.isRequired},Zl.defaultProps={originalEBSVolumeType:"gp2",canTurnOnPit:!1};var $l=Zl;function Xl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Jl=function(e){A()(n,e);var t=Xl(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{draftValue:void 0}),I()(C()(e),"onInputChange",(function(t){var n=parseInt(t.target.value,10);e.setState({draftValue:isNaN(n)?"":n})})),I()(C()(e),"onInputBlur",(function(t){var n=e.props,r=n.minValue,o=n.onChangeValue,i=parseInt(t.target.value,10);i=isNaN(i)||i<r?r:i,e.setState({draftValue:void 0}),o(i)})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.unit,r=e.className,o=this.state.draftValue;return Object(z.jsx)("div",{className:"storage-slider-display"},Object(z.jsx)("input",{className:ae()("form-control","storage-slider-input",r),type:"number",value:void 0===o?t:o,onChange:this.onInputChange,onBlur:this.onInputBlur}),Object(z.jsx)("div",{className:ae()("form-control","storage-slider-units",r)},n))}}]),n}(l.a.Component);I()(Jl,"propTypes",{value:k.a.number.isRequired,minValue:k.a.number.isRequired,onChangeValue:k.a.func.isRequired,unit:k.a.oneOf(["GB","IOPS"]).isRequired,className:k.a.string}),I()(Jl,"defaultProps",{className:""});var Ql=Jl;function ec(e){var t=e.diskSizeGB,n=e.minStorageGB,r=e.onChangeDiskSize,o=e.className;return Object(z.jsx)(Ql,{value:t,minValue:n,onChangeValue:r,unit:"GB",className:o})}ec.propTypes={diskSizeGB:k.a.number.isRequired,minStorageGB:k.a.number.isRequired,onChangeDiskSize:k.a.func.isRequired,className:k.a.string},ec.defaultProps={className:""};var tc=ec;function nc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var rc=l.a.Component;function oc(e,t){return 20*(t/e)}function ic(e,t,n){return n*(t/e)+10-oc(e,t)}function ac(e,t){return"AZURE"===e?t.length-1:1e3}var sc=function(e){A()(n,e);var t=nc(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"onChangeDataValueFromSlider",(function(t){var n=e.props.onChangeDataValue,r=t.target.value;n(e.mapSliderValueToDataValue(r),!0)})),I()(C()(e),"mapSliderValueToDataValue",(function(t){var n=e.props,r=n.provider,o=n.dataValueOptions,i=n.dataValue,a=n.minDataValue,s=n.maxDataValue,l=n.useLogScale;if("AZURE"===r)return o[t];var c=t*((l?Math.log2(s)-Math.log2(a):s-a)/ac(r,o)),u=l?Math.pow(2,c+Math.log2(a)):c+a,d=t>e.mapDataValueToSliderValue(i)?Math.ceil(u):Math.floor(u);return oe.e(a,s,d)})),e}return E()(n,[{key:"mapDataValueToSliderValue",value:function(e){var t=this.props,n=t.provider,r=t.dataValueOptions,o=t.minDataValue,i=t.maxDataValue,a=t.useLogScale;if("AZURE"===n)return r.indexOf(e);var s=a?Math.log2(i)-Math.log2(o):i-o,l=ac(n,r)/(0!==s?s:1e-5),c=a?Math.log2(e)-Math.log2(o):e-o;return Math.round(c*l)}},{key:"getAnnotatedDataValueOptions",value:function(e,t){var n=this,r={},o=e.map((function(e){var r=n.mapDataValueToSliderValue(e);return ic(t,r,240)}));return e.forEach((function(t,n){if(0===n)r[t]={paddingLeft:o[n]};else if(e.length>1){var i=o[n]-o[n-1];r[t]={paddingLeft:i}}else{var a=o[n];r[t]={paddingLeft:a}}})),r}},{key:"render",value:function(){var e=this.props,t=e.provider,n=e.dataValue,r=e.minDataValue,o=e.includedDataValue,i=e.maxDataValue,a=e.dataValueOptions,s=e.dataValueFormatter,l=ac(t,a),c=this.mapDataValueToSliderValue(n),u="AZURE"===t?a:[r,i],d=this.getAnnotatedDataValueOptions(u,l),p=void 0!==o,f=p?this.getAnnotatedDataValueOptions([o],l):void 0,h=ic(l,c,240),m=function(e,t,n){return n*(t/e)-oc(e,t)}(l,c,240);return Object(z.jsx)("div",{className:ae()("storage-slider-container","nds-cluster-form-slider-container-grid")},Object(z.jsx)("div",{className:ae()("nds-cluster-form-slider-range","nds-cluster-form-slider-range-min",{"nds-cluster-form-slider-range-has-extra-padding-top":p})},s(r)),Object(z.jsx)("div",null,Object(z.jsx)("div",{className:ae()("storage-slider-tick-group","nds-cluster-form-slider-tick-group","nds-cluster-form-slider-tick-group-is-above-track",{"nds-cluster-form-slider-tick-group-is-above-track-is-short":!p})},p&&Object(z.jsx)("div",{style:f[o]},Object(z.jsx)("div",{className:ae()("storage-slider-tick-text","nds-cluster-form-slider-tick-text","nds-cluster-form-slider-tick-text-is-above-track","nds-cluster-form-slider-tick-text-is-wide")},Object(z.jsx)("i",null,s(o)," is included in the base price")),Object(z.jsx)("div",{key:o,className:ae()("storage-slider-tick","nds-cluster-form-slider-tick-is-included","nds-cluster-form-slider-tick")}))),Object(z.jsx)("div",{className:ae()("storage-slider-track","nds-cluster-form-slider-track")},Object(z.jsx)("input",{type:"range",className:"storage-slider-track-input",min:"0",max:l,value:c,onChange:this.onChangeDataValueFromSlider}),Object(z.jsx)("div",{className:"nds-cluster-form-slider-track-thumb",style:{left:m}})),Object(z.jsx)("div",{className:"storage-slider-progress nds-cluster-form-slider-progress",style:{width:h}}),"AZURE"===t&&Object(z.jsx)("div",{className:ae()("storage-slider-tick-group","nds-cluster-form-slider-tick-group","nds-cluster-form-slider-tick-group-is-below-track")},Object.keys(d).map((function(e){var t=e,n=d[e];return[Object(z.jsx)("div",{key:t,className:ae()("storage-slider-tick","nds-cluster-form-slider-tick"),style:n})]})))),Object(z.jsx)("div",{className:ae()("nds-cluster-form-slider-range","nds-cluster-form-slider-range-max",{"nds-cluster-form-slider-range-has-extra-padding-top":p})},s(i)))}}]),n}(rc);I()(sc,"propTypes",{provider:k.a.oneOf(["AWS","AZURE","GCP"]),dataValue:k.a.number.isRequired,maxDataValue:k.a.number.isRequired,minDataValue:k.a.number.isRequired,includedDataValue:k.a.number,dataValueOptions:k.a.arrayOf(k.a.number).isRequired,useLogScale:k.a.bool.isRequired,onChangeDataValue:k.a.func.isRequired,dataValueFormatter:k.a.func.isRequired}),I()(sc,"defaultProps",{provider:void 0,includedDataValue:void 0});var lc=sc;function cc(e){var t=e.provider,n=e.diskSizeGB,r=e.maxStorageGB,o=e.minStorageGB,i=e.includedStorageGB,a=e.storageOptionsGB,s=e.useLogScale,l=e.onChangeDiskSizeGB;return Object(z.jsx)(lc,{provider:t,dataValue:n,maxDataValue:r,minDataValue:o,includedDataValue:i,dataValueOptions:a,useLogScale:s,onChangeDataValue:l,dataValueFormatter:Qn.c})}cc.propTypes={provider:k.a.oneOf(["AWS","AZURE","GCP"]).isRequired,diskSizeGB:k.a.number.isRequired,maxStorageGB:k.a.number.isRequired,minStorageGB:k.a.number.isRequired,includedStorageGB:k.a.number.isRequired,storageOptionsGB:k.a.arrayOf(k.a.number).isRequired,useLogScale:k.a.bool.isRequired,onChangeDiskSizeGB:k.a.func.isRequired};var uc=cc;function dc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var pc=l.a.Component;function fc(e,t,n,r){if(!r&&"AZURE"!==e)return function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=Math.round((t-e)/(n-1)),o=new Set,i=0;i<n-1;i++)o.add(e+r*i);return o.add(t),Array.from(o).map((function(e){return 10*Math.ceil(e/10)})).sort((function(e,t){return e-t}))}(t.minStorageGB,n);var o=t.storageOptionsGB.filter((function(e){return e<=n}));return o.includes(n)||o.push(n),o}var hc=function(e){A()(n,e);var t=dc(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"getNewDiskIOPS",(function(t){var n=e.props,r=n.provider,o=n.instanceSize,i=n.diskSizeGB,a=n.diskIOPS,s=n.diskSizes,l=n.ebsVolumeType;switch(r){case"AWS":var c=oe.p(o,t),u=oe.m(o,t)||oe.r(o,t);if("io1"===l)return Math.min(Math.max(c,a),u);if(a===oe.r(o,i))return oe.r(o,t);var d=a===oe.p(o,i)?c:a;return Math.min(Math.max(c,d),u);case"AZURE":return Math.min(o.maxIOPS,s[t].iops);default:return Math.min(t*o.iopsPerGB,o.maxReadIOPS)}})),I()(C()(e),"saveNewStorageOptions",(function(t){var n,r=e.props,o=r.provider,i=r.instanceSize,a=r.diskSizes,s=r.setClusterFormValue,l=r.useInstanceSizeMaxStorage;if("AZURE"===o)n=oe.l(i,t,l);else{var c=e.getDerivedStorageConfigurations(),u=c.minStorageGB,d=c.maxStorageGB;n=oe.e(u,d,t)}var p=e.getNewDiskIOPS(n);if(s("diskSizeGB",n),s("diskIOPS",p),"AWS"===o){var f=oe.m(i,n);if(f>0)f===oe.p(i,n)&&s("ebsVolumeType","gp2")}else if("AZURE"===o){s("diskType",a[n].type)}})),e}return E()(n,[{key:"getDerivedStorageConfigurations",value:function(){var e=this.props,t=e.provider,n=e.instanceSize,r=e.useInstanceSizeMaxStorage?n.maxStorageGB:n.maxAllowedStorageGB,o=n.minStorageGB,i="AZURE"!==t&&Math.log2(r)/Math.log2(o)>=3;return{storageOptionsGB:fc(t,n,r,i),minStorageGB:o,maxStorageGB:r,useLogScale:i}}},{key:"render",value:function(){var e=this.props,t=e.instanceSize,n=e.diskSizeGB,r=e.provider,o=this.getDerivedStorageConfigurations(),i=o.minStorageGB,a=o.maxStorageGB,s=o.useLogScale,l=o.storageOptionsGB;return Object(z.jsx)("div",{className:"instance-table-option-selector-storage"},Object(z.jsx)("div",{className:"instance-table-option-selector-storage-input"},Object(z.jsx)(uc,{provider:r,diskSizeGB:n,minStorageGB:i,maxStorageGB:a,includedStorageGB:t.defaultStorageGB,storageOptionsGB:l,useLogScale:s,onChangeDiskSizeGB:this.saveNewStorageOptions}),Object(z.jsx)(tc,{diskSizeGB:n,minStorageGB:i,onChangeDiskSize:this.saveNewStorageOptions,className:"nds-cluster-form-slider-input-has-margin-top"})))}}]),n}(pc);I()(hc,"propTypes",{provider:k.a.oneOf(["AWS","AZURE","GCP"]).isRequired,instanceSize:k.a.shape(me.p).isRequired,useInstanceSizeMaxStorage:k.a.bool.isRequired,diskSizeGB:k.a.number.isRequired,diskIOPS:k.a.number.isRequired,diskSizes:k.a.objectOf(k.a.shape(me.l)),setClusterFormValue:k.a.func.isRequired,ebsVolumeType:k.a.oneOf(["gp2","io1"])}),I()(hc,"defaultProps",{diskSizes:{},ebsVolumeType:null});var mc=hc;function gc(e){var t=e.encryptEBSVolume,n=e.setClusterFormValue;return Object(z.jsx)("div",null,!t&&Object(z.jsx)(M.a,{level:"warning",className:"nds-cluster-form-alert"},Object(z.jsx)("strong",null,"Your storage volumes are unencrypted.")," Encrypting your storage will not increase your hourly billing."),Object(z.jsx)("div",{className:"nds-cluster-form-setting"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-wide"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-large"},"Use Encrypted Storage Volumes")),Object(z.jsx)("div",null,"For better data security, we recommend keeping your storage volumes encrypted. New AWS clusters will always have encrypted storage.")),Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-selection"},Object(z.jsx)(Ps.a,{enabled:t,onToggle:function(e){n("encryptEBSVolume",e)},enabledText:"YES",disabledText:"NO"}))))}gc.propTypes={encryptEBSVolume:k.a.bool.isRequired,setClusterFormValue:k.a.func.isRequired};var bc=gc;function vc(e){var t=e.originalProvider,n=e.instanceSize,r=e.useInstanceSizeMaxStorage,o=e.diskSizeGB,i=e.diskIOPS,a=e.originalEncryptEBSVolume,s=e.encryptEBSVolume,c=e.setClusterFormValue,u=e.ebsVolumeType,d="AWS"===t&&!a;return Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(mc,{provider:"AWS",instanceSize:n,useInstanceSizeMaxStorage:r,diskSizeGB:o,diskIOPS:i,setClusterFormValue:c,ebsVolumeType:u}),d&&Object(z.jsx)("div",null,Object(z.jsx)("hr",{className:"nds-cluster-form-hr-thin nds-cluster-form-hr-thin-is-encrypt"}),Object(z.jsx)(bc,{encryptEBSVolume:s,setClusterFormValue:c})))}vc.propTypes={originalProvider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,instanceSize:k.a.shape(me.p).isRequired,diskSizeGB:k.a.number.isRequired,useInstanceSizeMaxStorage:k.a.bool.isRequired,diskIOPS:k.a.number.isRequired,originalEncryptEBSVolume:k.a.bool,encryptEBSVolume:k.a.bool.isRequired,setClusterFormValue:k.a.func.isRequired,ebsVolumeType:k.a.oneOf(["gp2","io1"])},vc.defaultProps={originalEncryptEBSVolume:null,ebsVolumeType:null};var yc=vc;function Oc(e){var t=e.instanceSize,n=e.diskSizeGB,r=e.useInstanceSizeMaxStorage,o=e.diskIOPS,i=e.diskSizes,a=e.setClusterFormValue;return Object(z.jsx)("div",null,Object(z.jsx)(mc,{provider:"AZURE",instanceSize:t,diskSizeGB:n,useInstanceSizeMaxStorage:r,diskIOPS:o,diskSizes:i,setClusterFormValue:a}))}Oc.propTypes={instanceSize:k.a.shape(me.p).isRequired,useInstanceSizeMaxStorage:k.a.bool.isRequired,diskSizeGB:k.a.number.isRequired,diskIOPS:k.a.number.isRequired,diskSizes:k.a.objectOf(k.a.shape(me.l)).isRequired,setClusterFormValue:k.a.func.isRequired};var xc=Oc;function jc(e){var t=e.instanceSize,n=e.diskSizeGB,r=e.useInstanceSizeMaxStorage,o=e.diskIOPS,i=e.setClusterFormValue;return Object(z.jsx)("div",null,Object(z.jsx)(mc,{provider:"GCP",instanceSize:t,diskSizeGB:n,useInstanceSizeMaxStorage:r,diskIOPS:o,setClusterFormValue:i}))}jc.propTypes={instanceSize:k.a.shape(me.p).isRequired,useInstanceSizeMaxStorage:k.a.bool.isRequired,diskSizeGB:k.a.number.isRequired,diskIOPS:k.a.number.isRequired,setClusterFormValue:k.a.func.isRequired};var Ec=jc;function Sc(e){var t=e.provider,n=e.originalProvider,r=e.useInstanceSizeMaxStorage,o=e.instanceSize,i=e.diskSizeGB,a=e.diskIOPS,s=e.diskSizes,c=e.originalEncryptEBSVolume,u=e.encryptEBSVolume,d=e.setClusterFormValue,p=e.ebsVolumeType;return o.isNVMe?Object(z.jsx)("div",{className:"instance-table-option-selector-label"},i," GB"):Object(z.jsx)(l.a.Fragment,null,"AWS"===t&&Object(z.jsx)(yc,{originalProvider:n,useInstanceSizeMaxStorage:r,instanceSize:o,diskSizeGB:i,diskIOPS:a,originalEncryptEBSVolume:c,encryptEBSVolume:u,setClusterFormValue:d,ebsVolumeType:p}),"AZURE"===t&&Object(z.jsx)(xc,{instanceSize:o,useInstanceSizeMaxStorage:r,diskSizeGB:i,diskIOPS:a,diskSizes:s,setClusterFormValue:d}),"GCP"===t&&Object(z.jsx)(Ec,{instanceSize:o,useInstanceSizeMaxStorage:r,diskSizeGB:i,diskIOPS:a,setClusterFormValue:d}))}Sc.propTypes={provider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,originalProvider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,instanceSize:k.a.shape(me.p).isRequired,diskSizeGB:k.a.number.isRequired,useInstanceSizeMaxStorage:k.a.bool.isRequired,diskIOPS:k.a.number.isRequired,diskSizes:k.a.objectOf(k.a.shape(me.l)),originalEncryptEBSVolume:k.a.bool,encryptEBSVolume:k.a.bool,setClusterFormValue:k.a.func.isRequired,ebsVolumeType:k.a.oneOf(["gp2","io1"])},Sc.defaultProps={diskSizes:{},originalEncryptEBSVolume:null,encryptEBSVolume:null,ebsVolumeType:null};var Cc=Sc;function _c(e){var t=e.setClusterFormValue,n=e.autoScalingEnabled,r=e.diskSizeGB,o=e.instance,i=e.provider,a=e.originalProvider,s=e.diskIOPS,l=e.diskSizes,c=e.useInstanceSizeMaxStorage,u=e.originalEncryptEBSVolume,d=e.encryptEBSVolume,p=e.ebsVolumeType;return Object(z.jsx)("div",{className:"instance-table-option"},Object(z.jsx)("div",{className:"instance-table-option-key"},"Storage"),Object(z.jsx)("div",{className:"instance-table-option-selector"},Object(z.jsx)(Cc,{provider:i,originalProvider:a,instanceSize:o,diskSizeGB:r,diskIOPS:s,diskSizes:l,useInstanceSizeMaxStorage:c,autoScalingEnabled:n,originalEncryptEBSVolume:u,encryptEBSVolume:d,setClusterFormValue:t,ebsVolumeType:p})))}_c.propTypes={setClusterFormValue:k.a.func.isRequired,provider:k.a.oneOf(["AWS","AZURE","GCP"]).isRequired,originalProvider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,instance:k.a.shape(me.p).isRequired,autoScalingEnabled:k.a.bool.isRequired,diskSizeGB:k.a.number.isRequired,diskIOPS:k.a.number.isRequired,diskSizes:k.a.objectOf(k.a.shape(me.l)),useInstanceSizeMaxStorage:k.a.bool.isRequired,originalEncryptEBSVolume:k.a.bool,encryptEBSVolume:k.a.bool,ebsVolumeType:k.a.oneOf(["gp2","io1"])},_c.defaultProps={diskSizes:{},originalEncryptEBSVolume:null,encryptEBSVolume:null,ebsVolumeType:null};var Ac=_c;function Nc(e){var t=e.instance;return oe.C(t.name)?Object(z.jsx)("div",{className:"instance-table-option-additional-info-tenant"},Object(z.jsx)("div",{className:"instance-table-option-additional-info-tenant-cell"},t.maxConns," max connections"),Object(z.jsx)("div",{className:"instance-table-option-additional-info-tenant-cell"},t.networkingPerformance," network performance"),Object(z.jsx)("div",{className:"instance-table-option-additional-info-tenant-cell"},t.databaseLimit," max databases"),Object(z.jsx)("div",{className:"instance-table-option-additional-info-tenant-cell"},t.collectionLimit," max collections")):Object(z.jsx)("div",{className:"instance-table-option"},Object(z.jsx)("div",{className:"instance-table-option-key"},"Additional Info"),Object(z.jsx)("div",{className:"instance-table-option-additional-info"},Object(z.jsx)("div",{className:"instance-table-option-additional-info-row"},t.isMetal&&Object(z.jsx)("div",{className:"instance-table-option-additional-info-cell"},"Bare Metal"),Object(z.jsx)("div",{className:"instance-table-option-additional-info-cell"},t.maxConns," max connections"),Object(z.jsx)("div",{className:"instance-table-option-additional-info-cell"},t.networkingPerformance," network performance")),t.isNVMe&&Object(z.jsx)("div",{className:"instance-table-option-additional-info-row"},Object(z.jsx)("div",{className:"instance-table-option-additional-info-cell"},"Local NVMe clusters have unique durability characteristics",Object(z.jsx)(Tt.a,{content:Object(z.jsx)("div",{className:"nds-cluster-form-tooltip"},Object(z.jsx)("p",null,"Local NVMe clusters use ephemeral storage."," ",Object(z.jsx)("strong",null,"Therefore storage or node failure leads to loss of data from the local node.")," Use of appropriate write concern can ensure that your writes are replicated at the cluster level before they are acknowledged."),Object(z.jsx)("p",null,"Click the icon to learn more about write concern.")),wrapperClassName:"nds-cluster-form-info-icon-small-tooltip-wrapper"},Object(z.jsx)("a",{href:"https://docs.mongodb.com/manual/reference/write-concern/",target:"_blank",rel:"noopener noreferrer"},Object(z.jsx)("i",{className:"fa fa-info-circle nds-cluster-form-info-icon-small"})))))))}Nc.propTypes={instance:k.a.shape(me.p).isRequired};var Tc=Nc,wc=n(305),Pc=n.n(wc);function Rc(e){var t=e.provider,n=e.diskIOPS,r=e.minIOPS,o=e.onChangeDiskIOPS;return Object(z.jsx)(Ql,{provider:t,value:n,minValue:r,onChangeValue:o,unit:"IOPS"})}Rc.propTypes={provider:k.a.oneOf(["AWS","AZURE","GCP"]).isRequired,diskIOPS:k.a.number.isRequired,minIOPS:k.a.number.isRequired,onChangeDiskIOPS:k.a.func.isRequired};var Ic=Rc;function Dc(e){var t=e.diskIOPS,n=e.maxDiskIOPS,r=e.minDiskIOPS,o=e.useLogScale,i=e.onChangeDiskIOPS;return Object(z.jsx)(lc,{dataValue:t,maxDataValue:n,minDataValue:r,dataValueOptions:[r,n],useLogScale:o,onChangeDataValue:i,dataValueFormatter:function(e){return"".concat(e," IOPS")}})}Dc.propTypes={diskIOPS:k.a.number.isRequired,maxDiskIOPS:k.a.number.isRequired,minDiskIOPS:k.a.number.isRequired,useLogScale:k.a.bool.isRequired,onChangeDiskIOPS:k.a.func.isRequired};var kc=Dc;var Mc={name:"k008qs",styles:"display:flex;"};function Lc(e){var t,n=e.instance,r=e.diskSizeGB,o=e.diskIOPS,i=e.ebsVolumeType,a=e.setClusterFormValue,s=n.isNVMe,l=!s&&"io1"===i,c=oe.p(n,r),u=oe.m(n,r),d=u>0,p=u===c;t=p?"The standard IOPs available at this disk size exceeds available provisioned IOPs.":l?"Configure the maximum Input/Output Operations Per Second (IOPS) for disk data transfer on your cluster.":"Provisioned Input/Output Operations Per Second (IOPS) offer consistent disk data transfer rates for intensive workloads.";var f=function(e){var t=Math.min(Math.max(c,e),u);a("diskIOPS",t)},h=l?o:oe.r(n,r);return Object(z.jsx)("div",{className:"instance-table-option"},Object(z.jsx)("div",{className:"instance-table-option-key"},"IOPS"),Object(z.jsx)("div",{className:ae()({"instance-table-option-additional-info":s,"instance-table-option-selector":!s,"instance-table-option-selector-has-shorter-padding-bottom":l})},s?Object(z.jsx)("div",{className:"instance-table-option-additional-info-row"},Object(z.jsx)("div",{className:"instance-table-option-additional-info-cell"},Object(z.jsx)("span",null,n.maxSSDReadIOPS.toLocaleString()," 100% ",Object(z.jsx)("b",null,"Random Read IOPS"))),Object(z.jsx)("div",{className:"instance-table-option-additional-info-cell"},Object(z.jsx)("span",null,n.maxSSDWriteIOPS.toLocaleString()," ",Object(z.jsx)("b",null,"Write IOPS")))):Object(z.jsx)("div",null,d&&Object(z.jsx)("div",{css:Mc},Object(z.jsx)(Pc.a,{className:ae()({"instance-table-row-has-disabled-checkbox":p}),label:"Provision IOPS",checked:l,onChange:function(){var e=!l,t=e?c:oe.r(n,r),o=e?"io1":"gp2";a("diskIOPS",t),a("ebsVolumeType",o)},disabled:p})," ",Object(z.jsx)(Tt.a,{content:Object(Js.e)(t),wrapperClassName:"nds-cluster-form-info-icon-small-tooltip-wrapper"},Object(z.jsx)("i",{className:"fa fa-info-circle nds-cluster-form-info-icon-small"}))),d&&l?Object(z.jsx)("div",{className:"instance-table-option-selector-storage-input"},Object(z.jsx)(kc,{diskIOPS:o,maxDiskIOPS:u,minDiskIOPS:c,useLogScale:!1,onChangeDiskIOPS:f}),Object(z.jsx)(Ic,{provider:"AWS",diskIOPS:o,minIOPS:c,onChangeDiskIOPS:f})):Object(z.jsx)("div",{className:ae()("instance-table-option-selector-label",{"instance-table-option-selector-label-has-margin-top":d})},h," IOPS"))))}Lc.propTypes={instance:k.a.shape(me.p).isRequired,setClusterFormValue:k.a.func.isRequired,diskSizeGB:k.a.number.isRequired,diskIOPS:k.a.number.isRequired,ebsVolumeType:k.a.oneOf(["gp2","io1"])},Lc.defaultProps={ebsVolumeType:null};var Uc=Lc;function Fc(e){var t=e.instance,n=e.diskSizeGB,r=e.diskIOPS,o=Object(oe.n)(t,n),i=o?o.toLocaleString():"",a=Object(oe.o)(t,n),s=a?a.toLocaleString():"";return i&&s&&Object(z.jsx)("div",{className:"instance-table-option"},Object(z.jsx)("div",{className:"instance-table-option-key"},"IOPS"),Object(z.jsx)("div",{className:"instance-table-option-additional-info"},Object(z.jsx)("div",{className:"instance-table-option-additional-info-row"},Object(z.jsx)("div",{className:"instance-table-option-additional-info-cell"},Object(z.jsx)("span",null,r.toLocaleString()," ",Object(z.jsx)("b",null,"Total IOPS"))),Object(z.jsx)("div",{className:"instance-table-option-additional-info-cell"},Object(z.jsx)("span",null,"up to ",i," ",Object(z.jsx)("b",null,"Read IOPS")," and ",s," ",Object(z.jsx)("b",null,"Write IOPS"))))))}Fc.propTypes={instance:k.a.shape(me.p).isRequired,diskSizeGB:k.a.number.isRequired,diskIOPS:k.a.number.isRequired};var Bc=Fc;function zc(e){var t=e.diskIOPS,n=e.throughput;return Object(z.jsx)("div",{className:"instance-table-option"},Object(z.jsx)("div",{className:"instance-table-option-key"},"IOPS"),Object(z.jsx)("div",{className:"instance-table-option-selector"},Object(z.jsx)("div",{className:"instance-table-option-selector-label"},t," IOPS ",n&&"(".concat(n," MB/s throughput)"))))}zc.propTypes={diskIOPS:k.a.number.isRequired,throughput:k.a.number.isRequired};var Vc=zc;function qc(e){var t=e.computeAutoScaleInstanceSizes,n=e.scaleDownEnabled,r=e.disallowScaleDown,o=e.diskSizeGB,i=e.selectedInstance,a=e.selectedMinInstance,s=e.selectedMaxInstance,c=e.onChangeComputeAutoScaleDown,u=e.setClusterFormValue,d=function(e){var n=e.value,r=e.label,o=t.find((function(e){return e.name===n})),i=o.ram,a=o.vCPU,s=" - ".concat(i," GB RAM, ").concat(a," vCPUs");return Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("strong",null,r),Object(z.jsx)("span",{className:"nds-cluster-form-autoscaling-settings-dropdown-option-info"},s))},p=t.findIndex((function(e){return e.name===i})),f=t.length-1,h=t.map((function(e){return function(e){var t=e.maxAllowedStorageGB,n=e.name;return{value:n,label:n,disabled:o>t||n===s}}(e)})).slice(0,p===f?f:p+1),m=t.map((function(e){return e.name})).map((function(e){return{value:e,label:e,disabled:n&&e===a}})).slice(0===p?1:p,t.length);return Object(z.jsx)("div",{className:"nds-cluster-form-autoscaling-settings"},Object(z.jsx)("div",{className:ae()("nds-cluster-form-autoscaling-settings-min-instance",{"nds-cluster-form-autoscaling-settings-min-instance-disabled":!n})},Object(z.jsx)("div",{className:"nds-cluster-form-autoscaling-settings-dropdown-group"},Object(z.jsx)("div",{className:"nds-cluster-form-autoscaling-settings-dropdown-label"},"Minimum cluster size"),Object(z.jsx)(aa.a,{value:a,disabled:!n,options:h,optionRenderer:d,onChange:function(e){return t=e.value,void u("autoScaling",{compute:{minInstanceSize:t}});var t},className:ae()("dropdown-select","nds-cluster-form-autoscaling-settings-dropdown")})," "),Object(z.jsx)(Pc.a,{checked:n,disabled:r,onChange:function(e){return c(e.target.checked)},label:"Allow cluster to be scaled down"})),Object(z.jsx)("div",{className:"nds-cluster-form-autoscaling-settings-max-instance"},Object(z.jsx)("div",{className:"nds-cluster-form-autoscaling-settings-dropdown-group"},Object(z.jsx)("div",{className:"nds-cluster-form-autoscaling-settings-dropdown-label"},"Maximum cluster size"),Object(z.jsx)(aa.a,{value:s,options:m,optionRenderer:d,onChange:function(e){return t=e.value,void u("autoScaling",{compute:{maxInstanceSize:t}});var t},className:ae()("dropdown-select","nds-cluster-form-autoscaling-settings-dropdown")}))))}qc.propTypes={computeAutoScaleInstanceSizes:k.a.arrayOf(k.a.shape(me.p)),scaleDownEnabled:k.a.bool.isRequired,disallowScaleDown:k.a.bool.isRequired,diskSizeGB:k.a.number.isRequired,selectedInstance:k.a.string.isRequired,selectedMinInstance:k.a.string.isRequired,selectedMaxInstance:k.a.string.isRequired,setClusterFormValue:k.a.func.isRequired,onChangeComputeAutoScaleDown:k.a.func.isRequired};var Gc=qc,Hc=n(1123);function Wc(e){var t,n=e.autoScaling,r=e.setClusterFormValue,o=e.isNVMe,i=e.isLowCPU,a=e.selectedInstance,s=e.computeAutoScaleInstanceSizes,l=e.orgId,c=e.diskSizeGB,u=n.diskGB,d=n.compute;t=o?"When 90% of disk capacity is used, automatically scale up to the next Local NVMe SSD cluster tier with more available storage. Vertical scaling has significant cost implications. Both the M60 NVMe and M80 NVMe have the same amount of storage, so both will scale directly to the M200 NVMe tier.":"If storage exceeds 90% of disk capacity, auto-expand to maintain <70%. If maximum capacity is reached, auto-scale to the next cluster tier (e.g. M30 to M40).";var p=Hc.a.getPreviousApplicableMinInstanceSize(s,a,d.minInstanceSize,c);return Object(z.jsx)("div",{className:"instance-table-option"},Object(z.jsx)("div",{className:"instance-table-option-key"},"Auto-scale"),Object(z.jsx)("div",{className:"instance-table-option-selector"},!o&&!i&&Object(z.jsx)("div",{className:"nds-cluster-form-autoscaling-settings-checkbox-group"},Object(z.jsx)(Pc.a,{checked:d.enabled,onChange:function(e){return t=e.target.checked,W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Cluster Builder",action:"Cluster Tier Autoscaling ".concat(t?"Enabled":"Disabled")},{integrations:Object(W.c)(l)}),void r("autoScaling",{compute:{enabled:t}});var t},label:"Cluster Tier"}),Object(z.jsx)("a",{href:"https://www.mongodb.org/dochub/core/cluster-auto-scaling",className:"nds-cluster-form-docs-link nds-cluster-form-autoscaling-settings-checkbox-group-right",target:"_blank"},"View documentation")),d.enabled&&Object(z.jsx)(Gc,{computeAutoScaleInstanceSizes:s,scaleDownEnabled:d.scaleDownEnabled,disallowScaleDown:null===d.minInstanceSize&&p===d.maxInstanceSize,diskSizeGB:c,selectedInstance:a,selectedMinInstance:d.minInstanceSize||p,selectedMaxInstance:d.maxInstanceSize,setClusterFormValue:r,onChangeComputeAutoScaleDown:function(e){W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Cluster Builder",action:"Cluster Tier Scaledown ".concat(e?"Enabled":"Disabled")},{integrations:Object(W.c)(l)}),r("autoScaling",{compute:{scaleDownEnabled:e}})}}),Object(z.jsx)("div",{className:"nds-cluster-form-autoscaling-settings-checkbox-group"},Object(z.jsx)(Pc.a,{checked:u.enabled,onChange:function(){r("autoScaling",{diskGB:{enabled:!u.enabled}})},label:o?Object(z.jsx)("span",null,"NVMe Cluster Tier when Storage Running Low"):Object(z.jsx)("span",null,"Storage")}),Object(z.jsx)(Tt.a,{content:Object(Js.e)(t),wrapperClassName:"nds-cluster-form-info-icon-small-tooltip-wrapper"},Object(z.jsx)("i",{className:"fa fa-info-circle nds-cluster-form-info-icon-small"})))))}Wc.propTypes={autoScaling:k.a.shape(me.a).isRequired,computeAutoScaleInstanceSizes:k.a.arrayOf(k.a.shape(me.p)).isRequired,selectedInstance:k.a.string.isRequired,diskSizeGB:k.a.number.isRequired,setClusterFormValue:k.a.func.isRequired,isNVMe:k.a.bool.isRequired,isLowCPU:k.a.bool.isRequired,orgId:k.a.string.isRequired};var Yc=Wc;function Kc(e){var t=e.autoScaling,n=e.selectedInstance,r=e.computeAutoScaleInstanceSizes,o=e.instance,i=e.instanceGroup,a=e.setClusterFormValue,s=e.replicationSpecs,c=e.provider,u=e.diskSizeGB,d=e.diskIOPS,p=e.throughput,f=e.originalProvider,h=e.diskSizes,m=e.useInstanceSizeMaxStorage,g=e.originalEncryptEBSVolume,b=e.encryptEBSVolume,v=e.originalEBSVolumeType,y=e.ebsVolumeType,O=e.instanceGroupsHaveMultipleOptions,x=e.canTurnOnPit,j=e.orgId,E=oe.C(o.name),S=oe.v(o.name),C=function(e){switch(e){case"AWS":return Uc;case"GCP":return Bc;case"AZURE":return Vc;default:return null}}(c),_=t.diskGB;return Object(z.jsx)("div",{className:ae()("instance-table-options",{"instance-table-options-tenant":E})},E?Object(z.jsx)(l.a.Fragment,null,S&&Object(z.jsx)("div",{className:"instance-table-option-info"},o.name," clusters are best for getting started, and are not suitable for production environments.")):Object(z.jsx)(l.a.Fragment,null,O&&Object(z.jsx)($l,{instance:o,instanceGroup:i,setClusterFormValue:a,replicationSpecs:s,originalEBSVolumeType:v,canTurnOnPit:x}),Object(z.jsx)(Ac,{setClusterFormValue:a,provider:c,originalProvider:f,instance:o,autoScalingEnabled:_.enabled,diskSizeGB:u,diskIOPS:d,diskSizes:h,useInstanceSizeMaxStorage:m,originalEncryptEBSVolume:g,encryptEBSVolume:b,ebsVolumeType:y,isNVMe:o.isNVMe}),Object(z.jsx)(Yc,{autoScaling:t,computeAutoScaleInstanceSizes:r,selectedInstance:n,setClusterFormValue:a,isNVMe:o.isNVMe,isLowCPU:o.isLowCPU,diskSizeGB:u,orgId:j}),Object(z.jsx)(C,{instance:o,provider:c,setClusterFormValue:a,diskSizeGB:u,diskIOPS:d,ebsVolumeType:y,throughput:p})),Object(z.jsx)(Tc,{instance:o}))}Kc.propTypes={autoScaling:k.a.shape(me.a).isRequired,computeAutoScaleInstanceSizes:k.a.arrayOf(k.a.shape(me.p)).isRequired,selectedInstance:k.a.string.isRequired,instance:k.a.shape(me.p).isRequired,instanceGroup:k.a.shape({highCPU:k.a.shape({instance:k.a.shape(me.p),isDisabled:k.a.bool,tooltip:k.a.string}),lowCPU:k.a.shape({instance:k.a.shape(me.p),isDisabled:k.a.bool,tooltip:k.a.string}),NVMe:k.a.shape({instance:k.a.shape(me.p),isDisabled:k.a.bool,tooltip:k.a.string})}).isRequired,setClusterFormValue:k.a.func.isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,provider:k.a.string,diskSizeGB:k.a.number,diskIOPS:k.a.number,throughput:k.a.number,originalProvider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,useInstanceSizeMaxStorage:k.a.bool.isRequired,diskSizes:k.a.objectOf(k.a.shape(me.l)).isRequired,originalEncryptEBSVolume:k.a.bool,encryptEBSVolume:k.a.bool,originalEBSVolumeType:k.a.oneOf(["gp2","io1"]),ebsVolumeType:k.a.oneOf(["gp2","io1"]),instanceGroupsHaveMultipleOptions:k.a.bool.isRequired,canTurnOnPit:k.a.bool.isRequired,orgId:k.a.string.isRequired},Kc.defaultProps={provider:void 0,diskSizeGB:0,diskIOPS:0,throughput:0,originalEncryptEBSVolume:null,encryptEBSVolume:!1,originalEBSVolumeType:void 0,ebsVolumeType:void 0,canTurnOnPit:!1};var Zc=Kc;function $c(e){var t,n,r,o,i,a,s,c=e.instance,u=e.price,d=e.showPrice,p=e.setClusterFormValue,f=e.isFirst,h=e.isSelected,m=e.isExpanded,g=e.isDisabled,b=e.isPrimary,v=e.applyInnerShadow,y=e.instanceGroup,O=e.autoScaling,x=e.selectedInstance,j=e.provider,E=e.replicationSpecs,S=e.diskSizeGB,C=e.diskIOPS,_=e.disabledReason,A=e.originalProvider,N=e.useInstanceSizeMaxStorage,T=e.diskSizes,w=e.originalEncryptEBSVolume,P=e.encryptEBSVolume,R=e.originalEBSVolumeType,I=e.ebsVolumeType,D=e.instanceClass,k=e.throughput,M=e.instanceGroupsHaveMultipleOptions,L=e.canTurnOnPit,U=e.orgId,F=e.computeAutoScaleInstanceSizes,B=y.lowCPU,V=y.highCPU,q=y.NVMe;return a=oe.C(c.name),s=function(e){return Object(z.jsx)("div",{className:ae()("instance-table-info-cell","instance-table-info-cell-left",{"instance-table-info-cell-is-inner-shadow":v})},e)},Object(z.jsx)("div",{className:ae()("instance-table-row",{"instance-table-row-is-first":f,"instance-table-row-is-disabled":g,"instance-table-row-is-selected":h,"instance-table-row-is-expanded":m}),onClick:h||g?function(){}:function(){!function(e){switch(W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Cluster Builder",action:"Instance Size Selected",value:e,pathfinder_filter:"".concat(e," Instance Size Selected")},{integrations:Object(W.c)(U)}),D){case me.o.NVME:if(q&&q.instance&&!q.isDisabled)return void p("instanceSize",q.instance.name);break;case me.o.LOW_CPU:if(B&&B.instance&&!B.isDisabled)return void p("instanceSize",B.instance.name);break;default:if(V&&V.instance&&!V.isDisabled)return void p("instanceSize",V.instance.name)}p("instanceSize",e)}(c.name)},role:"presentation"},Object(z.jsx)("div",{className:"instance-table-info"},(i=Object.values(y).filter((function(e){return void 0!==e.instance&&!e.isDisabled})).length>1,Object(z.jsx)("div",{className:ae()("instance-table-info-cell instance-table-info-cell-is-name",{"instance-table-info-cell-is-inner-shadow":v,"instance-table-info-cell-is-disabled":g})},Object(z.jsx)("div",{className:ae()("instance-table-name","instance-table-name-plain")},h&&Object(z.jsx)("span",{className:"instance-table-name-check"},Object(z.jsx)("img",{src:"/static/images/nds-cluster-form-check.svg",alt:"checkmark"})),Object(z.jsx)("span",{className:ae()("instance-table-name-name","instance-table-name-plain",{"instance-table-name-plain-selected":h})},b&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("span",null,oe.j(c.name)),Object(z.jsx)("i",{className:ae()("fa","instance-table-hardware-circle","instance-table-hardware-circle-is-superscript",{"fa-circle":i})})))))),(o=a?"Shared":"".concat(c.ram," GB"),s(o)),(r=oe.f(c.defaultStorageGB),s(r)),(t=1!==c.vCPU,n=a?"Shared":"".concat(c.vCPU," vCPU").concat(t?"s":""),s(n)),Object(z.jsx)("div",{className:ae()("instance-table-info-cell instance-table-info-cell-is-price",{"instance-table-info-cell-is-disabled":g,"instance-table-info-cell-is-centered":"M0"===c.name,"instance-table-info-cell-is-price-is-free":"M0"===c.name,"instance-table-info-cell-is-price-is-non-free-tenant":"M2"===c.name||"M5"===c.name,"instance-table-info-cell-is-inner-shadow":v})},"M0"===c.name&&Object(z.jsx)("strong",null,"Free forever"),"M2"===c.name&&Object(z.jsx)("div",{className:ae()("nds-cluster-form-highlighted-label","instance-table-info-cell-is-price-is-non-free-tenant-with-label")},"$9 / Month"),"M5"===c.name&&Object(z.jsx)("div",{className:ae()("nds-cluster-form-highlighted-label","instance-table-info-cell-is-price-is-non-free-tenant-with-label")},"$25 / Month"),!a&&Object(z.jsx)("span",null,d?Object(z.jsx)("div",null,"from ",Object(z.jsx)("strong",null,"$".concat(u)),"/hr"):Object(z.jsx)("div",null,"N/A"))),_&&Object(z.jsx)("div",{className:"instance-table-row-disabled-reason"},_)),h&&Object(z.jsx)(Zc,{autoScaling:O,computeAutoScaleInstanceSizes:F,selectedInstance:x,instance:c,instanceGroup:y,setClusterFormValue:p,replicationSpecs:E,provider:j,diskSizeGB:S,diskIOPS:C,throughput:k,originalProvider:A,useInstanceSizeMaxStorage:N,diskSizes:T,originalEncryptEBSVolume:w,encryptEBSVolume:P,originalEBSVolumeType:R,ebsVolumeType:I,instanceGroupsHaveMultipleOptions:M,canTurnOnPit:L,orgId:U}))}$c.propTypes={instance:k.a.shape(me.p).isRequired,price:k.a.string.isRequired,showPrice:k.a.bool.isRequired,setClusterFormValue:k.a.func.isRequired,isFirst:k.a.bool.isRequired,isSelected:k.a.bool.isRequired,isExpanded:k.a.bool.isRequired,isDisabled:k.a.bool.isRequired,disabledReason:k.a.string,isPrimary:k.a.bool.isRequired,applyInnerShadow:k.a.bool,instanceGroup:k.a.shape({highCPU:k.a.shape({instance:k.a.shape(me.p),isDisabled:k.a.bool}),lowCPU:k.a.shape({instance:k.a.shape(me.p),isDisabled:k.a.bool}),NVMe:k.a.shape({instance:k.a.shape(me.p),isDisabled:k.a.bool})}),autoScaling:k.a.shape(me.a).isRequired,computeAutoScaleInstanceSizes:k.a.arrayOf(k.a.shape(me.p)).isRequired,selectedInstance:k.a.string.isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)),instanceClass:k.a.string.isRequired,provider:k.a.string,diskSizeGB:k.a.number,diskIOPS:k.a.number,throughput:k.a.number.isRequired,originalProvider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,useInstanceSizeMaxStorage:k.a.bool.isRequired,diskSizes:k.a.objectOf(k.a.shape(me.l)),originalEncryptEBSVolume:k.a.bool,encryptEBSVolume:k.a.bool,originalEBSVolumeType:k.a.oneOf(["gp2","io1"]),ebsVolumeType:k.a.oneOf(["gp2","io1"]),instanceGroupsHaveMultipleOptions:k.a.bool.isRequired,canTurnOnPit:k.a.bool.isRequired,orgId:k.a.string.isRequired},$c.defaultProps={applyInnerShadow:!1,instanceGroup:{},replicationSpecs:[],provider:void 0,diskSizeGB:0,diskIOPS:0,diskSizes:{},originalEncryptEBSVolume:null,encryptEBSVolume:null,originalEBSVolumeType:void 0,ebsVolumeType:void 0,disabledReason:"",canTurnOnPit:!1};var Xc=$c;function Jc(e){var t=e.instanceGroups,n=e.selectedInstance,r=e.replicationSpecs,o=e.provider,i=e.clusterType,a=e.setClusterFormValue,s=e.hasFreeCluster,c=e.isTenantUpgrade,u=e.isCrossRegionEnabled,d=e.originalInstanceSize,p=e.isPrivateIPModeEnabled,f=e.autoScaling,h=e.diskSizeGB,m=e.diskIOPS,g=e.originalProvider,b=e.useInstanceSizeMaxStorage,v=e.diskSizes,y=e.originalEncryptEBSVolume,O=e.encryptEBSVolume,x=e.originalEBSVolumeType,j=e.ebsVolumeType,E=e.diskBackupAllowed,S=e.providerOptions,C=e.instanceClass,_=e.cloudContainers,A=e.isNVMeAllowedForBackupType,N=e.canTurnOnPit,T=e.orgId,w=e.selectedVersion,P=Ws(Ys.a.AZURE,_),R=S[o].instanceSizes,I=f.compute,D=Hc.a.getComputeAutoScalingInstanceSizes(R,i!==me.i.REPLICASET,n,I.maxInstanceSize,I.minInstanceSize);function k(e){if(!oe.C(e.name))return!0;var t=Xs.a.getPreferredRegionName(r[0]);return e.availableRegions.find((function(e){return e.regionName===t&&e.providerName===o&&e.mtmMongoDBMajorVersion.name===w}))}function M(e){return r.every((function(t){var n=Xs.a.getPreferredRegionName(t);return!!e.availableRegions.find((function(e){return e.regionName===n&&e.providerName===o}))}))}function L(e){return oe.C(e.name)&&u}function U(e){return Xs.a.hasBlacklistedRegion(r,e)}function F(e){return p&&-1===["GCP","AZURE"].indexOf(o)&&!oe.C(e.name)}function B(e){var t=Hs(_);return p&&!!t&&t!==o&&!oe.C(e.name)}function V(e){return r.every((function(t){var n=Xs.a.getPreferredRegionName(t);return p&&!oe.C(e.name)&&!!P&&n!==P.region}))}function q(e){return p&&c&&!oe.C(e.name)}function G(e){return!!oe.C(e.name)||Xs.a.hasCommonInstanceFamily(r,e)}function H(e){return i===me.i.GEOSHARDED&&!e.supportsSharding}function W(e){return e.isDeprecated&&e.name!==d}function Y(e){return!M(e)||!k(e)||function(e){return"M0"===e.name&&s&&!c}(e)||L(e)||U(e)||!G(e)||H(e)||F(e)||q(e)||W(e)||B(e)||V(e)}function K(e){var t=!M(e),n=!k(e),o=U(e),i=!G(e),a="M0"===e.name&&s,l=L(e),c=H(e),u=F(e),d=q(e),p=e.isNVMe&&!E,f=e.isNVMe&&!A,h=W(e),m=B(e),g=V(e);return a?"There is a limit of one M0 cluster per project.":l?"This instance is not available for the current replication configuration":c?"This instance does not support sharding.":n?t?"The ".concat(e.name," instance size is not available in the selected region."):"The ".concat(e.name," instance size is not available for version ").concat(w," in the selected region."):o||i?"This instance is not supported with the selected ".concat(r.length>1||Object.keys(r[0]).length>1?"combination of regions":"region","."):u||d?"This instance is unavailable when Connect via Peering Only is turned on.":m?"This instance is unavailable when Connect via Peering Only is enabled and there are dedicated clusters of a different provider in this project.":g?"You can only launch dedicated instance sizes in region ".concat(P.region," for this project because Connect via Peering Only is enabled for that region"):t?"Cloud Provider is out of capacity for this instance. Please select a different instance size or try again later.":p?"Clusters with Local NVMe SSDs require Cloud backups, which are currently unavailable because there are legacy backups active in this project.":f?"Clusters with Local NVMe SSDs require Cloud backups.":h?"This instance size is no longer supported for new clusters.":""}var Z=t;c&&"M0"!==d&&(Z=t.filter((function(e){return"M0"!==e.displayName}))),Z=(Z=Z.filter((function(e){return e.highCPU&&(!e.highCPU.isDeprecated||d===e.displayName)||e.lowCPU&&(!e.lowCPU.isDeprecated||d===e.displayName)||e.NVMe&&(!e.NVMe.isDeprecated||d===e.displayName)}))).filter((function(e){return e.highCPU&&(oe.C(e.highCPU.name)||Xs.a.hasInstanceFamily(r,e.highCPU))||e.lowCPU&&(oe.C(e.lowCPU.name)||Xs.a.hasInstanceFamily(r,e.lowCPU))||e.NVMe&&(oe.C(e.NVMe.name)||Xs.a.hasInstanceFamily(r,e.NVMe))}));for(var $=!1,X=0;X<Z.length;X++){var J=Z[X],Q=0;if(J.highCPU&&!Y(J.highCPU)&&(Q+=1),J.lowCPU&&!Y(J.lowCPU)&&(Q+=1),J.NVMe&&!Y(J.NVMe)&&(Q+=1),Q>1){$=!0;break}}var ee=!1;return Object(z.jsx)(l.a.Fragment,null,$&&Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},Object(z.jsx)("i",{className:"fa fa-circle instance-table-hardware-circle"})," Additional hardware configurations available for specialized workloads"),Object(z.jsx)("div",{className:"instance-table"},Object(z.jsx)("div",{className:"instance-table-header"},Object(z.jsx)("div",{className:"instance-table-header-cell"},"Tier"),Object(z.jsx)("div",{className:"instance-table-header-cell"},"RAM"),Object(z.jsx)("div",{className:"instance-table-header-cell"},"Storage"),Object(z.jsx)("div",{className:"instance-table-header-cell"},"vCPU"),Object(z.jsx)("div",{className:"instance-table-header-cell"},"Base Price")),Z.map((function(e,t){var i,s,c,u,d=ee,p=e.highCPU||e.lowCPU||e.NVMe,_=e.highCPU?e.lowCPU||e.NVMe||void 0:e.lowCPU&&e.NVMe||void 0,w=e.highCPU&&e.lowCPU&&e.NVMe?e.NVMe:void 0,P=n===p.name,R=!!_&&n===_.name,I=!!w&&n===w.name,k=!!(P||R||I),M=Y(p),L=!!_&&Y(_),U=!!w&&Y(w),F=!M&&!R&&!I&&p||!L&&!I&&_||!U&&w||p,B=P||R||I,V=M&&(!_||L)&&(!w||U),q={highCPU:{instance:e.highCPU,isDisabled:!!e.highCPU&&M,tooltip:e.highCPU&&K(e.highCPU)},lowCPU:{instance:e.lowCPU,isDisabled:!!e.lowCPU&&(e.lowCPU.name===p.name&&M||_&&e.lowCPU.name===_.name&&L),tooltip:e.lowCPU&&K(e.lowCPU)},NVMe:{instance:e.NVMe,isDisabled:!!e.NVMe&&(e.NVMe.name===p.name&&M||_&&e.NVMe.name===_.name&&L||w&&e.NVMe.name===w.name&&U)||!E||!A,tooltip:e.NVMe&&K(e.NVMe)}};return ee=k,Object(z.jsx)(l.a.Fragment,{key:e.displayName},Object(z.jsx)(Xc,{instance:F,price:(i=F,s=oe.C(i.name),c=i.isNVMe?4:3,u=Xs.a.getPreferredRegionName(r[0]),(i.baseDollarsPerHour[u]*c+(i.isNVMe?i.baseBackupStorageDollarsPerHour[u]:0)).toFixed(s?3:2)),showPrice:G(F),setClusterFormValue:a,isFirst:0===t,isSelected:B,isExpanded:k,isDisabled:V,disabledReason:K(F),isPrimary:!0,isPrimaryDisabled:V,applyInnerShadow:d,autoScaling:f,computeAutoScaleInstanceSizes:D,selectedInstance:n,instanceGroup:q,replicationSpecs:r,provider:o,throughput:oe.d(S[o],h,F,b),diskSizeGB:h,diskIOPS:m,originalProvider:g,useInstanceSizeMaxStorage:b,diskSizes:v,originalEncryptEBSVolume:y,encryptEBSVolume:O,originalEBSVolumeType:x,ebsVolumeType:j,instanceClass:C,instanceGroupsHaveMultipleOptions:$,canTurnOnPit:N,orgId:T}))}))))}Jc.propTypes={instanceGroups:k.a.arrayOf(k.a.shape({displayName:k.a.string,highCPU:k.a.shape(me.p),lowCPU:k.a.shape(me.p),NVMe:k.a.shape(me.p)})).isRequired,instanceClass:k.a.string.isRequired,selectedInstance:k.a.string.isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,provider:k.a.string.isRequired,clusterType:k.a.oneOf(Object.keys(me.i)).isRequired,providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,setClusterFormValue:k.a.func.isRequired,hasFreeCluster:k.a.bool.isRequired,isCrossRegionEnabled:k.a.bool.isRequired,isTenantUpgrade:k.a.bool.isRequired,originalInstanceSize:k.a.string.isRequired,isPrivateIPModeEnabled:k.a.bool.isRequired,autoScaling:k.a.shape(me.a).isRequired,diskSizeGB:k.a.number.isRequired,originalProvider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,useInstanceSizeMaxStorage:k.a.bool.isRequired,diskSizes:k.a.objectOf(k.a.shape(me.l)),originalEncryptEBSVolume:k.a.bool,encryptEBSVolume:k.a.bool,originalEBSVolumeType:k.a.oneOf(["gp2","io1"]),ebsVolumeType:k.a.oneOf(["gp2","io1"]),diskIOPS:k.a.number,diskBackupAllowed:k.a.bool.isRequired,cloudContainers:k.a.arrayOf(k.a.oneOfType([k.a.shape(Ks.g),k.a.shape(Ks.c),k.a.shape(Ks.a),k.a.shape(Ks.f)])).isRequired,isNVMeAllowedForBackupType:k.a.bool.isRequired,canTurnOnPit:k.a.bool.isRequired,orgId:k.a.string.isRequired,selectedVersion:k.a.string.isRequired},Jc.defaultProps={diskSizes:{},diskIOPS:0,originalEncryptEBSVolume:!1,encryptEBSVolume:!1,originalEBSVolumeType:void 0,ebsVolumeType:void 0,canTurnOnPit:!1};var Qc=Jc,eu=n(942),tu=n.n(eu);function nu(e){var t=e.providerOptions,n=e.provider,r=e.clusterType,o=e.instanceSize,i=e.replicationSpecs,a=e.setClusterFormValue,s=e.originalInstanceSize,c=e.hasFreeCluster,u=e.isTenantUpgrade,d=e.isCrossRegionEnabled,p=e.isEdit,f=e.isPrivateIPModeEnabled,h=e.autoScaling,m=e.diskSizeGB,g=e.diskIOPS,b=e.originalProvider,v=e.useInstanceSizeMaxStorage,y=e.diskSizes,O=e.originalEncryptEBSVolume,x=e.encryptEBSVolume,j=e.originalEBSVolumeType,E=e.ebsVolumeType,S=e.diskBackupAllowed,C=e.instanceClass,_=e.cloudContainers,A=e.backupEnabled,N=e.isInstanceSizeVisible,T=e.canTurnOnPit,w=e.orgId,P=e.isNDSGovEnabled,R=e.selectedVersion,I=Hc.a.groupInstances(t,n,N),D=I.tenantInstances,k=I.developmentInstances,M=I.performanceInstances,L=p&&!u,U=!p||!A;return Object(z.jsx)("div",null,"Base hourly rate is for a MongoDB"," ",Object(z.jsx)(tu.a,{align:"top",justify:"start",trigger:Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-medium underline-dotted"},"replica set"),triggerEvent:"hover",variant:"light",adjustOnMutation:!0,usePortal:!1,className:"tooltip-content-is-cluster-form"},"An Atlas replica set is a group of MongoDB servers with the same data to provide redundancy and high availability.")," ","with ",Object(z.jsx)("strong",null,"3 data bearing servers"),".",Object(z.jsx)("br",null),Object(z.jsx)("br",null),!P&&!L&&D.length>0&&Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-large"},Object(z.jsx)("strong",null,"Shared")," Clusters for development environments and low-traffic applications")),Object(z.jsx)(Qc,{instanceGroups:D,selectedInstance:o,replicationSpecs:i,provider:n,clusterType:r,providerOptions:t,hasFreeCluster:c,setClusterFormValue:a,isTenantUpgrade:u,isCrossRegionEnabled:d,originalInstanceSize:s,isPrivateIPModeEnabled:f,autoScaling:h,diskSizeGB:m,diskIOPS:g,originalProvider:b,useInstanceSizeMaxStorage:v,diskSizes:y,originalEncryptEBSVolume:O,encryptEBSVolume:x,originalEBSVolumeType:j,ebsVolumeType:E,diskBackupAllowed:S,instanceClass:C,cloudContainers:_,isNVMeAllowedForBackupType:U,orgId:w,selectedVersion:R})),k.length>0&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-large"},Object(z.jsx)("strong",null,"Dedicated")," Clusters for development environments and low-traffic applications")),Object(z.jsx)(Qc,{instanceGroups:k,selectedInstance:o,replicationSpecs:i,provider:n,clusterType:r,providerOptions:t,hasFreeCluster:c,setClusterFormValue:a,isTenantUpgrade:u,isCrossRegionEnabled:d,originalInstanceSize:s,isPrivateIPModeEnabled:f,autoScaling:h,diskSizeGB:m,diskIOPS:g,originalProvider:b,useInstanceSizeMaxStorage:v,diskSizes:y,originalEncryptEBSVolume:O,encryptEBSVolume:x,originalEBSVolumeType:j,ebsVolumeType:E,diskBackupAllowed:S,instanceClass:C,cloudContainers:_,isNVMeAllowedForBackupType:U,canTurnOnPit:T,orgId:w,selectedVersion:R})),M.length>0&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-large"},Object(z.jsx)("strong",null,"Dedicated")," Clusters for high-traffic applications and large datasets")),Object(z.jsx)(Qc,{instanceGroups:M,selectedInstance:o,replicationSpecs:i,provider:n,clusterType:r,providerOptions:t,hasFreeCluster:c,setClusterFormValue:a,isTenantUpgrade:u,isCrossRegionEnabled:d,originalInstanceSize:s,isPrivateIPModeEnabled:f,autoScaling:h,diskSizeGB:m,diskIOPS:g,originalProvider:b,useInstanceSizeMaxStorage:v,diskSizes:y,originalEncryptEBSVolume:O,encryptEBSVolume:x,originalEBSVolumeType:j,ebsVolumeType:E,diskBackupAllowed:S,instanceClass:C,cloudContainers:_,isNVMeAllowedForBackupType:U,canTurnOnPit:T,orgId:w,selectedVersion:R})))}nu.propTypes={providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,provider:k.a.string.isRequired,clusterType:k.a.oneOf(Object.keys(me.i)).isRequired,instanceClass:k.a.string.isRequired,instanceSize:k.a.string.isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,setClusterFormValue:k.a.func.isRequired,isEdit:k.a.bool.isRequired,hasFreeCluster:k.a.bool.isRequired,isTenantUpgrade:k.a.bool.isRequired,isCrossRegionEnabled:k.a.bool.isRequired,originalInstanceSize:k.a.string.isRequired,isPrivateIPModeEnabled:k.a.bool.isRequired,autoScaling:k.a.shape(me.a).isRequired,diskSizeGB:k.a.number.isRequired,diskIOPS:k.a.number,originalProvider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,useInstanceSizeMaxStorage:k.a.bool.isRequired,diskSizes:k.a.objectOf(k.a.shape(me.l)),originalEncryptEBSVolume:k.a.bool,encryptEBSVolume:k.a.bool,originalEBSVolumeType:k.a.oneOf(["gp2","io1"]),ebsVolumeType:k.a.oneOf(["gp2","io1"]),diskBackupAllowed:k.a.bool.isRequired,cloudContainers:k.a.arrayOf(k.a.oneOfType([k.a.shape(Ks.g),k.a.shape(Ks.c),k.a.shape(Ks.a),k.a.shape(Ks.f)])).isRequired,backupEnabled:k.a.bool.isRequired,isInstanceSizeVisible:k.a.func.isRequired,canTurnOnPit:k.a.bool.isRequired,orgId:k.a.string.isRequired,isNDSGovEnabled:k.a.bool.isRequired,selectedVersion:k.a.string.isRequired},nu.defaultProps={diskIOPS:0,diskSizes:{},originalEncryptEBSVolume:null,encryptEBSVolume:null,originalEBSVolumeType:void 0,ebsVolumeType:void 0,canTurnOnPit:!1};var ru=nu,ou=n(1122);function iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function au(e){var t=e.providerOptions,n=e.replicationSpec,r=e.regions,o=e.updateReplicationSpecs,i=e.cloudContainers,a=e.isPrivateIPModeEnabled,s=e.displayFreeTierInfo,l=e.isNDSGovEnabled?Js.a.ENV:Js.a.CONTINENT,c=r.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iu(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({groupName:e[l]},e)})),u=J.a.groupBy(c,(function(e){return e.groupName})),d=function(e){var t,i,a,s=e.target.value,l=(t=s,i=Object(Us.a)(n),a=Object.keys(n.regionsConfig)[0],i.regionsConfig[t]=Object(Us.a)(n.regionsConfig[a]),i.regionsConfig[t].regionView=Object(Us.a)(J.a.find(r,(function(e){return e.key===t}))),delete i.regionsConfig[a],i);o(l)},p=function(e){return e.reduce((function(e,t){return e+t}))},f=function(e,n){var r=t&&t.FREE.instanceSizes;return Object.keys(r).some((function(t){return r[t].availableRegions.some((function(t){return t.regionName===e&&t.providerName===n}))}))},h=i.find((function(e){return e.isProvisioned&&e["@provider"]!=Ys.a.FREE})),m=function(e){return!!a&&!f(e.key,e.provider)},g=function(e){return!(!a||!h)&&(h["@provider"]!==Ys.a.GCP&&!f(e.key,e.provider))},b=function(e){return a?!(!h||h["@provider"]===Ys.a.AZURE&&e.provider===Ys.a.AZURE&&e.key===h.region||f(e.key,e.provider)):a&&!f(e.key,e.provider)},v=function(e){return e.provider===Ys.a.AWS&&m(e)?"Only AWS regions that support tenant clusters are available for projects with Connect via Peering Only enabled.":e.provider===Ys.a.GCP&&g(e)?"Only GCP regions that support tenant clusters are available for projects with Connect via Peering Only enabled for Azure.":e.provider===Ys.a.AZURE&&b(e)?h["@provider"]!==Ys.a.AZURE?"Only Azure regions that support tenant clusters are available for projects with Connect via Peering Only enabled for GCP.":"Connect via Peering Only has been enabled for the ".concat(h.region," region in Azure. Projects with Connect via Peering Only enabled for Azure can only support dedicated clusters for one region."):""},y=function(e){var r,o,i=Xs.a.getPreferredRegion(n).regionView.key,a=function(e){switch(e.provider){case Ys.a.AWS:return m(e);case Ys.a.GCP:return g(e);case Ys.a.AZURE:return b(e);default:return!1}}(e),l=Object(z.jsx)("div",{className:"nds-cluster-form-region-picker-item"},Object(z.jsx)("div",{className:"nds-cluster-form-region-picker-item-flag-column"},function(e){var t=ou.a[e];if(!t)return"";var n=t.includes("gov")?"nds-cluster-form-region-picker-gov-flag":"nds-cluster-form-region-picker-flag";return Object(z.jsx)("img",{src:"/static/images/".concat(ou.a[e]),alt:"",className:"nds-cluster-form-region-picker ".concat(n)})}(e.key)),Object(z.jsx)("div",{className:"nds-cluster-form-region-picker-item-text-column"},Object(z.jsx)("strong",null,e.location)," ",Object(z.jsx)("span",{className:"nds-cluster-form-region-picker-region-name"},"(",e.name,")"),e.isRecommended?Object(z.jsx)("span",{style:{marginLeft:"3px"}},Object(z.jsx)("i",{className:"fa fa-star"})):"",Object(z.jsx)("br",null),(r=e.key,o=e.provider,(t&&t.FREE.instanceSizes.M0.availableRegions).some((function(e){return e.regionName===r&&e.providerName===o}))&&s?Object(z.jsx)("div",{className:"nds-cluster-form-region-picker nds-cluster-form-region-picker-free-tier nds-cluster-form-highlighted-label"},"Free Tier Available"):""))),c=Object(z.jsx)("label",{className:ae()("nds-cluster-form-region-picker-panel",{"nds-cluster-form-region-picker-panel-selected":e.key===i,"nds-cluster-form-region-picker-panel-not-selected":e.key!==i,"nds-cluster-form-region-picker-panel-is-disabled nds-cluster-form-region-picker-panel-is-disabled-not-allowed":a})},Object(z.jsx)("input",{className:"rich-radio-radio-button rich-radio-radio-button-is-hidden",id:e.key,value:e.key,type:"radio",onChange:d,checked:e.key===i,disabled:a}),l);return Object(z.jsx)("div",{key:e.key},a?Object(z.jsx)(Tt.a,{key:"".concat(e.key,"-").concat(e.provider,"-tooltip"),content:Object(Js.e)(v(e))},c):c)};return Object(z.jsx)("div",{className:"nds-cluster-form-setting nds-cluster-form-padding-top-less"},Object(z.jsx)("div",{className:"nds-cluster-form-region-picker-group"},function(){var e=Object.values(u);if(0===e.length)return[[]];if(1===e.length)return[[e[0]]];if(2===e.length)return[[e[0]],[e[1]]];6===e.length&&l==Js.a.CONTINENT&&(e=[Object.values(u["North America"]),Object.values(u["South America"]),Object.values(u.Europe),Object.values(u["Middle East"]),Object.values(u.Asia),Object.values(u.Australia)]);for(var t,n,r=e.map((function(e){return e.length})),o=1*p(r)/3,i=Number.MAX_VALUE,a=1;a<r.length-1;a++)for(var s=a+1;s<r.length;s++){var c=r.slice(0,a),d=r.slice(a,s),f=r.slice(s),h=p(c),m=p(d),g=p(f),b=Math.abs(h-o)+Math.abs(m-o)+Math.abs(g-o);b<=i&&(i=b,t=a,n=s)}return[e.slice(0,t),e.slice(t,n),e.slice(n)]}().map((function(e,t){var n="column-".concat(t);return Object(z.jsx)("div",{key:n,className:"nds-cluster-form-region-picker-column"},e.map((function(e,t){var n=e[0].groupName;return[Object(z.jsx)("label",{key:n,className:ae()("nds-cluster-form-region-picker-continent",{"nds-cluster-form-region-picker-continent-has-extra-top-space":t>0})},l===Js.a.CONTINENT?Object(Js.c)(n):n),e.map((function(e){return y(e)}))]})))}))))}au.propTypes={providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,replicationSpec:k.a.shape(me.x).isRequired,regions:k.a.arrayOf(k.a.shape(sl.a)).isRequired,updateReplicationSpecs:k.a.func.isRequired,isPrivateIPModeEnabled:k.a.bool.isRequired,cloudContainers:k.a.arrayOf(k.a.oneOfType([k.a.shape(Ks.g),k.a.shape(Ks.c),k.a.shape(Ks.a),k.a.shape(Ks.f)])).isRequired,displayFreeTierInfo:k.a.bool,isNDSGovEnabled:k.a.bool},au.defaultProps={displayFreeTierInfo:!0,isNDSGovEnabled:!1};var su=au;function lu(e){var t=e.providerOptions,n=e.updateReplicationSpecs,r=e.provider,o=e.providerRegions,i=e.replicationSpec,a=e.cloudContainers,s=e.isPrivateIPModeEnabled,l=e.displayFreeTierInfo,c=e.isEdit,u=e.hasPITHighestPriorityRegionChanged,d=e.isNDSGovEnabled;return Object(z.jsx)("div",{className:"nds-cluster-form-padding-top-less"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-content"},Object(z.jsx)("div",null,l&&Object(z.jsx)("div",{className:"nds-cluster-form-region-picket-free-tier-information"},"Create a ",Object(z.jsx)("strong",null,"free tier cluster")," by selecting a region with"," ",Object(z.jsx)("label",{className:"nds-cluster-form-region-picker-free-tier nds-cluster-form-highlighted-label"},"Free Tier Available")," ","and choosing the ",Object(z.jsx)("strong",null,"M0")," cluster tier below."),Object(z.jsx)(al.a,{provider:r}))),Object(z.jsx)(su,{providerOptions:t,replicationSpec:i,regions:o,updateReplicationSpecs:n,isPrivateIPModeEnabled:s,cloudContainers:a,displayFreeTierInfo:l,isNDSGovEnabled:d}),function(){if(c&&u)return Object(z.jsx)(M.a,{level:"warning",className:"cross-region-section-wrapper cross-region-section-table-alert"},Object(z.jsx)("strong",null,"Please note:")," By moving primary region, your existing oplogs are being deleted which will impact your Point In Time Restore.")}())}lu.propTypes={providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,updateReplicationSpecs:k.a.func.isRequired,provider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,providerRegions:k.a.arrayOf(k.a.shape(sl.a)).isRequired,replicationSpec:k.a.shape(me.x).isRequired,isPrivateIPModeEnabled:k.a.bool.isRequired,cloudContainers:k.a.arrayOf(k.a.oneOfType([k.a.shape(Ks.g),k.a.shape(Ks.c),k.a.shape(Ks.a),k.a.shape(Ks.f)])).isRequired,displayFreeTierInfo:k.a.bool,isEdit:k.a.bool,hasPITHighestPriorityRegionChanged:k.a.bool,isNDSGovEnabled:k.a.bool},lu.defaultProps={displayFreeTierInfo:!0,isNDSGovEnabled:!1};var cu=lu;function uu(e){var t=e.replicationSpec,n=e.provider,r=e.isEdit,o=Xs.a.handlesPartialOutage(t),i=Xs.a.handlesFullOutage(t);return Object(z.jsx)("div",null,r&&Object(z.jsx)("div",null,Object(z.jsx)("strong",null,"Removing an entire region")," can cause 3.4 style connection strings to be invalid."),Object(z.jsx)("div",{className:"cross-region-section-status"},Object(z.jsx)("strong",null,"As configured below, your cluster is:"),Object(z.jsx)("div",null,Object(z.jsx)("span",{className:ae()("cross-region-section-status-text",{"cross-region-section-status-text-is-green":o,"cross-region-section-status-text-is-gray":!o})},o?Object(z.jsx)(Tt.a,{content:Object(Js.e)("If one ".concat(me.w[n]," ").concat(me.A[n]," experiences an outage, this cluster may still be available for writes."))},Object(z.jsx)("i",{className:ae()("mms-icon-check","cross-region-section-status-text-icon")})," Available during partial region outage"):Object(z.jsx)(Tt.a,{content:Object(Js.e)("If one ".concat(me.w[n]," ").concat(me.A[n]," experiences an outage, this cluster will not be available for writes."))},Object(z.jsx)("i",{className:ae()("mms-icon-remove","cross-region-section-status-text-icon","cross-region-section-status-text-remove-icon")})," ","Not available during partial region outage")),Object(z.jsx)("span",{className:ae()("cross-region-section-status-text",{"cross-region-section-status-text-is-green":i,"cross-region-section-status-text-is-gray":!i})},i?Object(z.jsx)(Tt.a,{content:Object(Js.e)("If an entire ".concat(me.w[n]," region experiences an outage, this cluster may still be available for writes."))},Object(z.jsx)("i",{className:ae()("mms-icon-check","cross-region-section-status-text-icon")})," Available during full region outage"):Object(z.jsx)(Tt.a,{content:Object(Js.e)("If an entire ".concat(me.w[n]," region experiences an outage, this cluster will not be available for writes."))},Object(z.jsx)("i",{className:ae()("mms-icon-remove","cross-region-section-status-text-icon","cross-region-section-status-text-remove-icon")})," ","Not available during full region outage")))))}uu.propTypes={replicationSpec:k.a.shape(me.x).isRequired,provider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,isEdit:k.a.bool.isRequired};var du=uu,pu=n(971),fu=n.n(pu),hu=n(1988),mu=n.n(hu);var gu=Ro()("div",{target:"eulska80"})(Object(z.css)({display:"flex",justifyContent:"center",border:"2px solid ".concat(co.uiColors.gray.light2),padding:"10px",borderRadius:"5px",marginTop:"5px"},""),""),bu={name:"3dfk81",styles:"max-width:137px;justify-content:flex-start;margin-right:13px;"},vu=Ro()("img",{target:"eulska81"})({name:"ahz31r",styles:"max-height:17px;max-width:17px;padding-bottom:3px;"},""),yu=Ro()("div",{target:"eulska82"})({name:"1eaxpt7",styles:"display:flex;align-items:flex-end;width:100px;flex-direction:column;justify-content:space-around;margin-right:40px;margin-left:40px;"},""),Ou=Ro()("div",{target:"eulska83"})({name:"zupw4a",styles:"display:flex;justify-content:center;flex-direction:column;"},""),xu=Ro()("div",{target:"eulska84"})({name:"1b5wjtx",styles:"font-size:18px;padding-bottom:5px;"},""),ju=Ro()("div",{target:"eulska85"})({name:"1kuy7z7",styles:"font-size:14px;"},""),Eu=Ro()("hr",{target:"eulska86"})(Object(z.css)({borderTop:"1px solid ".concat(co.uiColors.gray.light1)},""),"");var Su={name:"1kuy7z7",styles:"font-size:14px;"},Cu={name:"tn9ygg",styles:"max-width:200px;"};function _u(e){var t=e.docsUrl,n=e.onToggle,r=e.isTenant,i=e.isEdit,a=e.showTable,c="".concat(t,"/create-new-cluster/#configure-the-cluster-across-multiple-regions"),u=Object(z.jsx)(vu,{src:"/static/images/azure-icon-logo.png",alt:"Azure Logo"}),d=Object(z.jsx)(vu,{src:"/static/images/gcp-icon-logo.png",alt:"GCP Logo"}),p=Object(z.jsx)(vu,{src:"/static/images/aws-icon-logo.png",alt:"AWS Logo"}),f=Object(z.jsx)("span",null,p," ",d," ",u),h=Object(s.useState)(!1),m=o()(h,2),g=m[0],b=m[1];return Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(mu.a,{open:g,title:"Confirmation",onConfirm:function(){b(!1),n()},onCancel:function(){return b(!1)},buttonText:"Continue"},"This will remove all configured nodes except electable nodes in the highest priority region.",Object(z.jsx)("br",null),"Are you sure you want to continue?"),Object(z.jsx)(gu,null,Object(z.jsx)("img",{src:"/static/images/cluster-clouds.png",css:bu,alt:"MongoDB database among clouds"}),Object(z.jsx)(Ou,null,Object(z.jsx)(xu,null,Object(z.jsx)("span",null,Object(z.jsx)("strong",null,"View Additional Distribution Options "),Object(z.jsx)("span",{css:Su},"(M10+ clusters)"))),Object(z.jsx)(ju,null,"Go multi-region or multi-cloud ",f," for improved availability and local read performance, or introduce special replicas for workload isolation."," ",Object(z.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer"},"Learn more"))),Object(z.jsx)(yu,null,Object(z.jsx)(tu.a,{triggerEvent:"hover",trigger:Object(z.jsx)("span",null,Object(z.jsx)(fu.a,{checked:a,onChange:function(){i&&a?b(!0):n()},disabled:r})),justify:"middle",variant:"dark",enabled:r,css:Cu},function(e,t){return e?"Only dedicated clusters (M10 and up) can span multiple regions or clouds.\n        To select this option, ".concat(t?"upgrade to":"select",' one of the\n        dedicated tiers in the "Cluster Tier" section.'):""}(r,i)))),Object(z.jsx)(Eu,null))}function Au(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Nu=function(e){A()(n,e);var t=Au(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{showCrossRegion:Xs.a.isCrossRegionEnabled(e.props.replicationSpec)}),I()(C()(e),"onToggleCrossRegion",(function(){var t=e.props,n=t.replicationSpec,r=t.updateReplicationSpecs;if(e.state.showCrossRegion){if(Xs.a.isCrossRegionEnabled(n))r(Xs.a.convertToSingleRegion(n));e.setState({showCrossRegion:!1})}else e.setState({showCrossRegion:!0})})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.providerOptions,n=e.updateReplicationSpecs,r=e.provider,o=e.providerRegions,i=e.replicationSpecs,a=e.replicationSpec,s=e.docsUrl,c=e.isTenant,u=e.isEdit,d=e.isPrivateIPModeEnabled,p=e.cloudContainers,f=e.isMultiRegionConfigurationVisible,h=e.clusterType,m=e.displayFreeTierInfo,g=e.hasPITHighestPriorityRegionChanged,b=e.isNDSGovEnabled,v=e.crossCloudEnabled,y=this.state.showCrossRegion,O=y&&!c,x=d&&r===Ys.a.AZURE,j=c,E="".concat(s,"/create-new-cluster/#configure-the-cluster-across-multiple-regions"),S=Object(z.jsx)(Ps.a,{enabled:O,enabledText:"YES",disabledText:"NO",onToggle:this.onToggleCrossRegion,disabled:j});return Object(z.jsx)("div",null,v&&f&&Object(z.jsx)(_u,{docsUrl:s,onToggle:this.onToggleCrossRegion,isEdit:u,isTenant:c,showTable:O}),!v&&f&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("hr",{className:"nds-cluster-form-hr-thin"}),Object(z.jsx)("div",{className:"nds-cluster-form-setting nds-cluster-form-setting-has-margin-bottom"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-content"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-text-is-large nds-cluster-form-setting-text-is-for-toggle"},Object(z.jsx)("span",null,"Select ",Object(z.jsx)("strong",null,"Multi-Region"),", ",Object(z.jsx)("strong",null,"Workload Isolation"),", and"," ",Object(z.jsx)("strong",null,"Replication Options")," ",Object(z.jsx)("strong",{className:"nds-cluster-form-setting-text-is-medium"},"(M10+ clusters)"))),Object(z.jsx)("div",null,"Increase region availability, configure tagged analytics nodes, and optimize for local service areas."," ",Object(z.jsx)("a",{href:E,target:"_blank",rel:"noopener noreferrer"},"Read more"))),Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-selection"},j?Object(z.jsx)(Tt.a,{key:"disabled-tooltip",content:Object(Js.e)(c?"Only dedicated clusters (M10 and up) can be configured across multiple regions.\n        To select this option, ".concat(u?"upgrade to":"select from",' one of the\n        dedicated tiers in the "Cluster Tier" section.'):"")},S):S))),!O&&Object(z.jsx)(cu,{providerOptions:t,updateReplicationSpecs:n,provider:r,providerRegions:o,replicationSpec:a,cloudContainers:p,isPrivateIPModeEnabled:d,displayFreeTierInfo:m,isEdit:u,hasPITHighestPriorityRegionChanged:g,isNDSGovEnabled:b}),O&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(du,{replicationSpec:a,provider:r,isEdit:u}),Object(z.jsx)(Ml,{replicationSpec:a,replicationSpecs:i,providerOptions:t,provider:r,providerRegions:o,updateReplicationSpecs:n,showCrossRegion:y,clusterType:h,isEdit:u,hasPITHighestPriorityRegionChanged:g,isPrivateIpModeAzure:x,isNDSGovEnabled:b,crossCloudEnabled:v})))}}]),n}(l.a.Component);I()(Nu,"propTypes",{providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,updateReplicationSpecs:k.a.func.isRequired,provider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,providerRegions:k.a.arrayOf(k.a.shape(sl.a)).isRequired,replicationSpec:k.a.shape(me.x).isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,docsUrl:k.a.string.isRequired,isTenant:k.a.bool.isRequired,isEdit:k.a.bool.isRequired,isPrivateIPModeEnabled:k.a.bool.isRequired,cloudContainers:k.a.arrayOf(k.a.oneOfType([k.a.shape(Ks.g),k.a.shape(Ks.c),k.a.shape(Ks.a),k.a.shape(Ks.f)])),clusterType:k.a.oneOf(Object.keys(me.i)).isRequired,isMultiRegionConfigurationVisible:k.a.bool,displayFreeTierInfo:k.a.bool,hasPITHighestPriorityRegionChanged:k.a.bool,isNDSGovEnabled:k.a.bool,crossCloudEnabled:k.a.bool}),I()(Nu,"defaultProps",{cloudContainers:[],isMultiRegionConfigurationVisible:!0,displayFreeTierInfo:!0,isNDSGovEnabled:!1,crossCloudEnabled:!1});var Tu=Nu;function wu(e){var t,n=e.docsUrl,r=e.backupEnabled,o=e.diskBackupEnabled,i=e.initialBackupEnabled,a=e.diskBackupAllowed,s=e.setClusterFormValue,c=e.hasEncryptionAtRestProvider,u=e.isNVMe,d=e.canTurnOnPit,p=e.pitEnabled,f=e.hasPITBeenToggledOff,h=e.isEdit,m=e.isMongoDBVersionUpgrade,g=e.mongoDBVersion,b=e.showContinuousToCPSTransitionNotice,v=e.diskBackupStartingCostText,y=e.gcpOplogEncryptionOn,O=e.azureOplogEncryptionOn,x=e.onlyShowDiskBackup,j=function(e){"backupEnabled"===e.target.value?(s("backupEnabled",!0),s("diskBackupEnabled",!1),s("pitEnabled",!1)):(s("backupEnabled",!1),s("diskBackupEnabled",!0),s("pitEnabled",d))},E=function(e){s("pitEnabled",e)},S="".concat(n,"/billing/cluster-configuration-costs/#point-in-time-restores-aws-only"),C="".concat(n,"/backup/cloud-provider-snapshots/#snapshot-scheduling-and-retention-policy"),_="".concat(n,"/backup/cloud-provider-snapshots"),A=!a,N=m&&"4.2"===g,T=c||u||N||!Object(oe.b)(g)&&!i,w=d&&o,P=h&&o&&N,R=function(){return Object(z.jsx)("div",{className:ae()("nds-cluster-form-backup-pit",{"nds-cluster-form-backup-pit-is-hidden":!w,"nds-cluster-form-backup-pit-is-visible":w})},Object(z.jsx)("div",{className:"nds-cluster-form-backup-item-radio-container-row nds-cluster-form-backup-pit-toggle"},Object(z.jsx)("div",{className:"nds-cluster-form-backup-item-radio-left-col"},Object(z.jsx)("div",{className:"nds-cluster-form-backup-pit-title"},"Continuous Cloud Backup"),"This additional option also records the full oplog for a configured window, permitting a restore to any"," ",Object(z.jsx)("a",{href:"https://docs.atlas.mongodb.com/backup/cloud-provider-snapshots/#point-in-time-restores",target:"_blank",rel:"noopener noreferrer"},"point in time")," ","within that window. Meets recovery point objective (RPO) of 1 minute."," ",y||O?"":"Please note, Continuous Cloud Backup does not currently support Bring Your Own Keys."),Object(z.jsx)("div",null,Object(z.jsx)(Ps.a,{id:"pit-toggle-switch",enabled:d&&p,onToggle:E,enabledText:"YES",disabledText:"NO",disabled:null,key:"pit-toggle"}))),f&&h&&Object(z.jsx)("div",{className:"nds-cluster-form-collapsible-content-item-less-padding"},Object(z.jsx)(M.a,{level:"warning",isSaturated:!0},Object(z.jsx)("strong",null,"Caution:")," By disabling Continuous Cloud Backup, your existing oplogs will be deleted. This will impact your Point In Time Restore.")),Object(z.jsx)("br",null))};t=u?"Legacy backup is not available for clusters with NVMe storage.":Object(oe.b)(g)?"Legacy backup is not available for clusters with Encryption at Rest enabled.":"Continous backup is not supported for clusters with MongoDB version 4.2 or higher.";return Object(z.jsx)(l.a.Fragment,null,(!h&&x||h&&!i)&&Object(z.jsx)("div",null,R()),(!h&&!x||h&&i)&&Object(z.jsx)("div",null,Object(z.jsx)(Tt.a,{hide:!T,placement:"top",content:Object(Js.e)(t),display:""},Object(z.jsx)("div",null,Object(z.jsx)("label",{className:ae()("rich-radio","rich-radio-is-full","nds-cluster-form-backup-option-border",{"rich-radio-is-checked":r,"rich-radio-is-disabled":T})},Object(z.jsx)("div",{className:"nds-cluster-form-backup-item-radio-container-column"},Object(z.jsx)("div",{className:"nds-cluster-form-backup-item-radio-container-row"},Object(z.jsx)("input",{className:ae()("rich-radio-radio-button rich-radio-radio-button-is-hidden",{"rich-radio-radio-button-is-disabled":T,"rich-radio-radio-button-is-green":!T}),type:"radio",value:"backupEnabled",disabled:T,checked:r,onClick:j,onChange:function(){}}),Object(z.jsx)("div",{className:"nds-cluster-form-backup-item-radio-left-col"},Object(z.jsx)("div",{className:"nds-cluster-form-backup-item-radio-title"},"Legacy Backup"),Object(z.jsx)("div",null,"Point-in-time data recovery and granular data restores")),Object(z.jsx)("div",null,Object(z.jsx)("p",null,"$1.50 - $2.50/GB per month"),Object(z.jsx)("p",{className:"nds-cluster-form-backup-price-footer"},"Price depends on ",Object(z.jsx)("span",{className:"nds-cluster-form-backup-price-emphasis"},"database size")," ","and",Object(z.jsx)("span",{className:"nds-cluster-form-backup-price-emphasis"}," backup retention schedule"),"."))),Object(z.jsx)("div",null,P?Object(z.jsx)(M.a,{level:"info",name:"mongodbUpgradeContinuousBackupAlert",className:"rich-radio-embedded-alert"},Object(z.jsx)("div",{className:"text-is-dark-gray"},"Cloud Backup has replaced Legacy Backup as a faster and cheaper option in MongoDB 4.2. Your existing snapshots will still be available based on your retention policy."," ",Object(z.jsx)("a",{href:_,target:"_blank",rel:"noopener noreferrer"},"Learn more"))):b?Object(z.jsx)(M.a,{name:"continuousToCPSTransitionAlert",className:"rich-radio-embedded-alert"},Object(z.jsx)("div",{className:"text-is-dark-gray"},"Your current Legacy backup snapshots will still be available based on your existing retention policies. You can configure your Cloud Backup schedule in your cluster's Backup page."," ",Object(z.jsx)("a",{href:C,target:"_blank",rel:"noopener noreferrer"},"Learn More"))):void 0))))),Object(z.jsx)("div",null,Object(z.jsx)("label",{className:ae()("rich-radio","rich-radio-is-full","nds-cluster-form-backup-option-border",{"rich-radio-is-checked":o,"rich-radio-is-disabled":A})},Object(z.jsx)("div",{className:"nds-cluster-form-backup-item-radio-container-column"},Object(z.jsx)("div",{className:"nds-cluster-form-backup-item-radio-container-row"},Object(z.jsx)("input",{className:ae()("rich-radio-radio-button rich-radio-radio-button-is-hidden",{"rich-radio-radio-button-is-disabled":A,"rich-radio-radio-button-is-green":!A}),type:"radio",value:"diskBackupEnabled",disabled:A,checked:o,onClick:j,onChange:function(){}}),Object(z.jsx)("div",{className:"nds-cluster-form-backup-item-radio-left-col"},Object(z.jsx)("div",{className:"nds-cluster-form-backup-item-radio-title"},"Cloud Backup"),Object(z.jsx)("div",{className:""},"Localized backup storage with snapshot image restores")),Object(z.jsx)("div",null,Object(z.jsx)("p",null,p?Object(z.jsx)("a",{href:S,target:"_blank",rel:"noopener noreferrer"},"Pricing VariesÂ ",Object(z.jsx)("i",{className:"fa fa-external-link"})):v),Object(z.jsx)("p",{className:"nds-cluster-form-backup-price-footer"},"Price depends on ",Object(z.jsx)("span",{className:"nds-cluster-form-backup-price-emphasis"},"region"),",",Object(z.jsx)("span",{className:"nds-cluster-form-backup-price-emphasis"}," snapshot size"),", and",Object(z.jsx)("span",{className:"nds-cluster-form-backup-price-emphasis"}," number of snapshots"),"."))))),Object(z.jsx)("div",null,R()))))}wu.propTypes={docsUrl:k.a.string.isRequired,backupEnabled:k.a.bool.isRequired,diskBackupEnabled:k.a.bool.isRequired,initialBackupEnabled:k.a.bool.isRequired,diskBackupAllowed:k.a.bool.isRequired,hasEncryptionAtRestProvider:k.a.bool.isRequired,setClusterFormValue:k.a.func.isRequired,isNVMe:k.a.bool.isRequired,canTurnOnPit:k.a.bool.isRequired,pitEnabled:k.a.bool.isRequired,hasPITBeenToggledOff:k.a.bool.isRequired,isEdit:k.a.bool.isRequired,mongoDBVersion:k.a.string.isRequired,showContinuousToCPSTransitionNotice:k.a.bool.isRequired,diskBackupStartingCostText:k.a.string.isRequired,isMongoDBVersionUpgrade:k.a.bool.isRequired,gcpOplogEncryptionOn:k.a.bool.isRequired,azureOplogEncryptionOn:k.a.bool.isRequired,onlyShowDiskBackup:k.a.bool.isRequired};var Pu=wu;function Ru(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Iu=function(e){A()(n,e);var t=Ru(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{initialBackupEnabled:e.props.backupEnabled,initialDiskBackupEnabled:e.props.diskBackupEnabled}),I()(C()(e),"onChangeBackup",(function(t){var n=e.props,r=n.setClusterFormValue,o=n.diskBackupAllowed,i=n.canTurnOnPit;t?o?(r("backupEnabled",!1),r("diskBackupEnabled",!0),r("pitEnabled",i)):(r("backupEnabled",!0),r("diskBackupEnabled",!1),r("pitEnabled",!1)):(r("pitEnabled",!1),r("backupEnabled",!1),r("diskBackupEnabled",!1))})),I()(C()(e),"getDisabledTooltipContent",(function(){var t=e.props,n=t.isTenant,r=t.isFree,o=t.isNVMe,i=t.mongoDBVersion;return n?r?"Backup is not included for M0 Sandbox clusters.":"Backup is included for free for M2 and M5 cluster tiers.":o?"Cloud Backup must be enabled for clusters with NVMe storage.":Object(oe.b)(i)?void 0:"Cloud Backup must be enabled for clusters with MongoDB version 4.2 or higher."})),I()(C()(e),"shouldShowWarning",(function(){var t=e.props,n=t.isEdit,r=t.backupEnabled,o=t.diskBackupEnabled,i=t.mongoDBVersion,a=t.isMongoDBVersionUpgrade,s=e.state,l=s.initialBackupEnabled,c=s.initialDiskBackupEnabled;return!!n&&((l&&!r||c&&!o)&&!(a&&"4.2"===i))})),I()(C()(e),"shouldShowOnlyCloudBackupOption",(function(){var t=e.props,n=t.isEdit,r=t.onlyShowDiskBackup,o=e.state,i=o.initialDiskBackupEnabled,a=o.initialBackupEnabled;return r&&!a||n&&i})),I()(C()(e),"getBackupOptions",(function(t,n){var r=e.props,o=r.isFree,i=r.docsUrl,a=r.provider,s=r.pitEnabled;if(n||o)return Object(z.jsx)("div",null,Object(z.jsx)("div",null,Object(z.jsx)("a",{href:"".concat(i,"/backup-cluster/index.html#backup-methods"),target:"_blank",rel:"noopener noreferrer"},o?"See Backup Solutions for Paid Clusters (M2+)":"Compare to Backup Solutions for Dedicated Clusters (M10+)")));var l="".concat(i,"/billing/cluster-configuration-costs/#backup");return e.shouldShowOnlyCloudBackupOption()?Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"nds-cluster-form-setting-description"},"Snapshots are taken automatically and stored according to your backup and retention policy. Meets recovery point objective (RPO) of 6 hours by default, configurable down to 1 hour."),Object(z.jsx)("div",{className:"nds-cluster-form-setting-description"},"You can disable backups at any time."," ",Object(z.jsx)("a",{href:"https://docs.atlas.mongodb.com/backup-restore-cluster/",target:"_blank",rel:"noopener noreferrer"},"Learn more about backup options")),Object(z.jsx)("div",{id:"cpsPricing"},Object(z.jsx)("p",null,s?Object(z.jsx)("a",{className:"nds-cluster-form-backup-link",href:"https://docs.atlas.mongodb.com/billing/cluster-configuration-costs/#cloud-provider-snapshots",target:"_blank",rel:"noopener noreferrer"},"Pricing Varies"):Object(z.jsx)("strong",null,e.getDiskBackupStartingCostText(a))))):t?Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"nds-cluster-form-setting-description"},"You can easily enable or disable backups at any time after deploying."),Object(z.jsx)("div",null,Object(z.jsx)("strong",{className:"nds-cluster-form-backup-item-title"},"Select a version"),Object(z.jsx)("a",{className:"nds-cluster-form-backup-link",href:"https://docs.mongodb.com/manual/core/backups/",target:"_blank",rel:"noopener noreferrer"},"Compare Backup Solutions"))):[Object(z.jsx)("div",{className:"nds-cluster-form-setting-description",key:"primary-backup-option-text"},"First 1GB per replica set is free, and ",Object(z.jsx)("strong",null,"additional data are $2.50 per GB/month"),". You can enable or disable backups at any time."),Object(z.jsx)("div",{className:"text-is-gray nds-cluster-form-setting-text-is-small",key:"secondary-backup-option-text"},Object(z.jsx)("em",null,"Backup storage location depends on this cluster's region and the backup start date.")),Object(z.jsx)("a",{className:"nds-cluster-form-setting-text-is-small",href:l,target:"_blank",rel:"noopener noreferrer",key:"backup-option-readme"},Object(z.jsx)("em",null,"Read more"))]})),I()(C()(e),"showContinuousToCPSTransitionNotice",(function(){var t=e.props,n=t.isEdit,r=t.backupEnabled,o=e.state.initialBackupEnabled;return n&&(o&&!r)})),I()(C()(e),"getDiskBackupStartingCostText",(function(t){var n=e.props.billingEstimate;switch(t){case"AWS":return"$".concat(n.snapshotBackupEstimateDollars,"/GB month");case"AZURE":return"$".concat(n.snapshotBackupEstimateDollars,"/GB Storage");case"GCP":return"$".concat(n.snapshotBackupEstimateDollars,"/GB month")}})),e}return E()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.canTurnOnPit;this.props.canTurnOnPit!==t&&this.props.setClusterFormValue("pitEnabled",t)}},{key:"render",value:function(){var e=this.props,t=e.provider,n=e.clusterType,r=e.name,o=e.groupId,i=e.docsUrl,a=e.backupEnabled,s=e.diskBackupEnabled,l=e.diskBackupAllowed,c=e.tenantBackupEnabled,u=e.isTenant,d=e.hasEncryptionAtRestProvider,p=e.setClusterFormValue,f=e.billingEstimate,h=e.isNVMe,m=e.canTurnOnPit,g=e.pitEnabled,b=e.hasPITBeenToggledOff,v=e.isEdit,y=e.mongoDBVersion,O=e.isMongoDBVersionUpgrade,x=e.gcpOplogEncryptionOn,j=e.azureOplogEncryptionOn,E=e.onlyShowDiskBackup,S=this.state.initialBackupEnabled,C=l?"".concat(o,"#clusters/backup/").concat(r):"".concat(o,"#backup"),_=a||s,A=_||c,N=this.shouldShowWarning()&&!this.showContinuousToCPSTransitionNotice(),T=l&&_||c,w=m&&s,P=d&&!l,R=P||(u||h),I=Object(z.jsx)(Ps.a,{enabled:A,onToggle:this.onChangeBackup,enabledText:"YES",disabledText:"NO",disabled:R,key:"backup-toggle"});return Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"nds-cluster-form-setting"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-full"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-large"},"Turn on",this.shouldShowOnlyCloudBackupOption()?" Cloud":""," Backup"," "),Object(z.jsx)("strong",null,"(M2 and up)")),this.getBackupOptions(T,c,v)),Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-narrow nds-cluster-form-setting-content-is-selection"},R?Object(z.jsx)(Tt.a,{content:Object(Js.e)(this.getDisabledTooltipContent())},I):I)),!P&&N&&Object(z.jsx)("div",{className:"nds-cluster-form-setting-content-with-alert",key:"backup-warning",style:{marginBottom:"10px"}},Object(z.jsx)(M.a,{level:"warning"},Object(z.jsx)("strong",null,"Please Note:")," This action is irreversible. Turning off"," ",l&&"or altering your type of "," backup will delete all of your existing snapshots immediately. If you want to keep old versions of your data, visit the"," ",Object(z.jsx)("a",{href:C,target:"_blank",rel:"noopener noreferrer"},"backup dashboard")," ","and download your snapshots.")),T&&Object(z.jsx)("div",{className:ae()({"nds-cluster-form-padding-top-less nds-cluster-form-has-less-padding-bottom":u||w,"nds-cluster-form-backup-items":!u,"nds-cluster-form-setting-content-has-margin-right":u})},u?Object(z.jsx)("div",{className:"nds-cluster-form-backup-tenant"},Object(z.jsx)("div",null,Object(z.jsx)("strong",null,"M2/M5 Snapshots")),Object(z.jsx)("div",null,"Includes a daily snapshot that is retained for 8 days. The first snapshot will be taken 24 hours after cluster creation."),Object(z.jsx)("div",{className:"bubble-text bubble-text-is-light-blue bubble-text-is-top-right"},"FREE")):Object(z.jsx)(Pu,{docsUrl:i,backupEnabled:a,diskBackupEnabled:s,initialBackupEnabled:S,diskBackupAllowed:l,hasEncryptionAtRestProvider:d,clusterType:n,setClusterFormValue:p,billingEstimate:f,isNVMe:h,canTurnOnPit:m,pitEnabled:g,gcpOplogEncryptionOn:x,azureOplogEncryptionOn:j,hasPITBeenToggledOff:b,isEdit:v,mongoDBVersion:y,isMongoDBVersionUpgrade:O,showContinuousToCPSTransitionNotice:this.showContinuousToCPSTransitionNotice(),diskBackupStartingCostText:this.getDiskBackupStartingCostText(t),onlyShowDiskBackup:E})))}}]),n}(l.a.Component);I()(Iu,"propTypes",{provider:k.a.oneOf(["AWS","AZURE","GCP","FREE"]).isRequired,clusterType:k.a.oneOf(Object.keys(me.i)).isRequired,name:k.a.string.isRequired,groupId:k.a.string.isRequired,docsUrl:k.a.string.isRequired,backupEnabled:k.a.bool.isRequired,diskBackupEnabled:k.a.bool.isRequired,diskBackupAllowed:k.a.bool.isRequired,tenantBackupEnabled:k.a.bool.isRequired,hasEncryptionAtRestProvider:k.a.bool.isRequired,isEdit:k.a.bool.isRequired,isTenant:k.a.bool.isRequired,isFree:k.a.bool.isRequired,setClusterFormValue:k.a.func.isRequired,billingEstimate:k.a.shape(me.b).isRequired,isNVMe:k.a.bool.isRequired,canTurnOnPit:k.a.bool.isRequired,pitEnabled:k.a.bool.isRequired,hasPITBeenToggledOff:k.a.bool.isRequired,mongoDBVersion:k.a.string.isRequired,isMongoDBVersionUpgrade:k.a.bool.isRequired,gcpOplogEncryptionOn:k.a.bool.isRequired,azureOplogEncryptionOn:k.a.bool.isRequired,onlyShowDiskBackup:k.a.bool.isRequired});var Du=Iu,ku=J.a.range(1,Xs.a.MAX_NUM_SHARDS+1).map((function(e){return{label:"".concat(e),value:e}}));function Mu(e){var t=e.docsUrl,n=e.clusterType,r=e.replicationSpec,o=e.isEdit,i=e.setClusterFormValue,a=e.updateReplicationSpecs,s=e.instanceSupportsSharding,l=e.minComputeInstanceSizeSupportsSharding,c=e.isOriginalClusterSharded,u=e.originalInstanceSize,d=e.minShardingInstanceSize,p=o&&oe.C(u),f="".concat(t,"/billing/cluster-configuration-costs/#number-of-servers"),h="".concat(t,"/billing/cluster-configuration-costs/#number-of-servers"),m=oe.B(n),g=Object(z.jsx)(Ps.a,{enabled:m,onToggle:function(e){i("clusterType",e?me.i.SHARDED:me.i.REPLICASET)},enabledText:"YES",disabledText:"NO",disabled:!s||o&&c||p||!l});return Object(z.jsx)("div",{className:"nds-cluster-form-setting nds-cluster-form-padding-top-less"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-wide"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},Object(z.jsx)(tu.a,{align:"top",justify:"start",trigger:Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-large underline-dotted"},"Shard"),triggerEvent:"hover",variant:"light",adjustOnMutation:!0,usePortal:!1,className:"tooltip-content-is-cluster-form"},"Sharding is a method for horizontally scaling across multiple replica sets by breaking up large datasets (e.g. partitioning) into smaller parts. Sharding is native to MongoDB."),Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-large"}," your cluster")," ",Object(z.jsx)("strong",null,"(",d," and up)")),Object(z.jsx)("div",{style:{paddingBottom:"3px"}},Object(z.jsx)("a",{href:f,target:"_blank",rel:"noopener noreferrer"},"Sharding")," ","supports high throughput and large datasets, and can be increased as data requirements grow. Sharded clusters cannot be converted to"," ",Object(z.jsx)("a",{href:h,target:"_blank",rel:"noopener noreferrer"},"replica sets"),".")),Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-selection"},function(){var e="Sharding is not available for clusters below ".concat(d," in size.");if(!s)return Object(z.jsx)(Tt.a,{content:Object(Js.e)(e)},g);if(p)return Object(z.jsx)(Tt.a,{content:Object(Js.e)("A shared-tier cluster cannot be upgraded directly to a sharded cluster. Upgrade to a dedicated replica set first to enable this option.")},g);if(o&&c)return Object(z.jsx)(Tt.a,{content:Object(Js.e)("Sharded clusters cannot be converted to replica sets.")},g);if(!l){var t="The minimum cluster size for Cluster Tier auto-scaling is below the minimum of ".concat(d," required for sharding.");return Object(z.jsx)(Tt.a,{content:Object(Js.e)(t)},g)}return g}(),m&&Object(z.jsx)("div",{className:"dropdown-select-content nds-cluster-form-setting-dropdown-select-content"},Object(z.jsx)(aa.a,{value:r.numShards,valueRenderer:function(e){return"".concat(e.label," Shards")},options:ku,onChange:function(e){var t=Object(Us.a)(r);t.numShards=e.value,a(t)},className:"dropdown-select"}),Object(z.jsx)("div",{className:"nds-cluster-form-setting-text-is-small"},"Looking for more than ",Xs.a.MAX_NUM_SHARDS," shards?"," ",Object(z.jsx)("a",{href:"https://cloud.mongodb.com/v2/#info/support",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"}},"Contact MongoDB")))))}Mu.propTypes={docsUrl:k.a.string.isRequired,clusterType:k.a.oneOf(Object.keys(me.i)).isRequired,replicationSpec:k.a.shape(me.x).isRequired,isEdit:k.a.bool.isRequired,setClusterFormValue:k.a.func.isRequired,updateReplicationSpecs:k.a.func.isRequired,instanceSupportsSharding:k.a.bool.isRequired,minComputeInstanceSizeSupportsSharding:k.a.bool.isRequired,isOriginalClusterSharded:k.a.bool.isRequired,originalInstanceSize:k.a.string.isRequired,minShardingInstanceSize:k.a.string.isRequired};var Lu=Mu,Uu=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=parseInt(e/100,10),r=n.toLocaleString(),o=Math.ceil(e%100),i=o<10?"0".concat(o.toString()):o;return t?"".concat(r):"".concat(r,".").concat(i||"00")};function Fu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fu(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zu(e){var t=e.docsUrl,n=e.biConnector,r=e.instanceSize,o=e.biConnectorCostEstimate,i=e.setClusterFormValue,a=e.isTenant,s=e.hasAnalyticsNodes,l=e.originalClusterBiConnector,c=e.isEdit,u=Object(z.jsx)(Ps.a,{enabled:n.enabled,onToggle:function(e){var t=Bu(Bu({},n),{},{readPreference:s?me.d.ANALYTICS:me.d.SECONDARY,enabled:e});i("biConnector",t)},enabledText:"YES",disabledText:"NO",disabled:a}),d="".concat(t,"/billing/cluster-configuration-costs/#bic"),p="".concat(t,"/create-new-cluster/#enable-bic"),f=Uu(o.biConnectorSustainedDailyCents),h=Uu(o.biConnectorMaxDailyCents),m=Uu(o.biConnectorMaxMonthlyCents),g=function(e){return[{label:"Primary Node",value:"primary",disabled:!1},{label:"Secondary Node(s)",value:"secondary",disabled:!1},{label:"Analytics Node(s)",value:"analytics",disabled:!e,disabledSubLabel:'(configure in the "Cloud Provider & Region" section above)'}]}(s),b=c&&l.readPreference!==n.readPreference;return Object(z.jsx)("div",{className:"nds-cluster-form-setting"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-wide"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-large"},"Enable Business Intelligence Connector")," ",Object(z.jsx)("strong",null,"(M10 and up)")),Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},"The"," ",Object(z.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer"},"BI Connector")," ","allows you to visualize your data on relational business intelligence tools (e.g. Tableau, MicroStrategy, Qlik)."),!a&&Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},Object(z.jsx)("div",{className:"nds-cluster-form-multi-line-elements"},Object(z.jsx)("div",{className:"nds-cluster-form-multi-line-elements-left-column"},Object(z.jsx)("strong",null,"BI Connector")),Object(z.jsx)("div",null,Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-large"},Object(z.jsx)("strong",null,"$",f)),"/day for sustained monthly usage")),Object(z.jsx)("div",{className:"nds-cluster-form-multi-line-elements"},Object(z.jsx)("div",{className:"nds-cluster-form-multi-line-elements-left-column"},Object(z.jsx)("strong",null,"pricing for ",r)),Object(z.jsx)("div",null,Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-small"},Object(z.jsx)("strong",null,"or $",h),"/day, up to $",m,"/month maximum"))))),Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-selection"},a?Object(z.jsx)(Tt.a,{content:Object(Js.e)("BI Connector is not available for clusters below M10 in size.")},u):u,n.enabled&&Object(z.jsx)("div",{className:"dropdown-select-content nds-cluster-form-setting-dropdown-select-content"},Object(z.jsx)(aa.a,{value:n.readPreference,options:g,optionRenderer:function(e){return Object(z.jsx)("div",null,Object(z.jsx)("div",null,e.label),e.disabled&&e.disabledSubLabel&&Object(z.jsx)("div",{className:ae()({"nds-cluster-form-select-option-disabled-sublabel":e.disabled})},e.disabledSubLabel))},onChange:function(e){var t=Bu(Bu({},n),{},{readPreference:e.value});i("biConnector",t)},className:"dropdown-select"}),b&&Object(z.jsx)(M.a,{level:"info",dismissible:!1},"Changing the connection type requires 7-10 minutes of BI Connector downtime. Your cluster will be unaffected."," ",Object(z.jsx)("a",{className:"link link-is-underlined",href:p,target:"_blank",rel:"noopener noreferrer"},"Learn about node connection differences")))))}zu.propTypes={docsUrl:k.a.string.isRequired,biConnector:k.a.shape(me.e).isRequired,instanceSize:k.a.string.isRequired,biConnectorCostEstimate:k.a.shape(me.c).isRequired,setClusterFormValue:k.a.func.isRequired,isTenant:k.a.bool.isRequired,hasAnalyticsNodes:k.a.bool.isRequired,originalClusterBiConnector:k.a.shape(me.e).isRequired,isEdit:k.a.bool.isRequired};var Vu=zu;function qu(e){var t=e.setClusterFormValue,n=e.processArgs;return Object(z.jsx)("div",{className:"nds-cluster-form-multi-setting"},Object(z.jsx)("div",{className:"nds-cluster-form-setting nds-cluster-form-setting-align-labels"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-title nds-cluster-form-setting-content-is-wide"},Object(z.jsx)("strong",null,"Schema Sample Size (Optional)"),Object(z.jsx)("p",null,"The number of documents, per database, sampled when gathering schema information."," ",Object(z.jsx)("a",{className:"nds-cluster-form-docs-link",href:"".concat("https://docs.mongodb.com/bi-connector/master/reference/mongosqld","/#cmdoption-mongosqld-samplesize"),target:"_blank",rel:"noopener noreferrer"},"View Documentation"))),Object(z.jsx)("div",{className:"nds-cluster-form-setting-content-is-narrow nds-cluster-form-setting-content-is-narrow-has-negative-margin-right"},Object(z.jsx)(Rt,{inputClassName:"nds-cluster-form-bi-connector-input",title:"Documents per database",inputType:"number",inputPlaceholder:"100",inputValue:0===n.sampleSizeBIConnector?"0":String(n.sampleSizeBIConnector||""),min:"0",onInputChange:function(e){return function(e){e=parseInt(e,10),e=isNaN(e)?null:e;var r=Object(Us.a)(n);r.sampleSizeBIConnector=e,t("processArgs",r)}(e)},isValid:n.sampleSizeBIConnector>=0,errorClassName:"nds-cluster-form-bi-connector-input-error",errorMsg:"Schema Sample Size cannot be negative."}))),Object(z.jsx)("div",{className:"nds-cluster-form-setting nds-cluster-form-setting-align-labels"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-title nds-cluster-form-setting-content-is-wide"},Object(z.jsx)("strong",null,"Sample Refresh Interval (Optional)"),Object(z.jsx)("p",null,"Frequency at which the BI Connector re-samples data to recreate the schema."," ",Object(z.jsx)("a",{className:"nds-cluster-form-docs-link",href:"".concat("https://docs.mongodb.com/bi-connector/master/reference/mongosqld","/#cmdoption-mongosqld-samplerefreshintervalsecs"),target:"_blank",rel:"noopener noreferrer"},"View Documentation"))),Object(z.jsx)("div",{className:"nds-cluster-form-setting-content-is-narrow nds-cluster-form-setting-content-is-narrow-has-negative-margin-right"},Object(z.jsx)(Rt,{inputClassName:"nds-cluster-form-bi-connector-input",title:"Seconds",inputType:"number",inputPlaceholder:"0",inputValue:0===n.sampleRefreshIntervalBIConnector?"0":String(n.sampleRefreshIntervalBIConnector||""),min:"0",onInputChange:function(e){return function(e){e=parseInt(e,10),e=isNaN(e)?null:e;var r=Object(Us.a)(n);r.sampleRefreshIntervalBIConnector=e,t("processArgs",r)}(e)},tooltipClassName:"nds-cluster-form-info-icon-small",tooltipWrapperClassName:"nds-cluster-form-info-icon-small-tooltip-wrapper",tooltipText:"When this field is set to 0, sampling will never be repeated",isValid:n.sampleRefreshIntervalBIConnector>=0,errorClassName:"nds-cluster-form-bi-connector-input-error",errorMsg:"Sample Refresh Interval cannot be negative."}))))}qu.propTypes={processArgs:k.a.shape(me.u).isRequired,setClusterFormValue:k.a.func.isRequired};var Gu=qu;function Hu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Wu=function(e){A()(n,e);var t=Hu(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{initialName:e.props.name}),I()(C()(e),"onChangeName",(function(t){(0,e.props.setClusterFormValue)("name",t.target.value)})),I()(C()(e),"onBlurNameField",(function(t){var n=t.target.value;n!==e.state.initialName&&e.setState({initialName:n})})),e}return E()(n,[{key:"render",value:function(){var e=this.props,t=e.isNameValid,n=e.isNameUnique,r=n?"Cluster names can only contain ASCII letters, numbers, and hyphens.":"This cluster name already exists in this project. Please choose another.";return Object(z.jsx)("div",{className:"nds-cluster-form-name"},Object(z.jsx)("div",{className:"nds-cluster-form-name-text"},Object(z.jsx)("strong",null,"One time only:")," once your cluster is created, you won't be able to change its name."),Object(z.jsx)("div",{className:"nds-cluster-form-name-input"},Object(z.jsx)("input",{type:"text",placeholder:"Enter cluster name",onChange:this.onChangeName,onBlur:this.onBlurNameField,value:this.props.name,className:ae()("nds-cluster-form-name-input-control",{"nds-cluster-form-name-input-control-error":!t||!n})}),Object(z.jsx)("div",{className:ae()("nds-cluster-form-name-input-subtext",{"nds-cluster-form-name-input-subtext-error":!t||!n})},r)))}}]),n}(l.a.Component);I()(Wu,"propTypes",{setClusterFormValue:k.a.func.isRequired,name:k.a.string.isRequired,isNameUnique:k.a.bool.isRequired,isNameValid:k.a.bool.isRequired});var Yu=Wu,Ku=n(989);function Zu(e){var t=e.selectedVersion,n=e.originalVersion,r=e.providerVersions,o=e.instanceSize,i=e.isEdit,a=e.isLDAPEnabled,l=e.setClusterFormValue,c=e.customRoleVersions,u=e.mongoDBMajorVersionsSubtext,d=e.replicationSpecs,p=e.visible,f=oe.C(o);function h(e){return c.has(Ku.d.THREE_SIX)&&e<Ku.d.THREE_SIX}function m(e){return h(e)?"(Incompatible with existing Custom Roles)":""}function g(){return r.filter((function(e){return i||!e.deprecated})).filter((function(e){if(!i)return e;var t=parseFloat(e.name),r=parseFloat(n);return f?t===r:t>=r})).filter((function(e){return!a||parseFloat(e.name)>=3.4})).sort((function(e,t){return parseFloat(e.name)-parseFloat(t.name)}))}var b=g(),v=Object.keys(b).length,y=i&&!f&&v>2,O=i&&parseFloat(t)>parseFloat(n),x=function(e){var t,n,r=(t=e,(n=g().map((function(e){return parseFloat(e.name)})).sort()).indexOf(parseFloat(t))==n.length-1?"master":"manual"),o="3.4"===e?"3.4-changelog":"".concat(e,"-compatibility");return{releaseNotesLink:"https://docs.mongodb.com/".concat(r,"/release-notes/").concat(e),compatibilityLink:"https://docs.mongodb.com/".concat(r,"/release-notes/").concat(o)}}(t),j=v<=1,E=Object.keys(b).map((function(e){return b[e].name})).indexOf(n),S=b.map((function(e,t){return{value:e.name,label:(n=e.name,r=u[n],r?"MongoDB ".concat(n," - ").concat(r):"MongoDB ".concat(n)),disabled:h(e.name)||i&&t-E>1,disabledSubLabel:m(e.name)};var n,r})),C=b.find((function(e){return e.name===t}));Object(s.useEffect)((function(){if(!C){var e=b.find((function(e){return e.default}));e&&l("mongoDBMajorVersion",e.name)}}),[b,C,l]);var _,A=Object(z.jsx)("div",{style:{marginBottom:"-10px"}},Object(z.jsx)(aa.a,{value:t,options:S,optionRenderer:function(e){return Object(z.jsx)("div",null,Object(z.jsx)("div",null,e.label),e.disabled&&e.disabledSubLabel&&Object(z.jsx)("div",{className:ae()({"nds-cluster-form-select-option-disabled-sublabel":e.disabled})},e.disabledSubLabel))},onChange:function(e){l("mongoDBMajorVersion",e.value)},disabled:j,className:"dropdown-select nds-cluster-form-setting-dropdown-select-content"}));return _=f?i?"The version cannot be changed for ".concat(o," instances."):"All ".concat(o," instances launch with this version in ").concat(Xs.a.getPreferredRegionDisplayText(d[0]),"."):"No version upgrades are currently available.",p?Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"nds-cluster-form-setting"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-wide"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-large"},"Select a Version")),Object(z.jsx)("div",null,"All clusters launch with the WiredTigerâ¢ storage engine."),Object(z.jsx)("div",null,y&&Object(z.jsx)("div",{className:"text-is-gray nds-cluster-form-setting-text-is-small"},Object(z.jsx)("em",null,"You can only update to the next highest version of MongoDB.")))),Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-narrow nds-cluster-form-setting-content-is-selection"},j?Object(z.jsx)(Tt.a,{content:Object(Js.e)(_)},A):A)),C&&C.deprecated&&Object(z.jsx)("div",{className:"nds-cluster-form-setting-content-with-alert"},Object(z.jsx)(M.a,{level:"warning"},Object(z.jsx)("strong",null,"Please Note:")," This version of MongoDB is deprecated in Atlas. This cluster will be automatically upgraded after January 31st, 2020.")),O&&Object(z.jsx)("div",{className:"nds-cluster-form-setting-content-with-alert"},Object(z.jsx)(M.a,{level:"warning"},Object(z.jsx)("p",null,Object(z.jsx)("strong",null,"After upgrading to ",t,", you ",Object(z.jsx)("u",null,"will not")," be able to downgrade to previous versions.")," ","Our"," ",Object(z.jsx)("a",{href:x.releaseNotesLink,rel:"noopener noreferrer",target:"_blank"},t," Release Notes")," ","and"," ",Object(z.jsx)("a",{href:x.compatibilityLink,rel:"noopener noreferrer",target:"_blank"},t," Compatibility Changes")," ","documents explain the changes in this new version. To ensure a smooth application transition, read through our"," ",Object(z.jsx)("a",{href:"https://docs.atlas.mongodb.com/tutorial/major-version-change/",rel:"noopener noreferrer",target:"_blank"},"Atlas Major Version Change Procedure")," ","which describes how to try this out on a staging cluster first."),"4.4"===t&&Object(z.jsx)("p",{style:{marginBottom:"0"}},Object(z.jsx)("strong",null,"Note:")," The advanced configuration option to ",Object(z.jsx)("em",null,"Enforce Index Key Limit")," has been removed in MongoDB 4.4. This option was deprecated in MongoDB 4.2 as it was no longer being imposed.")))):Object(z.jsx)("div",null)}Zu.propTypes={selectedVersion:k.a.string.isRequired,originalVersion:k.a.string.isRequired,providerVersions:k.a.arrayOf(k.a.shape(me.r)).isRequired,instanceSize:k.a.string.isRequired,isEdit:k.a.bool.isRequired,isLDAPEnabled:k.a.bool.isRequired,setClusterFormValue:k.a.func.isRequired,customRoleVersions:k.a.objectOf(k.a.string).isRequired,mongoDBMajorVersionsSubtext:k.a.objectOf(k.a.string).isRequired,replicationSpecs:k.a.arrayOf(k.a.shape(me.x)).isRequired,visible:k.a.bool},Zu.defaultProps={visible:!0};var $u=Zu,Xu=n(915),Ju=function(e,t){switch(e){case me.m.AWS:return t.awsKms;case me.m.AZURE:return t.azureKeyVault;case me.m.GCP:return t.googleCloudKms}return null},Qu=function(e){return"We have lost access to your ".concat(e," Encryption At Rest key for this project. ")+"This is due to expired credentials or an invalid key. Changes to the provider for this cluster cannot be made until access to the current encryption key is restored."},ed=function(e,t){var n=Ju(e,t);return n&&n.enabled&&!n.valid};function td(e){var t,n,r,o,i=function(t){var n=e.setClusterFormValue,r=e.defaultEncryptionAtRestProvider,o=e.originalEncryptionAtRestProvider,i=o!==me.m.NONE?o:r;n("encryptionAtRestProvider",t?i:me.m.NONE)},a=function(){var t=e.encryptionAtRest;return!Object.values(t).some((function(e){var t=e.enabled,n=e.valid;return t&&n}))},s=function(){var t=e.isHeadBackupEnabled,n=e.isTenant,r=e.isEdit,o=e.encryptionAtRestProvider,i=e.encryptionAtRest;return n||a()||t||r&&ed(o,i)},l=function(){return e.encryptionAtRestProvider!==me.m.NONE},c=function(){var t=e.isEdit,n=e.originalEncryptionAtRestProvider;return t&&n!==me.m.NONE||s()},u=e.docsUrl,d=e.encryptionAtRestProvider,p=l(),f="".concat(u,"/security-kms-encryption");return Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"nds-cluster-form-setting"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-wide"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},Object(z.jsx)("span",{className:"nds-cluster-form-setting-text-is-large"},"Manage your own encryption keys")," ",Object(z.jsx)("strong",null,"(M10 and up)")),Object(z.jsx)("div",{className:"nds-cluster-form-setting-title"},Object(z.jsx)("p",null,"By default, all MongoDB Atlas cluster storage and backups are encrypted at rest."," ",Object(z.jsx)("strong",null,"Enable this feature to configure an"," ",Object(z.jsx)("a",{href:f,target:"_blank",rel:"noopener noreferrer"},"additional layer of encryption")," ","using your configured AWS KMS, Azure Key Vault, or Google Cloud KMS.")),Object(z.jsx)("p",null,"This feature supports only Cloud backups."))),Object(z.jsx)("div",{className:"nds-cluster-form-setting-content nds-cluster-form-setting-content-is-selection"},Object(z.jsx)("div",{className:"nds-cluster-form-setting-content"},function(){var t=e.isHeadBackupEnabled,n=e.isTenant,r=e.encryptionAtRestProvider,o=e.encryptionAtRest,c=e.isEdit,u=Object(z.jsx)(Ps.a,{enabled:l(),onToggle:i,enabledText:"YES",disabledText:"NO",disabled:s()});if(n){return Object(z.jsx)(Tt.a,{content:Object(Js.e)("Encryption at Rest is not available for clusters below M10 in size.")},u)}if(t){return Object(z.jsx)(Tt.a,{content:Object(Js.e)("Encryption at Rest is not available for clusters using Legacy Backup.")},u)}if(c&&ed(r,o))return Object(z.jsx)(Tt.a,{content:Object(Js.e)(Qu(r))},u);if(a()){var d=function(e){var t=Ju(me.m.AWS,e);if(t.enabled&&!t.valid)return me.m.AWS;var n=Ju(me.m.AZURE,e);if(n.enabled&&!n.valid)return me.m.AZURE;var r=Ju(me.m.GCP,e);return r.enabled&&!r.valid?me.m.GCP:null}(o),p=d?Qu(d):"This feature is only available on projects connected to an AWS KMS, Azure Key Vault, or Google Cloud KMS account. Connect to your AWS KMS, Azure Key Vault, or Google Cloud KMS in the project's Enterprise Security tab.";return Object(z.jsx)(Tt.a,{content:Object(Js.e)(p)},u)}return u}()),p&&Object(z.jsx)(Tt.a,{content:Object(Js.e)("To choose a different Encryption at Rest provider, please disable and re-enable this feature. This\n                   will decrypt your data and allow you to encrypt it with a different Encryption at Rest provider."),hide:!c()},Object(z.jsx)(aa.a,{value:d,options:(t=e.encryptionAtRest,n=t.awsKms,r=t.azureKeyVault,o=t.googleCloudKms,[{value:me.m.AWS,label:"AWS KMS",disabled:!n.enabled||!n.valid},{value:me.m.AZURE,label:"Azure Key Vault",disabled:!r.enabled||!r.valid},{value:me.m.GCP,label:"Google Cloud KMS",disabled:!o.enabled||!o.valid}]),onChange:function(t){return n=t.value,void(0,e.setClusterFormValue)("encryptionAtRestProvider",n);var n},className:"dropdown-select nds-cluster-form-setting-dropdown-select-content",disabled:c()})))))}td.propTypes={docsUrl:k.a.string.isRequired,encryptionAtRestProvider:k.a.oneOf(Object.keys(me.m)).isRequired,setClusterFormValue:k.a.func.isRequired,isEdit:k.a.bool.isRequired,isTenant:k.a.bool.isRequired,encryptionAtRest:k.a.shape(Xu.j).isRequired,isHeadBackupEnabled:k.a.bool.isRequired,defaultEncryptionAtRestProvider:k.a.oneOf(Object.keys(me.m)).isRequired,originalEncryptionAtRestProvider:k.a.oneOf(Object.keys(me.m)).isRequired};var nd=td;function rd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var od=l.a.Component,id={name:"globalConfiguration",headlineText:"Global Cluster Configuration"},ad={name:"regionConfiguration"},sd={name:"cloudProvider",headlineText:"Cloud Provider & Region"},ld={name:"instanceTier",headlineText:"Cluster Tier"},cd={name:"additionalSettings",headlineText:"Additional Settings"},ud={name:"nameCluster",headlineText:"Cluster Name"},dd=function(e){A()(n,e);var t=rd(n);function n(){var e;x()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),I()(C()(e),"state",{openAccordions:I()({},id.name,"geoSharded3Zone"===e.props.clusterBuilderFilterInterface.providerTemplateKey),highlightAccordions:{},selectedReplicationSpecId:e.props.formValues.replicationSpecs[0].id}),I()(C()(e),"getBackupSubtext",(function(t){if(t){if(e.props.formValues.diskBackupEnabled)return"Cloud Backup";if(e.props.formValues.backupEnabled)return"Legacy Backup"}return""})),I()(C()(e),"getCrossRegionSubtext",(function(){var t=Xs.a.getReplicationSpecFromId(e.props.formValues.replicationSpecs,e.state.selectedReplicationSpecId),n=Xs.a.getTotalElectableNodes(t),r=Xs.a.getTotalReadOnlyNodes(t),o=Xs.a.getTotalAnalyticsNodes(t),i=Xs.a.hasMultipleRegions(t),a=0===o&&0===r&&n>1||0===o&&r>1||o>1,s="".concat(n," Electable"),l=r>0?", ".concat(r," Read-only"):"",c=o>0?", ".concat(o," Analytics"):"",u=i?" Cross-Region":"",d=" Node".concat(a?"s":"");return"".concat(s).concat(l).concat(c).concat(u).concat(d)})),I()(C()(e),"setAccordionOpened",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=e.state.openAccordions,i=e.state.highlightAccordions;i[t]=!0,o[t]=n,e.setState({openAccordions:o,highlightAccordions:i},r)})),I()(C()(e),"setSelectedReplicationSpecId",(function(t){t!==e.state.selectedReplicationSpecId&&e.setState({selectedReplicationSpecId:t})})),I()(C()(e),"toggleActive",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return function(){var r=e.state.openAccordions,o=e.props.settingsModel.getCurrentOrgId();r[t.name]?(t.headlineText&&W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Cluster Builder",action:"Accordion Closed",value:t.headlineText,pathfinder_filter:"".concat(t.headlineText," Accordion Closed")},{integrations:Object(W.c)(o)}),e.setAccordionOpened(t.name,!1,n)):(t.headlineText&&W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Cluster Builder",action:"Accordion Opened",value:t.headlineText,pathfinder_filter:"".concat(t.headlineText," Accordion Opened")},{integrations:Object(W.c)(o)}),e.setAccordionOpened(t.name,!0,n))}})),I()(C()(e),"updateReplicationSpecs",(function(t){var n=e.props,r=n.formValues;(0,n.setClusterFormValue)("replicationSpecs",Xs.a.updateReplicationSpecInList(r.replicationSpecs,t))})),I()(C()(e),"getPreferredRegionReplicationSpecs",(function(e){var t={};return e.forEach((function(e){var n=e.id;t[n]=Xs.a.getPreferredRegion(e).regionView.key})),t})),I()(C()(e),"hasPITHighPriorityRegionChanged",(function(){var t=e.props,n=t.originalCluster,r=t.formValues,i=e.getPreferredRegionReplicationSpecs(n.replicationSpecs),a=e.getPreferredRegionReplicationSpecs(r.replicationSpecs);if(!n.pitEnabled)return!1;if(i.size!=a.size)return!0;for(var s=0,l=Object.entries(i);s<l.length;s++){var c=o()(l[s],2),u=c[0],d=c[1];if(a[u]!==d)return!0}return!1})),I()(C()(e),"hasPITBeenToggledOff",(function(){var t=e.props,n=t.originalCluster,r=t.formValues;return n.pitEnabled&&!r.pitEnabled})),I()(C()(e),"isShardingSupported",(function(e,t){return!e&&t})),I()(C()(e),"renderGlobalConfigurationSection",(function(){var t=e.props,n=t.setClusterFormValue,r=t.formValues,o=t.defaultTemplates,i=t.providerOptions,a=t.isEdit,s=t.settingsModel,c=t.originalCluster,u=t.isPrivateIPModeEnabled,d=t.cloudContainers,p=t.clusterBuilderFilterInterface,f=e.state,h=f.openAccordions,m=f.highlightAccordions,g=f.selectedReplicationSpecId,b=r["@provider"],v=Xs.a.getReplicationSpecIndexFromId(r.replicationSpecs,g),y=r.replicationSpecs[v],O=Xs.a.getBackingCloudProvider(r.replicationSpecs),x=r.clusterType===me.i.GEOSHARDED?"Global Writes Enabled":"",j=Xs.a.getBackingCloudProvider(c.replicationSpecs),E=r.clusterType===me.i.GEOSHARDED,S=i[b].minShardingInstanceSize||i[O].minShardingInstanceSize,C=oe.x(i,b,r.instanceSize),_="M0"===r.instanceSize?"m0":"replicaSet",A=s.getCurrentOrgId(),N=s.hasProjectFeature("ATLAS_CROSS_CLOUD_REPLICATION");return Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(Ns.a,{ref:function(t){e[id.name]=t},headlineText:id.headlineText,secondaryText:x,secondarySubText:E?"".concat(me.w[O],", ").concat(r.replicationSpecs.length," Zone").concat(r.replicationSpecs.length>1?"s":""):"",highlightSecondaryText:m[id.name],errorSecondaryText:!Xs.a.isValid(r.replicationSpecs,r.clusterType),active:!!h[id.name],onHeadlineClick:e.toggleActive(id),animate:!0,colorCode:E?Js.b(v):me.y.BLACK.rgb,hasSummary:h[id.name]&&r.clusterType===me.i.GEOSHARDED},Object(z.jsx)(il,{setClusterFormValue:n,defaultTemplates:o,isEdit:a,clusterType:r.clusterType,originalClusterType:c.clusterType,originalInstanceSize:c.instanceSize,currentInstanceSize:r.instanceSize,provider:O,originalProvider:j,groupId:s.getCurrentGroupId(),docsUrl:s.getDocsUrl(),replicationSpecs:r.replicationSpecs,geoSharding:r.geoSharding,onShardingEnabled:function(){return e.setAccordionOpened(ad.name,!0)},isPrivateIPModeEnabled:u,minShardingInstanceSize:S,isNVMe:C,cloudContainers:d,showOverlayTemplates:"geoSharded3Zone"!==p.providerTemplateKey,orgId:A,providerOptions:i})),E&&Object(z.jsx)(Hl,{providerOptions:i,provider:O,replicationSpec:y,replicationSpecs:r.replicationSpecs,originalReplicationSpecs:c.replicationSpecs,defaultOneZoneReplicationSpec:o[O][_].replicationSpecs[0],highlightSecondaryText:!!m.regionConfiguration,onAccordionHeadlineClick:e.toggleActive(ad),providerRegions:i[O].regions,isAccordionActive:!!h[ad.name],setClusterFormValue:n,updateReplicationSpecs:e.updateReplicationSpecs,setSelectedReplicationSpecId:e.setSelectedReplicationSpecId,isEdit:a,clusterType:r.clusterType,isPrivateIPModeEnabled:u,crossCloudEnabled:N}))})),e}return E()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.isEdit,r=t.formValues.clusterType===me.i.GEOSHARDED;n&&r?this.setAccordionOpened(id.name,!0):n||setTimeout((function(){e.setAccordionOpened(sd.name,!0)}),0)}},{key:"componentDidUpdate",value:function(e){!e.error&&this.props.error&&window.scrollTo(0,0)}},{key:"getTierSubtext",value:function(){var e=this.props,t=e.providerOptions,n=e.formValues,r=oe.C(n.instanceSize),o=oe.B(n.clusterType)?" per Shard":"",i=oe.j(n.instanceSize),a="".concat(oe.f(n.diskSizeGB)," Storage").concat(o),s=r?"Shared RAM":"".concat(t[n["@provider"]].instanceSizes[n.instanceSize].ram," GB RAM");return"".concat(i," (").concat(s,", ").concat(a,")")}},{key:"getTierSecondarySubtext",value:function(e,t){var n,r=this.props,o=r.formValues,i=r.providerOptions,a=o["@provider"],s=i[a].instanceSizes[o.instanceSize],l="AWS"!==a||o.encryptEBSVolume?"Encrypted":"Unencrypted",c=o.autoScaling.diskGB&&o.autoScaling.diskGB.enabled?", Auto-expand Storage":"",u=oe.C(o.instanceSize),d=oe.B(o.clusterType)?" per Shard":"";n=t?s.maxSSDReadIOPS+s.maxSSDWriteIOPS:o.diskIOPS;var p=u||0===n?"":"".concat(n.toLocaleString()," IOPS").concat(d,", "),f="AZURE"===a?"".concat(oe.d(i.AZURE,o.diskSizeGB,i.AZURE.instanceSizes[o.instanceSize],e)," MB/s Throughput, "):"",h="";return t?h="Local NVMe SSD, ":s.isLowCPU&&(h="Low-CPU, "),"".concat(p).concat(f).concat(h).concat(l).concat(c)}},{key:"getAdditionalSettingsSecondaryText",value:function(){var e=this.props.formValues,t=e.backupEnabled||e.diskBackupEnabled||!!e.tenantBackupEnabled?"Backup":"No Backup",n="SHARDED"===e.clusterType?", ".concat(Xs.a.getTotalShards(e.replicationSpecs)," Shards"):"",r=e.biConnector.enabled?", BI Connector":"",o=e.encryptionAtRestProvider!==me.m.NONE?", Encryption at Rest":"";return"MongoDB ".concat("4.3"===e.mongoDBMajorVersion?"4.4":e.mongoDBMajorVersion,", ").concat(t).concat(n).concat(r).concat(o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.setClusterFormValue,r=t.formValues,o=t.defaultTemplates,i=t.providerOptions,a=t.error,s=t.isEdit,c=t.processArgs,u=t.originalProcessArgs,d=t.settingsModel,p=t.hasFreeCluster,f=t.originalCluster,h=t.isTenantUpgrade,m=t.isLDAPEnabled,g=t.billingEstimate,b=t.biConnectorCostEstimate,v=t.encryptionAtRest,y=t.isPrivateIPModeEnabled,O=t.clusterUsageStats,x=t.instanceClass,j=t.cloudContainers,E=t.customRoles,S=t.clusterBuilderFilterInterface,C=t.isNameUnique,_=t.isNameValid,A=this.state,N=A.openAccordions,T=A.highlightAccordions,w=A.selectedReplicationSpecId,P=r["@provider"],R=i[P].instanceSizes[r.instanceSize],I=Xs.a.getReplicationSpecIndexFromId(r.replicationSpecs,w),D=f.mongoDBMajorVersion,k="4.3"===r.mongoDBMajorVersion?"4.4":r.mongoDBMajorVersion,M=r.replicationSpecs[I],L=d.getDocsUrl(),U=oe.u(P,d),F=oe.C(r.instanceSize),B=oe.v(r.instanceSize),V=Xs.a.isCrossRegionEnabled(M),q=r.encryptionAtRestProvider!==me.m.NONE,G=Xs.a.hasMultipleRegions(M),H=Xs.a.getPreferredRegion(M),W=Xs.a.getBackingCloudProvider(r.replicationSpecs),Y=i[P].instanceSizes,K=this.isShardingSupported(F,Y[r.instanceSize].supportsSharding),Z=r.autoScaling.compute,$=!Z.scaleDownEnabled||Y[Z.minInstanceSize]&&Y[Z.minInstanceSize].supportsSharding,X=Xs.a.getBackingCloudProvider(f.replicationSpecs),J=f["@provider"],Q=r.clusterType===me.i.GEOSHARDED,ee=f.clusterType===me.i.SHARDED,te=i[J].instanceSizes[f.instanceSize],ne=f.encryptionAtRestProvider,re=i[P].minShardingInstanceSize||i[W].minShardingInstanceSize,ie=oe.x(i,P,r.instanceSize),ae=s&&f.diskSizeGB>te.maxAllowedStorageGB,se=d.hasProjectFeature("CPS_4_2_PIT")||"4.2"!==k,le="AWS"===P||("GCP"===P||"AZURE"===P)&&d.hasProjectFeature("CPS_GCP_AND_AZURE_NEW_CLUSTERS_ONLY_CPS"),ce=d.hasProjectFeature("ATLAS_CROSS_CLOUD_REPLICATION"),ue=oe.s(r.replicationSpecs)>0,de="M0"===r.instanceSize?"m0":"replicaSet",pe=new Set(E.map((function(e){return e.minimumMongoVersion}))),fe=d.getCurrentOrgId(),he=Object(z.jsx)("div",null,Object(z.jsx)(tu.a,{align:"top",justify:"start",trigger:Object(z.jsx)("span",{className:"accordion-headline-text underline-dotted"},"Cluster"),triggerEvent:"hover",variant:"light",adjustOnMutation:!0,usePortal:!1,className:"tooltip-content-is-cluster-form"},"An Atlas-managed MongoDB deployment. Clusters can be either a replica set or a sharded cluster.")," ",Object(z.jsx)("span",{className:"accordion-headline-text"}," Tier")),ge=Js.d(i,P,r.instanceSize,r.replicationSpecs);return Object(z.jsx)("div",{className:"nds-cluster-form"},Object(z.jsx)(ws,{sources:["/static/images/threezones.png","/static/images/sixzones.png"]}),!s&&a&&Object(z.jsx)("div",null,Object(z.jsx)(Fi,{error:a}),Object(z.jsx)("br",null)),!d.isNdsGovEnabled()&&S.isGlobalConfigurationVisible&&this.renderGlobalConfigurationSection(),!Q&&Object(z.jsx)(Ns.a,{ref:function(t){e[sd.name]=t},headlineText:sd.headlineText,secondaryText:G?"".concat(me.w[W]):"".concat(me.w[W],",\n                            ").concat(H.regionView.location," (").concat(H.regionView.name,")"),secondarySubText:V?this.getCrossRegionSubtext():"",onHeadlineClick:this.toggleActive(sd),active:!!N[sd.name],highlightSecondaryText:T[sd.name],errorSecondaryText:!Xs.a.isValid(r.replicationSpecs,r.clusterType),animate:!0},Object(z.jsx)($s,{setClusterFormValue:n,originalProvider:X,isTenantUpgrade:h,isEdit:s,provider:W,isPrivateIPModeEnabled:y,instanceSize:r.instanceSize,cloudContainers:j,orgId:fe,isNdsGovEnabled:d.isNdsGovEnabled()}),Object(z.jsx)(Tu,{providerOptions:i,updateReplicationSpecs:this.updateReplicationSpecs,provider:W,providerRegions:i[W].regions.filter((function(e){return S.isRegionVisible(e,i,W)})),replicationSpecs:r.replicationSpecs,replicationSpec:M,docsUrl:L,isTenant:F,isEdit:s,cloudContainers:j,isPrivateIPModeEnabled:y,isMultiRegionConfigurationVisible:S.isMultiRegionConfigurationVisible,clusterType:r.clusterType,displayFreeTierInfo:"replicaSet"===S.providerTemplateKey,hasPITHighestPriorityRegionChanged:this.hasPITHighPriorityRegionChanged(),isNDSGovEnabled:d.isNdsGovEnabled(),crossCloudEnabled:ce})),Q&&Object(z.jsx)("div",{className:"nds-cluster-form-divider"},Object(z.jsx)("span",{className:"nds-cluster-form-divider-text"},"Options Below Apply to All Zones"),Object(z.jsx)("hr",{className:"nds-cluster-form-divider-line"})),Object(z.jsx)(Ns.a,{ref:function(t){e[ld.name]=t},"data-testid":"cluster-tier",headline:he,secondaryText:this.getTierSubtext(),secondarySubText:this.getTierSecondarySubtext(ae,ie),onHeadlineClick:this.toggleActive(ld),active:!!N[ld.name],highlightSecondaryText:T[ld.name],animate:!0,inheritOverflow:!0},Object(z.jsx)(ru,{providerOptions:i,provider:W,clusterType:r.clusterType,instanceSize:r.instanceSize,replicationSpecs:r.replicationSpecs,setClusterFormValue:n,originalInstanceSize:f.instanceSize,isEdit:s,hasFreeCluster:p,isTenantUpgrade:h,isCrossRegionEnabled:V,isPrivateIPModeEnabled:y,autoScaling:r.autoScaling,diskSizeGB:r.diskSizeGB,diskIOPS:r.diskIOPS,originalProvider:J,useInstanceSizeMaxStorage:ae,diskSizes:i[r["@provider"]].diskSizes,originalEncryptEBSVolume:f.encryptEBSVolume,encryptEBSVolume:r.encryptEBSVolume,originalEBSVolumeType:f.ebsVolumeType,ebsVolumeType:r.ebsVolumeType,diskBackupAllowed:U,instanceClass:x,cloudContainers:j,backupEnabled:r.backupEnabled,isInstanceSizeVisible:S.isInstanceSizeVisible,canTurnOnPit:se,orgId:fe,isNDSGovEnabled:d.isNdsGovEnabled(),selectedVersion:k})),Object(z.jsx)(Ns.a,{ref:function(t){e[cd.name]=t},headlineText:cd.headlineText,secondaryText:this.getAdditionalSettingsSecondaryText(),secondarySubText:this.getBackupSubtext(U),onHeadlineClick:this.toggleActive(cd),active:!!N[cd.name],highlightSecondaryText:T[cd.name],animate:!0,hasSummary:!0},Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)($u,{selectedVersion:k,originalVersion:f.mongoDBMajorVersion,providerVersions:ge,instanceSize:r.instanceSize,isEdit:s,isLDAPEnabled:m,setClusterFormValue:n,customRoleVersions:pe,mongoDBMajorVersionsSubtext:i[P].mongoDBMajorVersionsSubtext||{},replicationSpecs:r.replicationSpecs,visible:S.isVersionSelectionVisible(ge)}),Object(z.jsx)("hr",{className:"nds-cluster-form-hr-thin"})),Object(z.jsx)(Du,{provider:P,clusterType:r.clusterType,name:r.name,groupId:d.getCurrentGroupId(),docsUrl:L,backupEnabled:r.backupEnabled,diskBackupEnabled:r.diskBackupEnabled,diskBackupAllowed:U,tenantBackupEnabled:!!r.tenantBackupEnabled,isEdit:s,isTenant:F,isFree:B,hasEncryptionAtRestProvider:q,setClusterFormValue:n,billingEstimate:g,isNVMe:ie,canTurnOnPit:se,pitEnabled:r.pitEnabled,hasPITBeenToggledOff:this.hasPITBeenToggledOff(),mongoDBVersion:k,isMongoDBVersionUpgrade:s&&D!==k,gcpOplogEncryptionOn:d.hasProjectFeature("CPS_GCP_OPLOG_ENCRYPTION"),azureOplogEncryptionOn:d.hasProjectFeature("CPS_AZURE_OPLOG_ENCRYPTION"),onlyShowDiskBackup:le}),(S.advancedOptions.shardingVisible||S.advancedOptions.otherOptionsVisible)&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("hr",{className:"nds-cluster-form-hr-thick"}),Object(z.jsx)("div",{className:"nds-cluster-form-setting nds-cluster-form-padding-top nds-cluster-form-subsection-header"},"Advanced Settings"),!Q&&S.advancedOptions.shardingVisible&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(Lu,{docsUrl:L,clusterType:r.clusterType,replicationSpec:M,isEdit:s,hasEncryptionAtRestProvider:q,setClusterFormValue:n,updateReplicationSpecs:this.updateReplicationSpecs,instanceSupportsSharding:K,minComputeInstanceSizeSupportsSharding:$,isOriginalClusterSharded:ee,originalInstanceSize:f.instanceSize,minShardingInstanceSize:re}),Object(z.jsx)("hr",{className:"nds-cluster-form-hr-thin"})),S.advancedOptions.otherOptionsVisible&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(Vu,{docsUrl:L,biConnector:r.biConnector,instanceSize:R.highCPUEquivalent||R.name,biConnectorCostEstimate:b,isTenant:F,setClusterFormValue:n,hasAnalyticsNodes:ue,originalClusterBiConnector:f.biConnector,isEdit:s}),r.biConnector.enabled&&Object(z.jsx)(Gu,{isEdit:s,setClusterFormValue:n,processArgs:c}),Object(z.jsx)("hr",{className:"nds-cluster-form-hr-thin"}),Object(z.jsx)(nd,{docsUrl:L,encryptionAtRestProvider:r.encryptionAtRestProvider,setClusterFormValue:n,isEdit:s,isTenant:F,encryptionAtRest:v,isHeadBackupEnabled:r.backupEnabled,defaultEncryptionAtRestProvider:o[W][de].encryptionAtRestProvider,originalEncryptionAtRestProvider:ne}),!F&&Object(z.jsx)(qs,{processArgs:c,originalProcessArgs:u,diskSizeGB:r.diskSizeGB,setClusterFormValue:n,mongoDBVersion:k,clusterUsageStats:O,isNVMe:ie})))),!s&&Object(z.jsx)(Ns.a,{ref:function(t){e[ud.name]=t},headlineText:ud.headlineText,secondaryText:"".concat(r.name||"Please Enter a Name"),onHeadlineClick:this.toggleActive(ud),active:!!N[ud.name],highlightSecondaryText:T[ud.name],errorSecondaryText:!_||!C,animate:!0},Object(z.jsx)(Yu,{setClusterFormValue:n,name:r.name,isNameValid:_,isNameUnique:C})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.formValues;return-1===Xs.a.getReplicationSpecIndexFromId(n.replicationSpecs,t.selectedReplicationSpecId)?{selectedReplicationSpecId:n.replicationSpecs[0].id}:null}}]),n}(od);I()(dd,"propTypes",{setClusterFormValue:k.a.func.isRequired,formValues:k.a.shape(me.h).isRequired,defaultTemplates:k.a.shape({AWS:k.a.shape(me.k),AZURE:k.a.shape(me.k),GCP:k.a.shape(me.k),FREE:k.a.shape(me.k)}).isRequired,providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,error:k.a.shape({message:k.a.string,errorCode:k.a.string}),instanceClass:k.a.string.isRequired,processArgs:k.a.shape(me.u).isRequired,originalProcessArgs:k.a.shape(me.u).isRequired,isEdit:k.a.bool.isRequired,hasFreeCluster:k.a.bool.isRequired,isTenantUpgrade:k.a.bool.isRequired,encryptionAtRest:k.a.shape(Xu.j).isRequired,isLDAPEnabled:k.a.bool.isRequired,isPrivateIPModeEnabled:k.a.bool.isRequired,originalCluster:k.a.shape(me.g).isRequired,settingsModel:k.a.instanceOf(re.a).isRequired,billingEstimate:k.a.shape(me.b).isRequired,biConnectorCostEstimate:k.a.shape(me.c).isRequired,clusterUsageStats:k.a.shape(me.j).isRequired,cloudContainers:k.a.arrayOf(k.a.oneOfType([k.a.shape(Ks.g),k.a.shape(Ks.c),k.a.shape(Ks.a),k.a.shape(Ks.f)])).isRequired,customRoles:k.a.arrayOf(k.a.shape(Ku.c)).isRequired,clusterBuilderFilterInterface:k.a.shape(me.f).isRequired,isNameValid:k.a.bool.isRequired,isNameUnique:k.a.bool.isRequired});var pd=dd,fd={clusterFormBackground:"#fff",clusterFormBorder:"#d7dbdb",clusterFormBorderTop:"#303434",reviewChangesTableHeaderRightBorder:"#d7dbdb",reviewChangesTableHeaderBottomBorder:"#e8e9e9",reviewChangesTableRowBorder:"#d7dbdb",reviewChangesNewCellBackground:"#fafbfa",newPricingBackground:"#E4F4E3",warningColor:"#86681d"},hd=n(174),md=n.n(hd);var gd=Ro()("tr",{target:"epiire90"})("border-top:1px solid ",fd.reviewChangesTableRowBorder,";"),bd=Ro()("td",{target:"epiire91"})("width:40%;border-right:1px solid ",fd.reviewChangesTableRowBorder,";line-height:1.43;vertical-align:top;"),vd={name:"10zti94",styles:"width:20%;font-size:16px;vertical-align:top;"},yd=Object(z.css)("background-color:",fd.reviewChangesNewCellBackground,";font-weight:bold;border-right:none;"),Od=Ro()("div",{target:"epiire92"})({name:"imn8cy",styles:"max-height:360px;overflow-y:scroll;padding:10px 20px;::-webkit-scrollbar{-webkit-appearance:none;width:7px;}::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,0.5);-webkit-box-shadow:0 0 1px rgba(255,255,255,0.5);}"});var xd=function(e){var t=e.feature,n=e.originalConfig,r=e.newConfig,o=e.originalConfigStyle,i=void 0===o?{}:o,a=e.newConfigStyle,s=void 0===a?{}:a;return Object(z.jsx)(gd,null,Object(z.jsx)(bd,{css:vd},Object(z.jsx)(Od,null,t)),Object(z.jsx)(bd,{css:i},Object(z.jsx)(Od,null,n)),Object(z.jsx)(bd,{css:md()([yd,s],"")},Object(z.jsx)(Od,null,r)))};var jd=Ro()("div",{target:"e1bbrbwf0"})({name:"10dq3gn",styles:"&:not(:last-child){margin-bottom:12px;}"}),Ed=Ro()("div",{target:"e1bbrbwf1"})({name:"1qhmto6",styles:"margin-left:12px;"}),Sd=Ro()("span",{target:"e1bbrbwf2"})({name:"wcxwu4",styles:"font-weight:normal;font-style:italic;"}),Cd={name:"1l7mgse",styles:"font-weight:normal;"},_d=Object(z.css)("color:",fd.warningColor,";");var Ad=function(e){var t=e.originalCluster,n=e.newCluster,r=e.providerOptions,o=e.instanceSizeChanged,i=e.warnClusterTier,a=e.storageChanged,s=e.autoScaleComputeChanged,c=e.autoScaleComputeMaxSizeChanged,u=e.autoScaleComputeMinSizeChanged,d=e.autoScaleDiskGBChanged,p=e.iopsChanged,f=function(e){var f,h=e?t:n,m=function(e){var t=Xs.a.getBackingCloudProvider(e.replicationSpecs);return"AZURE"===t?"Azure":t}(h),g=r[h["@provider"]].instanceSizes[h.instanceSize],b=(f=g).isLowCPU?"Low-CPU":f.isNVMe?"NVMe":"General",v="FREE"===h["@provider"],y=o,O=a,x=!v&&"General"===b&&(s||c||u),j=!v&&"NVMe"!==b&&d,E=!v&&p&&!!h.diskIOPS;return Object(z.jsx)(l.a.Fragment,null,y&&Object(z.jsx)(jd,null,Object(z.jsx)("span",{css:!e&&i&&_d},m," ","M"+h.instanceSize.substr(1).split("_")[0]),Object(z.jsx)("br",null),Object(z.jsx)(Sd,null,b," class, ",function(e){return 0===e.ram?"Shared":"".concat(e.ram," GB")}(g)," RAM, ",function(e){return 0===e.vCPU?"Shared vCPU":"".concat(e.vCPU," vCPUs per node")}(g),","," ",g.maxConns," connections max")),O&&Object(z.jsx)(jd,null,function(e){return e.diskSizeGB<1?"".concat(1024*e.diskSizeGB," MB"):"".concat(e.diskSizeGB," GB")}(h)," storage"),x&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(jd,null,Object(z.jsx)("span",{css:!s&&Cd},"Auto-scale cluster tier ",h.autoScaling.compute.enabled?"enabled":"disabled"),Object(z.jsx)("br",null),Object(z.jsx)(Ed,{css:!c&&Cd},"Max instance size: ",h.autoScaling.compute.maxInstanceSize),h.autoScaling.compute.minInstanceSize&&Object(z.jsx)(Ed,{css:!u&&Cd},"Min instance size: ",h.autoScaling.compute.minInstanceSize))),j&&Object(z.jsx)(jd,null,"Auto-expand storage ",h.autoScaling.diskGB.enabled?"enabled":"disabled"),E&&Object(z.jsx)(jd,null,h.diskIOPS," IOPS","AWS"===m&&Object(z.jsx)(l.a.Fragment,null,", ",h.isNVMe||"io1"!==h.ebsVolumeType?"Non-provisioned":"Provisioned")))};return Object(z.jsx)(xd,{feature:"Cluster Tier",originalConfig:f(!0),newConfig:f(!1)})};var Nd=Ro()("div",{target:"e1mjxvyp0"})({name:"10dq3gn",styles:"&:not(:last-child){margin-bottom:12px;}"});var Td=function(e){var t=e.originalProcessArgs,n=e.newProcessArgs,r=e.oplogSizeChanged,o=e.minTLSVersionChanged,i=e.indexKeyLimitChanged,a=e.noTableScanChanged,s=e.javascriptChanged,c=function(e){var c,u,d=e?t:n,p=d.oplogSizeMB?"".concat(d.oplogSizeMB," MB"):"Default";switch(d.minimumEnabledTlsProtocol){case"TLS1_0":c="1.0";break;case"TLS1_1":c="1.1";break;case"TLS1_2":c="1.2"}switch(d.failIndexKeyTooLong){case!0:u="true";break;case!1:u="false";break;default:u="Removed"}return Object(z.jsx)(l.a.Fragment,null,r&&Object(z.jsx)(Nd,null,"Oplog Size: ",p),o&&Object(z.jsx)(Nd,null,"Minimum TLS Protocol Version: ",c),i&&Object(z.jsx)(Nd,null,"Enforce Index Key Limit: ",u),a&&Object(z.jsx)(Nd,null,"Require Indexes for All Queries: ",d.noTableScan?"true":"false"),s&&Object(z.jsx)(Nd,null,"Server-side JavaScript: ",d.javascriptEnabled?"Enabled":"Disabled"))};return Object(z.jsx)(xd,{feature:"Advanced Configuration Options",originalConfig:c(!0),newConfig:c(!1)})};var wd=Ro()("div",{target:"ezwviyf0"})({name:"10dq3gn",styles:"&:not(:last-child){margin-bottom:12px;}"}),Pd={name:"1l7mgse",styles:"font-weight:normal;"},Rd={name:"1y6e8q",styles:"margin-left:30px;"},Id={name:"uewl2b",styles:"margin-bottom:20px;"},Dd=Object(z.css)("color:",fd.warningColor,";"),kd=function(e){var t;switch(e.clusterType){case me.i.REPLICASET:t="Replica Set";break;case me.i.SHARDED:t="Sharded Cluster";break;case me.i.GEOSHARDED:t="Global Cluster"}if(e.clusterType==me.i.SHARDED){var n=e.replicationSpecs[0].numShards;t="".concat(t," (").concat(n," ").concat(n>1?"shards":"shard",")")}if(e.clusterType==me.i.GEOSHARDED){var r=e.replicationSpecs.length;t="".concat(t," (").concat(r," ").concat(r>1?"zones":"zone",")")}return t},Md=function(e){return e.backupEnabled&&!e.diskBackupEnabled?"Legacy Backup enabled":!e.backupEnabled&&e.diskBackupEnabled?"Cloud Backup enabled":"M2"===e.instanceSize||"M5"===e.instanceSize?"Shared Tier Backup enabled":"Disabled"},Ld=function(e){return"MongoDB "+e.mongoDBMajorVersion},Ud=function(e,t,n){if(!e.biConnector.enabled)return"Disabled";var r;switch(e.biConnector.readPreference){case"secondary":r="Secondary Node(s)";break;case"primary":r="Primary Node";break;case"analytics":r="Analytics Node(s)"}var o=t.sampleSizeBIConnector,i=t.sampleRefreshIntervalBIConnector;return Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(wd,{css:!n.enabled&&Pd},"Enabled"),Object(z.jsx)(wd,{css:!n.readPreference&&Pd},"Read Preference: ",r),null!==o&&Object(z.jsx)(wd,{css:!n.sampleSize&&Pd},"Sample Size: ",o),null!==i&&Object(z.jsx)(wd,{css:!n.sampleInterval&&Pd},"Sample Interval: ",i))},Fd=function(e){return"NONE"===e.encryptionAtRestProvider||"AZURE"===e.encryptionAtRestProvider?e.encryptionAtRestProvider[0]+e.encryptionAtRestProvider.substr(1).toLowerCase():e.encryptionAtRestProvider},Bd=function(e){return"0.00"===e.hourlyEstimateDollars?"Free":Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("span",null,"$",e.hourlyEstimateDollars),"/hour")},zd=function(e,t,n,r,o){var i=e.numShards,a=e.regionsConfig,s=e.zoneName,l=function(e){return Object.keys(e).sort((function(t,n){return e[n].priority-e[t].priority}))}(a),c=l.map((function(e){var t,o,i,s,l,c,u,d,p,f,h,m,g,b,v=n&&n.regionsConfig[e];return t=a[e],o=v,i=r===e,s=t.electableNodes,l=t.readOnlyNodes,c=t.analyticsNodes,u=t.priority,d=t.regionView.name,p=o&&o.electableNodes===s&&o.priority===u,f=o&&o.readOnlyNodes===l,h=o&&o.analyticsNodes===c,m=!o||o.electableNodes<s,g=!o||o.readOnlyNodes<l,b=!o||o.analyticsNodes<c,Object(z.jsx)("div",{key:d},s>0&&Object(z.jsx)("div",{css:md()([p&&Pd,i&&m&&Dd],"")},s," Electable Node",s>1&&"s"," (",d,")"),l>0&&Object(z.jsx)("div",{css:md()([f&&Pd,i&&g&&Dd],"")},l," Read-Only Node",l>1&&"s"," (",d,")"),c>0&&Object(z.jsx)("div",{css:md()([h&&Pd,i&&b&&Dd],"")},c," Analytics Node",c>1&&"s"," (",d,")"))})),u=l.every((function(e){return n&&n.regionsConfig[e]&&(t=a[e],r=n.regionsConfig[e],t.electableNodes===r.electableNodes&&t.readOnlyNodes===r.readOnlyNodes&&t.analyticsNodes===r.analyticsNodes);var t,r})),d=n&&s===n.zoneName,p=n&&i===n.numShards,f=i>1||t,h=n&&Xs.a.areSpecsEqual([e],[n]),m=!h&&u&&d&&p;return Object(z.jsx)("div",{css:t&&Id,key:e.zoneName},t&&Object(z.jsx)("div",{css:h&&Pd},"Zone: ",s," ",Object(z.jsx)("span",{css:o&&Dd},"(",i," shard",i>1&&"s",")")),m&&Object(z.jsx)("div",null,"Region Priority Order:"),i>1&&Object(z.jsx)("div",{css:Pd},i," shards, each with:"),Object(z.jsx)("div",{css:f&&Rd},c))},Vd=function(e,t,n,r){var o=e.replicationSpecs,i=t&&t.replicationSpecs,a=o.length>1;return e.replicationSpecs.map((function(e,t){var o=i&&i[t],s=n&&n.zone===t&&n.region;return zd(e,a,o,s,r===t)}))};var qd=Ro()("table",{target:"e1x2vtvy0"})({name:"6ksmbd",styles:"width:100%;font-size:14px;"}),Gd=Ro()("th",{target:"e1x2vtvy1"})("width:39%;border-top:none;padding:10px 20px;border-right:1px solid ",fd.reviewChangesTableHeaderRightBorder,";border-bottom:2px solid ",fd.reviewChangesTableHeaderBottomBorder,";line-height:16px;&:after{display:none !important;}"),Hd={name:"n6tkbd",styles:"width:22%;"},Wd={name:"1udt4zg",styles:"border-right:none;"},Yd={name:"sa2fmr",styles:"font-size:18px;line-height:1.5;"},Kd=Object(z.css)("font-size:18px;font-weight:normal;line-height:1.5;background-color:",fd.newPricingBackground,";span{font-weight:bold;}"),Zd=Object(z.css)("color:",fd.warningColor,";");var $d,Xd,Jd=function(e){var t=e.originalCluster,n=e.newCluster,r=e.originalProcessArgs,o=e.newProcessArgs,i=e.providerOptions,a=e.originalBillingEstimate,s=e.newBillingEstimate,l=e.initialSyncWarningReason,c=e.instanceAddedToNonPrimaryRegion,u=e.rollbackWarningReason,d=e.zoneWithShardsReduced,p=t.instanceSize!==n.instanceSize,f=t.diskSizeGB!==n.diskSizeGB,h=t.autoScaling.compute.enabled!==n.autoScaling.compute.enabled,m=t.autoScaling.compute.maxInstanceSize!==n.autoScaling.compute.maxInstanceSize,g=t.autoScaling.compute.minInstanceSize!==n.autoScaling.compute.minInstanceSize,b=t.autoScaling.diskGB.enabled!==n.autoScaling.diskGB.enabled,v=t.diskIOPS!==n.diskIOPS||t.ebsVolumeType!==n.ebsVolumeType,y={enabled:t.biConnector.enabled!==n.biConnector.enabled,readPreference:t.biConnector.readPreference!==n.biConnector.readPreference,sampleSize:r.sampleSizeBIConnector!==o.sampleSizeBIConnector,sampleInterval:r.sampleRefreshIntervalBIConnector!==o.sampleRefreshIntervalBIConnector},O=p||f||h||m||g||b||v,x=kd(t)!=kd(n),j=Md(t)!=Md(n),E=Ld(t)!=Ld(n),S=Ud(t,r,y)!=Ud(n,o,y),C=Fd(t)!=Fd(n),_=!Xs.a.areSpecsEqual(t.replicationSpecs,n.replicationSpecs),A=r.oplogSizeMB!==o.oplogSizeMB,N=r.minimumEnabledTlsProtocol!==o.minimumEnabledTlsProtocol,T=r.failIndexKeyTooLong!==o.failIndexKeyTooLong,w=r.noTableScan!==o.noTableScan,P=r.javascriptEnabled!==o.javascriptEnabled,R=A||N||T||w||P,I=Bd(a)!=Bd(s),D=void 0!==d&&n.clusterType===me.i.SHARDED;return Object(z.jsx)(qd,null,Object(z.jsx)("thead",null,Object(z.jsx)("tr",null,Object(z.jsx)(Gd,{css:Hd},"Feature"),Object(z.jsx)(Gd,null,"Original"),Object(z.jsx)(Gd,{css:Wd},"New"))),Object(z.jsx)("tbody",null,O&&Object(z.jsx)(Ad,{originalCluster:t,newCluster:n,providerOptions:i,instanceSizeChanged:p,warnClusterTier:u===Xd.FREE_TIER_UPGRADED_TO_DEDICATED,storageChanged:f,autoScaleComputeChanged:h,autoScaleComputeMaxSizeChanged:m,autoScaleComputeMinSizeChanged:g,autoScaleDiskGBChanged:b,iopsChanged:v}),x&&Object(z.jsx)(xd,{feature:"Cluster Type",originalConfig:kd(t),newConfig:kd(n),newConfigStyle:D||u===Xd.REPLICA_SET_SHARDED?Zd:{}}),j&&Object(z.jsx)(xd,{feature:"Backup",originalConfig:Md(t),newConfig:Md(n)}),_&&Object(z.jsx)(xd,{feature:"Node Configuration",originalConfig:Vd(t),newConfig:Vd(n,t,l===$d.INSTANCE_ADDED_TO_NONPRIMARY_REGION&&c,d)}),E&&Object(z.jsx)(xd,{feature:"MongoDB Version",originalConfig:Ld(t),newConfig:Ld(n),newConfigStyle:u===Xd.MAJOR_MONGODB_VERSION_CHANGED?Zd:{}}),S&&Object(z.jsx)(xd,{feature:"BI Connector",originalConfig:Ud(t,r,y),newConfig:Ud(n,o,y)}),C&&Object(z.jsx)(xd,{feature:"Encryption at Rest",originalConfig:Fd(t),newConfig:Fd(n),newConfigStyle:l===$d.ENCRYPTION_AT_REST?Zd:{}}),R&&Object(z.jsx)(Td,{originalProcessArgs:r,newProcessArgs:o,oplogSizeChanged:A,minTLSVersionChanged:N,indexKeyLimitChanged:T,noTableScanChanged:w,javascriptChanged:P}),I&&Object(z.jsx)(xd,{feature:"Pricing",originalConfig:Bd(a),newConfig:Bd(s),originalConfigStyle:Yd,newConfigStyle:Kd})))};!function(e){e[e.ENCRYPTION_AT_REST=0]="ENCRYPTION_AT_REST",e[e.INSTANCE_ADDED_TO_NONPRIMARY_REGION=1]="INSTANCE_ADDED_TO_NONPRIMARY_REGION"}($d||($d={})),function(e){e[e.MAJOR_MONGODB_VERSION_CHANGED=0]="MAJOR_MONGODB_VERSION_CHANGED",e[e.REPLICA_SET_SHARDED=1]="REPLICA_SET_SHARDED",e[e.FREE_TIER_UPGRADED_TO_DEDICATED=2]="FREE_TIER_UPGRADED_TO_DEDICATED"}(Xd||(Xd={}));var Qd=Ro()("div",{target:"e2qoeru0"})("background-color:",fd.clusterFormBackground,";box-shadow:0 2px 4px 0 rgba(0,0,0,0.1);border-radius:3px;overflow:visible;border:1px solid ",fd.clusterFormBorder,";"),ep=Ro()("div",{target:"e2qoeru1"})("padding:20px 20px 15px 20px;border-top:3px solid;border-radius:3px;padding-top:17px;border-color:",fd.clusterFormBorderTop,";"),tp=Ro()("div",{target:"e2qoeru2"})({name:"1y6ic72",styles:"margin-left:10px;"}),np=Ro()("span",{target:"e2qoeru3"})({name:"3x395k",styles:"font-size:20px;display:inline-block;margin:5px 0;"}),rp=Ro()("div",{target:"e2qoeru4"})({name:"1dzltco",styles:"padding:0 20px 20px;min-height:400px;margin-top:10px;"});function op(e,t,n){for(var r=Xs.a.getPreferredRegionName(e.replicationSpecs[n]),o=0,i=Object.keys(t.replicationSpecs[n].regionsConfig);o<i.length;o++){var a=i[o];if(a!==r){var s=e.replicationSpecs[n].regionsConfig[a],l=t.replicationSpecs[n].regionsConfig[a];if(!s||l.analyticsNodes>s.analyticsNodes||l.electableNodes>s.electableNodes||l.readOnlyNodes>s.readOnlyNodes)return{zone:n,region:a}}}}var ip=function(e){var t,n,r=e.clusterName,o=e.groupName,i=e.orgName,a=e.originalCluster,s=e.newCluster,c=e.originalProcessArgs,u=e.newProcessArgs,d=e.providerOptions,p=e.newBillingEstimate,f=e.originalBillingEstimate,h=e.error,m=a.encryptionAtRestProvider!==s.encryptionAtRestProvider,g=function(e,t){for(var n,r,o=0;o<e.replicationSpecs.length;o++)t.replicationSpecs[o]&&(void 0===n&&(n=op(e,t,o)),void 0===r&&t.replicationSpecs[o].numShards<e.replicationSpecs[o].numShards&&(r=o));return{instanceAddedToNonPrimaryRegion:n,zoneWithShardsReduced:r}}(a,s),b=g.instanceAddedToNonPrimaryRegion,v=g.zoneWithShardsReduced,y=m||b;m?(t=$d.ENCRYPTION_AT_REST,n="Changing your Encryption at Rest setting"):b&&(t=$d.INSTANCE_ADDED_TO_NONPRIMARY_REGION,n="Adding nodes in regions without the primary");var O,x,j=a.mongoDBMajorVersion!==s.mongoDBMajorVersion,E=a.clusterType===me.i.REPLICASET&&s.clusterType===me.i.SHARDED,S="FREE"===a["@provider"]&&"FREE"!==s["@provider"];j?(O=Xd.MAJOR_MONGODB_VERSION_CHANGED,x="Changing your MongoDB version"):E?(O=Xd.REPLICA_SET_SHARDED,x="Converting a replica set to a sharded cluster"):S&&(O=Xd.FREE_TIER_UPGRADED_TO_DEDICATED,x="Upgrading your cluster to a dedicated tier");var C=j||E||S,_="".concat(n," will require an initial sync. This may take a long time for large\n    data sets."),A="".concat(x," is irreversible. You can make other cluster changes at any time."),N=Object(z.jsx)(l.a.Fragment,null,"Removing a shard will be a long running action and any MongDB configuration changes requested afterwards will only begin after removal is complete.",Object(z.jsx)("br",null),"When removing a shard, any unsharded databases in the shard will be moved to a remaining shard using the movePrimary command. While all sharded collections will remain online and available during shard removal, read or write operations to unsharded collections during the movePrimary phase can result in unexpected behavior, including potential failure of the migration operation or loss of data. We recommend moving the primary shard for any databases containing unsharded collections before removing the shard."),T=void 0!==v,w=[y,C,T].filter(Boolean).length;return Object(z.jsx)(l.a.Fragment,null,h&&Object(z.jsx)("div",null,Object(z.jsx)(Fi,{error:h}),Object(z.jsx)("br",null)),w>0&&Object(z.jsx)(M.a,{level:"warning",className:"bem-alert-has-sharp-corner bem-alert-has-margin-bottom"},Object(z.jsx)("strong",null,"Note:")," ",w>1?Object(z.jsx)("ul",null,y&&Object(z.jsx)("li",null,_),C&&Object(z.jsx)("li",null,A),T&&Object(z.jsx)("li",null,N)):Object(z.jsx)(l.a.Fragment,null,y&&Object(z.jsx)(l.a.Fragment,null,_),C&&Object(z.jsx)(l.a.Fragment,null,A),T&&Object(z.jsx)(l.a.Fragment,null,N))),Object(z.jsx)(Qd,null,Object(z.jsx)(ep,null,Object(z.jsx)(tp,null,Object(z.jsx)(np,null,"Review your changes to ",Object(z.jsx)("strong",null,i)," > ",Object(z.jsx)("strong",null,o)," >"," ",Object(z.jsx)("strong",null,r)))),Object(z.jsx)(rp,null,Object(z.jsx)(Jd,{providerOptions:d,originalCluster:a,newCluster:s,originalProcessArgs:c,newProcessArgs:u,originalBillingEstimate:f,newBillingEstimate:p,initialSyncWarningReason:t,instanceAddedToNonPrimaryRegion:b,rollbackWarningReason:O,zoneWithShardsReduced:v}))))},ap=n(1540);function sp(e){var t=e.billingEstimate,n=e.testModal,r=t.hourlyEstimateDollars,o=t.monthlyEstimateDollars,i=Object(z.jsx)("div",{className:"nds-cluster-form-tooltip nds-cluster-form-tooltip-is-no-max-width"},"Your monthly estimate is ",Object(z.jsx)("strong",null,"$",o,"/month"));return Object(z.jsx)("div",{className:ae()("nds-cluster-form-estimate",{"editor-layout-footer-content-medium":!n})},Object(z.jsx)(Tt.a,{content:i},Object(z.jsx)("div",{className:"nds-cluster-form-estimate-value"},r>0&&Object(z.jsx)("span",null,Object(z.jsx)("strong",null,n?"You will be billed ":"","$",r),"/hour"),0==r&&Object(z.jsx)("span",{className:"nds-cluster-form-estimate-value-is-free"},Object(z.jsx)("strong",null,"FREE")))))}sp.propTypes={billingEstimate:k.a.shape(me.b).isRequired,testModal:k.a.bool},sp.defaultProps={testModal:!1};var lp=sp;function cp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var up=function(e){A()(n,e);var t=cp(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{currentTime:5}),e}return E()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.onHide;this.interval=setInterval((function(){var n=e.state.currentTime;1===n?t(!0):e.setState({currentTime:n-1})}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state.currentTime,t=this.props.onHide;return Object(z.jsx)("div",{className:"confirmation-step-container"},Object(z.jsx)("img",{className:"confirmation-step-animation",src:"/static/images/payment_confirmation_animation.gif",alt:"confirmation"}),Object(z.jsx)("span",{className:"confirmation-step-main-text"},"Your cluster is being built!"),Object(z.jsx)("span",{className:"confirmation-step-sub-text"},"You will be redirected in ",e," seconds."),Object(z.jsx)(Ki.a,{className:"confirmation-step-redirect",variant:"primary",name:"go-to-clusters",onClick:function(){return t(!0)}},"Go to Clusters"))}}]),n}(l.a.Component);I()(up,"propTypes",{onHide:k.a.func.isRequired});var dp=up,pp=n(1333);function fp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fp(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}function gp(){var e=document.querySelector(".grecaptcha-badge");if(e){var t=e.style.getPropertyValue("bottom"),n=Number(t.replace("px",""))+60;e.style.setProperty("bottom","".concat(n,"px"))}else setTimeout(gp,10)}var bp=function(e){A()(n,e);var t=mp(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{showPaymentModal:!1,hasPaymentMethod:!1,paymentInfoLoaded:!1}),I()(C()(e),"updatePaymentInfo",ct()(st.a.mark((function t(){var n,r,o,i,a;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,r=n.orgId,o=n.selfServePaymentsEnabled,t.next=3,U.d.hasEffectivePaymentMethod({orgId:r});case 3:i=t.sent,a={paymentInfoLoaded:!0,hasPaymentMethod:i},o||(a.showPaymentModal=!i),e.setState(a);case 7:case"end":return t.stop()}}),t)})))),I()(C()(e),"onHidePaymentModal",(function(t){if(t)return window.location.assign("#clusters?fastPoll=true");e.setState({showPaymentModal:!1}),e.updatePaymentInfo()})),I()(C()(e),"getUsageChargesDisplayText",(function(e){return Object(z.jsx)("span",null,e.length>0&&Object(z.jsx)("span",null,"Includes usage charge",e.length>1?"s":""," for "),e.map((function(t,n){var r;return e.length>1&&(r=n===e.length-2?2===e.length?" and ":", and ":n<e.length-1?", ":""),Object(z.jsx)("span",{key:t.key},Object(z.jsx)("a",{href:t.infoLink,target:"_blank",rel:"noopener noreferrer"},t.name),r)})),e.length>0&&Object(z.jsx)("span",null,".")," ")})),I()(C()(e),"getDescriptionText",(function(){var t=e.props,n=t.formValues,r=t.docsUrl,o=t.isAdvancedSecurityEnabled,i=t.isEnterpriseAuditingEnabled,a="".concat(r,"/billing/#data-transfer"),s="".concat(r,"/billing/#backup"),l="".concat(r,"/billing/#bic"),c="".concat(r,"/billing/#advancedSecurity"),u="".concat(r,"/billing/#enterpriseAuditing"),d=n.biConnector.enabled,p=[].concat(yn()(d?[{name:"BI Connector",infoLink:l,key:"bi-connector"}]:[]),yn()(o?[{name:"Advanced Security",infoLink:c,key:"advanced-security"}]:[]),yn()(i?[{name:"Enterprise Auditing",infoLink:u,key:"enterprise-security"}]:[]));return oe.v(n.instanceSize)?Object(z.jsx)("div",null,Object(z.jsx)("strong",null,"Free forever!")," ",Object(z.jsx)("em",null,"Your M0 cluster is ideal for experimenting in a limited sandbox. You can upgrade to a production cluster"," ","anytime.")):Object(z.jsx)("div",null,Object(z.jsx)("strong",null,"Pay-as-you-go!")," ",Object(z.jsx)("em",null,"You will be billed hourly and can terminate your cluster anytime."," ",e.getUsageChargesDisplayText(p),d&&Object(z.jsx)("span",null,"Assumes"," ",Object(z.jsx)("a",{href:l,target:"_blank",rel:"noopener noreferrer"},"BI Connector")," ","monthly sustained usage.")," ","Excludes variable"," ",Object(z.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer"},"data transfer"),","," ",Object(z.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer"},"backup"),", and taxes."))})),I()(C()(e),"getAdditionalFooterProperties",(function(t){var n=e.props,r=n.clusterType,o=n.isTenantUpgrade,i=n.hasPermissionToEdit,a=n.isEdit,s=n.isUpdating,l={};return i?o?(l.alertLevel="info",l.alertContent=Object(z.jsx)("span",null,Object(z.jsx)("strong",null,"Please Note:")," Scaling up or down a M0, M2, or M5 cluster requires 7-10 minutes of downtime.")):t?(l.alertLevel="warn",l.alertContent=Object(z.jsx)("span",null,"You do not have permission to configure payment information, which is required for deploying a paid cluster. Please have an admin add a payment method to your organization to continue.")):r===me.i.GEOSHARDED?(l.alertLevel="info",l.alertContent=Object(z.jsx)("span",null,Object(z.jsx)("strong",null,"Please note:")," Global Write Clusters require configuring shard keys after deployment. You can finish configuring your cluster after it has deployed.")):s&&(l.alertLevel="info",l.alertContent=Object(z.jsx)("span",null,Object(z.jsx)("strong",null,"Please Note:")," Updates to this cluster are currently in progress. The changes requested now will begin after those updates are complete.")):(l.alertLevel="warn",l.alertContent=Object(z.jsx)("span",null,"You do not have permission to ",a?"edit this":"create a"," cluster. Please contact your organization admin.")),l})),I()(C()(e),"verifyPaymentAndSaveCluster",ct()(st.a.mark((function t(){var n,r,o,i;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.saveCluster,o=n.formValues,i=e.state.hasPaymentMethod,!oe.v(o.instanceSize)||i){t.next=5;break}return window.grecaptcha.execute(),t.abrupt("return");case 5:if(i){t.next=8;break}return e.setState({showPaymentModal:!0}),t.abrupt("return");case 8:r({onSuccess:function(){window.location.assign("#clusters?fastPoll=true")}});case 9:case"end":return t.stop()}}),t)})))),I()(C()(e),"navigateToDashboard",(function(){var t=e.props.orgId;W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Atlas Cluster Builder",action:"Clicked Cancel",isEdit:e.props.isEdit},{integrations:Object(W.c)(t)}),window.location.assign("#clusters")})),I()(C()(e),"onClosePaymentMethodRequiredModal",(function(){e.setState({showPaymentModal:!1})})),e}return E()(n,[{key:"componentDidMount",value:function(){var e=this;this.updatePaymentInfo();var t=this.props,n=t.saveCluster,r=t.recaptchaPublicKey,o=t.reCaptchaEnabled;window.grecaptcha&&o&&r&&(window.grecaptcha.render("g-recaptcha",{sitekey:r,badge:"bottomleft",callback:function(t){return setTimeout((function(){n({recaptchaToken:t,onSuccess:function(){e.navigateToDashboard()},onError:function(){e.onHidePaymentModal()}})}),1e3)}}),gp())}},{key:"render",value:function(){var e=this.props,t=e.isEdit,n=e.isDisabled,r=e.orgId,o=e.billingEstimate,i=e.userHasBillingPermission,a=e.formValues,s=e.fromPathSelector,c=e.onClickBack,u=e.saveCluster,d=e.selfServePaymentsEnabled,p=e.toggleReviewChanges,f=e.isOnReviewChanges,h=this.state,m=h.showPaymentModal,g=h.hasPaymentMethod,b=h.paymentInfoLoaded,v=!g&&b&&!oe.v(a.instanceSize)&&!i,y=this.getDescriptionText(),O=t?"Review Changes":"Create Cluster",x=hp(hp({},this.getAdditionalFooterProperties(v)),{},{contentClassName:ae()("editor-layout-footer-content-cluster-builder",{"editor-layout-footer-content-review-changes":f})}),j=Object(z.jsx)(dp,{onHide:this.onHidePaymentModal});return Object(z.jsx)(As.a.Footer,x,!f&&Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(lp,{billingEstimate:o}),Object(z.jsx)("div",{className:"editor-layout-footer-content-large editor-layout-footer-content-description"},y)),d?Object(z.jsx)(ap.a,{open:m,orgId:r,onHide:this.onHidePaymentModal,title:"Enter Payment Information",billingEstimate:Object(z.jsx)("div",null,Object(z.jsx)(lp,{billingEstimate:o,testModal:!0}),Object(z.jsx)("div",{className:"nds-cluster-form-billing-form-estimate-description"},y)),trackingContext:"Cluster Builder",instanceSize:a.instanceSize,confirmationStep:j,saveCluster:u}):!g&&m&&Object(z.jsx)(pp.a,{orgId:r,onClose:this.onClosePaymentMethodRequiredModal}),Object(z.jsx)("div",{id:"g-recaptcha",className:"g-recaptcha","data-size":"invisible"}),(s||f)&&Object(z.jsx)("a",{className:ae()("editor-layout-footer-content-small","editor-layout-footer-content-back",{"editor-layout-footer-content-back-from-doors":s}),onClick:c},"Back"),(!s||f)&&Object(z.jsx)(Xe.a,{size:"large",className:"editor-layout-footer-content-small editor-layout-footer-content-has-margin-right",onClick:this.navigateToDashboard},"Cancel"),f?Object(z.jsx)(Xe.a,{size:"large",variant:"primary",onClick:this.verifyPaymentAndSaveCluster},"Apply Changes"):Object(z.jsx)(Xe.a,{size:"large",variant:"primary",onClick:t?function(){p()}:this.verifyPaymentAndSaveCluster,disabled:n||v},O))}}]),n}(l.a.Component);I()(bp,"propTypes",{saveCluster:k.a.func.isRequired,formValues:k.a.shape(me.h).isRequired,isEdit:k.a.bool.isRequired,docsUrl:k.a.string.isRequired,clusterType:k.a.oneOf(Object.keys(me.i)).isRequired,isDisabled:k.a.bool.isRequired,orgId:k.a.string.isRequired,trackingUserId:k.a.string,billingEstimate:k.a.shape(me.b).isRequired,isTenantUpgrade:k.a.bool.isRequired,reCaptchaEnabled:k.a.bool,recaptchaPublicKey:k.a.string,userHasBillingPermission:k.a.bool.isRequired,isAdvancedSecurityEnabled:k.a.bool.isRequired,isEnterpriseAuditingEnabled:k.a.bool.isRequired,isElasticInvoicing:k.a.bool.isRequired,selfServePaymentsEnabled:k.a.bool.isRequired,fromPathSelector:k.a.bool,hasPermissionToEdit:k.a.bool,onClickBack:k.a.func,toggleReviewChanges:k.a.func.isRequired,isOnReviewChanges:k.a.bool,isUpdating:k.a.bool}),I()(bp,"defaultProps",{fromPathSelector:!1,hasPermissionToEdit:!0,onClickBack:function(){},isOnReviewChanges:!1,reCaptchaEnabled:!0,recaptchaPublicKey:null});var vp=bp;function yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Op(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yp(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var jp=Hc.a.getInstanceSizesList,Ep=Hc.a.compare,Sp=l.a.Component,Cp=["@provider","clusterType","biConnector","diskIOPS","diskSizeGB","ebsVolumeType","encryptEBSVolume","encryptionAtRestProvider","instanceSize","replicationSpecs"],_p={AWS:["@provider","diskSizeGB","diskIOPS","ebsVolumeType","encryptEBSVolume","replicationSpecs","instanceSize","encryptionAtRestProvider","pitEnabled","mongoDBMajorVersion","autoScaling"],AZURE:["@provider","diskSizeGB","diskIOPS","diskType","replicationSpecs","instanceSize","encryptionAtRestProvider","pitEnabled","mongoDBMajorVersion","autoScaling"],GCP:["@provider","diskSizeGB","diskIOPS","replicationSpecs","instanceSize","encryptionAtRestProvider","pitEnabled","mongoDBMajorVersion","autoScaling"],FREE:["@provider","mongoDBMajorVersion","autoScaling","biConnector","clusterType","backupEnabled","diskBackupEnabled","encryptionAtRestProvider","tenantBackupEnabled","pitEnabled","autoScaling"]},Ap={AWS:["@provider","ebsVolumeType","encryptEBSVolume","backupEnabled","diskBackupEnabled","encryptionAtRestProvider","autoScaling","biConnector"],AZURE:["@provider","diskType","backupEnabled","diskBackupEnabled","encryptionAtRestProvider","autoScaling","biConnector"],GCP:["@provider","backupEnabled","diskBackupEnabled","autoScaling","biConnector","encryptionAtRestProvider"]},Np=function(e){A()(n,e);var t=xp(n);function n(e){var r;x()(this,n),r=t.call(this,e),I()(C()(r),"setClusterFormValue",(function(e,t){var n=r.state,o=n.instanceSize,i=n["@provider"],a="@provider"===e,s="instanceSize"===e,l="replicationSpecs"===e,c="clusterType"===e,u="autoScaling"===e,d="mongoDBMajorVersion"===e,p="name"===e,f="diskSizeGB"===e,h=s&&oe.C(t)&&!oe.C(o),m=s&&oe.C(o)&&!oe.C(t);a?r.setState(r._getProviderDefaults(t)):l?r.setState(r._getStatesFromReplicationSpecsUpdates(t)):u?r.setState(r._getStateFromAutoScaleUpdates(t)):f?r.setState(r._getAutoScalingFromDiskSizeGB(t)):h?r.setState(r._getChangeToTenantDefaults(t)):m?r.setState(r._getChangeFromTenantDefaults(t)):s?r.setState(r._getStatesFromInstanceUpdates(t,i)):c?r.setState(r._getClusterTypeDefaults(t)):d?r.setState(r._getMongoDBVersionChangeValues(t)):p?r.setState(r._updateNameAndValidation(t)):r.setState(I()({},e,t))})),I()(C()(r),"updateBillingEstimates",function(){var e=ct()(st.a.mark((function e(t){var n,o,i,a,s,l,c,u,d,p,f,h,m,g,b,v,y,O,x,j,E,S,C,_,A;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props,o=n.auditLog,i=n.settingsModel,a=n.userSecurity,s=i.getCurrentGroupId(),l=r._getUpdatedClusterDescription(),e.next=5,U.m.clusterDescriptions.getCostEstimate(s,l);case 5:c=e.sent,u=c.biConnectorMaxDailyCents,d=c.biConnectorMaxMonthlyCents,p=c.biConnectorSustainedDailyCents,f=c.advancedSecurityDailyCents,h=c.advancedSecurityMonthlyCents,m=c.enterpriseAuditingDailyCents,g=c.enterpriseAuditingMonthlyCents,b=c.snapshotBackupMonthlyCentsPerGB,v=l.biConnector.enabled?d:0,y=a.ldap&&a.ldap.authenticationEnabled||l.encryptionAtRestProvider!==me.m.NONE?h:0,O=o.enabled?g:0,x=c.monthlyEstimateCents+v+y+O,j=Uu(x),E=x/720+1e-4,S=oe.C(r.state.instanceSize),C=S&&"M0"!==r.state.instanceSize?3:2,_=(E/100).toFixed(C),A=(b/100).toFixed(C),r.setState({billingEstimate:{hourlyEstimateDollars:_,monthlyEstimateDollars:j,snapshotBackupEstimateDollars:A},biConnectorCostEstimate:{biConnectorMaxDailyCents:u,biConnectorMaxMonthlyCents:d,biConnectorSustainedDailyCents:p},advancedSecurityCostEstimate:{advancedSecurityDailyCents:f,advancedSecurityMonthlyCents:h},enterpriseAuditingCostEstimate:{enterpriseAuditingDailyCents:m,enterpriseAuditingMonthlyCents:g}}),t&&r.setState({originalBillingEstimate:{hourlyEstimateDollars:_,monthlyEstimateDollars:j,snapshotBackupEstimateDollars:A}});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I()(C()(r),"saveCluster",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.recaptchaToken,n=void 0===t?"":t,o=e.onSuccess,i=e.onError,a=r.props,s=a.isEdit,l=a.settingsModel,c=r.state,u=c.processArgs,d=c.billingEstimate,p=r._clusterUpdated(),f=r._processArgsUpdated(),h=l.getCurrentGroupId(),m=r._getUpdatedClusterDescription(),g=U.m.clusterDescriptions,b=m.name,v=m.diskSizeGB,y=m.mongoDBMajorVersion,O=m.instanceSize,x=m["@provider"];r.setState({error:null,requestPending:!0});var j=Promise.resolve();if("FREE"!==x&&"SERVERLESS"!==x&&(f||!s)){var E=r._optionalProcessArgsUpdated(),S=Object(Us.a)(u);E||(delete S.sampleSizeBIConnector,delete S.sampleRefreshIntervalBIConnector);var C=[h,b,S,v,y,O];j=s?g.patchProcessArgs.apply(g,C):g.postProcessArgs.apply(g,C)}j.then((function(){var e=Promise.resolve();return p&&(e=r._isTenantUpgrade()?g.upgradeTenantCluster(h,m):s?g.patchClusterDescription(h,m):g.postClusterDescription(h,m,n)),e.then((function(){s||We.a.broadcastClusterEvent({segmentEvent:W.b.CLUSTER_SUBMITTED_SUCCESSFULLY,clusterDescription:m,processArgs:u,hourlyCost:d.hourlyEstimateDollars,options:{integrations:Object(W.c)(l.getCurrentOrgId())}}),o&&o()}))})).catch((function(e){i&&i(e),r.setState({error:e,requestPending:!1})}))})),I()(C()(r),"_getNextAvailableInstanceSize",(function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=[].concat(o.filter((function(t){return r._replicationSpecHasInstance(e,t,n)})),t.filter((function(t){return r._replicationSpecHasInstance(e,t,n)}))),a=i.filter((function(e){return!e.isLowCPU})).sort((function(e,t){return e.ram-t.ram}));if(a[0]&&a[0].name)return a[0].name;var s=i.filter((function(e){return e.isLowCPU})).sort((function(e,t){return e.ram-t.ram}));return s[0].name})),I()(C()(r),"_instanceUsableWithAzurePrivateIpMode",(function(e,t){var n=r.props,o=n.cloudContainers,i=n.privateIpMode,a=Ws(Ys.a.AZURE,o);return!a||!i.enabled||t.every((function(t){var n=Xs.a.getPreferredRegionName(t);return oe.C(e.name)||n===a.region}))})),I()(C()(r),"_replicationSpecHasInstance",(function(e,t,n){var o=Xs.a.getBackingCloudProvider(e),i=e.every((function(e){return t.availableRegions.some((function(t){return t.regionName===Xs.a.getPreferredRegionName(e)&&t.providerName===o}))})),a=!Xs.a.hasBlacklistedRegion(e,t),s=!t.hasInstanceFamilies||Xs.a.hasCommonInstanceFamily(e,t),l=o===Ys.a.AZURE&&r.props.privateIpMode.enabled,c=r._instanceUsableWithAzurePrivateIpMode(t,e),u=i&&a&&s&&(!l||c);return oe.B(n)?u&&t.supportsSharding&&(!oe.w(n)||!t.isNVMe):u})),I()(C()(r),"_getFormValues",(function(e){return J.a.pick(e,Object.keys(me.h))})),I()(C()(r),"_getUpdatedClusterDescription",(function(){var e=r.props.originalCluster,t=Object(Us.a)(e);return Object.assign(t,r._getFormValues(r.state)),t})),I()(C()(r),"_isTenantUpgrade",(function(){var e=r.props,t=e.isEdit,n=e.originalCluster;return t&&oe.C(n.instanceSize)})),I()(C()(r),"_isTenantUpgradeValid",(function(){var e=r.props.originalCluster,t=r.state.instanceSize;return!r._isTenantUpgrade()||e.instanceSize!==t})),I()(C()(r),"_isValid",(function(){var e=r.state,t=e.replicationSpecs,n=e.clusterType,o=e.isNameValid,i=e.isNameUnique;return o&&i&&Xs.a.isValid(t,n)&&r._isOplogSizeMBValid()})),I()(C()(r),"_navigateToPathSelector",(function(){window.location.hash="clusters/pathSelector"})),I()(C()(r),"_toggleReviewChanges",(function(){r.setState({showReviewChanges:!r.state.showReviewChanges})})),I()(C()(r),"_getDefaultClusterName",(function(){var e,t=r.props,n=t.clusterNames,o=t.isEdit,i=t.originalCluster;if(o)return i.name;if(!n.length)return"Cluster0";for(var a=n.length;;){if(e="Cluster".concat(a),oe.y(e,n))return e;a++}})),I()(C()(r),"_updateNameAndValidation",(function(e){var t=r.props.clusterNames;return{name:e,isNameValid:oe.z(e),isNameUnique:oe.y(e,t)}}));var o,i=e.originalCluster,a=e.originalProcessArgs,s=e.providerOptions[i["@provider"]].instanceSizes[i.instanceSize];return o=s.isNVMe?me.o.NVME:s.isLowCPU?me.o.LOW_CPU:me.o.HIGH_CPU,r.state=Op(Op({requestPending:!1,error:null,originalBillingEstimate:{hourlyEstimateDollars:"0.00",monthlyEstimateDollars:"0.00"},billingEstimate:{hourlyEstimateDollars:"0.00",monthlyEstimateDollars:"0.00"},biConnectorCostEstimate:{biConnectorMaxDailyCents:0,biConnectorMaxMonthlyCents:0,biConnectorSustainedDailyCents:0},advancedSecurityCostEstimate:{advancedSecurityDailyCents:0,advancedSecurityMonthlyCents:0},processArgs:a,instanceClass:o},J.a.pick(i,Object.keys(me.h))),{},{showReviewChanges:!1,name:r._getDefaultClusterName(),isNameValid:!0,isNameUnique:!0}),r}return E()(n,[{key:"componentDidMount",value:function(){this.updateBillingEstimates(!0)}},{key:"componentDidUpdate",value:function(e,t){var n=this._getFormValues(this.state),r=this._getFormValues(t);Cp.reduce((function(e,t){return!J.a.isEqual(r[t],n[t])||e}),!1)&&this._isValid()&&this.updateBillingEstimates()}},{key:"_getProviderDefaults",value:function(e){var t=this.props.defaultTemplates,n=this.state,r=n.clusterType,o=n.replicationSpecs,i="M0"===n.instanceSize?"m0":"replicaSet",a=t[e][i],s=J.a.pick(a,_p[e]);if(r===me.i.SHARDED&&(s.replicationSpecs[0].numShards=o[0].numShards),"FREE"===this.state["@provider"]){var l=Object.keys(s.replicationSpecs[0].regionsConfig)[0],c=this._getReplicationSpecForFreeProvider(e,l);if(c)return{replicationSpecs:c}}var u=this._getProviderDefaultBackupValues(e,r,"m0"===i);return Op(Op({},s),u)}},{key:"_getReplicationSpecForFreeProvider",value:function(e,t){if(!this.props.providerOptions.FREE.instanceSizes[this.state.instanceSize].availableRegions.find((function(n){return n.regionName===t&&n.providerName===e})))return null;var n=this.props.providerOptions.FREE.regions.find((function(n){return n.key===t&&n.provider===e}));if(!n)return null;var r=Object(Us.a)(this.state.replicationSpecs),o=Object.keys(r[0].regionsConfig)[0],i=r[0].regionsConfig[o];return i.regionView=n,r[0].regionsConfig={},r[0].regionsConfig[t]=i,r}},{key:"_getProviderDefaultBackupValues",value:function(e,t,n){var r=this.props,o=r.defaultTemplates,i=r.settingsModel,a=this._getFormValues(this.state),s=a.backupEnabled,l=a.diskBackupEnabled,c=a.mongoDBVersion;if(!(s||l))return{backupEnabled:!1,diskBackupEnabled:!1,pitEnabled:!1};var u=n?"m0":"replicaSet",d=o[e]["GEOSHARDED"===t?"geoSharded3Zone":u],p=J.a.pick(d,["backupEnabled","diskBackupEnabled","pitEnabled"]),f=oe.u(e,i),h=oe.b(c);return f||h?(f?h||(p.backupEnabled=!1,p.diskBackupEnabled=!0):(p.encryptionAtRestProvider="NONE",p.diskBackupEnabled=!1,p.pitEnabled=!1),p):{backupEnabled:!1,diskBackupEnabled:!1,pitEnabled:!1}}},{key:"_getMongoDBVersionChangeValues",value:function(e){var t=this.props,n=t.settingsModel,r=t.originalProcessArgs,o=this.state.processArgs,i=this._getFormValues(this.state),a=i.mongoDBMajorVersion,s=i.backupEnabled,l=i.diskBackupEnabled,c=i["@provider"],u=s||l,d=oe.u(c,n),p={mongoDBMajorVersion:e};return"4.4"===e?(p.processArgs=Op({},o),delete p.processArgs.failIndexKeyTooLong):"4.4"===a&&(p.processArgs=Op(Op({},o),{},{failIndexKeyTooLong:r.failIndexKeyTooLong})),u&&s&&!oe.b(e)&&d&&(p.backupEnabled=!1,p.diskBackupEnabled=!0),p}},{key:"_getClusterTypeDefaults",value:function(e){var t=this.state.clusterType,n=this.props,r=n.defaultTemplates,o=n.providerOptions,i=n.privateIpMode,a=n.clusterBuilderFilterInterface,s=t===me.i.REPLICASET&&e===me.i.SHARDED,l=t===me.i.SHARDED&&e===me.i.REPLICASET;if(s||l){var c=Object(Us.a)(this.state.replicationSpecs);return c[0].numShards=s?2:1,{replicationSpecs:c,clusterType:e}}if(oe.w(e)){var u=i.enabled&&"GCP"!==this.state["@provider"]?Object(Us.a)(r.GCP.replicaSet.replicationSpecs):Object(Us.a)(this.state.replicationSpecs);u[0].numShards=1;var d,p=Xs.a.getBackingCloudProvider(u),f=this.state.instanceSize,h=oe.C(f),m=!h&&o[p].instanceSizes[f].supportsSharding,g=r[p].geoSharded3Zone.instanceSize;if(!this._replicationSpecHasInstance(u,o[p].instanceSizes[g],e)){var b=jp(o,p,a.isInstanceSizeVisible);g=this._getNextAvailableInstanceSize(u,b,e)}return d=h?this._getChangeFromTenantDefaults(g):m?{}:this._getStatesFromInstanceUpdates(g,p),Object.assign(d,{"@provider":p,replicationSpecs:u,clusterType:e,diskBackupEnabled:!1,pitEnabled:!1})}if(oe.w(t)&&!oe.w(e)){var v=this._convertReplicationSpecToSingleZone(this.state.replicationSpecs),y=this._getReplicationSpecDefaults([v]);return Object.assign(y,{clusterType:e})}return{clusterType:e}}},{key:"_getStatesFromReplicationSpecsUpdates",value:function(e){var t={};Object.assign(t,this._getReplicationSpecDefaults(e));var n=this.props,r=n.providerOptions,o=n.clusterBuilderFilterInterface,i=this.state,a=i.instanceSize,s=i.clusterType,l=i.biConnector,c=r[this.state["@provider"]].instanceSizes[a];if(!this._replicationSpecHasInstance(e,c,s)){var u=Xs.a.getBackingCloudProvider(e),d=jp(r,u,o.isInstanceSizeVisible),p=jp(r,Ys.a.FREE,o.isInstanceSizeVisible),f=this._getNextAvailableInstanceSize(e,d,s,p);oe.C(f)&&this.setState({"@provider":Ys.a.FREE});var h=oe.C(c.name)&&!oe.C(f),m=h?this._getChangeFromTenantDefaults(f,e):this._getInstanceDefaults(f,u),g=this._getStateIfInstanceSupportsSharding(f,e,h);Object.assign(t,m,g)}var b=oe.s(e)>0;return l.readPreference!==me.d.ANALYTICS||b||(t.biConnector=Op(Op({},l),{},{readPreference:me.d.SECONDARY})),t}},{key:"_getReplicationSpecDefaults",value:function(e){var t=this.state.replicationSpecs,n=Object(Us.a)(e);this._ensurePreferredRegionIdsPreserved(n);var r={replicationSpecs:n},o=t.filter((function(e){return!Xs.a.getReplicationSpecFromId(n,e.id)})).map((function(e){return e.id}));if(o.length>0){var i=this.state.geoSharding.customZoneMapping,a=Object.keys(i).filter((function(e){return-1!==o.indexOf(i[e])}));if(a.length>0){var s=Object(Us.a)(this.state.geoSharding);a.forEach((function(e){return delete s.customZoneMapping[e]})),r.geoSharding=s}}return r}},{key:"_getStatesFromInstanceUpdates",value:function(e,t){var n=this._getInstanceDefaults(e,t),r=this._getStateIfInstanceSupportsSharding(e,this.state.replicationSpecs),o=this._getStateIfInstanceSupportsAutoScaling(e,t);return Object.assign(n,r,o),n}},{key:"_getStateFromAutoScaleUpdates",value:function(e){var t=this.props.providerOptions,n=this.state,r=n.autoScaling,o=n.instanceSize,i=n.diskSizeGB,a=n.clusterType,s=Op(Op({},r.diskGB),e.diskGB),l=Op(Op({},r.compute),e.compute);if(e.compute){var c=t[this.state["@provider"]].instanceSizes,u=Hc.a.getComputeAutoScalingInstanceSizes(c,a!==me.i.REPLICASET,o,l.maxInstanceSize,l.minInstanceSize),d=u.findIndex((function(e){return e.name===o}));if(l.enabled){if(null===l.maxInstanceSize){var p=u[d+1],f=p&&p.name||o;l=Op(Op({},l),{},{maxInstanceSize:f})}}else l=oe.g();if(l.scaleDownEnabled){if(null===l.minInstanceSize){var h=Hc.a.getPreviousApplicableMinInstanceSize(u,o,l.maxInstanceSize,i),m=l.minInstanceSize||h;l=Op(Op({},l),{},{minInstanceSize:m})}}else l=Op(Op({},l),{},{minInstanceSize:null})}return{autoScaling:{diskGB:s,compute:l}}}},{key:"_getAutoScalingFromDiskSizeGB",value:function(e){var t=this.props.providerOptions,n=this.state,r=n.autoScaling,o=n.instanceSize,i=n["@provider"],a=n.clusterType,s=t[i].instanceSizes,l=r.compute,c=l.scaleDownEnabled,u=l.maxInstanceSize,d=l.minInstanceSize,p={diskSizeGB:e};if(c&&!Hc.a.isApplicableInstanceSizeByDiskSizeGB(s[d],u,e)){var f=Hc.a.getComputeAutoScalingInstanceSizes(s,a!==me.i.REPLICASET,o,u,d),h=Hc.a.getNextApplicableMinInstanceSize(f,d,o,e);return Op(Op({},p),{},h===u&&u===o?{autoScaling:Op(Op({},r),{},{compute:Op(Op({},l),{},{scaleDownEnabled:!1,minInstanceSize:null})})}:{autoScaling:Op(Op({},r),{},{compute:Op(Op({},l),{},{minInstanceSize:h})})})}return p}},{key:"_getInstanceDefaults",value:function(e,t){var n,r=this.props,o=r.isEdit,i=r.originalCluster,a=this.props.providerOptions[t],s=oe.C(e),l=s?Ys.a.FREE:t,c=s?this.props.providerOptions[Ys.a.FREE].instanceSizes[e]:a.instanceSizes[e],u=this.state.instanceSize,d=oe.C(u),p=c.isNVMe,f=!d&&a.instanceSizes[u].isNVMe&&!p,h=!d&&o&&i.diskSizeGB>a.instanceSizes[u].maxAllowedStorageGB,m=this.state.diskSizeGB,g=!h&&m>c.maxAllowedStorageGB,b=d||f||p||g||!o&&a.instanceSizes[u].defaultStorageGB===m?c.defaultStorageGB:m;switch(l){case"AWS":if(p){n=c.maxIOPS;break}if(f){n="io1"===i.ebsVolumeType?oe.p(c,b):oe.r(c,b);break}var v=this.state.ebsVolumeType,y=this.state.diskIOPS;if("io1"===v&&"M10"!==c.name&&"M20"!==c.name){var O=oe.p(c,b),x=oe.m(c,b)||oe.r(c,b);n=Math.min(Math.max(O,y),x)}else n=oe.r(c,b);break;case"AZURE":var j=a.diskSizes[b].iops,E=c.maxIOPS;n=E&&Math.min(E,j)||j;break;case"GCP":var S=c.maxReadIOPS,C=c.iopsPerGB;n=Math.min(b*C,S);break;default:n=null}var _={instanceSize:e,diskSizeGB:b,diskIOPS:n};return"AWS"===l?f?_.ebsVolumeType=void 0!==i.ebsVolumeType?i.ebsVolumeType:"gp2":"io1"!==this.state.ebsVolumeType||"M10"!==_.instanceSize&&"M20"!==_.instanceSize||(_.ebsVolumeType="gp2"):"AZURE"===l?_.diskType=a.diskSizes[b].type:"FREE"===l&&(_.tenantBackupEnabled=oe.C(e)&&!oe.v(e)),_}},{key:"_getStateIfInstanceSupportsAutoScaling",value:function(e,t){var n=this.state.autoScaling,r={};if(n.compute.enabled){var o=this.props.providerOptions[t].instanceSizes[e];if(o.isNVMe||o.isLowCPU){r.autoScaling=Object(Us.a)(n);Object.assign(r.autoScaling,{compute:{enabled:!1,scaleDownEnabled:!1,minInstanceSize:null,maxInstanceSize:null}})}else{r.autoScaling=Object(Us.a)(n);var i=n.compute,a=i.maxInstanceSize,s=i.minInstanceSize,l=a?Ep(a,e):null,c=s?Ep(s,e):null;a&&l<0&&(r.autoScaling.compute.maxInstanceSize=e),s&&c>0&&(r.autoScaling.compute.minInstanceSize=e)}}return r}},{key:"_getStateIfInstanceSupportsSharding",value:function(e,t,n){var r=n?Xs.a.getBackingCloudProvider(t):this.state["@provider"],o={};if(!(oe.C(e)?this.props.providerOptions[Ys.a.FREE].instanceSizes[e]:this.props.providerOptions[r].instanceSizes[e]).supportsSharding){var i=this._convertReplicationSpecToSingleZone(t),a=this._getReplicationSpecDefaults([i]);Object.assign(o,a,{clusterType:me.i.REPLICASET})}return o}},{key:"_ensurePreferredRegionIdsPreserved",value:function(e){var t=this.props,n=t.originalCluster,r=t.isEdit,o=n.replicationSpecs;return r&&o.forEach((function(t){var n=Xs.a.getPreferredRegionName(t),r=e.find((function(e){return Xs.a.getPreferredRegionName(e)===n}));r&&r.id!==t.id&&(r.id=t.id)})),e}},{key:"_getChangeToTenantDefaults",value:function(e){var t=this._getFormValues(this.state).mongoDBMajorVersion,n=Xs.a.getBackingCloudProvider(this.state.replicationSpecs),r=J.a.pick(this.props.defaultTemplates[n].m0,_p.FREE),o=this.props.providerOptions.FREE.instanceSizes[e].defaultStorageGB,i=this._convertReplicationSpecToSingleZone(this.state.replicationSpecs),a=this._getReplicationSpecDefaults([i]),s=oe.C(e)&&!oe.v(e);return Object.assign(r,a,{instanceSize:e,diskSizeGB:o,tenantBackupEnabled:s,backupEnabled:!1,diskBackupEnabled:!1,pitEnabled:!1,encryptionAtRestProvider:"NONE",mongoDBMajorVersion:t})}},{key:"_getChangeFromTenantDefaults",value:function(e){var t=Xs.a.getBackingCloudProvider(this.state.replicationSpecs),n=this.props.defaultTemplates[t].replicaSet,r=J.a.pick(n,Ap[t]),o=this._getInstanceDefaults(e,t);return Object.assign(r,o,{tenantBackupEnabled:!1})}},{key:"_convertReplicationSpecToSingleZone",value:function(e){var t="M0"===this.state.instanceSize?"m0":"replicaSet",n=Xs.a.getBackingCloudProvider(e),r=Object(Us.a)(e[0]);return r.numShards=1,r.zoneName=this.props.defaultTemplates[n][t].replicationSpecs[0].zoneName,r}},{key:"_clusterUpdated",value:function(){var e=this.props,t=e.originalCluster;return!e.isEdit||!J.a.isEqual(t,this._getUpdatedClusterDescription())}},{key:"_processArgsUpdated",value:function(){return!J.a.isEqual(this.props.originalProcessArgs,this.state.processArgs)}},{key:"_optionalProcessArgsUpdated",value:function(){var e=this.props.originalProcessArgs,t=this.state.processArgs;return["sampleSizeBIConnector","sampleRefreshIntervalBIConnector"].map((function(n){return e[n]===t[n]})).some((function(e){return!1===e}))}},{key:"_isOplogSizeMBValid",value:function(){if(!this._processArgsUpdated())return!0;var e=this.state,t=e.processArgs,n=e.instanceSize,r=this.state["@provider"],o=this.props,i=o.originalProcessArgs,a=o.clusterUsageStats,s=o.providerOptions,l=this._getUpdatedClusterDescription(),c=l.diskSizeGB,u=l.mongoDBMajorVersion;return oe.A(t,i,c,a.clusterMaxDiskUsageMB,a.currentOplogUsageSizeMB,u,oe.x(s,r,n))}},{key:"render",value:function(){var e=this._getFormValues(this.state),t=this.state,n=t.processArgs,r=t.billingEstimate,o=t.biConnectorCostEstimate,i=t.error,a=t.requestPending,s=t.instanceClass,c=t.showReviewChanges,u=t.isNameValid,d=t.isNameUnique,p=t.originalBillingEstimate,f=this.props,h=f.isEdit,m=f.settingsModel,g=f.providerOptions,b=f.defaultTemplates,v=f.hasFreeCluster,y=f.originalCluster,O=f.userSecurity,x=f.auditLog,j=f.encryptionAtRest,E=f.privateIpMode,S=f.originalProcessArgs,C=f.clusterUsageStats,_=f.cloudContainers,A=f.customRoles,N=f.clusterBuilderFilterInterface,T=f.clusterNames,w=m.isSelfServePaymentsEnabled();return Object(z.jsx)(l.a.Fragment,null,c?Object(z.jsx)(ip,{providerOptions:g,newCluster:e,newProcessArgs:n,clusterName:y.name,groupName:m.getCurrentGroupName(),orgName:m.getCurrentOrgName(),originalCluster:y,originalProcessArgs:S,newBillingEstimate:r,originalBillingEstimate:p,error:i}):Object(z.jsx)(pd,{formValues:e,processArgs:n,originalProcessArgs:S,clusterUsageStats:C,setClusterFormValue:this.setClusterFormValue,saveCluster:this.saveCluster,providerOptions:g,isEdit:h,clusterNames:T,isNameValid:u,isNameUnique:d,hasFreeCluster:v,defaultTemplates:b,originalCluster:y,isLDAPEnabled:O.ldap&&O.ldap.authenticationEnabled,isTenantUpgrade:this._isTenantUpgrade(),settingsModel:m,error:i,billingEstimate:r,biConnectorCostEstimate:o,isPrivateIPModeEnabled:E.enabled,encryptionAtRest:j,instanceClass:s,cloudContainers:_,customRoles:A,clusterBuilderFilterInterface:N}),Object(z.jsx)(vp,{saveCluster:this.saveCluster,formValues:e,clusterType:e.clusterType,isEdit:h,docsUrl:m.getDocsUrl(),selfServePaymentsEnabled:w,isDisabled:!this._isTenantUpgradeValid()||!m.isGroupClusterManager()||!this._isValid()||a||!(this._processArgsUpdated()||this._clusterUpdated()),orgId:m.getCurrentOrgId(),trackingUserId:m.getCurrentUserId(),billingEstimate:r,isTenantUpgrade:this._isTenantUpgrade(),recaptchaPublicKey:m.get("RECAPTCHA_PUBLIC"),reCaptchaEnabled:m.get("RECAPTCHA_ENABLED_ATLAS"),userHasBillingPermission:m.userHasBillingPermission(),isAdvancedSecurityEnabled:O.ldap&&O.ldap.authenticationEnabled||e.encryptionAtRestProvider!==me.m.NONE,isEnterpriseAuditingEnabled:x.enabled,isElasticInvoicing:m.isElasticInvoicing(),hasPermissionToEdit:m.isGroupClusterManager(),toggleReviewChanges:this._toggleReviewChanges,isOnReviewChanges:c,fromPathSelector:!h&&N.fromPathSelector,onClickBack:c?this._toggleReviewChanges:this._navigateToPathSelector,isUpdating:!!y&&"UPDATING"===y.state}))}}]),n}(Sp);I()(Np,"propTypes",{originalCluster:k.a.shape(me.g).isRequired,originalProcessArgs:k.a.shape(me.u).isRequired,isEdit:k.a.bool.isRequired,settingsModel:k.a.instanceOf(re.a).isRequired,clusterNames:k.a.arrayOf(k.a.string).isRequired,hasFreeCluster:k.a.bool.isRequired,defaultTemplates:k.a.shape({AWS:k.a.shape(me.k),AZURE:k.a.shape(me.k),GCP:k.a.shape(me.k)}).isRequired,providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,userSecurity:k.a.shape(Xu.p).isRequired,auditLog:k.a.shape(Xu.c).isRequired,encryptionAtRest:k.a.shape(Xu.j).isRequired,privateIpMode:k.a.shape(me.t).isRequired,clusterUsageStats:k.a.shape(me.j).isRequired,cloudContainers:k.a.arrayOf(k.a.oneOfType([k.a.shape(Ks.g),k.a.shape(Ks.c),k.a.shape(Ks.a),k.a.shape(Ks.f)])).isRequired,customRoles:k.a.arrayOf(k.a.shape(Ku.c)).isRequired,clusterBuilderFilterInterface:k.a.shape(me.f).isRequired});var Tp=Np,wp=n(424),Pp=n(177),Rp=n(427),Ip=n(425),Dp=n(426),kp=n(340),Mp=n(33);function Lp(e){var t,n=e.clusterId,r=e.settingsModel,o=e.existingCluster,i=e.loadDefaultTemplates,a=e.loadClusterDescriptions,s=e.loadProviderOptions,l=e.loadProcessArgs,c=e.loadDefaultProcessArgs,u=e.loadUserSecurity,d=e.loadAuditLog,p=e.loadEncryptionAtRest,f=e.loadPrivateIpMode,h=e.loadCloudContainers,m=e.loadClusterUsageStats,g=e.loadCustomRoles,b=e.defaultTemplates,v=e.providerOptions,y=e.processArgs,O=e.clusterDescriptions,x=e.userSecurity,j=e.auditLog,E=e.encryptionAtRest,S=e.privateIpMode,C=e.cloudContainers,_=e.clusterUsageStats,A=e.providerFromQuery,N=e.customRoles,T=e.clusterBuilderFilterInterface,w=r.getCurrentGroupId(),P=!!n,R=b[A||oe.i(O,S.enabled)];R&&(t=R[T.providerTemplateKey]);var I=oe.t(O),D=!!O.length,k=P?o:t,M=r.get("SITE_NAME"),U=!P&&!D,F=P?function(){return m(w,n)}:function(){return Promise.resolve()},B=P?function(){return l(w,n)}:function(){return c(w)},V="Create New Cluster";"m0"===T.providerTemplateKey?V="Create a Starter Cluster":"replicaSetM10"===T.providerTemplateKey?V="Create a Single-Region Cluster":"crossRegionReplicaSet"!==T.providerTemplateKey&&"geoSharded3Zone"!==T.providerTemplateKey||(V="Create a Multi-Region Cluster");var q=O.map((function(e){return e.name}));return Object(z.jsx)(As.a,{modifyApplicationLayout:!0},Object(z.jsx)(As.a.Header,null,Object(z.jsx)(Fo.b,{items:[{href:"#clusters",text:"Clusters"},{href:"#clusters/edit",text:P?"Edit ".concat(n):V}],includeDefaultPrefixes:!1,showLastAsCurrent:!0}),P&&Object(z.jsx)("h1",null,Object(z.jsx)("strong",null,"Editing ",n)),!P&&Object(z.jsx)("h1",null,Object(z.jsx)("strong",null,V))),Object(z.jsx)(As.a.Body,null,Object(z.jsx)(L.a,{load:function(){return Promise.all([i(w),a(w),s(w),u(w),d(w),p(w),f(w),h(w),F(),B(),g(w)])},renderWhenLoaded:!0},k&&[U&&Object(z.jsx)("div",{className:"nds-cluster-form-create-message",key:"welcome-message"},Object(z.jsx)("b",null,"Welcome to MongoDB ",M,"!")," We've recommended some of our most popular options, but feel free to customize your cluster to your needs. For more information, check our"," ",Object(z.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://docs.atlas.mongodb.com/getting-started/"},"documentation"),"."),Object(z.jsx)(Tp,{originalCluster:k,originalProcessArgs:y,defaultTemplates:b,providerOptions:v,clusterNames:q,hasFreeCluster:I,isEdit:P,settingsModel:r,userSecurity:x,auditLog:j,encryptionAtRest:E,privateIpMode:S,clusterUsageStats:_,customRoles:N,key:"cluster-form-controller",cloudContainers:C,clusterBuilderFilterInterface:T})])))}Lp.propTypes={clusterId:k.a.string,settingsModel:k.a.instanceOf(re.a).isRequired,existingCluster:k.a.shape(me.g),loadDefaultTemplates:k.a.func.isRequired,loadProviderOptions:k.a.func.isRequired,loadProcessArgs:k.a.func.isRequired,loadDefaultProcessArgs:k.a.func.isRequired,loadClusterDescriptions:k.a.func.isRequired,loadUserSecurity:k.a.func.isRequired,loadAuditLog:k.a.func.isRequired,loadEncryptionAtRest:k.a.func.isRequired,loadPrivateIpMode:k.a.func.isRequired,loadCloudContainers:k.a.func.isRequired,loadClusterUsageStats:k.a.func.isRequired,loadCustomRoles:k.a.func.isRequired,clusterDescriptions:k.a.arrayOf(k.a.shape(me.g)),defaultTemplates:k.a.shape({AWS:k.a.shape(me.k),AZURE:k.a.shape(me.k),GCP:k.a.shape(me.k),FREE:k.a.shape(me.k)}).isRequired,providerOptions:k.a.shape({AWS:k.a.shape(me.v),AZURE:k.a.shape(me.v),GCP:k.a.shape(me.v),FREE:k.a.shape(me.v)}).isRequired,processArgs:k.a.shape(me.u).isRequired,userSecurity:k.a.shape(Xu.p).isRequired,auditLog:k.a.shape(Xu.c).isRequired,encryptionAtRest:k.a.shape(Xu.j).isRequired,privateIpMode:k.a.shape(me.t).isRequired,cloudContainers:k.a.arrayOf(k.a.oneOfType([k.a.shape(Ks.g),k.a.shape(Ks.c),k.a.shape(Ks.a),k.a.shape(Ks.f)])).isRequired,clusterUsageStats:k.a.shape(me.j).isRequired,providerFromQuery:k.a.string,customRoles:k.a.arrayOf(k.a.shape(Ku.c)).isRequired,clusterBuilderFilterInterface:k.a.shape(me.f)},Lp.defaultProps={clusterId:null,existingCluster:null,clusterDescriptions:[],clusterUsageStats:{clusterMaxDiskUsageMB:0,currentOplogUsageSizeMB:0},providerFromQuery:null,clusterBuilderFilterInterface:{isInstanceSizeVisible:function(){return!0},isRegionVisible:function(){return!0},isGlobalConfigurationVisible:!0,isMultiRegionConfigurationVisible:!0,isVersionSelectionVisible:function(){return!0},advancedOptions:{shardingVisible:!0,otherOptionsVisible:!0},providerTemplateKey:"replicaSet",fromPathSelector:!1}};var Up=Object(Ei.connect)((function(e,t){return{defaultTemplates:wp.e(e),providerOptions:wp.h(e),processArgs:t.clusterId?wp.g(e):wp.d(e),existingCluster:t.clusterId?Pp.b(e,{clusterName:t.clusterId}):null,clusterDescriptions:Pp.c(e),userSecurity:Ip.b(e),auditLog:Dp.b(e),encryptionAtRest:kp.b(e),privateIpMode:wp.f(e),cloudContainers:wp.b(e),clusterUsageStats:t.clusterId?wp.c(e):Lp.defaultProps.clusterUsageStats,providerFromQuery:Mp.g(e).cp?Mp.g(e).cp.trim().toUpperCase():null,customRoles:Rp.b(e)}}),{loadDefaultTemplates:wp.l,loadClusterDescriptions:Pp.d,loadProviderOptions:wp.o,loadProcessArgs:wp.n,loadDefaultProcessArgs:wp.k,loadUserSecurity:Ip.c,loadAuditLog:Dp.c,loadEncryptionAtRest:kp.c,loadPrivateIpMode:wp.m,loadCloudContainers:wp.i,loadClusterUsageStats:wp.j,loadCustomRoles:Rp.c})(Lp),Fp={mark:k.a.string.isRequired,text:k.a.string.isRequired},Bp={title:k.a.string.isRequired,filterKey:k.a.string.isRequired,options:k.a.arrayOf(k.a.shape(Fp)).isRequired,hourlyPrice:k.a.string.isRequired,monthlyPrice:k.a.string,description:k.a.string,optionListMarginTop:k.a.string,footerMarginTop:k.a.string},zp=function(e){var t=e.pathSettings;return Object(z.jsx)("div",{className:"path-selector-door"},Object(z.jsx)("div",{className:ae()({"path-selector-door-content":"single"!==t.filterKey,"path-selector-door-second-content":"single"===t.filterKey})},Object(z.jsx)("div",{className:"path-selector-door-title"},t.title),Object(z.jsx)("div",{className:"path-selector-door-description"},t.description),Object(z.jsx)("ul",{className:ae()(t.optionListClass,"path-selector-door-option-list")},t.options.map((function(e){return Object(z.jsx)("li",{key:e.text},Object(z.jsx)("div",{className:"path-selector-option"},Object(z.jsx)("div",{className:"path-selector-mark"},Object(z.jsx)("i",{className:ae()("fa",e.mark)})),Object(z.jsx)("div",null,e.text)))}))),Object(z.jsx)("div",{className:ae()("path-selector-door-footer",t.footerClass)},Object(z.jsx)(Xe.a,{"data-testid":"createCluster-".concat(t.filterKey),className:"path-selector-door-submit",variant:"single"===t.filterKey?"primary":"info",size:"large",onClick:function(){window.location.hash="clusters/edit?filter=".concat(t.filterKey)}},"Create a cluster"),Object(z.jsx)("div",null,Object(z.jsx)("div",{className:"path-selector-door-price-sub-text"},"Starting at"),Object(z.jsx)("div",{className:ae()("path-selector-door-hourly-price",{"path-selector-door-hourly-price-free":"starter"===t.filterKey})},t.hourlyPrice,t.monthlyPrice&&Object(z.jsx)("span",{className:"path-selector-asterisk"},"*")),t.monthlyPrice&&Object(z.jsx)("div",{className:"path-selector-door-monthly-price"},Object(z.jsx)("span",{className:"path-selector-asterisk"},"*"),"estimated cost ",t.monthlyPrice)))))};zp.propTypes={pathSettings:k.a.shape(Bp).isRequired};var Vp=zp;var qp=function(){return Object(z.jsx)("div",{className:"path-selector-container"},Object(z.jsx)("div",{className:"path-selector-mobile-backdrop"}),Object(z.jsx)("img",{src:"/static/images/green_square.svg",alt:"",className:"path-selector-left-image"}),Object(z.jsx)("div",{className:"path-selector-main-panel-container"},Object(z.jsx)("div",{className:"path-selector-main-panel"},Object(z.jsx)("div",{className:"path-selector-header"},Object(z.jsx)("img",{src:"/static/images/cluster_icon.svg",alt:"",className:"path-selector-header-logo"}),Object(z.jsx)("span",{className:"path-selector-header-title"},"MONGODB ATLAS"),Object(z.jsx)("span",{className:"path-selector-header-main-text"},"Choose a path. Adjust anytime."),Object(z.jsx)("span",{className:"path-selector-header-sub-text"},"Available as a fully managed service across 60+ regions on AWS, Azure, and Google Cloud")),Object(z.jsx)("div",{className:"path-selector-body"},Object(z.jsx)(Vp,{pathSettings:Oi.starterClusterPath}),Object(z.jsx)(Vp,{pathSettings:Oi.singleRegionClusterPath}),Object(z.jsx)(Vp,{pathSettings:Oi.multiRegionClusterPath})),Object(z.jsx)("div",{className:"path-selector-footer"},Object(z.jsx)("div",{role:"button",tabIndex:"-1",className:"path-selector-back",onClick:function(){window.location.hash="clusters"}},"Dismiss"),Object(z.jsx)("div",{role:"button",tabIndex:"-1",className:"path-selector-bypass",onClick:function(){window.location.hash="clusters/edit?filter=none"}},"Advanced Configuration Options")))),Object(z.jsx)("img",{src:"/static/images/green_square.svg",alt:"",className:"path-selector-right-image"}))},Gp=n(1334);var Hp=Ro()("div",{target:"enh1vkl0"})({name:"sqjr76",styles:"display:flex;flex-direction:row;justify-content:space-between;font-size:16px;"}),Wp=Ro()("div",{target:"enh1vkl1"})({name:"1724e3r",styles:"width:50%;padding-right:15px;"}),Yp=Ro()("p",{target:"enh1vkl2"})({name:"9452eu",styles:"padding-top:10px;padding-bottom:10px;"}),Kp=Ro()("input",{target:"enh1vkl3"})("border:1px solid ",co.uiColors.gray.light1,";background:white;width:322px;height:34px;padding:6px 12px;");var Zp=function(e){var t=e.orgId,n=e.archiveToDelete,r=e.deleteOnlineArchive,i=e.setModalClosed,a=e.projectName,l=Object(s.useState)(""),c=o()(l,2),u=c[0],d=c[1],p=n._id,f=n.projectId,h=n.clusterName,m=n.dbName,g=n.collName,b="".concat(m,".").concat(g);return Object(z.jsx)(zr.a,{title:"Delete Online Archive: ".concat(b),size:"large",onClose:i,onConfirm:function(){r(f,p),W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Online Archive",action:"Deleted archive"},{integrations:Object(W.c)(t)})},confirmButtonLabel:"Delete",confirmButtonDisabled:u!==b,confirmButtonVariant:"danger",formatError:function(e){return Object(ut.b)(e)}},Object(z.jsx)(Hp,null,Object(z.jsx)(Wp,null,Object(z.jsx)("p",null,"Are you sure you want to delete ",a," > ",h," > ",Object(z.jsx)("b",null,b),"?"),Object(z.jsx)(Yp,null,"Your archived data will be deleted and unrecoverable. If you want to download your data, you can use our"," ",Object(z.jsx)("a",{href:"https://docs.mongodb.com/manual/reference/program/mongodump/#cmdoption-mongodump-query",target:"_blank",rel:"noopener noreferrer"},"mongodump or mongoexport tools.")),Object(z.jsx)("p",null,"Please enter the online archive name to continue.")),Object(z.jsx)(Kp,{name:"onlineArchiveNamespace",type:"text",placeholder:"Enter online archive name",value:u,onChange:function(e){return d(e.target.value)}})))};function $p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$p(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jp=Ro()("div",{target:"erviwng0"})({name:"1laeb1j",styles:"margin-top:25px;margin-bottom:25px;"}),Qp=Ro()("div",{target:"erviwng1"})({name:"kfwd0j",styles:"display:flex;flex-direction:row;justify-content:start;padding-top:10px;align-items:baseline;"}),ef=Ro()("input",{target:"erviwng2"})("border:1px solid ",co.uiColors.gray.light1,";background:white;width:80px;height:34px;padding:6px 6px 6px 12px;font-size:16px;"),tf=Ro()("div",{target:"erviwng3"})({name:"1t42441",styles:"padding:0 0 0 10px;"});var nf=function(e){var t=e.orgId,n=e.archiveToUpdate,r=e.updateOnlineArchive,i=e.setModalClosed,a=n._id,l=n.projectId,c=n.clusterName,u=n.criteria,d=u.expireAfterDays,p=Object(s.useState)(d),f=o()(p,2),h=f[0],m=f[1];return Object(z.jsx)(zr.a,{title:"Edit Archive Rule",size:"xs",onClose:i,onConfirm:function(){r(l,c,a,{criteria:Xp(Xp({},u),{},{expireAfterDays:h})}),W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Online Archive",action:"Edited archive rule"},{integrations:Object(W.c)(t)})},confirmButtonLabel:"Save",confirmButtonDisabled:h===d,formatError:function(e){return Object(ut.b)(e)}},Object(z.jsx)(Jp,null,Object(z.jsx)("b",null,"Enter a new age limit"),Object(z.jsx)(Qp,null,Object(z.jsx)(ef,{name:"expireAfterDays",type:"number",value:h||void 0,min:"1",onChange:function(e){return m(+e.target.value)}}),Object(z.jsx)(tf,null,"days"))))};var rf=Ro()("div",{target:"erbuumy0"})({name:"19yhhe5",styles:"display:flex;margin-top:20px;margin-bottom:18px;"}),of=Ro()("div",{target:"erbuumy1"})({name:"1t6vfah",styles:"font-size:22px;font-weight:bold;"}),af=Ro()("div",{target:"erbuumy2"})("font-size:13px;text-transform:uppercase;line-height:35px;color:",co.uiColors.gray.base,";margin-left:12px;"),sf=Ro()("div",{target:"erbuumy3"})({name:"zdpt2t",styles:"margin-left:auto;"}),lf={name:"wnvb9s",styles:"margin-left:12px;padding:0 18px;"},cf=Ro()("div",{target:"erbuumy4"})("box-shadow:0 2px 4px 0 rgba(0,0,0,0.1);border-radius:3px;border:1px solid ",co.uiColors.gray.light2,";margin-bottom:25px;"),uf=Ro()("div",{target:"erbuumy5"})({name:"ptzw8t",styles:"font-size:17px;font-weight:bold;margin-top:21px;margin-left:24px;margin-bottom:15px;"}),df=Ro()("div",{target:"erbuumy6"})({name:"17vxevr",styles:"display:flex;align-items:flex-start;min-height:111px;width:100%;padding-left:24px;font-size:16px;"}),pf=Ro()("div",{target:"erbuumy7"})({name:"k3yqt6",styles:"width:100%;padding-left:32px;font-size:14px;padding-top:8px;padding-right:54px;"}),ff=Ro()("div",{target:"erbuumy8"})({name:"8lnzar",styles:"display:inline-block;padding:15px 10px 38px 10px;"}),hf={name:"1wpvg3h",styles:"width:12%;"},mf={name:"dam5vj",styles:"width:16%;"},gf={name:"qd3ol1",styles:"width:10%;"},bf={name:"18467a",styles:"width:30%;"},vf={name:"ufscxh",styles:"width:20%;"},yf={name:"1wpvg3h",styles:"width:12%;"},Of={name:"11swzq5",styles:"min-height:initial;font-size:13px;font-weight:bold;"},xf={name:"1msjh1x",styles:"font-style:italic;"},jf=Object(z.css)("background-color:",co.uiColors.gray.light3,";",ff,"{font-style:italic;}"),Ef={name:"hpgf8j",styles:"padding:8px;"},Sf=Ro()("hr",{target:"erbuumy9"})("color:",co.uiColors.gray.light2,";margin:0 45px 0 22px;"),Cf={name:"1s592rj",styles:"font-style:normal;"},_f=Ro()("div",{target:"erbuumy10"})({name:"o3q2l8",styles:"display:inline-block;font-weight:bold;font-size:11px;font-style:normal;line-height:16px;border-radius:8px;padding:0 12px;text-transform:uppercase;"}),Af=Ro()("div",{target:"erbuumy11"})({name:"2lfki4",styles:"margin-top:8px;margin-left:13px;font-size:14px;line-height:1;"}),Nf={name:"nqzio9",styles:"padding:8px;font-size:14px;"},Tf=Object(z.css)("background-color:",co.uiColors.green.light3,";border:1px solid ",co.uiColors.green.light2,";color:",co.uiColors.green.dark2,";"),wf=Object(z.css)("background-color:",co.uiColors.yellow.light3,";border:1px solid ",co.uiColors.yellow.light2,";color:",co.uiColors.yellow.dark2,";"),Pf=Object(z.css)("background-color:",co.uiColors.gray.light2,";border:1px solid ",co.uiColors.gray.light1,";color:",co.uiColors.gray.dark2,";"),Rf=Object(z.css)("background-color:",co.uiColors.gray.light2,";border:1px solid ",co.uiColors.gray.light1,";color:",co.uiColors.gray.dark2,";"),If=Object(z.css)("background-color:",co.uiColors.red.light3,";border:1px solid ",co.uiColors.red.light2,";color:",co.uiColors.red.dark2,";"),Df=Ro()("span",{target:"erbuumy12"})({name:"matny5",styles:"display:inline-flex;align-items:center;vertical-align:middle;"}),kf=Object(z.css)("margin:0 10px;color:",co.uiColors.gray.base,";font-size:17px;font-weight:bold;"),Mf=Object(z.css)("margin-right:10px;color:",co.uiColors.red.base,";"),Lf=Object(z.css)("margin-right:10px;color:",co.uiColors.yellow.dark2,";"),Uf={name:"1s592rj",styles:"font-style:normal;"},Ff={ACTIVE:Tf,PENDING:wf,PAUSED:Pf,ORPHANED:Rf},Bf=0,zf=1,Vf=2,qf=3,Gf=4;function Hf(e,t){var n=["PENDING","ACTIVE","PAUSED"],r=n.indexOf(e.archiveState),o=n.indexOf(t.archiveState);return r<o?-1:r>o?1:0}var Wf={name:"93644d",styles:"max-width:280px;"},Yf={name:"93644d",styles:"max-width:280px;"};var Kf=function(e){var t=e.visibleOnlineArchives,n=e.addArchive,r=e.deleteOnlineArchive,i=e.updateOnlineArchive,a=e.orgId,c=e.projectName,u=e.tzCode,d=Object(s.useState)(Bf),p=o()(d,2),f=p[0],h=p[1],m=Object(s.useState)(),g=o()(m,2),b=g[0],v=g[1],y=J.a.groupBy(t,(function(e){return"".concat(e.dbName,".").concat(e.collName)})),O=function(e){return{key:"pause",text:"Pause Archiving",onClick:function(){h(qf),v(e)},disabled:"ORPHANED"===e.archiveState}},x=function(e){return{key:"resume",text:"Resume Archiving",onClick:function(){h(Gf),v(e)},disabled:"ORPHANED"===e.archiveState}},j=function(e){return{key:"edit",text:"Edit Archiving Rule",onClick:function(){h(Vf),v(e)},disabled:"ORPHANED"===e.archiveState}},E=function(e){return{key:"delete",text:"Delete Archive",onClick:function(){h(zf),v(e)}}},S=function(){h(Bf),v(void 0)},C=Object.keys(y).map((function(e){var t=y[e].sort(Hf),n=!1,r=e,o=t.map((function(e){var t="ORPHANED"===e.archiveState;n=n||t,t&&(r=e.collName);var o,i,a,s,c=e.lastArchiveRun&&e.lastArchiveRun.errorMessage&&"PAUSED"!==e.archiveState,d=e.lastArchiveRun&&(o=e.lastArchiveRun.startDate,i=Ct()().subtract(12,"hours"),Ct()(o).isBefore(i)),p=!1===e.hasSufficientIndexes,f=Object(z.jsx)(te.a,{css:Cf,withEllipsis:!0,options:(a=e,s=a.archiveState,"PENDING"===s?[j(a),E(a)]:"ACTIVE"===s?[O(a),j(a),E(a)]:"PAUSED"===s?[x(a),j(a),E(a)]:"ORPHANED"===s?[O(a),x(a),j(a),E(a)]:[]),buttonSize:"xsmall"}),h=Object(z.jsx)(Tt.a,{css:Uf,content:"Some options are disabled for this archive because the collection this archive is associated with has been deleted."},f),m="ACTIVE"===e.archiveState&&!(e.lastArchiveRun&&e.lastArchiveRun.startDate),g=m?"PENDING":e.archiveState;return Object(z.jsx)(l.a.Fragment,null,c&&Object(z.jsx)(pf,null,Object(z.jsx)(M.a,{level:"danger",css:Nf},Object(z.jsx)("strong",null,"Error processing archive: ")," ",e.lastArchiveRun.errorMessage)),Object(z.jsx)(df,{css:("PAUSED"===e.archiveState||"ORPHANED"===e.archiveState)&&jf,key:e._id},Object(z.jsx)(ff,{css:hf},e.criteria.dateField),Object(z.jsx)(ff,{css:mf},d&&"ACTIVE"===e.archiveState&&Object(z.jsx)(Tt.a,{content:"It has been more than 12 hours since this archive was processed. This could be caused by temporary spikes in workload or underlying cloud provider hardware issues. If this condition persists, please contact Support.",css:Wf},Object(z.jsx)("i",{className:"fa fa-exclamation-triangle",css:Lf})),e.lastArchiveRun&&!c&&e.lastArchiveRun.startDate&&function(e){return Ct()(e).tz(u).format("MM/DD/YY - hh:mm A")}(e.lastArchiveRun.startDate)||Object(z.jsx)("span",null,"â")),Object(z.jsx)(ff,{css:gf},e.criteria.expireAfterDays," days"),Object(z.jsx)(ff,{css:bf},p&&Object(z.jsx)(Tt.a,{content:"There are not sufficient indexes for this archive. To ensure good performance, create an index on this archive's date field.",css:Yf},Object(z.jsx)("i",{className:"fa fa-exclamation-triangle",css:Mf})),function(e){var t=e.partitionFields.sort((function(e){return e.order})).map((function(e){return e.fieldName}));"DATE"===e.criteria.type&&-1===t.indexOf(e.criteria.dateField)&&t.push(e.criteria.dateField);var n=t.map((function(e,n){return Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)("span",{key:e},e),n<t.length-1&&Object(z.jsx)("i",{className:"fa fa-angle-right",css:kf}))}));return Object(z.jsx)(Df,null,n)}(e)),Object(z.jsx)(ff,{css:vf},Object(z.jsx)("div",null,c?Object(z.jsx)(_f,{css:If},"ERROR"):Object(z.jsx)(_f,{css:Ff[g]},g)),m&&Object(z.jsx)(Af,null,"Collection metadata resolved,",Object(z.jsx)("br",null),"beginning archive process")),Object(z.jsx)(ff,{css:yf},t?h:f)))}));return Object(z.jsx)(cf,{key:e},Object(z.jsx)(uf,{css:n&&xf},r),Object(z.jsx)(df,{css:Of},Object(z.jsx)(ff,{css:md()([hf,Ef],"")},"Archive Field"),Object(z.jsx)(ff,{css:md()([mf,Ef],"")},"Archive Last Updated"),Object(z.jsx)(ff,{css:md()([gf,Ef],"")},"Age Limit"),Object(z.jsx)(ff,{css:md()([bf,Ef],"")},"Partition Fields"),Object(z.jsx)(ff,{css:md()([vf,Ef],"")},"Status"),Object(z.jsx)(ff,{css:md()([yf,Ef],"")},"Actions")),Object(z.jsx)(Sf,null),o)}));return Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(rf,null,Object(z.jsx)(of,null,"Online Archive"),Object(z.jsx)(af,null,"Powered by Atlas Data Lake"),f===Vf&&Object(z.jsx)(nf,{orgId:a,archiveToUpdate:b,updateOnlineArchive:i,setModalClosed:S}),f===zf&&Object(z.jsx)(Zp,{orgId:a,archiveToDelete:b,deleteOnlineArchive:r,setModalClosed:S,projectName:c}),f===qf&&Object(z.jsx)(zr.a,{title:"Pause Online Archive: ".concat(b.dbName,".").concat(b.collName),size:"small",onClose:S,onConfirm:function(){i(b.projectId,b.clusterName,b._id,{archiveState:"PAUSED"}),W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Online Archive",action:"Paused archiving"},{integrations:Object(W.c)(a)})},confirmButtonLabel:"Pause"},Object(z.jsx)("p",null,"Are you sure you want to pause archiving for this online archive?"),Object(z.jsx)("p",null,"Previously archived documents will continue to be available in your Online Archive. This archive can be resumed at any time.")),f===Gf&&Object(z.jsx)(zr.a,{title:"Resume Online Archive: ".concat(b.dbName,".").concat(b.collName),size:"small",onClose:S,onConfirm:function(){i(b.projectId,b.clusterName,b._id,{archiveState:"ACTIVE"}),W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Online Archive",action:"Resumed archiving"},{integrations:Object(W.c)(a)})},confirmButtonLabel:"Resume"},"Are you sure you want to resume archiving for this online archive?"),Object(z.jsx)(sf,null,Object(z.jsx)(Xe.a,{size:"xsmall",css:lf,className:"js-connect-button"},"Connect"),Object(z.jsx)(Xe.a,{size:"xsmall",variant:"primary",css:lf,onClick:n},"Add Archive"))),C)},Zf=n(2008),$f=n(205);function Xf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var Jf=Ro()("div",{target:"e118gmgu0"})({name:"17s4gwn",styles:"animation:emptyViewEnters 750ms cubic-bezier(0.165,0.84,0.44,1);@media (prefers-reduced-motion:reduce){animation:none;}text-align:center;border-radius:3px;padding:0;border:0;"}),Qf=Ro()("div",{target:"e118gmgu1"})({name:"80icpm",styles:"padding:50px calc(50% - 400px) 50px;display:flex;flex-direction:column;align-items:center;"}),eh=Ro()("img",{target:"e118gmgu2"})({name:"1d2uc8u",styles:"margin:20px 0 0;height:60px;width:60px;margin-bottom:20px;"}),th=Ro()("div",{target:"e118gmgu3"})({name:"vq2wt2",styles:"font-size:32px;font-weight:200;line-height:1.2;margin:0;padding:0 0 10px 0;"}),nh=Ro()("div",{target:"e118gmgu4"})({name:"1kvltl8",styles:"font-size:18px;font-weight:200;margin:0;padding:0 0 20px 0;width:530px;text-align:center;"}),rh=Ro()("div",{target:"e118gmgu5"})({name:"vtn2l4",styles:"padding-bottom:20px;"}),oh=Ro()("div",{target:"e118gmgu6"})({name:"640p2f",styles:"font-size:14px;margin-left:auto;margin-right:auto;width:530px;"}),ih=function(e){A()(n,e);var t=Xf(n);function n(){var e;x()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),I()(C()(e),"state",{showWizard:!1}),I()(C()(e),"_loadOnlineArchives",ct()(st.a.mark((function t(){var n,r,o;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,r=n.settingsModel,o=n.clusterId,e.props.loadOnlineArchives(r.getCurrentGroupId(),o);case 2:case"end":return t.stop()}}),t)})))),e}return E()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.baseTitle,r=t.clusterDescription,o=t.deploymentItem,i=t.clusterId,s=t.settingsModel,c=t.providerOptionsModel,u=t.isTenant,d=t.onlineArchives,p=t.deleteOnlineArchive,f=t.updateOnlineArchive,h=t.loadOnlineArchives,m=t.orgId,g=t.hasEncryptionAtRest,b=this.state.showWizard,v=d&&d.filter((function(e){return"DELETED"!==e.archiveState}));return Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(ji.Helmet,{title:"Online Archive",titleTemplate:"%s | ".concat(n)}),Object(z.jsx)($o,{clusterDescription:r,deploymentItem:o,clusterId:i,settingsModel:s,activeTab:Uo.Tabs.ONLINE_ARCHIVE,providerOptionsModel:c}),b?Object(z.jsx)(Zf.a,{onCancel:function(){return e.setState({showWizard:!1})},orgId:s.getCurrentOrgId(),groupId:s.get("GROUP_ID"),clusterName:i,addArchiveAndCloseWizard:function(t,n,r){return W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Online Archive - Begin Archiving",action:'Clicked "Confirm"'},{integrations:Object(W.c)(m)}),U.m.onlineArchive.createOnlineArchive(t,n,r).then((function(){h(t,n),e.setState({showWizard:!1})}))},hasEncryptionAtRest:g}):v&&v.length?Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)($f.a,{interval:15e3,immediate:!1,handler:function(){return e._loadOnlineArchives()}}),Object(z.jsx)(Kf,{visibleOnlineArchives:v,addArchive:function(){return e.setState({showWizard:!0})},deleteOnlineArchive:p,updateOnlineArchive:f,orgId:s.getCurrentOrgId(),projectName:s.get("GROUP_NAME"),tzCode:s.get("TIME_ZONE_ID")||"UTC"})):Object(z.jsx)(Jf,null,Object(z.jsx)(Qf,null,Object(z.jsx)(eh,{src:"/static/images/atlas-online-archive.png",alt:"No online archives"}),Object(z.jsx)(th,null,"Automatically Archive Your Data"),Object(z.jsx)(nh,null,"Create rules to automatically move infrequently-accessed, immutable data to queryable, read-only storage and free up space in your clusters.",u&&Object(z.jsx)("b",null,Object(z.jsx)("br",null),"Currently available for M10 or higher clusters.")),Object(z.jsx)(rh,null,u?Object(z.jsx)(Xe.a,{name:"upgradeCluster",size:"large",variant:"primary",onClick:function(){W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Online Archive",action:'Clicked "Upgrade Your Cluster"'},{integrations:Object(W.c)(s.getCurrentOrgId())}),a.a.history.navigate("clusters/edit/".concat(i),{trigger:!0})}},"Upgrade Your Cluster"):Object(z.jsx)(Xe.a,{name:"createOnlineArchive",size:"large",variant:"primary",onClick:function(){return W.d.track(W.b.UX_ACTION_PERFORMED,{context:"Online Archive",action:'Clicked "Configure Online Archive" Button'},{integrations:Object(W.c)(m)}),void e.setState({showWizard:!0})}},"Configure Online Archive")),Object(z.jsx)(oh,null,Object(z.jsx)("a",{href:"https://docs.atlas.mongodb.com/online-archive/manage-online-archive/",target:"_blank",className:"link"},"Learn more ",Object(z.jsx)("i",{className:"fa fa-external-link"}))))))}}]),n}(s.Component),ah=Object(Ei.connect)((function(e,t){var n=t.settingsModel;return{onlineArchives:Object(ui.e)(e).onlineArchives,settingsModel:n,orgId:n.get("ORG_ID")}}),(function(e){return{updateOnlineArchive:function(t,n,r,o){return e(Object(ui.f)(t,n,r,o))},deleteOnlineArchive:function(t,n){return e(Object(ui.b)(t,n))},loadOnlineArchives:function(t,n){return e(Object(ui.c)(t,n))}}}))(ih),sh=n(2013),lh=n.n(sh),ch=Object(v.a)(d.View)(f.a,y.a,Object(fo.a)(".js-modal-container")).extend({template:lh.a,events:function(){return{"click .js-connect-button":"_onClickConnect"}},initialize:function(e){var t=e.clusterDetail,n=e.baseTitle,r=e.clusterDescription,o=e.deploymentItem,i=e.clusterId,a=e.settingsModel,s=e.providerOptionsModel,l=e.isTenant,c=e.hasEncryptionAtRest;this.clusterDetail=t,this.baseTitle=n,this.clusterDescription=r,this.deploymentItem=o,this.clusterId=i,this.settingsModel=a,this.providerOptionsModel=s,this.isTenant=l,this.hasEncryptionAtRest=c,this.registerReactComponent(Object(z.jsx)(ah,{baseTitle:this.baseTitle,clusterDescription:this.clusterDescription,deploymentItem:this.deploymentItem,clusterId:this.clusterId,settingsModel:this.settingsModel,providerOptionsModel:this.providerOptionsModel,isTenant:this.isTenant,hasEncryptionAtRest:this.hasEncryptionAtRest}),".section-content")},_onClickConnect:function(){var e=Object(Gp.a)(a.a.history.location.hash,/$/,"/connect?clusterId=".concat(this.clusterDescription.id));a.a.history.navigate(e,{trigger:!0})}}),uh=n(0);function dh(e,t,n,r,o,i){return ph.apply(this,arguments)}function ph(){return(ph=ct()(st.a.mark((function e(t,n,r,o,i,a){var s,l,c;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(uh.default)("/accessLogs/".concat(t,"/").concat(n,"?skip=").concat(r,"&limit=").concat(o,"&start=").concat(i.getTime(),"&end=").concat(a.getTime()),{method:"GET"});case 2:return s=e.sent,e.next=5,s.json();case 5:return l=e.sent,c=l.response,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fh=n(13);function hh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P()(e);if(t){var o=P()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var mh=l.a.Component,gh={sectionControlPaddingOverride:{name:"7avp7s",styles:"padding-right:3px;"},darken:{name:"1xu3tth",styles:"color:black;"},infoText:{name:"13y02br",styles:"line-height:16px;font-size:12px;color:#9FA1A2;padding-inline-start:9px;padding-block-start:9px;"},overflowText:{name:"1hg9omi",styles:"word-break:break-all;"},boldText:{name:"1slmzyl",styles:"font-weight:600;max-width:200px;"},thinText:{name:"1hsv8u",styles:"font-weight:100;max-width:200px;"}},bh=function(e){A()(o,e);var t,n,r=hh(o);function o(){var e;x()(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=r.call.apply(r,[this].concat(n)),I()(C()(e),"state",{accessLogData:[],endDate:new Date,hasPreviousPage:!1,hasNextPage:!1,pageCount:0,errorCode:null}),I()(C()(e),"onPageClick",(function(t){e.setState((function(e){return{pageCount:e.pageCount+t}}),(function(){this.executeServiceCall()}))})),e}return E()(o,[{key:"componentDidMount",value:(n=ct()(st.a.mark((function e(){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.executeServiceCall();case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"translateSampleTimestamp",value:function(e){var t=this.props.timeZone;return t||(t="UTC"),new Date(e).toLocaleString("en-US",{timeZone:t}).replace(","," -")}},{key:"generateEmptyText",value:function(){var e=this.props.clusterName,t=this.state.errorCode,n="An unknown error occurred fetching access logs for ".concat(e,". Please try again later"),r="There have been no authentication attempts made against ".concat(e);return t?n:r}},{key:"executeServiceCall",value:(t=ct()(st.a.mark((function e(){var t,n,r,o,i,a,s,l,c,u,d;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.groupId,r=t.clusterName,o=this.state,i=o.endDate,a=o.pageCount,s=25*a,l=26,(c=new Date).setDate(i.getDate()-7),e.prev=6,e.next=9,dh(n,r.toLowerCase(),s,l,c,i);case 9:u=e.sent,this.setState((function(e){return{hasPreviousPage:0!=e.pageCount,hasNextPage:u.length==l,accessLogData:u.length==l?u.slice(0,25):u}})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),d=e.t0.errorCode,this.setState({errorCode:d});case 17:case"end":return e.stop()}}),e,this,[[6,13]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props.clusterName,n=this.state,r=n.accessLogData,i=n.hasPreviousPage,a=n.hasNextPage;return Object(z.jsx)(l.a.Fragment,null,Object(z.jsx)(Fo.b,{items:[{href:"#clusters",text:"Clusters"}]}),Object(z.jsx)(Bo.a,{headlineText:"Database Access History: ".concat(t)}),Object(z.jsx)("div",{className:"section-controls"},Object(z.jsx)("label",{className:"section-controls-label",css:gh.sectionControlPaddingOverride},"Time Range:"),Object(z.jsx)("label",{className:"section-controls-label",css:gh.darken},"Past 7 Days")),Object(z.jsx)(ls.a,{data:r,empty:this.generateEmptyText(),serverPagination:r.length>0,hasPreviousPage:i,hasNextPage:a,onPrevPageClick:function(){return e.onPageClick(-1)},onNextPageClick:function(){return e.onPageClick(1)},pageSize:25,tableClassName:"table table-new table-has-no-margin table-has-fixed-layout"},Object(z.jsx)(ls.a.Column,{header:"Timestamp",accessor:"timestamp",cell:function(t){var n=t.data;return Object(z.jsx)(ls.a.Cell,{key:"timestamp"},Object(z.jsx)("span",null,e.translateSampleTimestamp(n.sampleTimestamp)))}}),Object(z.jsx)(ls.a.Column,{header:"Username",accessor:"username",cell:function(e){var t=e.data;return Object(z.jsx)(ls.a.Cell,{key:"username"},Object(z.jsx)("p",{css:gh.overflowText,title:t.username},t.username))}}),Object(z.jsx)(ls.a.Column,{header:"IP Address",accessor:"ipAddress",cell:function(e){var t=e.data;return Object(z.jsx)(ls.a.Cell,{key:"ipAddress"},Object(z.jsx)("span",null,t.ipAddress))}}),Object(z.jsx)(ls.a.Column,{header:"Host",accessor:"host",cell:function(e){var t=e.data;return Object(z.jsx)(ls.a.Cell,{key:"host"},Object(z.jsx)("p",{css:gh.overflowText,title:t.hostname},t.hostname))}}),Object(z.jsx)(ls.a.Column,{header:"Authentication Source",accessor:"authenticationSource",cell:function(e){var t=e.data;return Object(z.jsx)(ls.a.Cell,{key:"authenticationSource"},Object(z.jsx)("p",{css:gh.overflowText},t.authenticationSource))}}),Object(z.jsx)(ls.a.Column,{header:"Authentication Result",accessor:"authenticationResult",cell:function(e){var t=e.data;return Object(z.jsx)(ls.a.Cell,{key:"authenticationResult"},o.buildAuthResultCellContent(t))}})))}}],[{key:"buildAuthResultCellContent",value:function(e){var t,n,r,o;if(e.authenticationResult)t=dn.Variant.LightGray,n="Successful",r="Successful",o=Object(z.jsx)(l.a.Fragment,null);else{t=dn.Variant.Red,n="Failed",r=e.failureReason;var i=e.failureReason.split(":");o=i.length>1?Object(z.jsx)("p",{css:gh.infoText},Object(z.jsx)("span",{css:gh.boldText},i.shift(),":"),Object(z.jsx)("span",{css:gh.thinText},i.join())):Object(z.jsx)("p",{css:gh.infoText},Object(z.jsx)("span",{css:gh.thinText},i.join()))}return Object(z.jsx)("div",{title:r},Object(z.jsx)(pn.a,{variant:t},n),o)}}]),o}(mh);I()(bh,"defaultProps",{clusterName:"",groupId:"",timeZone:"UTC"});var vh=Object(Ei.connect)((function(e){return{groupId:fh.l(e),timeZone:la.n(e)}}))(bh),yh=n(348),Oh=n.n(yh),xh=n(184),jh=n(185);t.default=function(e,t){var n=t.baseTitle,r=t.reduxStore,i=t.settingsModel,s=e.getRegion("main");function l(e){Object(bi.a)({baseTitle:n,pageTitle:e})}return new(di.a.extend({isRouteAllowed:function(){return Object(pi.a)(i)},routes:function(){return{"clusters/backup/:clusterId":this.showClusterSnapshotBackups,"clusters/backup/:clusterId/snapshots":this.showClusterSnapshotBackups,"clusters/backup/:clusterId/history":this.showClusterBackupRestoreHistory,"clusters/backup/:clusterId/policy":this.showClusterBackupPolicy,"clusters/backup/:clusterId/tenant/snapshots":this.showClusterTenantSnapshotBackups,"clusters/detail/:clusterId(/:modalName)":this.showClusterDetail,"clusters/commandLineTools/:clusterId":this.showCommandLineTools,"clusters/onlineArchive/:clusterId(/:modalName)":this.showOnlineArchivePage,"clusters/dbAccessHistory/:clusterId":this.showDbAccessHistory,"clusters/edit(/:clusterId)(?:queryString)":this.showClusterForm,"clusters/pathSelector(?:query)":this.showClusterFormPathSelector,"clusters(/:modalName)(?:queryString)":this.showClustersList}},showOnlineArchivePage:function(e,t){var a=this;if(!i.isNdsGovEnabled()){var l=s.currentView;if(l&&l instanceof ch)this._showModal({modalName:t,view:l,getData:l.clusterDetail});else{var c=rt.a.createClusterDetail(e),u=ze.a.fetchProviderOptions(i.getCurrentGroupId()),d=r.dispatch(ui.c(i.getCurrentGroupId(),e)),p=ci.a.loadEncryptionAtRest(i.getCurrentGroupId()),f=Promise.all([p,c,u,d]);Object(Be.a)(f).then((function(e){var r=o()(e,3),l=r[0],c=r[1],u=r[2],d=c.getClusterDescription(),p=d.getName(),f=c.getDeploymentItem(),h=l.attributes,m=h.awsKms.enabled||h.azureKeyVault.enabled||h.googleCloudKms.enabled,g=new ch({clusterDetail:c,baseTitle:n,clusterDescription:d,deploymentItem:f,clusterId:p,settingsModel:i,providerOptionsModel:u,isTenant:d.isTenant(),hasEncryptionAtRest:m});s.show(g),a._showModal({modalName:t,view:g,getData:c})})).then(void 0,fi.a)}}},showClusterBackupPage:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=rt.a.createClusterDetail(e),l=Le.a.loadLiveImports();Object(Be.a)(Promise.all([a,l])).then((function(e){var a=o()(e,2),l=a[0],c=a[1],u=l.getClusterDescription(),d=r||u.isTenant(),p=u.get("diskBackupEnabled"),f=!!u.get("tenantBackupEnabled");l.updateWithLiveImport(c);var h=l.getLiveImport();s.show(new ti.a({reactElement:Object(z.jsx)(bs,{baseTitle:n,clusterDescriptionModel:u,clusterName:u.getName(),clusterUniqueId:u.getUniqueId(),deploymentItem:l.getDeploymentItem(),hasBackupEnabled:p||f,liveImportInProgress:h.isRunning(),settingsModel:i,selectedTab:t,isTenant:d}),skipOnRender:!0}))})).then(void 0,fi.a)},showClusterBackupRestoreHistory:function(e){this.showClusterBackupPage(e,"history")},showClusterBackupPolicy:function(e){this.showClusterBackupPage(e,"policy")},showClusterSnapshotBackups:function(e){this.showClusterBackupPage(e,"snapshots")},showClusterTenantSnapshotBackups:function(e){this.showClusterBackupPage(e,"snapshots",!0)},showClustersList:function(e,t){var n=this,a=s.currentView,c=Object(mi.a)(decodeURIComponent(t)),u=c.nStitch;if(u){var d=Object(Ot.b)(r.getState()),p=u.includes(d.baasUrl)?d.baasUrl:d.baasLegacyUrl;yt.a.authForRedirect(d.groupId,d.username,p).then((function(){return window.location.assign(u)}))}if(a&&a instanceof ho)this._showModal({modalName:e,queryString:t,view:a,getData:function(e){return a.collection.where({id:e.clusterId})[0]}});else{var f=oi.a.createCollection(),h=Le.a.loadLiveImports(),m=ze.a.fetchProviderOptions(i.getCurrentGroupId()),g=Object(Ot.b)(r.getState()),b=i.hasProjectFeature("BAAS")&&!i.isNdsGovEnabled()&&yt.a.reloadApplications(g),v=U.m.networkSettings.getPrivateIpMode(i.getCurrentGroupId()),y=U.k.isOrgConnected({orgId:i.getCurrentOrgId()}),O=U.k.getDeploymentMigrations({orgId:i.getCurrentOrgId()}),x=ci.a.loadEncryptionAtRest(i.getCurrentGroupId()),j=new ri({settingsModel:i}),E=U.m.onlineArchive.getOnlineArchivesForGroup(i.getCurrentGroupId());Object(Be.a)(Promise.all([f,h,m,v,y,O,x,E,j.fetch()])).then((function(r){var a=o()(r,8),u=a[0],d=a[1],p=a[2],f=a[3],h=a[4],m=a[5],g=a[6],v=a[7];u.updateWithLiveImports(d),u.updateWithEncryptionAtRest(g);var y=u.getClusterDescriptions().any((function(e){return e.isHeadBackupEnabled()&&!e.isDeleting()}));i.set("HAS_CONTINUOUS_BACKUP",i.get("HAS_CONTINUOUS_BACKUP")||y);var O=oi.a.createClusterDetailCollectionPoller(u),x=Object(Bt.a)({loadSampleDatasetStatusCollection:j}),E=new ho({collection:u,liveImports:d,clusterDetailPoller:O,settingsModel:i,whenApplicationsLoaded:b,providerOptionsModel:p,isPrivateIPMode:f.enabled,isOrgConnectedToMlabAccount:h,mlabDeploymentMigrations:m,loadSampleDatasetStatusCollection:j,loadSampleDatasetStatusPoller:x,encryptionAtRest:g,onlineArchives:v});l("Clusters"),s.show(E),c.fastPoll&&$.a.enableFastPolling(),n._showModal({modalName:e,queryString:t,view:E,getData:function(e){return u.where({id:e.clusterId})[0]}})})).then(void 0,fi.a)}},showCommandLineTools:function(e){var t=rt.a.createClusterDetail(e),r=ii.a.fetchUsers(),a=si.a.loadWhitelist(),l=ai.a.getPeerConnections(),c=li.a.getUserSecurity(i.getCurrentGroupId()),u=ze.a.fetchProviderOptions(i.getCurrentGroupId()),d=U.m.networkSettings.getPrivateIpMode(i.getCurrentGroupId()),p=U.m.privateEndpoint.getPrivateLinks(i.getCurrentGroupId()),f=U.m.awsCustomDNS.getAWSCustomDNSEnabled(i.getCurrentGroupId()),h=U.m.networkSettings.getPeerConnectionsForGroup(i.getCurrentGroupId()),m=Promise.all([t,r,a,l,c,u,d,p,f,h]);Object(Be.a)(m).then((function(e){var t=o()(e,10),r=t[0],a=t[1],l=t[2],c=t[3],u=t[4],d=t[5],p=t[6],f=t[7],h=t[8],m=t[9],g=r.getClusterDescription(),b=g.getRegions(),v=g.getName(),y=r.getDeploymentItem(),O=p&&p.enabled,x=f.filter((function(e){return b.includes(e.region.key)})),j=!g.isTenant()&&g.getPrivateSRVAddress(),E=!1;if(g.getProvider()===xh.a.AWS)j=j&&c.length>0&&h&&h.enabled,E=m.filter((function(e){return e["@provider"]===xh.a.AWS})).some((function(e){return"AVAILABLE"===e.status}));else if(g.getProvider()===xh.a.GCP){var S=m.filter((function(e){return e["@provider"]===xh.a.GCP}));j=j&&S.length>0,E=S.some((function(e){return"AVAILABLE"===e.status}))}else if(g.getProvider()===xh.a.AZURE){var C=m.filter((function(e){return e["@provider"]===xh.a.AZURE}));j=j&&C.length>0,E=C.some((function(e){return"AVAILABLE"===e.status}))}s.show(new ti.a({reactElement:Object(z.jsx)(_s,{baseTitle:n,clusterDescription:g,deploymentItem:y,clusterId:v,settingsModel:i,usersCollection:a,whitelistedIpCollection:l,peerConnectionCollection:c,userSecurity:u,providerOptionsModel:d,showPrivateIpModeWarning:O,awsPrivateLinks:x,showPrivateConnectionString:j,hasAvailablePeer:E}),skipOnRender:!0}))})).then(void 0,fi.a)},showDbAccessHistory:function(e){l("Database Access History: ".concat(e)),s.show(new ti.a({reactElement:Object(z.jsx)(vh,{clusterName:e}),skipOnRender:!0}))},showClusterDetail:function(e,t){var n=this,a=s.currentView;if(a&&a instanceof Qo)this._showModal({modalName:t,view:a,getData:a.model});else{var c=Object(Ot.b)(r.getState()),u=i.hasProjectFeature("BAAS")&&!i.isNdsGovEnabled()&&yt.a.reloadApplications(c),d=Le.a.loadLiveImports(),p=ze.a.fetchProviderOptions(i.getCurrentGroupId()),f=new ri({settingsModel:i}),h=U.m.networkSettings.getPrivateIpMode(i.getCurrentGroupId()),m=rt.a.createClusterDetail(e);Object(Be.a)(Promise.all([m,d,p,h,f.fetch()])).then((function(e){var r=o()(e,4),a=r[0],c=r[1],d=r[2],p=r[3];if(a.getClusterDescription().isDeleting()||a.getClusterDescription().isCreating())Object(hi.a)("clusters");else{a.updateWithLiveImport(c);var h=Object(Bt.a)({loadSampleDatasetStatusCollection:f}),m=rt.a.createClusterDetailPoller(a),g=new Qo({model:a,clusterDetailPoller:m,settingsModel:i,liveImports:c,whenApplicationsLoaded:u,providerOptionsModel:d,isPrivateIPMode:p.enabled,loadSampleDatasetStatusCollection:f,loadSampleDatasetStatusPoller:h});g.listenTo(a.getClusterDescription(),"change:state",(function(){(a.getClusterDescription().isDeleting()||a.getClusterDescription().isCreating())&&Object(hi.a)("clusters")})),l("".concat(a.getClusterDescription().getName()," Overview")),s.show(g),n._showModal({modalName:t,view:g,getData:a})}}),(function(e){e&&e.responseJSON&&"INVALID_ARGUMENT"===e.responseJSON.errorCode&&Object(hi.a)("clusters")}))}},showClusterFormPathSelector:function(e){var t,n=e&&"true"===(null===(t=u.a.parse(e))||void 0===t?void 0:t.fromOnboarding);i.isNdsGovEnabled()?Object(hi.a)("clusters/edit"):!i.isInPersonalizationWizardTest()||n?(l("Choose a Path"),s.show(new ti.a({reactElement:Object(z.jsx)(Oh.a,null,Object(z.jsx)(qp,null)),skipOnRender:!0}))):Object(hi.a)(jh.a.PersonalizationWizard)},showClusterForm:function(e,t){var n;t&&(n=xi(t)),l("Create Cluster"),s.show(new ti.a({reactElement:Object(z.jsx)(Up,{clusterId:e,settingsModel:i,clusterBuilderFilterInterface:n}),skipOnRender:!0}))},_showModal:function(e){var t=e.modalName,n=e.queryString,r=e.view,s=e.getData,l=Object(mi.a)(decodeURIComponent(n)),c="function"==typeof s?s(l):s;if("connect"===t){if(!c)return;var u=ii.a.fetchUsers(),d=si.a.loadWhitelist(),p=ai.a.getPeerConnections(),f=li.a.getUserSecurity(i.getCurrentGroupId()),h=U.m.networkSettings.getPrivateIpMode(i.getCurrentGroupId()),m=U.m.privateEndpoint.getPrivateLinks(i.getCurrentGroupId()),g=U.m.awsCustomDNS.getAWSCustomDNSEnabled(i.getCurrentGroupId()),b=c.getClusterDescription().isTenant()?Promise.resolve([]):U.m.networkSettings.getPeerConnections(i.getCurrentGroupId(),c.getClusterDescription().getProvider()),v=U.m.onlineArchive.getOnlineArchives(i.getCurrentGroupId(),c.getClusterDescription().getName()),y=U.m.dataLakes.getDataLakes(i.getCurrentGroupId());return Promise.all([u,d,p,f,h,m,g,b,v,y]).then((function(e){var n=o()(e,10),s=n[0],l=n[1],u=n[2],d=n[3],p=n[4],f=n[5],h=n[6],m=n[7],g=n[8],b=n[9],v=p&&p.enabled,y=c.getClusterDescription(),O=y.getRegions(),x=y.getPrivateLinkSRVAddresses()?Object.keys(y.getPrivateLinkSRVAddresses()):void 0,j=f.filter((function(e){return O.includes(e.region.key)})),E=y.getProvider()===xh.a.AWS,S=!E||E&&h&&h.enabled,C=y.getPrivateSRVAddress()&&m.length>0&&S,_=m.some((function(e){return"AVAILABLE"===e.status})),A=g.filter((function(e){return"DELETED"!==e.archiveState})).length>0,N=hr.a.fromClusterDescription(y),T=b.filter((function(e){return e.name==="atlas-online-archive-".concat(y.getName())||e.name==="atlas-online-archive-".concat(y.getUniqueId())}))[0],w=T?hr.a.fromDataLakeTenant(T):void 0,P=r.insertModal(t,(function(e){return new ei.a({model:y,el:e,usersCollection:s,whitelistedIpCollection:l,peerConnectionCollection:u,settingsModel:i,userSecurity:d,showPrivateIpModeWarning:v,awsPrivateLinks:j,isClusterThreeFour:3.4===y.getMongoDBMajorVersion(),regions:O,horizons:x,context:a.a.history.location.hash.includes("detail")?"Clusters Detail":"Cluster List",showPrivateConnectionString:C,hasAvailablePeer:_,hasOnlineArchive:A,connectOptions:N,federatedConnectOptions:w})}));r.listenToOnce(P,"remove",(function(){var e=Object(gi.a)(document.location.hash,/\/connect\?clusterId=[^&]+/);a.a.history.navigate(e)}))}))}r.removeModal()}}))}},879:
/*!******************************************************************!*\
  !*** ./project/nds/clusters/components/NDSClusterForm/schema.js ***!
  \******************************************************************/
/*! exports provided: GEO_SHARDING_SHAPE, MONGODB_MAJOR_VERSION_SHAPE, CLUSTER_DESCRIPTION_SCHEMA, PROVIDER_OPTIONS_SCHEMA, CLUSTER_FORM_VALUES, INSTANCE_SIZE_SHAPE, AUTO_SCALING_SHAPE, DISK_SIZE_SHAPE, BI_CONNECTOR_SHAPE, BI_CONNECTOR_COST_ESTIMATE_SHAPE, BILLING_ESTIMATE_SHAPE, AVAILABLE_REGION_SHAPE, CLUSTER_TYPE, ISO_TO_ZONE_MAP_SCHEMA, ISO_TO_ZONE_SHAPE, REPLICATION_SPEC_SHAPE, REGIONS_CONFIG_SHAPE, DEFAULT_TEMPLATES_SHAPE, ZONE_COLORS, ZONE_COLORS_ORDER, ENCRYPTION_AT_REST_PROVIDER, PRIVATE_IP_MODE, INSTANCE_CLASS, PROCESS_ARGS_SCHEMA, CLUSTER_USAGE_STATS_SCHEMA, ZONE_TERMS, PROVIDER_TEXT, NODE_TYPE, BI_CONNECTOR_READ_PREFERENCE, CLUSTER_BUILDER_FILTER_INTERFACE */
/*! exports used: AUTO_SCALING_SHAPE, BILLING_ESTIMATE_SHAPE, BI_CONNECTOR_COST_ESTIMATE_SHAPE, BI_CONNECTOR_READ_PREFERENCE, BI_CONNECTOR_SHAPE, CLUSTER_BUILDER_FILTER_INTERFACE, CLUSTER_DESCRIPTION_SCHEMA, CLUSTER_FORM_VALUES, CLUSTER_TYPE, CLUSTER_USAGE_STATS_SCHEMA, DEFAULT_TEMPLATES_SHAPE, DISK_SIZE_SHAPE, ENCRYPTION_AT_REST_PROVIDER, GEO_SHARDING_SHAPE, INSTANCE_CLASS, INSTANCE_SIZE_SHAPE, ISO_TO_ZONE_MAP_SCHEMA, MONGODB_MAJOR_VERSION_SHAPE, NODE_TYPE, PRIVATE_IP_MODE, PROCESS_ARGS_SCHEMA, PROVIDER_OPTIONS_SCHEMA, PROVIDER_TEXT, REPLICATION_SPEC_SHAPE, ZONE_COLORS, ZONE_COLORS_ORDER, ZONE_TERMS */function(e,t,n){"use strict";n.d(t,"n",(function(){return c})),n.d(t,"r",(function(){return u})),n.d(t,"g",(function(){return _})),n.d(t,"v",(function(){return M})),n.d(t,"h",(function(){return L})),n.d(t,"p",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"l",(function(){return l})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return x})),n.d(t,"i",(function(){return E})),n.d(t,"q",(function(){return D})),n.d(t,"x",(function(){return O})),n.d(t,"k",(function(){return k})),n.d(t,"y",(function(){return A})),n.d(t,"z",(function(){return P})),n.d(t,"m",(function(){return S})),n.d(t,"t",(function(){return v})),n.d(t,"o",(function(){return C})),n.d(t,"u",(function(){return U})),n.d(t,"j",(function(){return F})),n.d(t,"A",(function(){return B})),n.d(t,"w",(function(){return z})),n.d(t,"s",(function(){return V})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return q}));var r=n(/*! underscore */2),o=n.n(r),i=n(/*! prop-types */3),a=n.n(i),s=n(/*! js/project/nds/common/components/regionSchema */896),l={type:a.a.string,iops:a.a.number,throughputMBPerSecond:a.a.number},c={managedNamespaces:a.a.arrayOf(a.a.shape({db:a.a.string,collection:a.a.string,customShardKey:a.a.string})),customZoneMapping:a.a.objectOf(a.a.string)},u={default:a.a.bool,deprecated:a.a.bool,name:a.a.string},d=(a.a.bool,a.a.arrayOf(a.a.string),{regionName:a.a.string,providerName:a.a.string,isBlacklisted:a.a.bool,availableFamilies:a.a.arrayOf(a.a.string),mtmMongoDBMajorVersion:a.a.shape(u)}),p={name:a.a.string,ram:a.a.number,defaultStorageGB:a.a.number,storageOptionsGB:a.a.arrayOf(a.a.number),minStorageGB:a.a.number,maxStorageGB:a.a.number,maxAllowedStorageGB:a.a.number,vCPU:a.a.number,baseDollarsPerHour:a.a.object,availableRegions:a.a.arrayOf(a.a.shape(d)),supportsSharding:a.a.bool,maxConns:a.a.number,networkingPerformance:a.a.string,maxIOPS:a.a.number,maxIOPSPerGB:a.a.number,maxStandardIOPS:a.a.number,minIOPS:a.a.number,minIOPSPerGB:a.a.number,isLowCPU:a.a.bool,highCPUEquivalent:a.a.string,hasInstanceFamilies:a.a.bool,isNVME:a.a.bool,isDeprecated:a.a.bool},f={enabled:a.a.bool,readPreference:a.a.string},h={PRIMARY:"primary",SECONDARY:"secondary",ANALYTICS:"analytics"},m={enabled:a.a.bool,scaleDownEnabled:a.a.bool,minInstanceSize:a.a.string,maxInstanceSize:a.a.string},g={enabled:a.a.bool},b={diskGB:a.a.shape(g),compute:a.a.shape(m)},v={enabled:a.a.bool},y={electableNodes:a.a.number,priority:a.a.number,readOnlyNodes:a.a.number,analyticsNodes:a.a.number,regionView:a.a.shape(s.a)},O={id:a.a.string,zoneName:a.a.string,numShards:a.a.number,regionsConfig:a.a.shape(y)},x={hourlyEstimateDollars:a.a.string.isRequired,monthlyEstimateDollars:a.a.string.isRequired,snapshotBackupEstimateDollars:a.a.string},j={biConnectorMaxDailyCents:a.a.number.isRequired,biConnectorMaxMonthlyCents:a.a.number.isRequired,biConnectorSustainedDailyCents:a.a.number.isRequired},E={REPLICASET:"REPLICASET",SHARDED:"SHARDED",GEOSHARDED:"GEOSHARDED"},S={AWS:"AWS",AZURE:"AZURE",GCP:"GCP",NONE:"NONE"},C={LOW_CPU:"lowCPU",HIGH_CPU:"highCPU",NVME:"NVMe"},_={"@provider":a.a.string.isRequired,autoScaling:a.a.shape(b).isRequired,backupEnabled:a.a.bool.isRequired,biConnector:a.a.shape(f).isRequired,clusterType:a.a.oneOf(Object.keys(E)),createDate:a.a.string,deleteAfterDate:a.a.string,diskBackupEnabled:a.a.bool.isRequired,diskIOPS:a.a.number,diskSizeGB:a.a.number.isRequired,diskType:a.a.string,encryptEBSVolume:a.a.bool,ebsVolumeType:a.a.oneOf(["gp2","io1"]),geoSharding:a.a.shape(c).isRequired,groupId:a.a.string,instanceSize:a.a.string.isRequired,isPaused:a.a.bool.isRequired,lastUpdateDate:a.a.string,maxIncomingConns:a.a.number,mongoDBMajorVersion:a.a.string.isRequired,mongoDBUriHosts:a.a.arrayOf(a.a.string).isRequired,mongoDBUriHostsLastUpdateDate:a.a.string.isRequired,mongoDBVersion:a.a.string.isRequired,name:a.a.string.isRequired,needsMongoDBConfigPublishAfter:a.a.string,replicationSpecs:a.a.arrayOf(a.a.shape(O)).isRequired,srvAddress:a.a.string,state:a.a.string.isRequired,tenantUpgrading:a.a.bool,tenantBackupEnabled:a.a.bool,uniqueId:a.a.string,encryptionAtRestProvider:a.a.oneOf(Object.keys(S))},A={BLACK:{r:53,g:58,b:60},CYAN:{alphaOptimal:.86,alphaExcellent:.51,alphaAcceptable:.25,r:26,g:255,b:216,zoneIndex:0},DEEP_BLUE:{alphaExcellent:.51,alphaAcceptable:.2,r:53,g:125,b:246,zoneIndex:7},DEEP_ORANGE:{alphaOptimal:.89,alphaExcellent:.59,alphaAcceptable:.29,r:255,g:104,b:29,zoneIndex:6},GREEN:{alphaOptimal:.88,alphaExcellent:.5,alphaAcceptable:.21,r:142,g:255,b:30,zoneIndex:5},ORANGE:{alphaOptimal:.92,alphaExcellent:.54,alphaAcceptable:.23,r:247,g:198,b:74,zoneIndex:2},PINK:{alphaOptimal:.91,alphaExcellent:.55,alphaAcceptable:.25,r:235,g:61,b:123,zoneIndex:4},RED:{alphaOptimal:.91,alphaExcellent:.62,alphaAcceptable:.25,r:233,g:59,b:47,zoneIndex:8},SKY_BLUE:{alphaExcellent:.61,alphaAcceptable:.29,r:28,g:217,b:255,zoneIndex:3},VIOLET:{alphaOptimal:.82,alphaAcceptable:.23,r:199,g:63,b:246,zoneIndex:1}};o.a.each(A,(function(e){e.rgb="rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")}));var N=o.a.pick(A,(function(e){return!o.a.isUndefined(e.zoneIndex)})),T=o.a.mapObject(N,(function(e,t){return{key:t,zoneIndex:e.zoneIndex}})),w=o.a.sortBy(T,(function(e){return e.zoneIndex})),P=o.a.map(w,(function(e){return e.key})),R={country:a.a.string.isRequired,isoCode:a.a.string.isRequired,latency:a.a.number.isRequired,readableName:a.a.string.isRequired,replicationSpecId:a.a.string.isRequired,typeOneIsoCode:a.a.string.isRequired},I=a.a.shape(R),D=a.a.objectOf(I),k={m0:a.a.shape(_),replicaSet:a.a.shape(_),geoSharded3Zone:a.a.shape(_),geoSharded6Zone:a.a.shape(_)},M={"@provider":a.a.string.isRequired,diskSizes:a.a.objectOf(a.a.shape(l)),instanceSizes:a.a.objectOf(a.a.shape(p)),minDevelopmentInstanceSize:a.a.string,minProductionInstanceSize:a.a.string,minShardingInstanceSize:a.a.string,mongodbMajorVersions:a.a.arrayOf(a.a.shape(u)).isRequired,mongoDBMajorVersionsSubtext:a.a.objectOf(a.a.string),regions:a.a.arrayOf(a.a.shape(s.a)).isRequired},L={"@provider":a.a.string.isRequired,clusterType:a.a.oneOf(Object.keys(E)),replicationSpecs:a.a.arrayOf(a.a.shape(O)).isRequired,geoSharding:a.a.shape(c).isRequired,instanceSize:a.a.string.isRequired,diskIOPS:a.a.number,diskSizeGB:a.a.number.isRequired,diskType:a.a.string,ebsVolumeType:a.a.oneOf(["gp2","io1"]),encryptEBSVolume:a.a.bool,autoScaling:a.a.shape(b).isRequired,biConnector:a.a.shape(f).isRequired,encryptionAtRestProvider:a.a.oneOf(Object.keys(S)).isRequired,mongoDBMajorVersion:a.a.string.isRequired,backupEnabled:a.a.bool.isRequired,diskBackupEnabled:a.a.bool.isRequired,pitEnabled:a.a.bool.isRequired,tenantBackupEnabled:a.a.bool,name:a.a.string.isRequired},U={oplogSizeMB:a.a.number,noTableScan:a.a.bool,failIndexKeyTooLong:a.a.bool,minimumEnabledTlsProtocol:a.a.string,javascriptEnabled:a.a.bool,sampleSizeBIConnector:a.a.number,sampleRefreshIntervalBIConnector:a.a.number},F={clusterMaxDiskUsageMB:a.a.number,currentOplogUsageSizeMB:a.a.number},B={AWS:"availability zone",AZURE:"fault domain",GCP:"zone"},z={AZURE:"Azure",AWS:"AWS",GCP:"GCP"},V={ELECTABLE:"ELECTABLE",READ_ONLY:"READ_ONLY",ANALYTICS:"ANALYTICS"},q={isInstanceSizeVisible:a.a.func.isRequired,isRegionVisible:a.a.func.isRequired,isGlobalConfigurationVisible:a.a.bool.isRequired,isMultiRegionConfigurationVisible:a.a.bool.isRequired,isVersionSelectionVisible:a.a.func.isRequired,advancedOptions:a.a.shape({shardingVisible:a.a.bool.isRequired,otherOptionsVisible:a.a.bool.isRequired}).isRequired,providerTemplateKey:a.a.string.isRequired,fromPathSelector:a.a.bool.isRequired}},885:
/*!***********************************************************************!*\
  !*** ./project/nds/clusters/util/replicationSpecUtils.ts + 1 modules ***!
  \***********************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/defineProperty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/deepClone.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/bson/dist/bson.browser.umd.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/underscore/underscore.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r,o,i=n(4),a=n.n(i),s=n(2),l=n.n(s),c=n(933),u=n(301);!function(e){e.io1="io1",e.gp2="gp2"}(r||(r={})),function(e){e.P4="P4",e.P6="P6",e.P10="P10",e.P15="P15",e.P20="P20",e.P30="P30",e.P40="P40",e.P50="P50"}(o||(o={}));var d={electableNodes:0,priority:0,readOnlyNodes:0,analyticsNodes:0,regionView:{continent:"",key:"",location:"",name:""}};function p(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=[3,5,7],m=/^[a-zA-Z0-9][a-zA-Z0-9-_ ]*$/;function g(e){var t=Object(u.a)(e);return Object.values(t.regionsConfig).forEach((function(e){0===e.electableNodes&&0===e.readOnlyNodes&&0===e.analyticsNodes&&delete t.regionsConfig[e.regionView.key]})),t}function b(e,t,n,r){var o=Object(u.a)(e);return o.regionsConfig[n][r]=t,o}function v(e,t,n){var r=Object(u.a)(e);return n.forEach((function(e){r.regionsConfig[t][e]=0})),function(e){var t=e.regionsConfig,n=Object.keys(t).filter((function(e){return t[e].priority>0})).sort((function(e,n){return t[n].priority-t[e].priority})),r=7;return n.forEach((function(e){t[e].priority=r,r--})),e}(g(r))}function y(e,t,n,r,o){var i=e.regionsConfig[r],a=Object(u.a)(d);if(e.regionsConfig[n]){var s=e.regionsConfig[n];Object.keys(s).forEach((function(e){a[e]=s[e]})),a.regionView=Object(u.a)(s.regionView)}else Object.keys(d).forEach((function(e){a[e]=0})),a.regionView=Object(u.a)(t.find((function(e){return e.key===n})));o.forEach((function(e){a[e]=i[e]}));var l=Object(u.a)(e);return l.regionsConfig[n]=a,o.forEach((function(e){l.regionsConfig[r][e]=0})),g(l)}function O(e,t,n){var r=Object(u.a)(e),o=e.regionsConfig[t.key],i=Object(u.a)(d);return Object.keys(d).forEach((function(e){void 0!==o&&(i[e]=o[e])})),Object.keys(n).forEach((function(e){i[e]=n[e]})),i.regionView=t,r.regionsConfig[t.key]=i,r}t.a={MAX_PRIORITY:7,MAX_NUM_REPLICATION_SPECS:9,MAX_NUM_SHARDS:50,arePreferredRegionsAndZoneNamesEqual:function(e,t){var n=this,r=e.map((function(e){return n.getPreferredRegion(e).regionView.key})),o=e.map((function(e){return e.zoneName})),i=t.map((function(e){return n.getPreferredRegion(e).regionView.key})),a=t.map((function(e){return e.zoneName}));return l.a.isEqual(r,i)&&l.a.isEqual(o,a)},hasAllCorrectlyComposedZoneNames:function(e){var t=this;return e.every((function(e){return t.isZoneNameComposedCorrectly(e.zoneName)}))},hasValidZoneNames:function(e){var t,n=[],r=p(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(n.includes(o.zoneName)||!this.isZoneNameComposedCorrectly(o.zoneName))return!1;n.push(o.zoneName)}}catch(e){r.e(e)}finally{r.f()}return!0},isSingleSpecValid:function(e,t){var n=this.isZoneNameValid(e,t.id,t.zoneName),r=this.hasValidElectableNodes(t)&&this.hasValidTotalNodes(t);return n&&r},hasValidNumberOfShards:function(e){return this.getTotalShards(e)<=this.MAX_NUM_SHARDS},isValid:function(e,t){var n=this,r=e.every((function(e){return n.hasValidElectableNodes(e)&&n.hasValidTotalNodes(e)}),!0),o=this.hasValidNumberOfShards(e);return"GEOSHARDED"===t?this.hasValidZoneNames(e)&&r&&o:r&&o},isZoneNameComposedCorrectly:function(e){return e.length<=20&&m.test(e)},isZoneNameValid:function(e,t,n){return this.isZoneNameComposedCorrectly(n)&&e.every((function(e){return e.id===t||e.zoneName!==n}))},hasMaxNumReplicationSpecs:function(e){return e.length===this.MAX_NUM_REPLICATION_SPECS},updateReplicationSpecInList:function(e,t){var n=Object(u.a)(e),r=this.getReplicationSpecIndexFromId(e,t.id);if(-1===r)throw new Error("Replication spec could not be found with ID (".concat(t.id,")"));return n[r]=t,n},getReplicationSpecIndexFromId:function(e,t){return e.findIndex((function(e){return e.id===t}))},getReplicationSpecFromId:function(e,t){return e.find((function(e){return e.id===t}))},getAllUniqueSpecRegions:function(e){return l.a.unique(e.map((function(e){return Object.keys(e.regionsConfig)})).reduce((function(e,t){return e.concat(t)}),[]))},hasBlacklistedRegion:function(e,t){return e.some((function(e){var n=e.regionsConfig;return Object.keys(n).some((function(e){var r=n[e].regionView.provider,o=t.availableRegions.find((function(t){return t.regionName===e&&t.providerName===r}));return o&&o.isBlacklisted}))}))},hasInstanceFamily:function(e,t){return e.some((function(e){var n=e.regionsConfig;return Object.keys(n).some((function(e){var r=n[e].regionView.provider,o=t.availableRegions.find((function(t){return t.regionName===e&&t.providerName===r}));return o&&o.availableFamilies.length>0}))}))},hasCommonInstanceFamily:function(e,t){var n=t.availableRegions,r={},o=0;return e.forEach((function(e){var t=e.regionsConfig;Object.keys(t).forEach((function(e){o++;var i=t[e].regionView.provider,a=n.find((function(t){return t.regionName===e&&t.providerName===i}));a&&a.availableFamilies.forEach((function(e){e in r?r[e]++:r[e]=1}))}))})),Object.values(r).some((function(e){return e===o}))},hasValidElectableNodes:function(e){var t=this.getTotalElectableNodes(e);return-1!==h.indexOf(t)},hasValidTotalNodes:function(e){return this.getTotalNodes(e)<=50},hasLongElections:function(e){return Object.values(e.regionsConfig).filter((function(e){return e.electableNodes>0})).reduce((function(e,t){var n=t.regionView.continent;return-1===e.indexOf(n)&&e.push(n),e}),[]).length>1},isCrossRegionEnabled:function(e){var t=this.hasMultipleRegions(e),n=3!==this.getTotalElectableNodes(e),r=3!==this.getTotalNodes(e);return t||n||r},hasMultipleRegions:function(e){return Object.keys(e.regionsConfig).length>1},handlesPartialOutage:function(e){var t=Object.values(e.regionsConfig),n=t.some((function(e){return!0===e.regionView.isRecommended&&e.electableNodes>=3})),r=this.getTotalElectableNodes(e),o=t.filter((function(e){return e.electableNodes>0})).length;return n||r>=3&&o>=2},handlesFullOutage:function(e){var t=this.getTotalElectableNodes(e);return Object.values(e.regionsConfig).every((function(e){return t-e.electableNodes>=t/2}))},isConfiguredForGlobalReads:function(e,t){var n=this;return e.every((function(e){if(e.id===t.id)return!0;var r=n.getPreferredRegion(e).regionView.key;return r in t.regionsConfig&&(t.regionsConfig[r].readOnlyNodes>0||t.regionsConfig[r].electableNodes>0)}))},areAllConfiguredForGlobalReads:function(e){var t=this;return e.every((function(n){return t.isConfiguredForGlobalReads(e,n)}))},configureGlobalReads:function(e){var t=this,n=Object(u.a)(e),r=this.getPreferredRegionSpecs(n);return n.forEach((function(e){r.forEach((function(n){var r=n.regionView.key;e.regionsConfig[r]&&(e.regionsConfig[r].priority===t.MAX_PRIORITY||e.regionsConfig[r].readOnlyNodes>0)||(e.regionsConfig[r]={electableNodes:0,readOnlyNodes:1,analyticsNodes:0,priority:0,regionView:n.regionView})}))})),n},getTotalShards:function(e){return e.reduce((function(e,t){return e+t.numShards}),0)},getTotalNodes:function(e){return Object.values(e.regionsConfig).reduce((function(e,t){return e+t.electableNodes+t.readOnlyNodes+t.analyticsNodes}),0)},getTotalAnalyticsNodes:function(e){return Object.values(e.regionsConfig).reduce((function(e,t){return e+t.analyticsNodes}),0)},getTotalReadOnlyNodes:function(e){return Object.values(e.regionsConfig).reduce((function(e,t){return e+t.readOnlyNodes}),0)},getTotalElectableNodes:function(e){return Object.values(e.regionsConfig).reduce((function(e,t){return e+t.electableNodes}),0)},getPreferredRegion:function(e){var t=this;return Object.values(e.regionsConfig).find((function(e){return e.priority===t.MAX_PRIORITY}))},getPreferredRegionName:function(e){return this.getPreferredRegion(e).regionView.key},getPreferredRegionNameReadable:function(e){return this.getPreferredRegion(e).regionView.location},getPreferredRegionDisplayText:function(e){var t=this.getPreferredRegion(e).regionView.name;return"".concat(this.getPreferredRegionNameReadable(e)," (").concat(t,")")},getBackingCloudProvider:function(e){var t=this,n=e.reduce((function(e,n){return t.getPreferredRegion(e).regionView.provider===t.getPreferredRegion(n).regionView.provider?e:void 0}));return n?this.getPreferredRegion(n).regionView.provider:void 0},getElectableRegionSpecs:function(e){return Object.values(e.regionsConfig).filter((function(e){return e.electableNodes>0}))},getReadOnlyRegionSpecs:function(e){return Object.values(e.regionsConfig).filter((function(e){return e.readOnlyNodes>0}))},getAnalyticsRegionSpecs:function(e){return Object.values(e.regionsConfig).filter((function(e){return e.analyticsNodes>0}))},getPreferredRegionSpecs:function(e){var t=this;return e.map((function(e){return t.getPreferredRegion(e)}))},getUnusedElectableRegions:function(e,t){var n=this.getElectableRegionSpecs(e).map((function(e){return e.regionView.key}));return t.filter((function(e){return-1===n.indexOf(e.key)}))},getUnusedReadOnlyRegions:function(e,t){var n=this.getReadOnlyRegionSpecs(e).map((function(e){return e.regionView.key})),r=this.getPreferredRegionName(e);return t.filter((function(e){return-1===n.indexOf(e.key)})).sort((function(e,t){return Number(e.key===r)-Number(t.key===r)}))},getUnusedAnalyticsRegions:function(e,t){var n=this.getAnalyticsRegionSpecs(e).map((function(e){return e.regionView.key})),r=this.getElectableRegionSpecs(e).reduce((function(e,t){return e[t.regionView.key]=t.priority,e}),{});return t.filter((function(e){return-1===n.indexOf(e.key)})).sort((function(e,t){return(r[t.key]||0)-(r[e.key]||0)}))},getUnusedPreferredRegions:function(e,t){var n=this.getPreferredRegionSpecs(e).map((function(e){return e.regionView.key}));return t.filter((function(e){return-1===n.indexOf(e.key)}))},getPreferredRegionOfUnusedContinents:function(e,t){var n=this.getPreferredRegionSpecs(e).map((function(e){return e.regionView.continent}));return t.filter((function(e){return-1===n.indexOf(e.continent)}))},getNextPriority:function(e){return l.a.min(Object.values(e.regionsConfig).map((function(e){return e.priority})).filter((function(e){return e>0})))-1},areSpecsEqual:function(e,t){function n(e){return delete e.id,e}var r=Object(u.a)(e).map(n),o=Object(u.a)(t).map(n);return l.a.isEqual(r,o)},addNewReplicationSpec:function(e,t){var n,r=this.getPreferredRegionOfUnusedContinents(e,t);n=r.length>0?r:this.getUnusedPreferredRegions(e,t);for(var o=e.map((function(e){return e.zoneName})),i=1;-1!==o.indexOf("Zone ".concat(i));)i++;var s=n[Math.floor(Math.random()*n.length)],l={id:(new c.ObjectID).toString(),numShards:1,zoneName:"Zone ".concat(i),regionsConfig:a()({},s.key,{electableNodes:3,priority:7,readOnlyNodes:0,analyticsNodes:0,regionView:s})},d=Object(u.a)(e);return d.push(l),d},deleteReplicationSpec:function(e,t){var n=Object(u.a)(e),r=e.indexOf(e.find((function(e){return e.id===t})));return n.splice(r,1),n},addNewElectableRegion:function(e,t){return O(e,this.getUnusedElectableRegions(e,t)[0],{electableNodes:2,priority:this.getNextPriority(e)})},addNewReadOnlyRegion:function(e,t){return O(e,this.getUnusedReadOnlyRegions(e,t)[0],{readOnlyNodes:1})},addNewAnalyticsRegion:function(e,t){return O(e,this.getUnusedAnalyticsRegions(e,t)[0],{analyticsNodes:1})},removeElectableRegion:function(e,t){return v(e,t,["electableNodes","priority"])},removeReadOnlyRegion:function(e,t){return v(e,t,["readOnlyNodes"])},removeAnalyticsRegion:function(e,t){return v(e,t,["analyticsNodes"])},changeElectableNodes:function(e,t,n){return b(e,t,n,"electableNodes")},changeReadOnlyNodes:function(e,t,n){return b(e,t,n,"readOnlyNodes")},changeAnalyticsNodes:function(e,t,n){return b(e,t,n,"analyticsNodes")},changeElectableRegion:function(e,t,n,r){return y(e,t,n,r,["electableNodes","priority"])},changeReadOnlyRegion:function(e,t,n,r){return y(e,t,n,r,["readOnlyNodes"])},changeAnalyticsRegion:function(e,t,n,r){return y(e,t,n,r,["analyticsNodes"])},convertToSingleRegion:function(e){var t=this.getPreferredRegion(e),n=Object(u.a)(t);n.electableNodes=3,n.readOnlyNodes=0,n.analyticsNodes=0;var r=Object(u.a)(e);return r.regionsConfig={},r.regionsConfig[t.regionView.key]=n,r},getZoneWithPreferredRegion:function(e,t){var n=this,r=e.find((function(e){return n.getPreferredRegionName(e)===t}));return r?r.zoneName:void 0}}},886:
/*!******************************************************!*\
  !*** ./project/common/extensions/mixins/tooltips.js ***!
  \******************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";n(/*! bootstrap */299);var r=n(/*! underscore */2),o=n.n(r),i=n(/*! jquery */10),a=n.n(i),s=n(/*! js/project/common/util/mixinBeforeExtension */100);t.a=Object(s.a)({initialize:function(){var e=this;this.on("render",(function(){e.$('[data-toggle="tooltip"]').each((function(t,n){var r=a()(n),i=r.find("[data-tooltip-content]");if(i.length){var s=o.a.extend({},e.tooltipOptions,{title:i.html(),html:!0});r.tooltip(s)}else r.tooltip(e.tooltipOptions);i.attr("hidden",!0)}))})),this.on("before:render before:destroy destroy remove",(function(){var t=e.$('[data-toggle="tooltip"]');t.length>0&&t.tooltip("destroy").remove()}))}})},888:
/*!*********************************************************!*\
  !*** ../node_modules/d3-selection/dist/d3-selection.js ***!
  \*********************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e){"use strict";var t="http://www.w3.org/1999/xhtml",n={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function r(e){var t=e+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=e.slice(0,r))&&(e=e.slice(r+1)),n.hasOwnProperty(t)?{space:n[t],local:e}:e}function o(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===t&&n.documentElement.namespaceURI===t?n.createElement(e):n.createElementNS(r,e)}}function i(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function a(e){var t=r(e);return(t.local?i:o)(t)}function s(){}function l(e){return null==e?s:function(){return this.querySelector(e)}}function c(){return[]}function u(e){return null==e?c:function(){return this.querySelectorAll(e)}}function d(e){return function(){return this.matches(e)}}function p(e){return new Array(e.length)}function f(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function h(e,t,n,r,o,i){for(var a,s=0,l=t.length,c=i.length;s<c;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new f(e,i[s]);for(;s<l;++s)(a=t[s])&&(o[s]=a)}function m(e,t,n,r,o,i,a){var s,l,c,u={},d=t.length,p=i.length,h=new Array(d);for(s=0;s<d;++s)(l=t[s])&&(h[s]=c="$"+a.call(l,l.__data__,s,t),c in u?o[s]=l:u[c]=l);for(s=0;s<p;++s)(l=u[c="$"+a.call(e,i[s],s,i)])?(r[s]=l,l.__data__=i[s],u[c]=null):n[s]=new f(e,i[s]);for(s=0;s<d;++s)(l=t[s])&&u[h[s]]===l&&(o[s]=l)}function g(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function b(e){return function(){this.removeAttribute(e)}}function v(e){return function(){this.removeAttributeNS(e.space,e.local)}}function y(e,t){return function(){this.setAttribute(e,t)}}function O(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function x(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function j(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function E(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function S(e){return function(){this.style.removeProperty(e)}}function C(e,t,n){return function(){this.style.setProperty(e,t,n)}}function _(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function A(e,t){return e.style.getPropertyValue(t)||E(e).getComputedStyle(e,null).getPropertyValue(t)}function N(e){return function(){delete this[e]}}function T(e,t){return function(){this[e]=t}}function w(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function P(e){return e.trim().split(/^|\s+/)}function R(e){return e.classList||new I(e)}function I(e){this._node=e,this._names=P(e.getAttribute("class")||"")}function D(e,t){for(var n=R(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function k(e,t){for(var n=R(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function M(e){return function(){D(this,e)}}function L(e){return function(){k(this,e)}}function U(e,t){return function(){(t.apply(this,arguments)?D:k)(this,e)}}function F(){this.textContent=""}function B(e){return function(){this.textContent=e}}function z(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function V(){this.innerHTML=""}function q(e){return function(){this.innerHTML=e}}function G(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function H(){this.nextSibling&&this.parentNode.appendChild(this)}function W(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Y(){return null}function K(){var e=this.parentNode;e&&e.removeChild(this)}function Z(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}f.prototype={constructor:f,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},I.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var X={};function J(e,t,n){return e=Q(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function Q(t,n,r){return function(o){var i=e.event;e.event=o;try{t.call(this,this.__data__,n,r)}finally{e.event=i}}}function ee(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function te(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?t.length=o:delete this.__on}}}function ne(e,t,n){var r=X.hasOwnProperty(e.type)?J:Q;return function(o,i,a){var s,l=this.__on,c=r(t,i,a);if(l)for(var u=0,d=l.length;u<d;++u)if((s=l[u]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=t);this.addEventListener(e.type,c,n),s={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function re(e,t,n){var r=E(e),o=r.CustomEvent;"function"==typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function oe(e,t){return function(){return re(this,e,t)}}function ie(e,t){return function(){return re(this,e,t.apply(this,arguments))}}e.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(X={mouseenter:"mouseover",mouseleave:"mouseout"}));var ae=[null];function se(e,t){this._groups=e,this._parents=t}function le(){return new se([[document.documentElement]],ae)}function ce(e){return"string"==typeof e?new se([[document.querySelector(e)]],[document.documentElement]):new se([[e]],ae)}se.prototype=le.prototype={constructor:se,select:function(e){"function"!=typeof e&&(e=l(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=t[o],c=s.length,u=r[o]=new Array(c),d=0;d<c;++d)(i=s[d])&&(a=e.call(i,i.__data__,d,s))&&("__data__"in i&&(a.__data__=i.__data__),u[d]=a);return new se(r,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=u(e));for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a,s=t[i],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(e.call(a,a.__data__,c,s)),o.push(a));return new se(r,o)},filter:function(e){"function"!=typeof e&&(e=d(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,a=t[o],s=a.length,l=r[o]=[],c=0;c<s;++c)(i=a[c])&&e.call(i,i.__data__,c,a)&&l.push(i);return new se(r,this._parents)},data:function(e,t){if(!e)return g=new Array(this.size()),u=-1,this.each((function(e){g[++u]=e})),g;var n,r=t?m:h,o=this._parents,i=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=i.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=o[u],p=i[u],f=p.length,g=e.call(d,d&&d.__data__,u,o),b=g.length,v=l[u]=new Array(b),y=s[u]=new Array(b);r(d,p,v,y,c[u]=new Array(f),g,t);for(var O,x,j=0,E=0;j<b;++j)if(O=v[j]){for(j>=E&&(E=j+1);!(x=y[E])&&++E<b;);O._next=x||null}}return(s=new se(s,o))._enter=l,s._exit=c,s},enter:function(){return new se(this._enter||this._groups.map(p),this._parents)},exit:function(){return new se(this._exit||this._groups.map(p),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(o=t(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var l,c=t[s],u=n[s],d=c.length,p=a[s]=new Array(d),f=0;f<d;++f)(l=c[f]||u[f])&&(p[f]=l);for(;s<r;++s)a[s]=t[s];return new se(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=g);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],l=s.length,c=o[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(t)}return new se(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this},attr:function(e,t){var n=r(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?v:b:"function"==typeof t?n.local?j:x:n.local?O:y)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?S:"function"==typeof t?_:C)(e,t,null==n?"":n)):A(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?N:"function"==typeof t?w:T)(e,t)):this.node()[e]},classed:function(e,t){var n=P(e+"");if(arguments.length<2){for(var r=R(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof t?U:t?M:L)(n,t))},text:function(e){return arguments.length?this.each(null==e?F:("function"==typeof e?z:B)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?V:("function"==typeof e?G:q)(e)):this.node().innerHTML},raise:function(){return this.each(H)},lower:function(){return this.each(W)},append:function(e){var t="function"==typeof e?e:a(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:a(e),r=null==t?Y:"function"==typeof t?t:l(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(K)},clone:function(e){return this.select(e?$:Z)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=ee(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?ne:te,null==n&&(n=!1),r=0;r<a;++r)this.each(s(i[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?ie:oe)(e,t))}};var ue=0;function de(){return new pe}function pe(){this._="@"+(++ue).toString(36)}function fe(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n}function he(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}pe.prototype=de.prototype={constructor:pe,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}},e.clientPoint=he,e.create=function(e){return ce(a(e).call(document.documentElement))},e.creator=a,e.customEvent=function(t,n,r,o){var i=e.event;t.sourceEvent=e.event,e.event=t;try{return n.apply(r,o)}finally{e.event=i}},e.local=de,e.matcher=d,e.mouse=function(e){var t=fe();return t.changedTouches&&(t=t.changedTouches[0]),he(e,t)},e.namespace=r,e.namespaces=n,e.select=ce,e.selectAll=function(e){return"string"==typeof e?new se([document.querySelectorAll(e)],[document.documentElement]):new se([null==e?[]:e],ae)},e.selection=le,e.selector=l,e.selectorAll=u,e.style=A,e.touch=function(e,t,n){arguments.length<3&&(n=t,t=fe().changedTouches);for(var r,o=0,i=t?t.length:0;o<i;++o)if((r=t[o]).identifier===n)return he(e,r);return null},e.touches=function(e,t){null==t&&(t=fe().touches);for(var n=0,r=t?t.length:0,o=new Array(r);n<r;++n)o[n]=he(e,t[n]);return o},e.window=E,Object.defineProperty(e,"__esModule",{value:!0})}(t)},889:
/*!**************************************************************!*\
  !*** ./project/nds/clusters/util/clusterDescriptionUtils.js ***!
  \**************************************************************/
/*! exports provided: MAX_PAUSED_DAYS, isNameValid, isNameUnique, getDefaultProvider, hasFreeCluster, isShardedCluster, isGeoShardedCluster, isFreeCluster, isTenantCluster, getInstanceSizeDisplay, getInstanceSizeDisplayWithClass, formatDiskSizeString, shouldDisableActions, isDiskBackupAllowed, getMinProvisionedIOPS, getMaxReadIOPS, getMaxWriteIOPS, getStandardIOPS, getProvisionedIOPS, getMaxProvisionedIOPS, getMappedAzureDiskSizeGB, calculateThroughput, ensureDiskSizeInBound, calculateMaxAllowedOplogSizeMB, getDefaultOplogSizeMB, isOplogSizeMBValid, getOplogSizeMBErrorMsg, isNVMe, getTotalAnalyticsNodes, allowContinuousBackupForVersion, usesIndexKeyLimit, getDefaultComputeAutoScaling */
/*! exports used: MAX_PAUSED_DAYS, allowContinuousBackupForVersion, calculateMaxAllowedOplogSizeMB, calculateThroughput, ensureDiskSizeInBound, formatDiskSizeString, getDefaultComputeAutoScaling, getDefaultOplogSizeMB, getDefaultProvider, getInstanceSizeDisplay, getInstanceSizeDisplayWithClass, getMappedAzureDiskSizeGB, getMaxProvisionedIOPS, getMaxReadIOPS, getMaxWriteIOPS, getMinProvisionedIOPS, getOplogSizeMBErrorMsg, getStandardIOPS, getTotalAnalyticsNodes, hasFreeCluster, isDiskBackupAllowed, isFreeCluster, isGeoShardedCluster, isNVMe, isNameUnique, isNameValid, isOplogSizeMBValid, isShardedCluster, isTenantCluster, shouldDisableActions, usesIndexKeyLimit */function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"z",(function(){return h})),n.d(t,"y",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"t",(function(){return b})),n.d(t,"B",(function(){return v})),n.d(t,"w",(function(){return y})),n.d(t,"v",(function(){return O})),n.d(t,"C",(function(){return x})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return E})),n.d(t,"f",(function(){return S})),n.d(t,"D",(function(){return C})),n.d(t,"u",(function(){return _})),n.d(t,"p",(function(){return A})),n.d(t,"n",(function(){return N})),n.d(t,"o",(function(){return T})),n.d(t,"r",(function(){return w})),n.d(t,"m",(function(){return P})),n.d(t,"l",(function(){return R})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return D})),n.d(t,"c",(function(){return k})),n.d(t,"h",(function(){return M})),n.d(t,"A",(function(){return L})),n.d(t,"q",(function(){return U})),n.d(t,"x",(function(){return F})),n.d(t,"s",(function(){return B})),n.d(t,"b",(function(){return z})),n.d(t,"E",(function(){return V})),n.d(t,"g",(function(){return q}));var r=n(/*! @babel/runtime/helpers/defineProperty */4),o=n.n(r),i=n(/*! underscore */2),a=n.n(i),s=n(/*! ./replicationSpecUtils */885),l=n(/*! js/project/nds/clusters/components/NDSClusterForm/schema */879);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=/^[a-zA-Z0-9][a-zA-Z0-9-]*$/;function p(e,t){return e.reduce((function(e,t){return e[s.a.getBackingCloudProvider(t.replicationSpecs)]++,e}),t)}var f=30;function h(e){return""!==e&&d.test(e)}function m(e,t){return!t.find((function(t){return t===e}))}function g(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return 0===e.length?n?"GCP":"AWS":(t=p(e,n?{GCP:0,AZURE:0}:{AWS:0,GCP:0,AZURE:0}),a.a.max(Object.keys(t),(function(e){return t[e]})))}function b(e){return e.some((function(e){return"M0"===e.instanceSize}))}function v(e){return e===l.i.SHARDED||e===l.i.GEOSHARDED}function y(e){return e===l.i.GEOSHARDED}function O(e){return"M0"===e}function x(e){return-1!==["M0","M2","M5"].indexOf(e)}function j(e){return e&&e.replace(/_NVME$/,"").replace(/^R/,"M").replace(/^M0$/,"M0 Sandbox")}function E(e,t,n){var r,o=j(e);return r=t?"Low CPU":n?"NVMe SSD":"General","".concat(o," (").concat(r,")")}function S(e){return e<1?"".concat(1024*e," MB"):"".concat(e," GB")}function C(e){return e.isDeleting()||e.isCreating()||e.isPaused()||e.isTenantUpgrading()||e.isDecomposedShardedCluster()}function _(e){return"AZURE"===e||"AWS"===e||"GCP"===e}function A(e,t){var n=e.minIOPS,r=e.minIOPSPerGB,o=Math.max(n,r*t),i=e.maxIOPS||e.maxStandardIOPS;return Math.min(o,i)}function N(e,t){var n=e.maxReadIOPS,r=e.readIopsPerGB;return Math.min(r*t,n)}function T(e,t){var n=e.maxWriteIOPS,r=e.writeIopsPerGB;return Math.min(r*t,n)}function w(e,t){var n=A(e,t),r=e.maxStandardIOPS;return Math.min(n,r)}function P(e,t){var n=e.maxIOPS,r=e.maxIOPSPerGB;return Math.min(n,r*t)}function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n?e.storageOptionsGB:e.storageOptionsGB.filter((function(t){return t<=e.maxAllowedStorageGB})),o=r.map((function(e){return Math.abs(e-t)})),i=o.reduce((function(e,t){return Math.min(e,t)}),Number.MAX_VALUE);return r[o.indexOf(i)]}function I(e,t,n,r){if("AZURE"===e["@provider"]){var o=R(n,t,r),i=e.diskSizes[o],a=n.maxThroughput;if(i)return a&&Math.min(i.throughputMBPerSecond,a)||0}return 0}function D(e,t,n){var r=n;return n<=e?r=e:n>=t&&(r=t),r}function k(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=1024*e*.75-(t-n);return Math.max(Math.floor(i),r||Math.floor(M(e,o)))}function M(e,t){var n=Math.floor(1024*e*(t?.1:.05));return Math.min(Math.max(990,n),51200)}function L(e,t,n,r,o,i,a){return""===U(e,t,n,i,k(n,r,o,t.oplogSizeMB,a),a)}function U(e,t,n,r,o,i){var a=e.oplogSizeMB;if(null==a&&null==t.oplogSizeMB)return"";if(null==a&&null!=t.oplogSizeMB)return"Your oplog size cannot be empty";if(a<=0)return"Your oplog size cannot be less than or equal to 0";if(!/^\d+$/.test(a))return"Your oplog size is not an integer";if(parseFloat(r)>=3.6&&a<990)return"Your oplog size cannot be changed to < ".concat(990," MB on MongoDB 3.6+");var s=Math.min(1024*n*.1,51200);return i&&a<s?"Your oplog size must be at least ".concat(s," MB for instances using local NVMe SSDs."):a>o?"\n        Your oplog size cannot exceed ".concat(o.toLocaleString()," MB available. Atlas requires at least\n        25% of free disk space for usage excluding the oplog. Consider upgrading your disk size if you need a larger\n        oplog."):""}function F(e,t,n){return!!e[t].instanceSizes[n].isNVMe}function B(e){return e.reduce((function(e,t){return e+s.a.getTotalAnalyticsNodes(t)}),0)}function z(e){return parseFloat(e)<4.2}function V(e){return parseFloat(e)<=4}function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({},e),{},{enabled:!1,scaleDownEnabled:!1,minInstanceSize:null,maxInstanceSize:null})}},890:
/*!**********************************************!*\
  !*** ./common/components/CopyableCommand.js ***!
  \**********************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @babel/runtime/helpers/defineProperty */4),o=n.n(r),i=(n(/*! react */8),n(/*! prop-types */3)),a=n.n(i),s=n(/*! classnames */22),l=n.n(s),c=n(/*! js/common/components/CopyButton */906),u=n(/*! @emotion/core */1);function d(e){var t=e.copyableText,n=e.compact,r=e.commandClassName,i=e.buttonClassName,a=e.inheritLineHeight,s=e.preserveWhiteSpace,d=e.scrollVertically,p=e.wrap,f=e.onClick;return Object(u.jsx)("div",{className:l()("copy-command",o()({},r,!!r))},Object(u.jsx)("span",{className:l()("copy-command-text",{"copy-command-text-has-inherit-line-height":a},{"copy-command-text-preserves-white-space":s&&!p},{"copy-command-text-does-wrap":p},{"copy-command-text-is-compact":n},{"copy-command-text-is-full-width":!n},{"copy-command-text-is-scrollable":!n},{"copy-command-text-is-scrollable-vertically":d})},e.children||t),Object(u.jsx)(c.a,{className:i,copyableText:t,compact:n,onClick:f}))}d.propTypes={copyableText:a.a.string.isRequired,compact:a.a.bool,commandClassName:a.a.string,children:a.a.node,inheritLineHeight:a.a.bool,preserveWhiteSpace:a.a.bool,scrollVertically:a.a.bool,wrap:a.a.bool,onClick:a.a.func,buttonClassName:a.a.string},d.defaultProps={commandClassName:"",children:null,compact:!1,inheritLineHeight:!1,scrollVertically:!1,wrap:!1,onClick:function(){},buttonClassName:""},t.a=d},891:
/*!*********************************************!*\
  !*** ./common/components/DropdownSelect.js ***!
  \*********************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";n(/*! react */8);var r=n(/*! prop-types */3),o=n.n(r),i=n(/*! react-select-plus */1047),a=n.n(i),s=n(/*! @emotion/core */1),l={label:o.a.string,value:o.a.oneOfType([o.a.number,o.a.string]),disabled:o.a.bool};function c(e){var t=e.placeholder,n=e.value,r=e.valueRenderer,o=e.options,i=e.onChange,l=e.disabled,c=e.optionRenderer,u=e.className,d=e.tabIndex,p=e.searchable,f=e.onInputKeyDown,h=e.onInputChange,m=e.matchPos,g=e.onSelectResetsInput,b=e.onCloseResetsInput,v=e.onBlurResetsInput;return Object(s.jsx)(a.a,{placeholder:t,value:n,valueRenderer:r,options:o,onChange:i,optionRenderer:c,className:u,arrowRenderer:function(){return Object(s.jsx)("span",null,Object(s.jsx)("img",{src:"/static/images/select-caret.svg",alt:"","aria-hidden":"true"}))},searchable:p,clearable:!1,disabled:l,autoBlur:!0,tabIndex:d&&d.toString()||"",onInputKeyDown:f,onInputChange:h,matchPos:m,onSelectResetsInput:g,onCloseResetsInput:b,onBlurResetsInput:v})}c.propTypes={placeholder:o.a.oneOfType([o.a.string,o.a.number]),value:o.a.oneOfType([o.a.string,o.a.number]).isRequired,valueRenderer:o.a.func,options:o.a.arrayOf(o.a.shape(l)).isRequired,onChange:o.a.func.isRequired,disabled:o.a.bool,optionRenderer:o.a.func,className:o.a.string,tabIndex:o.a.number,onInputKeyDown:o.a.func,searchable:o.a.bool,matchPos:o.a.string,onSelectResetsInput:o.a.bool,onCloseResetsInput:o.a.bool,onBlurResetsInput:o.a.bool},c.defaultProps={valueRenderer:null,disabled:!1,optionRenderer:null,className:void 0,placeholder:"",searchable:!1,matchPos:"any",onSelectResetsInput:!0,onCloseResetsInput:!0,onBlurResetsInput:!0},t.a=c},892:
/*!*********************************************************!*\
  !*** ./project/nds/clusters/util/clusterEditorUtils.js ***!
  \*********************************************************/
/*! exports provided: getTooltipContent, getTourTriggerKey, REGION_GROUPING_TYPE, getAccordionColor, getContinentName, getPossibleMongoDBMajorVersionsForCluster */
/*! exports used: REGION_GROUPING_TYPE, getAccordionColor, getContinentName, getPossibleMongoDBMajorVersionsForCluster, getTooltipContent */function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d}));n(/*! react */8);var r=n(/*! js/project/nds/clusters/components/NDSClusterForm/schema */879),o=n(/*! js/project/nds/clusters/util/replicationSpecUtils */885),i=n(/*! @emotion/core */1),a={Americas:{withSlashes:"North America / South America",noSlashes:"North America and South America"},EMEA:{withSlashes:"Europe / Middle East / Africa",noSlashes:"Europe, Middle East, and Africa"},APAC:{withSlashes:"Asia Pacific",noSlashes:"Asia Pacific"}};function s(e){return Object(i.jsx)("div",{className:"nds-cluster-form-tooltip"},e)}var l={ENV:"awsEnv",CONTINENT:"continent"};function c(e){return Object.values(r.y).find((function(t){return t.zoneIndex===e})).rgb}function u(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=a[e];return n?t?n.withSlashes:n.noSlashes:e}function d(e,t,n,r){if("FREE"===t){var i=e[t].instanceSizes[n].availableRegions,a=o.a.getPreferredRegionName(r[0]),s=i.reduce((function(e,t){var n=t.mtmMongoDBMajorVersion;return n&&t.regionName===a&&!e.includes(n)&&e.push(n),e}),[]);if(s.length>0)return s}return e[t].mongodbMajorVersions}},893:
/*!**************************************************!*\
  !*** ./project/common/util/ConditionalRouter.js ***!
  \**************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @babel/runtime/helpers/typeof */34),o=n.n(r),i=n(/*! backbone */7),a=n.n(i);t.a=a.a.Router.extend({execute:function(e,t,n){var r=function(){return this.trigger("route:before",n,t),e.apply(this,t)}.bind(this),i={function:function(){return this.isRouteAllowed(e,t)},boolean:function(){return this.isRouteAllowed},undefined:function(){return!0}},a=o()(this.isRouteAllowed),s=a in i&&i[a].call(this);if(!0===s||"function"==typeof s&&!0===s())return"suppressRouteEvent"!==r();"function"==typeof s.then&&s.then(r,(function(e){"function"==typeof e?e():console.error(e)}))}},{SUPPRESS_ROUTE_EVENT:"suppressRouteEvent"})},894:
/*!******************************************!*\
  !*** ./common/components/Breadcrumbs.js ***!
  \******************************************/
/*! exports provided: Breadcrumbs, BreadcrumbsBackbone, BreadcrumbsRedux */
/*! exports used: BreadcrumbsBackbone, BreadcrumbsRedux */function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return N}));var r=n(/*! @babel/runtime/helpers/classCallCheck */23),o=n.n(r),i=n(/*! @babel/runtime/helpers/createClass */24),a=n.n(i),s=n(/*! @babel/runtime/helpers/inherits */27),l=n.n(s),c=n(/*! @babel/runtime/helpers/possibleConstructorReturn */28),u=n.n(c),d=n(/*! @babel/runtime/helpers/getPrototypeOf */17),p=n.n(d),f=n(/*! @babel/runtime/helpers/defineProperty */4),h=n.n(f),m=n(/*! react */8),g=n.n(m),b=n(/*! prop-types */3),v=n.n(b),y=n(/*! connect-backbone-to-react */142),O=n(/*! react-redux */12),x=n(/*! classnames */22),j=n.n(x),E=n(/*! js/common/data/modules/app */13),S=n(/*! @emotion/core */1);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}var _=function(e){l()(n,e);var t=C(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.orgId,n=e.orgName,r=e.groupName,o=e.groupId,i=e.items,a=e.useRelativeOrgPath,s=e.includeDefaultPrefixes,l=e.showLastAsCurrent,c=e.className,u=[];s&&n&&u.push({href:"/v2#/org/".concat(t),text:n}),s&&r&&u.push({href:a?"#":"/v2/".concat(o),text:r});var d=(u=u.concat(i)).length-1;return Object(S.jsx)("div",{className:j()("breadcrumbs",c)},u.reduce((function(e,t,n){var r=n===d;return r&&l?e.push(Object(S.jsx)("span",{className:"breadcrumbs-is-current",key:t.href},t.text)):e.push(Object(S.jsx)("a",{key:t.href,href:t.href},t.text)),r||e.push(Object(S.jsx)("span",{key:"".concat(t.href,"Sep")},"Â >Â ")),e}),[]))}}]),n}(g.a.PureComponent);h()(_,"propTypes",{orgId:v.a.string,orgName:v.a.string,groupId:v.a.string,groupName:v.a.string,items:v.a.arrayOf(v.a.shape({href:v.a.string.isRequired,text:v.a.string.isRequired})),useRelativeOrgPath:v.a.bool,includeDefaultPrefixes:v.a.bool,showLastAsCurrent:v.a.bool,className:v.a.string}),h()(_,"defaultProps",{items:[],orgId:"",orgName:"",groupId:"",groupName:"",useRelativeOrgPath:!1,includeDefaultPrefixes:!0,showLastAsCurrent:!1,className:""});var A=Object(y.connectBackboneToReact)((function(e){var t=e.settingsModel;return{orgId:t.get("ORG_ID"),orgName:t.get("ORG_NAME"),groupId:t.get("GROUP_ID"),groupName:t.get("GROUP_NAME"),useRelativeOrgPath:!0}}))(_),N=Object(O.connect)((function(e){var t=E.y(e);return{groupId:E.l(e),groupName:E.n(e),orgId:t,orgName:t?E.F(e):void 0}}))(_)},896:
/*!*******************************************************!*\
  !*** ./project/nds/common/components/regionSchema.js ***!
  \*******************************************************/
/*! exports provided: REGION_OPTION_SHAPE */
/*! exports used: REGION_OPTION_SHAPE */function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(/*! prop-types */3),o=n.n(r),i={continent:o.a.string,isRecommended:o.a.bool,key:o.a.string,latitude:o.a.number,location:o.a.string,longitude:o.a.number,name:o.a.string,provider:o.a.string}},897:
/*!*******************************************!*\
  !*** ./common/components/ToggleSwitch.js ***!
  \*******************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";n(/*! react */8);var r=n(/*! prop-types */3),o=n.n(r),i=n(/*! classnames */22),a=n.n(i),s=n(/*! @emotion/core */1);function l(e){var t=e.id,n=e.enabled,r=e.onToggle,o=e.enabledText,i=e.disabledText,l=e.tabIndex,c=e.disabled,u=n?{width:"124px",marginLeft:"0px"}:{width:"124px",marginLeft:"-53px"};return Object(s.jsx)("div",{id:t,className:a()("bootstrap-switch bootstrap-switch-wrapper",{"bootstrap-switch-on":n,"bootstrap-switch-off":!n,"bootstrap-switch-disabled":c}),style:{width:"71px",visibility:"visible"},role:"button",tabIndex:l,onClick:c?function(){}:function(){return r(!n)}},Object(s.jsx)("div",{className:"bootstrap-switch-container",style:u},Object(s.jsx)("span",{className:"bootstrap-switch-handle-on bootstrap-switch-primary",style:{width:"53px"}},o),Object(s.jsx)("span",{className:"bootstrap-switch-label"},"Â "),Object(s.jsx)("span",{className:"bootstrap-switch-handle-off bootstrap-switch-default",style:{width:"53px"}},i)))}l.propTypes={id:o.a.string,enabled:o.a.bool.isRequired,onToggle:o.a.func.isRequired,enabledText:o.a.string,disabledText:o.a.string,tabIndex:o.a.number,disabled:o.a.bool},l.defaultProps={id:"",enabledText:"ON",disabledText:"OFF",tabIndex:0,disabled:!1},t.a=l},899:
/*!*****************************************!*\
  !*** ./project/common/util/setTitle.js ***!
  \*****************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";function r(e){var t=e.baseTitle,n=e.pageTitle;n&&t&&(document.title="".concat(n," | ").concat(t))}n.d(t,"a",(function(){return r}))},901:
/*!*************************************************!*\
  !*** ../node_modules/d3-scale/dist/d3-scale.js ***!
  \*************************************************/
/*! no static exports found */
/*! exports used: scaleLinear, scaleOrdinal, scaleTime */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o,i,a,s=n(/*! @babel/runtime/helpers/interopRequireDefault */200),l=s(n(/*! @babel/runtime/helpers/slicedToArray */20)),c=s(n(/*! @babel/runtime/helpers/typeof */34));function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}a=function(e,t,n,r,o,i){function a(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function s(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var c=Symbol("implicit");function d(){var e=new Map,t=[],n=[],r=c;function o(o){var i=o+"",a=e.get(i);if(!a){if(r!==c)return r;e.set(i,a=t.push(o))}return n[(a-1)%n.length]}return o.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;var r,i=u(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=a+"";e.has(s)||e.set(s,t.push(a))}}catch(e){i.e(e)}finally{i.f()}return o},o.range=function(e){return arguments.length?(n=Array.from(e),o):n.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return d(t,n).unknown(r)},a.apply(o,arguments),o}function p(){var e,n,r=d().unknown(void 0),o=r.domain,i=r.range,s=0,c=1,u=!1,f=0,h=0,m=.5;function g(){var r=o().length,a=c<s,l=a?c:s,d=a?s:c;e=(d-l)/Math.max(1,r-f+2*h),u&&(e=Math.floor(e)),l+=(d-l-e*(r-f))*m,n=e*(1-f),u&&(l=Math.round(l),n=Math.round(n));var p=t.range(r).map((function(t){return l+e*t}));return i(a?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(o(e),g()):o()},r.range=function(e){var t,n;return arguments.length?(t=e,n=(0,l.default)(t,2),s=n[0],c=n[1],s=+s,c=+c,g()):[s,c]},r.rangeRound=function(e){var t,n;return t=e,n=(0,l.default)(t,2),s=n[0],c=n[1],s=+s,c=+c,u=!0,g()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(e){return arguments.length?(u=!!e,g()):u},r.padding=function(e){return arguments.length?(f=Math.min(1,h=+e),g()):f},r.paddingInner=function(e){return arguments.length?(f=Math.min(1,e),g()):f},r.paddingOuter=function(e){return arguments.length?(h=+e,g()):h},r.align=function(e){return arguments.length?(m=Math.max(0,Math.min(1,e)),g()):m},r.copy=function(){return p(o(),[s,c]).round(u).paddingInner(f).paddingOuter(h).align(m)},a.apply(g(),arguments)}function f(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return f(t())},e}function h(e){return+e}var m=[0,1];function g(e){return e}function b(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function v(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=b(o,r),i=n(a,i)):(r=b(r,o),i=n(i,a)),function(e){return i(r(e))}}function y(e,n,r){var o=Math.min(e.length,n.length)-1,i=new Array(o),a=new Array(o),s=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++s<o;)i[s]=b(e[s],e[s+1]),a[s]=r(n[s],n[s+1]);return function(n){var r=t.bisect(e,n,1,o)-1;return a[r](i[r](n))}}function O(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function x(){var e,t,r,o,i,a,s=m,l=m,c=n.interpolate,u=g;function d(){var e,t,n,r=Math.min(s.length,l.length);return u!==g&&(e=s[0],t=s[r-1],e>t&&(n=e,e=t,t=n),u=function(n){return Math.max(e,Math.min(t,n))}),o=r>2?y:v,i=a=null,p}function p(t){return isNaN(t=+t)?r:(i||(i=o(s.map(e),l,c)))(e(u(t)))}return p.invert=function(r){return u(t((a||(a=o(l,s.map(e),n.interpolateNumber)))(r)))},p.domain=function(e){return arguments.length?(s=Array.from(e,h),d()):s.slice()},p.range=function(e){return arguments.length?(l=Array.from(e),d()):l.slice()},p.rangeRound=function(e){return l=Array.from(e),c=n.interpolateRound,d()},p.clamp=function(e){return arguments.length?(u=!!e||g,d()):u!==g},p.interpolate=function(e){return arguments.length?(c=e,d()):c},p.unknown=function(e){return arguments.length?(r=e,p):r},function(n,r){return e=n,t=r,d()}}function j(){return x()(g,g)}function E(e,n,o,i){var a,s=t.tickStep(e,n,o);switch((i=r.formatSpecifier(null==i?",f":i)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(n));return null!=i.precision||isNaN(a=r.precisionPrefix(s,l))||(i.precision=a),r.formatPrefix(i,l);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(a=r.precisionRound(s,Math.max(Math.abs(e),Math.abs(n))))||(i.precision=a-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(a=r.precisionFixed(s))||(i.precision=a-2*("%"===i.type))}return r.format(i)}function S(e){var n=e.domain;return e.ticks=function(e){var r=n();return t.ticks(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,t){var r=n();return E(r[0],r[r.length-1],null==e?10:e,t)},e.nice=function(r){null==r&&(r=10);var o,i=n(),a=0,s=i.length-1,l=i[a],c=i[s];return c<l&&(o=l,l=c,c=o,o=a,a=s,s=o),(o=t.tickIncrement(l,c,r))>0?(l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o,o=t.tickIncrement(l,c,r)):o<0&&(l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o,o=t.tickIncrement(l,c,r)),o>0?(i[a]=Math.floor(l/o)*o,i[s]=Math.ceil(c/o)*o,n(i)):o<0&&(i[a]=Math.ceil(l*o)/o,i[s]=Math.floor(c*o)/o,n(i)),e},e}function C(e,t){var n,r=0,o=(e=e.slice()).length-1,i=e[r],a=e[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e}function _(e){return Math.log(e)}function A(e){return Math.exp(e)}function N(e){return-Math.log(-e)}function T(e){return-Math.exp(-e)}function w(e){return isFinite(e)?+("1e"+e):e<0?0:e}function P(e){return function(t){return-e(-t)}}function R(e){var n,o,i=e(_,A),a=i.domain,s=10;function l(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(s),o=function(e){return 10===e?w:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(s),a()[0]<0?(n=P(n),o=P(o),e(N,T)):e(_,A),i}return i.base=function(e){return arguments.length?(s=+e,l()):s},i.domain=function(e){return arguments.length?(a(e),l()):a()},i.ticks=function(e){var r,i=a(),l=i[0],c=i[i.length-1];(r=c<l)&&(f=l,l=c,c=f);var u,d,p,f=n(l),h=n(c),m=null==e?10:+e,g=[];if(!(s%1)&&h-f<m){if(f=Math.floor(f),h=Math.ceil(h),l>0){for(;f<=h;++f)for(d=1,u=o(f);d<s;++d)if(!((p=u*d)<l)){if(p>c)break;g.push(p)}}else for(;f<=h;++f)for(d=s-1,u=o(f);d>=1;--d)if(!((p=u*d)<l)){if(p>c)break;g.push(p)}g.length||(g=t.ticks(l,c,m))}else g=t.ticks(f,h,Math.min(h-f,m)).map(o);return r?g.reverse():g},i.tickFormat=function(e,t){if(null==t&&(t=10===s?".0e":","),"function"!=typeof t&&(t=r.format(t)),e===1/0)return t;null==e&&(e=10);var a=Math.max(1,s*e/i.ticks().length);return function(e){var r=e/o(Math.round(n(e)));return r*s<s-.5&&(r*=s),r<=a?t(e):""}},i.nice=function(){return a(C(a(),{floor:function(e){return o(Math.floor(n(e)))},ceil:function(e){return o(Math.ceil(n(e)))}}))},i}function I(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function D(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function k(e){var t=1,n=e(I(t),D(t));return n.constant=function(n){return arguments.length?e(I(t=+n),D(t)):t},S(n)}function M(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function L(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function U(e){return e<0?-e*e:e*e}function F(e){var t=e(g,g),n=1;function r(){return 1===n?e(g,g):.5===n?e(L,U):e(M(n),M(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},S(t)}function B(){var e=F(x());return e.copy=function(){return O(e,B()).exponent(e.exponent())},a.apply(e,arguments),e}function z(e){return Math.sign(e)*e*e}function V(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function q(e){return new Date(e)}function G(e){return e instanceof Date?+e:+new Date(+e)}function H(e,n,r,o,i,a,s,l,c){var u=j(),d=u.invert,p=u.domain,f=c(".%L"),h=c(":%S"),m=c("%I:%M"),g=c("%I %p"),b=c("%a %d"),v=c("%b %d"),y=c("%B"),x=c("%Y"),E=[[s,1,1e3],[s,5,5e3],[s,15,15e3],[s,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[o,1,864e5],[o,2,1728e5],[r,1,6048e5],[n,1,2592e6],[n,3,7776e6],[e,1,31536e6]];function S(t){return(s(t)<t?f:a(t)<t?h:i(t)<t?m:o(t)<t?g:n(t)<t?r(t)<t?b:v:e(t)<t?y:x)(t)}function _(n,r,o){if(null==n&&(n=10),"number"==typeof n){var i,a=Math.abs(o-r)/n,s=t.bisector((function(e){return e[2]})).right(E,a);return s===E.length?(i=t.tickStep(r/31536e6,o/31536e6,n),n=e):s?(i=(s=E[a/E[s-1][2]<E[s][2]/a?s-1:s])[1],n=s[0]):(i=Math.max(t.tickStep(r,o,n),1),n=l),n.every(i)}return n}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?p(Array.from(e,G)):p().map(q)},u.ticks=function(e){var t,n=p(),r=n[0],o=n[n.length-1],i=o<r;return i&&(t=r,r=o,o=t),t=(t=_(e,r,o))?t.range(r,o+1):[],i?t.reverse():t},u.tickFormat=function(e,t){return null==t?S:c(t)},u.nice=function(e){var t=p();return(e=_(e,t[0],t[t.length-1]))?p(C(t,e)):u},u.copy=function(){return O(u,H(e,n,r,o,i,a,s,l,c))},u}function W(){var e,t,n,r,o,i=0,a=1,s=g,c=!1;function u(t){return isNaN(t=+t)?o:s(0===n?.5:(t=(r(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}return u.domain=function(o){var s,c;return arguments.length?(s=o,c=(0,l.default)(s,2),i=c[0],a=c[1],e=r(i=+i),t=r(a=+a),n=e===t?0:1/(t-e),u):[i,a]},u.clamp=function(e){return arguments.length?(c=!!e,u):c},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=function(){return[s(0),s(1)]},u.unknown=function(e){return arguments.length?(o=e,u):o},function(o){return r=o,e=o(i),t=o(a),n=e===t?0:1/(t-e),u}}function Y(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function K(){var e=F(W());return e.copy=function(){return Y(e,K()).exponent(e.exponent())},s.apply(e,arguments)}function Z(){var e,t,n,r,o,i,a,s=0,c=.5,u=1,d=1,p=g,f=!1;function h(e){return isNaN(e=+e)?a:(e=.5+((e=+i(e))-t)*(d*e<d*t?r:o),p(f?Math.max(0,Math.min(1,e)):e))}return h.domain=function(a){var p,f;return arguments.length?(p=a,f=(0,l.default)(p,3),s=f[0],c=f[1],u=f[2],e=i(s=+s),t=i(c=+c),n=i(u=+u),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),d=t<e?-1:1,h):[s,c,u]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(p=e,h):p},h.range=function(){return[p(0),p(.5),p(1)]},h.unknown=function(e){return arguments.length?(a=e,h):a},function(a){return i=a,e=a(s),t=a(c),n=a(u),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),d=t<e?-1:1,h}}function $(){var e=F(Z());return e.copy=function(){return Y(e,$()).exponent(e.exponent())},s.apply(e,arguments)}e.scaleBand=p,e.scaleDiverging=function e(){var t=S(Z()(g));return t.copy=function(){return Y(t,e())},s.apply(t,arguments)},e.scaleDivergingLog=function e(){var t=R(Z()).domain([.1,1,10]);return t.copy=function(){return Y(t,e()).base(t.base())},s.apply(t,arguments)},e.scaleDivergingPow=$,e.scaleDivergingSqrt=function(){return $.apply(null,arguments).exponent(.5)},e.scaleDivergingSymlog=function e(){var t=k(Z());return t.copy=function(){return Y(t,e()).constant(t.constant())},s.apply(t,arguments)},e.scaleIdentity=function e(t){var n;function r(e){return isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,h),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,h):[0,1],S(r)},e.scaleImplicit=c,e.scaleLinear=function e(){var t=j();return t.copy=function(){return O(t,e())},a.apply(t,arguments),S(t)},e.scaleLog=function e(){var t=R(x()).domain([1,10]);return t.copy=function(){return O(t,e()).base(t.base())},a.apply(t,arguments),t},e.scaleOrdinal=d,e.scalePoint=function(){return f(p.apply(null,arguments).paddingInner(1))},e.scalePow=B,e.scaleQuantile=function e(){var n,r=[],o=[],i=[];function s(){var e=0,n=Math.max(1,o.length);for(i=new Array(n-1);++e<n;)i[e-1]=t.quantile(r,e/n);return l}function l(e){return isNaN(e=+e)?n:o[t.bisect(i,e)]}return l.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:r[0],t<i.length?i[t]:r[r.length-1]]},l.domain=function(e){if(!arguments.length)return r.slice();r=[];var n,o=u(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;null==i||isNaN(i=+i)||r.push(i)}}catch(e){o.e(e)}finally{o.f()}return r.sort(t.ascending),s()},l.range=function(e){return arguments.length?(o=Array.from(e),s()):o.slice()},l.unknown=function(e){return arguments.length?(n=e,l):n},l.quantiles=function(){return i.slice()},l.copy=function(){return e().domain(r).range(o).unknown(n)},a.apply(l,arguments)},e.scaleQuantize=function e(){var n,r=0,o=1,i=1,s=[.5],c=[0,1];function u(e){return e<=e?c[t.bisect(s,e,0,i)]:n}function d(){var e=-1;for(s=new Array(i);++e<i;)s[e]=((e+1)*o-(e-i)*r)/(i+1);return u}return u.domain=function(e){var t,n;return arguments.length?(t=e,n=(0,l.default)(t,2),r=n[0],o=n[1],r=+r,o=+o,d()):[r,o]},u.range=function(e){return arguments.length?(i=(c=Array.from(e)).length-1,d()):c.slice()},u.invertExtent=function(e){var t=c.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,s[0]]:t>=i?[s[i-1],o]:[s[t-1],s[t]]},u.unknown=function(e){return arguments.length?(n=e,u):u},u.thresholds=function(){return s.slice()},u.copy=function(){return e().domain([r,o]).range(c).unknown(n)},a.apply(S(u),arguments)},e.scaleRadial=function e(){var t,n=j(),r=[0,1],o=!1;function i(e){var r=V(n(e));return isNaN(r)?t:o?Math.round(r):r}return i.invert=function(e){return n.invert(z(e))},i.domain=function(e){return arguments.length?(n.domain(e),i):n.domain()},i.range=function(e){return arguments.length?(n.range((r=Array.from(e,h)).map(z)),i):r.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(o=!!e,i):o},i.clamp=function(e){return arguments.length?(n.clamp(e),i):n.clamp()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return e(n.domain(),r).round(o).clamp(n.clamp()).unknown(t)},a.apply(i,arguments),S(i)},e.scaleSequential=function e(){var t=S(W()(g));return t.copy=function(){return Y(t,e())},s.apply(t,arguments)},e.scaleSequentialLog=function e(){var t=R(W()).domain([1,10]);return t.copy=function(){return Y(t,e()).base(t.base())},s.apply(t,arguments)},e.scaleSequentialPow=K,e.scaleSequentialQuantile=function e(){var n=[],r=g;function o(e){if(!isNaN(e=+e))return r((t.bisect(n,e,1)-1)/(n.length-1))}return o.domain=function(e){if(!arguments.length)return n.slice();n=[];var r,i=u(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null==a||isNaN(a=+a)||n.push(a)}}catch(e){i.e(e)}finally{i.f()}return n.sort(t.ascending),o},o.interpolator=function(e){return arguments.length?(r=e,o):r},o.range=function(){return n.map((function(e,t){return r(t/(n.length-1))}))},o.copy=function(){return e(r).domain(n)},s.apply(o,arguments)},e.scaleSequentialSqrt=function(){return K.apply(null,arguments).exponent(.5)},e.scaleSequentialSymlog=function e(){var t=k(W());return t.copy=function(){return Y(t,e()).constant(t.constant())},s.apply(t,arguments)},e.scaleSqrt=function(){return B.apply(null,arguments).exponent(.5)},e.scaleSymlog=function e(){var t=k(x());return t.copy=function(){return O(t,e()).constant(t.constant())},a.apply(t,arguments)},e.scaleThreshold=function e(){var n,r=[.5],o=[0,1],i=1;function s(e){return e<=e?o[t.bisect(r,e,0,i)]:n}return s.domain=function(e){return arguments.length?(r=Array.from(e),i=Math.min(r.length,o.length-1),s):r.slice()},s.range=function(e){return arguments.length?(o=Array.from(e),i=Math.min(r.length,o.length-1),s):o.slice()},s.invertExtent=function(e){var t=o.indexOf(e);return[r[t-1],r[t]]},s.unknown=function(e){return arguments.length?(n=e,s):n},s.copy=function(){return e().domain(r).range(o).unknown(n)},a.apply(s,arguments)},e.scaleTime=function(){return a.apply(H(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,i.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},e.scaleUtc=function(){return a.apply(H(o.utcYear,o.utcMonth,o.utcWeek,o.utcDay,o.utcHour,o.utcMinute,o.utcSecond,o.utcMillisecond,i.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},e.tickFormat=E,Object.defineProperty(e,"__esModule",{value:!0})},"object"===(0,c.default)(t)&&void 0!==e?a(t,n(/*! d3-array */922),n(/*! d3-interpolate */923),n(/*! d3-format */1004),n(/*! d3-time */980),n(/*! d3-time-format */1032)):(o=[t,n(/*! d3-array */922),n(/*! d3-interpolate */923),n(/*! d3-format */1004),n(/*! d3-time */980),n(/*! d3-time-format */1032)],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))},903:
/*!************************************************!*\
  !*** ./project/common/partials/breadcrumbs.js ***!
  \************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(/*! ./breadcrumbs.hbs */927),o=n.n(r);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){var r=e.get("ORG_NAME"),i=e.get("GROUP_NAME"),a=[];r&&a.push({href:"/v2#/org/".concat(e.get("ORG_ID")),text:r}),i&&a.push({href:"#",text:i}),a=a.concat(t);for(var s=0;s>-1;){var l=n["".concat("text").concat(s)];if(!l)break;a.push({href:n["".concat("href").concat(s)],text:l}),s+=1}return o()({breadcrumbs:a})}}},905:
/*!*****************************************************!*\
  !*** ./project/common/util/redirectIfDelinquent.js ***!
  \*****************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";function r(e){return!!e.canViewUI()||(window.location.assign(e.createActiveOrgUrl("billing/overview")),!1)}n.d(t,"a",(function(){return r}))},906:
/*!*****************************************!*\
  !*** ./common/components/CopyButton.js ***!
  \*****************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @babel/runtime/helpers/classCallCheck */23),o=n.n(r),i=n(/*! @babel/runtime/helpers/createClass */24),a=n.n(i),s=n(/*! @babel/runtime/helpers/assertThisInitialized */14),l=n.n(s),c=n(/*! @babel/runtime/helpers/inherits */27),u=n.n(c),d=n(/*! @babel/runtime/helpers/possibleConstructorReturn */28),p=n.n(d),f=n(/*! @babel/runtime/helpers/getPrototypeOf */17),h=n.n(f),m=n(/*! @babel/runtime/helpers/defineProperty */4),g=n.n(m),b=n(/*! react */8),v=n.n(b),y=n(/*! prop-types */3),O=n.n(y),x=n(/*! clipboard */916),j=n.n(x),E=n(/*! classnames */22),S=n.n(E),C=n(/*! js/common/components/Tooltip */143),_=n(/*! @emotion/core */1);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p()(this,n)}}var N=function(e){u()(n,e);var t=A(n);function n(){var e;o()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"state",{tooltipText:"Click to Copy",initialized:!1}),g()(l()(e),"onMouseLeave",(function(){e.setState({tooltipText:"Click to Copy"})})),g()(l()(e),"onMouseEnter",(function(){e.state.initialized||(e.setState({initialized:!0}),C.a.rebuild())})),e}return a()(n,[{key:"componentDidMount",value:function(){var e=this;this.clipboard=new j.a(this.copyButton),this.clipboard.on("success",(function(){e.setState({tooltipText:"Copied!"})})),this.clipboard.on("error",(function(){e.setState({tooltipText:"Copying Failed!"})}))}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"render",value:function(){var e=this,t=this.props,n=t.copyableText,r=t.compact,o=t.className,i=t.onClick,a=t.name,s=t.buttonText,l=t.standalone,c=t.disabled,u=t.databaseUserModal,d=this.state.tooltipText;return Object(_.jsx)(C.a,{content:d,display:"inline"},Object(_.jsx)("button",{name:a,type:"button",ref:function(t){e.copyButton=t},className:S()("button",g()({"copy-command-button":!l,"copy-command-button-is-not-uppercase":!l,"copy-command-button-is-compact":!l&&r,"copy-command-button-has-left-margin":!l,"copy-command-button-database-user-modal":u},o,!!o)),"data-clipboard-mixin":!0,"data-clipboard-text":n,onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter,onClick:i,disabled:c},Object(_.jsx)("i",{className:"fa fa-files-o"}),"Â ",s))}}]),n}(v.a.Component);g()(N,"propTypes",{copyableText:O.a.string.isRequired,compact:O.a.bool,className:O.a.string,onClick:O.a.func,name:O.a.string,buttonText:O.a.string,standalone:O.a.bool,disabled:O.a.bool,databaseUserModal:O.a.bool}),g()(N,"defaultProps",{compact:!1,className:"",onClick:function(e){e.preventDefault()},name:"",buttonText:"Copy",standalone:!1,disabled:!1,databaseUserModal:!1}),t.a=N},908:
/*!********************************************************************!*\
  !*** ./project/nds/common/components/ConnectModal/AuthModeUtil.js ***!
  \********************************************************************/
/*! exports provided: AUTH_TYPES, getSupportedAuthMechanisms, getNextAuthMechanism, getDefaultAuthMechanism */
/*! exports used: AUTH_TYPES, getNextAuthMechanism, getSupportedAuthMechanisms */function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(/*! @babel/runtime/helpers/toConsumableArray */29),o=n.n(r),i={SCRAM:"SCRAM",X509:"X509",LDAP:"LDAP",AWS_IAM:"AWSIAM"},a=function(e){var t=e.isTenant,n=e.isAWSIAMAuthenticationSupported,r=e.isLDAPAuthenticationSupported,a=e.isX509AuthenticationSupported,s=e.platform;return t||"Perl"===(void 0===s?null:s)?[i.SCRAM]:[i.SCRAM].concat(o()(a?[i.X509]:[]),o()(n?[i.AWS_IAM]:[]),o()(r?[i.LDAP]:[]))},s=function(e,t){return t.find((function(t){return t===e}))||i.SCRAM}},909:
/*!**************************************!*\
  !*** ./common/components/Select.tsx ***!
  \**************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! @babel/runtime/helpers/extends */75),o=n.n(r),i=n(/*! @babel/runtime/helpers/classCallCheck */23),a=n.n(i),s=n(/*! @babel/runtime/helpers/createClass */24),l=n.n(s),c=n(/*! @babel/runtime/helpers/assertThisInitialized */14),u=n.n(c),d=n(/*! @babel/runtime/helpers/inherits */27),p=n.n(d),f=n(/*! @babel/runtime/helpers/possibleConstructorReturn */28),h=n.n(f),m=n(/*! @babel/runtime/helpers/getPrototypeOf */17),g=n.n(m),b=n(/*! @babel/runtime/helpers/defineProperty */4),v=n.n(b),y=n(/*! react */8),O=n.n(y),x=n(/*! react-dom */99),j=n.n(x),E=n(/*! downshift */1034),S=n.n(E),C=n(/*! classnames */22),_=n.n(C),A=n(/*! @emotion/core */1);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var P=function(e){p()(n,e);var t=w(n);function n(){var e;a()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(u()(e),"state",{inputValue:"",dimensions:null}),v()(u()(e),"_portalEl",document.createElement("div")),v()(u()(e),"wrapperRef",O.a.createRef()),v()(u()(e),"inputRef",null),v()(u()(e),"openButtonRef",null),v()(u()(e),"menuRef",O.a.createRef()),v()(u()(e),"itemRefs",{}),v()(u()(e),"handleChange",(function(t,n){(0,n.closeMenu)(),e.props.onChange(t.value)})),v()(u()(e),"handleStateChange",(function(t){if(null!=t.isOpen)if(t.isOpen){if(null==e.wrapperRef.current)return;var n=e.wrapperRef.current.getBoundingClientRect();e.setState({inputValue:"",dimensions:{top:n.top+window.pageYOffset,left:n.left,width:n.width}},(function(){null!=e.inputRef&&e.inputRef.focus();var t=e.getSelectedItem();null!=t&&e.scrollItemIntoView(t),e.props.onOpen()}))}else null!=e.openButtonRef&&document.activeElement===document.body&&e.openButtonRef.focus(),e.itemRefs={},e.props.onClose()})),e}return l()(n,[{key:"componentDidMount",value:function(){this.props.usePortal&&this.addPortalElement()}},{key:"componentDidUpdate",value:function(e){e.usePortal!==this.props.usePortal&&(this.props.usePortal?this.addPortalElement():this.removePortalElement())}},{key:"componentWillUnmount",value:function(){this.props.usePortal&&this.removePortalElement()}},{key:"getSelectedItem",value:function(){var e=this,t=this.props.value;return null==t?null:this.props.options.find((function(n){return e.props.valueIsEqual(n.value,t)}))||null}},{key:"addPortalElement",value:function(){n.ensurePortalContainer().appendChild(this._portalEl)}},{key:"removePortalElement",value:function(){n.ensurePortalContainer().removeChild(this._portalEl)}},{key:"getItemRef",value:function(e){var t=(0,this.props.getItemKey)(e);return null==this.itemRefs[t]&&(this.itemRefs[t]=O.a.createRef()),this.itemRefs[t]}},{key:"scrollItemIntoView",value:function(e){var t=this.getItemRef(e);if(null!=t.current&&null!=this.menuRef.current){var n=t.current.offsetTop,r=this.menuRef.current.offsetHeight;n>r&&(this.menuRef.current.scrollTop=n-r)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.controlButtonClassName,i=t.openMenuOnButtonFocus,a=t.disabled,s=t.footer,l=t.inputAreaClassName,c=t.searchInputAutoComplete,u=t.itemToString,d=t.optionListClassName,p=t.options,f=t.searchPlaceholder,h=t.dropdownTitle,m=t.searchable,g=t.style,b=t.title,v=t.getItemKey,x=t.styledAsButton,E=t.usePortal,C=t.groupBy,N=t.itemsCanWrap,w=t.valueIsEqual,P=this.props,R=P.getFilterFunction,I=void 0===R?function(e){return function(t){return-1!==u(t).toLocaleLowerCase().indexOf(e.toLocaleLowerCase())}}:R,D=P.itemToDisplayString,k=void 0===D?u:D,M=this.state.inputValue;return Object(A.jsx)(S.a,{selectedItem:this.getSelectedItem(),selectedItemChanged:function(e,t){return null==e||null==t?e!==t:!w(e.value,t.value)},onChange:this.handleChange,onStateChange:this.handleStateChange,itemToString:u,inputValue:m?M:"",onInputValueChange:m?function(t){return e.setState({inputValue:t})}:void 0},(function(t){var u=t.closeMenu,S=t.openMenu,w=t.getToggleButtonProps,P=t.getInputProps,R=t.getItemProps,D=t.getMenuProps,M=t.highlightedIndex,L=t.inputValue,U=t.isOpen,F=t.selectedItem,B=(m?p.filter(I(L||"")):p).reduce((function(e,t){var n,r=C(t),o=e.findIndex((function(e){return e.label===r}));return-1===o?(n={label:r,items:[]},e.push(n)):n=e[o],n.items.push(t),e}),[]),z=0,V=U?Object(A.jsx)("div",D({className:_()("select-open-area",{"select-open-area-is-styled-as-button":x})}),Object(A.jsx)("div",{className:_()("select-input-area",l,{"select-input-area-is-styled-as-button":x,"select-input-area-has-title":h})},m?Object(A.jsx)(O.a.Fragment,null,h&&Object(A.jsx)("button",w({className:_()("select-input-close-button","select-input-close-button-is-title")}),Object(A.jsx)("p",{className:"select-menu-title"},h),Object(A.jsx)("span",{className:"select-input-arrow-wrapper"},Object(A.jsx)("i",{className:"fa fa-caret-up select-input-arrow"}))),Object(A.jsx)("input",P({className:_()("select-input",{"select-input-is-after-title":h}),placeholder:k(null!=F?F:void 0)||f,autoComplete:c,ref:function(t){e.inputRef=t}})),Object(A.jsx)("i",{className:"fa fa-search select-input-search-icon"}),!h&&Object(A.jsx)("button",w({key:"close",className:"select-input-close-button select-input-arrow-wrapper"}),Object(A.jsx)("i",{className:"fa fa-caret-up select-input-arrow"}))):Object(A.jsx)("button",w({className:_()("select-open-area-control-button select-control-button",{"select-control-button-is-styled-as-button":x})}),h?Object(A.jsx)("p",{className:"select-menu-title"},h):Object(A.jsx)("div",{className:"select-open-area-control-button-current-value select-control-button-current-value"},F&&F.label),Object(A.jsx)("i",{className:"fa fa-caret-up select-control-button-arrow"}))),Object(A.jsx)("ul",{className:_()("select-menu",d),ref:e.menuRef},B.map((function(t){return Object(A.jsx)(y.Fragment,{key:t.label},""!==t.label&&Object(A.jsx)("li",{className:"select-menu-group"},t.label),t.items.map((function(n){return Object(A.jsx)("li",o()({},R({className:_()("select-menu-item",{"select-menu-item-is-highlighted":M===z++,"select-menu-item-is-selected":F===n,"select-menu-item-is-grouped":""!==t.label,"select-menu-item-is-disabled":n.disabled,"select-menu-item-can-wrap":N}),key:v(n),item:n,ref:e.getItemRef(n),disabled:n.disabled}),{"data-value":n.value}),n.label)})))})),s&&Object(A.jsx)("li",{className:"select-menu-footer",onClick:function(){return u()}},s))):null;return Object(A.jsx)("div",{className:_()("select",n),style:g},Object(A.jsx)("div",{className:"select-portal-positioning-placeholder",ref:e.wrapperRef}),U?E?j.a.createPortal(Object(A.jsx)("div",{className:"select-portal-positioning-wrapper",style:T({},e.state.dimensions)},V),e._portalEl):V:Object(A.jsx)("button",w({onFocus:function(){return i?S():null},ref:function(t){e.openButtonRef=t},className:_()("select-control-button",r,{"select-control-button-is-styled-as-button":x&&!a,"select-control-button-is-styled-as-disabled-button":x&&a}),disabled:a,title:String(b)}),Object(A.jsx)("div",{className:_()("select-control-button-current-value",{"select-control-button-current-value-is-placeholder":x&&!(F&&F.label)&&h})},F&&F.label||h),Object(A.jsx)("i",{className:"fa fa-caret-down select-control-button-arrow"})),U&&Object(A.jsx)("div",{className:"select-spacing-placeholder","aria-hidden":!0},Object(A.jsx)("div",{className:"select-spacing-placeholder-value"},F&&F.label||h)))}))}}],[{key:"ensurePortalContainer",value:function(){return null==n.portalContainer&&(n.portalContainer=document.createElement("div"),n.portalContainer.className="select-portal-container",document.body.appendChild(n.portalContainer)),n.portalContainer}}]),n}(y.Component);v()(P,"portalContainer",null),v()(P,"defaultProps",{className:void 0,controlButtonClassName:void 0,openMenuOnButtonFocus:!1,disabled:!1,footer:void 0,getFilterFunction:void 0,getItemKey:function(e){return String(e.value)},inputAreaClassName:void 0,searchInputAutoComplete:"off",itemToDisplayString:void 0,itemToString:function(e){return null==e?"":String(e.value)},onChange:function(){},onClose:function(){},onOpen:function(){},optionListClassName:void 0,searchable:!1,style:void 0,title:"",dropdownTitle:void 0,searchPlaceholder:void 0,styledAsButton:!0,selectMenuClassName:void 0,valueIsEqual:function(e,t){return e===t},usePortal:!1,groupBy:function(){return""},itemsCanWrap:!0}),t.a=P},912:
/*!***********************************************************!*\
  !*** ./common/components/SectionHeader/SectionHeader.tsx ***!
  \***********************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(/*! @babel/runtime/helpers/defineProperty */4),o=n.n(r),i=n(/*! @emotion/styled-base */30),a=n.n(i),s=n(/*! emotion */300),l=(n(/*! react */8),n(/*! classnames */22)),c=n.n(l),u=n(/*! @leafygreen-ui/palette */26),d=n(/*! @emotion/core */1);var p={bottomSpacing:Object(s.css)("padding-bottom:10px;margin-bottom:15px;border-bottom:3px solid ",u.uiColors.gray.light2,";")},f=a()("p",{target:"e1q3dywl0"})({name:"1tg0t4y",styles:"margin:10px 0 0;"});function h(e){var t=e.headlineText,n=e.description,r=e.hasBottomSpacing,i=e.hasTopSpacing,a=e.isBorderless,l=e.children;return Object(d.jsx)("div",{className:Object(s.cx)(o()({},p.bottomSpacing,r))},Object(d.jsx)("h1",{className:c()("section-header-title",{"section-header-title-with-top-spacing":i,"section-header-title-is-borderless":a})},Object(d.jsx)("span",{className:"section-header-title-text"},t),l&&Object(d.jsx)("span",{className:"section-header-title-actions"},l)),n&&Object(d.jsx)(f,null,n))}},913:
/*!****************************************************************!*\
  !*** ./project/nds/security/components/databaseUsersSchema.js ***!
  \****************************************************************/
/*! exports provided: DB_ROLE_SHAPE, CUSTOM_DB_ROLE_SHAPE, ATLAS_BUILTIN_DB_ROLES, MONGODB_BUILTIN_DB_ROLES, LDAP_AUTH_TYPE, DATABASE_USER_SHAPE, X509_TYPE, USER_CERT_SHAPE, AUTH_MECHANISMS, AUTH_MECHANISMS_DETAILS, AWS_IAM_TYPE, EXTERNAL_DB_AUTH_TYPES, SCOPE_TYPE, getDBUserAuthType */
/*! exports used: ATLAS_BUILTIN_DB_ROLES, AUTH_MECHANISMS, AUTH_MECHANISMS_DETAILS, AWS_IAM_TYPE, CUSTOM_DB_ROLE_SHAPE, DATABASE_USER_SHAPE, DB_ROLE_SHAPE, EXTERNAL_DB_AUTH_TYPES, LDAP_AUTH_TYPE, MONGODB_BUILTIN_DB_ROLES, SCOPE_TYPE, USER_CERT_SHAPE, X509_TYPE, getDBUserAuthType */function(e,t,n){"use strict";n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return m})),n.d(t,"f",(function(){return O})),n.d(t,"m",(function(){return g})),n.d(t,"l",(function(){return x})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return C})),n.d(t,"k",(function(){return v})),n.d(t,"n",(function(){return S}));var r,o=n(/*! @babel/runtime/helpers/defineProperty */4),i=n.n(o),a=n(/*! prop-types */3),s=n.n(a);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={role:s.a.string,db:s.a.string,collection:s.a.string,belongsToAdmin:s.a.bool,collectionAllowed:s.a.bool},d={roleName:s.a.string.isRequired},p={READ_WRITE_ANY_DATABASE:{role:"readWriteAnyDatabase",db:"admin",collection:null,belongsToAdmin:!0,collectionAllowed:!1,readableText:"Read and write to any database"},READ_ANY_DATABASE:{role:"readAnyDatabase",db:"admin",collection:null,belongsToAdmin:!0,collectionAllowed:!1,readableText:"Only read any database"}},f=c({ATLAS_ADMIN:{role:"atlasAdmin",db:"admin",collection:null,belongsToAdmin:!0,collectionAllowed:!1,readableText:"Atlas admin"}},p),h=c({BACKUP:{role:"backup",db:"admin",collection:null,belongsToAdmin:!0,collectionAllowed:!1},CLUSTER_MONITOR:{role:"clusterMonitor",db:"admin",collection:null,belongsToAdmin:!0,collectionAllowed:!1},DB_ADMIN:{role:"dbAdmin",db:null,collection:null,belongsToAdmin:!1,collectionAllowed:!1},DB_ADMIN_ANY_DATABASE:{role:"dbAdminAnyDatabase",db:"admin",belongsToAdmin:!0,collectionAllowed:!1},ENABLE_SHARDING:{role:"enableSharding",db:"admin",collection:null,belongsToAdmin:!0,collectionAllowed:!1},READ:{role:"read",db:null,collection:null,belongsToAdmin:!1,collectionAllowed:!0},READ_WRITE:{role:"readWrite",db:null,collection:null,belongsToAdmin:!1,collectionAllowed:!0}},p),m={NONE:"NONE",USER:"USER",GROUP:"GROUP"},g={NONE:"NONE",CUSTOMER:"CUSTOMER",MANAGED:"MANAGED"},b={NONE:"NONE",USER:"USER",ROLE:"ROLE"},v={CLUSTER:"CLUSTER",DATA_LAKE:"DATA_LAKE"},y={name:s.a.string,type:s.a.oneOf([v.CLUSTER,v.DATA_LAKE])},O={user:s.a.string,db:s.a.string,password:s.a.string,roles:s.a.arrayOf(s.a.shape(u)),scopes:s.a.arrayOf(s.a.shape(y)),isEditable:s.a.bool,ldapAuthType:s.a.oneOf(Object.keys(m)),hasUserToDNMapping:s.a.bool,deleteAfterDate:s.a.string,awsIAMType:s.a.oneOf([b.NONE,b.USER,b.ROLE])},x={_id:s.a.string.isRequired,groupId:s.a.string.isRequired,subject:s.a.string.isRequired,createdAt:s.a.string.isRequired,notAfter:s.a.string.isRequired,revokedAt:s.a.string,issuerSerial:s.a.number.isRequired},j={SCRAM_SHA:"SCRAM_SHA",LDAP:"LDAP",X509:"X509",MONGODB_AWS:"MONGODB_AWS"},E=(r={},i()(r,j.SCRAM_SHA,{value:j.SCRAM_SHA,name:"Password"}),i()(r,j.LDAP,{value:j.LDAP,name:"LDAP",description:"(M10 and up)"}),i()(r,j.X509,{value:j.X509,name:"Certificate",description:"(M10 and up)"}),i()(r,j.MONGODB_AWS,{value:j.MONGODB_AWS,name:"AWS IAM",description:"(MongoDB 4.4, M10 and up)"}),r),S=function(e){return e.ldapAuthType!==m.NONE?j.LDAP:e.x509Type!==g.NONE?j.X509:e.awsIAMType!==b.NONE?j.MONGODB_AWS:j.SCRAM_SHA},C=new Set([j.X509,j.MONGODB_AWS,j.LDAP])},914:
/*!******************************************************************!*\
  !*** ./project/nds/security/components/peering/peeringSchema.js ***!
  \******************************************************************/
/*! exports provided: GCP_CONTAINER_SHAPE, GCP_PEER_SHAPE, AZURE_CONTAINER_SHAPE, AZURE_CONTAINER_DEFAULTS_SHAPE, AZURE_PEER_SHAPE, AWS_CONTAINER_SHAPE, AZURE_FORM_DATA_SHAPE, FREE_CONTAINER_SHAPE */
/*! exports used: AWS_CONTAINER_SHAPE, AZURE_CONTAINER_DEFAULTS_SHAPE, AZURE_CONTAINER_SHAPE, AZURE_FORM_DATA_SHAPE, AZURE_PEER_SHAPE, FREE_CONTAINER_SHAPE, GCP_CONTAINER_SHAPE, GCP_PEER_SHAPE */function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return d})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return f})),n.d(t,"f",(function(){return u}));var r=n(/*! prop-types */3),o=n.n(r),i=n(/*! js/project/nds/common/components/regionSchema */896),a={"@provider":o.a.oneOf(["GCP"]).isRequired,id:o.a.string.isRequired,isProvisioned:o.a.bool.isRequired,atlasCidrBlock:o.a.string,gcpProjectId:o.a.string,networkName:o.a.string},s={"@provider":o.a.oneOf(["AZURE"]).isRequired,id:o.a.string.isRequired,isProvisioned:o.a.bool.isRequired,atlasCidrBlock:o.a.string,azureSubscriptionId:o.a.string,vnetName:o.a.string,region:o.a.string},l={atlasCidrBlock:o.a.string.isRequired,regions:o.a.arrayOf(o.a.shape(i.a)).isRequired},c={"@provider":o.a.oneOf(["AWS"]).isRequired,id:o.a.string.isRequired,isProvisioned:o.a.bool.isRequired,atlasCidrBlock:o.a.string,vpcId:o.a.string,region:o.a.string},u={"@provider":o.a.oneOf(["FREE"]).isRequired,id:o.a.string.isRequired,isProvisioned:o.a.bool.isRequired},d={id:o.a.string,gcpProjectId:o.a.string.isRequired,networkName:o.a.string.isRequired,errorMessage:o.a.string,"@provider":o.a.oneOf(["GCP"]).isRequired,status:o.a.oneOf(["WAITING_FOR_USER","ADDING_PEER","AVAILABLE","FAILED","DELETING"])},p={id:o.a.string,containerId:o.a.string,azureSubscriptionId:o.a.string.isRequired,azureDirectoryId:o.a.string.isRequired,vnetName:o.a.string.isRequired,errorState:o.a.string,resourceGroupName:o.a.string.isRequired,"@provider":o.a.oneOf(["AZURE"]).isRequired,status:o.a.oneOf(["ADDING_PEER","AVAILABLE","FAILED","DELETING","DELETION_FAILED"])},f={azureSubscriptionId:o.a.string,azureDirectoryId:o.a.string,resourceGroupName:o.a.string,vnetName:o.a.string,atlasCidrBlock:o.a.string,region:o.a.string}},915:
/*!**********************************************************************!*\
  !*** ./project/nds/security/components/EnterpriseSecurity/schema.ts ***!
  \**********************************************************************/
/*! exports provided: DB_USER_GROUP_ROLE_SHAPE, LDAP_SHAPE, CUSTOMER_X509_SHAPE, USER_SECURITY_SHAPE, USER_GROUP_SHAPE, ROLE_GROUP_SHAPE, AUDIT_LOG_CONFIGURATION_TYPES, AUDIT_LOG_SHAPE, SELECTED_AUDIT_EVENT_ACTION_TYPES_SHAPE, AUDIT_EVENT_ACTION_TYPE_SHAPE, AWS_KMS_SHAPE, AZURE_KEY_VAULT_SHAPE, AZURE_KEY_VAULT_ENVIRONMENT_OPTION_SHAPE, GOOGLE_CLOUD_KMS_SHAPE, ENCRYPTION_AT_REST_SHAPE, ENCRYPTED_CLUSTERS_SHAPE */
/*! exports used: AUDIT_EVENT_ACTION_TYPE_SHAPE, AUDIT_LOG_CONFIGURATION_TYPES, AUDIT_LOG_SHAPE, AWS_KMS_SHAPE, AZURE_KEY_VAULT_ENVIRONMENT_OPTION_SHAPE, AZURE_KEY_VAULT_SHAPE, CUSTOMER_X509_SHAPE, DB_USER_GROUP_ROLE_SHAPE, ENCRYPTED_CLUSTERS_SHAPE, ENCRYPTION_AT_REST_SHAPE, GOOGLE_CLOUD_KMS_SHAPE, LDAP_SHAPE, ROLE_GROUP_SHAPE, SELECTED_AUDIT_EVENT_ACTION_TYPES_SHAPE, USER_GROUP_SHAPE, USER_SECURITY_SHAPE */function(e,t,n){"use strict";n.d(t,"h",(function(){return g})),n.d(t,"l",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"p",(function(){return s})),n.d(t,"o",(function(){return b})),n.d(t,"m",(function(){return v})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"n",(function(){return y})),n.d(t,"a",(function(){return x})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return m}));var r=n(/*! prop-types */3),o=n.n(r),i={authenticationEnabled:o.a.bool.isRequired,authorizationEnabled:o.a.bool.isRequired,hostname:o.a.string,port:o.a.number,bindUsername:o.a.string,bindPassword:o.a.string,userToDNMapping:o.a.arrayOf(o.a.shape({match:o.a.string,ldapQuery:o.a.string,substitution:o.a.string})),caCertificate:o.a.string,authzQueryTemplate:o.a.string},a={ca:o.a.string,crlDistributionPoints:o.a.arrayOf(o.a.string),crl:o.a.string},s={ldap:o.a.shape(i),customerX509:o.a.shape(a)},l=["NONE","FILTER_BUILDER","FILTER_JSON"],c={enabled:o.a.bool.isRequired,auditFilter:o.a.string,auditAuthorizationSuccess:o.a.bool.isRequired,configurationType:o.a.oneOf(l).isRequired},u={enabled:o.a.bool.isRequired,accessKeyID:o.a.string,secretAccessKey:o.a.string,iamAssumedRoleArn:o.a.string,customerMasterKeyID:o.a.string,region:o.a.string,lastUpdatedKeyID:o.a.string,valid:o.a.bool.isRequired},d={environment:o.a.string,name:o.a.string},p={enabled:o.a.bool.isRequired,valid:o.a.bool.isRequired,clientID:o.a.string,tenantID:o.a.string,secret:o.a.string,azureEnvironment:o.a.shape(d),subscriptionID:o.a.string,resourceGroupName:o.a.string,keyVaultName:o.a.string,keyIdentifier:o.a.string},f={enabled:o.a.bool.isRequired,valid:o.a.bool.isRequired,serviceAccountKey:o.a.string,keyVersionResourceID:o.a.string},h={awsKms:o.a.shape(u),azureKeyVault:o.a.shape(p),googleCloudKms:o.a.shape(f)},m={AWS:o.a.arrayOf(o.a.string).isRequired,AZURE:o.a.arrayOf(o.a.string).isRequired,GCP:o.a.arrayOf(o.a.string).isRequired,NONE:o.a.arrayOf(o.a.string).isRequired},g={name:o.a.string.isRequired,selected:o.a.bool.isRequired},b={name:o.a.string.isRequired,displayName:o.a.string.isRequired,selected:o.a.bool.isRequired,selectAll:o.a.bool.isRequired,users:o.a.arrayOf(o.a.shape(g)).isRequired},v={name:o.a.string.isRequired,displayName:o.a.string.isRequired,selected:o.a.bool.isRequired,selectAll:o.a.bool.isRequired,roles:o.a.arrayOf(o.a.shape(g)).isRequired},y={authenticate:o.a.bool,authCheck:o.a.shape({authCheckReads:o.a.bool,authCheckWrites:o.a.bool}).isRequired,createCollection:o.a.bool,createDatabase:o.a.bool,createIndex:o.a.bool,renameCollection:o.a.bool,dropCollection:o.a.bool,dropDatabase:o.a.bool,dropIndex:o.a.bool,createUser:o.a.bool,dropUser:o.a.bool,dropAllUsersFromDatabase:o.a.bool,updateUser:o.a.bool,grantRolesToUser:o.a.bool,revokeRolesFromUser:o.a.bool,createRole:o.a.bool,updateRole:o.a.bool,dropRole:o.a.bool,dropAllRolesFromDatabase:o.a.bool,grantRolesToRole:o.a.bool,revokeRolesFromRole:o.a.bool,grantPrivilegesToRole:o.a.bool,revokePrivilegesFromRole:o.a.bool,enableSharding:o.a.bool,shardCollection:o.a.bool,addShard:o.a.bool,removeShard:o.a.bool,shutdown:o.a.bool,applicationMessage:o.a.bool},O={atype:o.a.string.isRequired,commandsAreAuthCheckCommands:o.a.bool.isRequired,commands:o.a.arrayOf(o.a.string).isRequired},x={atype:o.a.string.isRequired,commandsAreAuthCheckCommands:o.a.bool.isRequired,commandTypes:o.a.arrayOf(o.a.shape(O)),commands:o.a.arrayOf(o.a.string)}},916:
/*!***************************************************!*\
  !*** ../node_modules/clipboard/dist/clipboard.js ***!
  \***************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){
/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT Â© Zeno Rocha
 */
var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(e),r.removeAllRanges(),r.addRange(o),t=r.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var i=0,a=r.length;i<a;i++)r[i].fn!==t&&r[i].fn._!==t&&o.push(r[i]);return o.length?n[e]=o:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){var r=n(3),o=n(4);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(r.string(e))return function(e,t,n){return o(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(5);function o(e,t,n,r,o){var a=i.apply(this,arguments);return e.addEventListener(n,a,o),{destroy:function(){e.removeEventListener(n,a,o)}}}function i(e,t,n,o){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&o.call(e,n)}}e.exports=function(e,t,n,r,i){return"function"==typeof e.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return o(e,t,n,r,i)})))}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=o()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=o()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),l=n(1),c=n.n(l),u=n(2),d=n.n(u),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===p(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=d()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return m("action",e)}},{key:"defaultTarget",value:function(e){var t=m("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return m("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(c.a);function m(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}t.default=h}]).default},e.exports=r()},917:
/*!**********************************************************!*\
  !*** ./project/nds/security/models/NDSUserCollection.js ***!
  \**********************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! backbone */7),o=n.n(r),i=n(/*! ./NDSUser */939),a=o.a.Collection.extend({model:i.a,sortOrder:1,sortField:"authType",getAdminUser:function(){return this.find((function(e){return e.isAdminUser()}))},toggleSortOrder:function(){this.sortOrder=-this.sortOrder},sortByField:function(e){this.sortOrder=1,this.sortField=e},_userComparator:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sortOrder,r=e.get("user"),o=t.get("user");return n*r.localeCompare(o)},_dbComparator:function(e,t){var n=e.get("db"),r=t.get("db"),o=this.sortOrder*n.localeCompare(r);return 0!==o?o:this._userComparator(e,t)},_authTypeComparator:function(e,t){var n=t.getAuthTypeWeight()-e.getAuthTypeWeight();return 0!==n?this.sortOrder*n:this._userComparator(e,t,1)},comparator:function(e,t){switch(this.sortField){case a.SORT_FIELD.USER:return this._userComparator(e,t);case a.SORT_FIELD.DB:return this._dbComparator(e,t);case a.SORT_FIELD.AUTH_TYPE:default:return this._authTypeComparator(e,t)}},getFirstSCRAMUser:function(){return this.findWhere({ldapAuthType:i.a.LDAP_AUTH_TYPE.NONE,awsIAMType:i.a.AWS_IAM_TYPE.NONE,x509Type:i.a.X509_TYPE.NONE,isEditable:!0})},getNumSCRAMUsers:function(){return this.where({ldapAuthType:i.a.LDAP_AUTH_TYPE.NONE,awsIAMType:i.a.AWS_IAM_TYPE.NONE,x509Type:i.a.X509_TYPE.NONE,isEditable:!0}).length},getFirstLDAPUser:function(){return this.findWhere({ldapAuthType:i.a.LDAP_AUTH_TYPE.USER,isEditable:!0})},getFirstLDAPGroup:function(){return this.findWhere({ldapAuthType:i.a.LDAP_AUTH_TYPE.GROUP,isEditable:!0})},getFirstLDAPUserDN:function(){return this.findWhere({ldapAuthType:i.a.LDAP_AUTH_TYPE.USER,isEditable:!0,hasUserToDNMapping:!1})},getFirstLDAPMappedUser:function(){return this.findWhere({ldapAuthType:i.a.LDAP_AUTH_TYPE.USER,isEditable:!0,hasUserToDNMapping:!0})},getNumLDAPUsers:function(){return this.where({ldapAuthType:i.a.LDAP_AUTH_TYPE.USER,isEditable:!0}).length},getFirstAWSIAMUser:function(){return this.findWhere({awsIAMType:i.a.AWS_IAM_TYPE.USER,isEditable:!0})},getFirstAWSIAMRole:function(){return this.findWhere({awsIAMType:i.a.AWS_IAM_TYPE.ROLE,isEditable:!0})},getFirstAWSIAMRoleOrUser:function(){return this.getFirstAWSIAMUser()||this.getFirstAWSIAMRole()},getNumAWSIAMUsers:function(){return this.where({awsIAMType:i.a.AWS_IAM_TYPE.USER,isEditable:!0}).length+this.where({awsIAMType:i.a.AWS_IAM_TYPE.ROLE,isEditable:!0}).length},getFirstManagedX509User:function(){return this.findWhere({x509Type:i.a.X509_TYPE.MANAGED,isEditable:!0})},getFirstCustomerX509User:function(){return this.findWhere({x509Type:i.a.X509_TYPE.CUSTOMER,isEditable:!0})},getFirstX509User:function(){return this.getFirstManagedX509User()||this.getFirstCustomerX509User()},getNumX509Users:function(){return this.where({x509Type:i.a.X509_TYPE.MANAGED,isEditable:!0}).length+this.where({x509Type:i.a.X509_TYPE.CUSTOMER,isEditable:!0}).length},getEditableUsers:function(){return new a(this.where({isEditable:!0}))}},{SORT_FIELD:{AUTH_TYPE:"authType",USER:"user",DB:"db"}});t.a=a},920:
/*!***********************************************!*\
  !*** ./common/components/MultiStepWizard.tsx ***!
  \***********************************************/
/*! exports provided: Step, Footer, default */
/*! exports used: Footer, Step, default */function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return C}));var r=n(/*! @babel/runtime/helpers/classCallCheck */23),o=n.n(r),i=n(/*! @babel/runtime/helpers/createClass */24),a=n.n(i),s=n(/*! @babel/runtime/helpers/inherits */27),l=n.n(s),c=n(/*! @babel/runtime/helpers/possibleConstructorReturn */28),u=n.n(c),d=n(/*! @babel/runtime/helpers/getPrototypeOf */17),p=n.n(d),f=n(/*! @babel/runtime/helpers/defineProperty */4),h=n.n(f),m=n(/*! react */8),g=n.n(m),b=n(/*! prop-types */3),v=n.n(b),y=n(/*! classnames */22),O=n.n(y),x=n(/*! js/common/components/ButtonWithLoaderAndLink */113),j=n(/*! @emotion/core */1);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u()(this,n)}}function S(e){var t=e.children;return Object(j.jsx)(g.a.Fragment,null,t)}function C(e){var t=e.children;return Object(j.jsx)(g.a.Fragment,null,t)}S.propTypes={children:v.a.node.isRequired,title:v.a.string.isRequired,hasError:v.a.bool},S.defaultProps={hasError:!1},C.propTypes={children:v.a.node},C.defaultProps={children:Object(j.jsx)(g.a.Fragment,null)};var _=function(e){l()(n,e);var t=E(n);function n(){return o()(this,n),t.apply(this,arguments)}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.activeStep,r=e.completeText,o=e.nextText,i=e.onNext,a=e.onBack,s=e.onComplete,l=e.onCancel,c=e.nextEnabled,u=e.navClassName,d=e.className,p=e.topAccessory,f=e.showTopNav,h=e.customFooter,m=e.fullWidthNav,b=e.showNextLoader,v=g.a.Children.toArray(t),y=v.slice(n-1,n),E=n===v.length,S=Object(j.jsx)(x.a,{variant:"primary",name:"next",onClick:E?s:i,disabled:!c||b,showLoader:b},E?r:o),_=n>1&&Object(j.jsx)("a",{onClick:a,className:"multi-step-wizard-back-button",role:"button",tabIndex:0},Object(j.jsx)("i",{className:"fa fa-long-arrow-left multi-step-wizard-back-button-icon"}),Object(j.jsx)("span",null,"Go Back"));return Object(j.jsx)("div",{className:O()("multi-step-wizard",d)},Object(j.jsx)("nav",{className:O()("multi-step-wizard-nav",{"multi-step-wizard-nav-with-full-width":m},u)},Object(j.jsx)("ol",{className:O()("multi-step-wizard-breadcrumbs",{"multi-step-wizard-breadcrumbs-with-full-width":m})},g.a.Children.map(v,(function(e,t){var r,o=t+1,i=o<n,a=o===n,s=o>n;return e.props.hasError?r="multi-step-wizard-breadcrumb-has-error":i?r="multi-step-wizard-breadcrumb-is-complete":a?r="multi-step-wizard-breadcrumb-is-active":s&&(r="multi-step-wizard-breadcrumb-is-disabled"),Object(j.jsx)("li",{className:O()("multi-step-wizard-breadcrumb",{"multi-step-wizard-breadcrumb-with-full-width":m},r)},t>0&&Object(j.jsx)("div",{className:"multi-step-wizard-breadcrumb-divider"}),Object(j.jsx)("i",{className:"fa fa-check multi-step-wizard-breadcrumb-icon"}),Object(j.jsx)("i",{className:"fa fa-times multi-step-wizard-breadcrumb-icon"}),e.props.title)}))),f&&Object(j.jsx)("div",null,_,S,p)),Object(j.jsx)("section",{className:"multi-step-wizard-content"},y),h||Object(j.jsx)(C,null,Object(j.jsx)("nav",{className:O()("multi-step-wizard-nav",u)},Object(j.jsx)("div",null,Object(j.jsx)("button",{type:"button",className:"button multi-step-wizard-cancel-button",onClick:l},"Cancel")),Object(j.jsx)("div",null,_,S))))}}]),n}(m.Component);h()(_,"Step",S),h()(_,"Footer",C),h()(_,"propTypes",{children:v.a.arrayOf(v.a.shape({type:v.a.oneOf([S])})).isRequired,activeStep:v.a.number.isRequired,completeText:v.a.string.isRequired,nextText:v.a.string,nextEnabled:v.a.bool.isRequired,onCancel:v.a.func.isRequired,onBack:v.a.func.isRequired,onNext:v.a.func.isRequired,onComplete:v.a.func.isRequired,navClassName:v.a.string,className:v.a.string,topAccessory:v.a.node,showTopNav:v.a.bool,customFooter:v.a.node,fullWidthNav:v.a.bool,showNextLoader:v.a.bool}),h()(_,"defaultProps",{navClassName:"",className:"",topAccessory:null,showTopNav:!0,customFooter:void 0,fullWidthNav:!1,nextText:"Next",showNextLoader:!1}),t.c=_},921:
/*!*******************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/text-input/dist/index.web.js ***!
  \*******************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a,s,l,c,u;window,e.exports=(r=n(/*! react */8),o=n(/*! prop-types */3),i=n(/*! @leafygreen-ui/emotion */39),a=n(/*! @leafygreen-ui/icon/dist/Checkmark */1008),s=n(/*! @leafygreen-ui/icon/dist/Warning */1036),l=n(/*! @leafygreen-ui/palette */26),c=n(/*! @leafygreen-ui/leafygreen-provider */117),u=n(/*! @leafygreen-ui/lib */535),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TextInputType",{enumerable:!0,get:function(){return o.TextInputType}}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(1)),i=o.default;t.default=i},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TextInputType=t.State=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(2)),i=p(n(3)),a=n(4),s=p(n(5)),l=p(n(6)),c=n(7),u=n(8),d=n(9);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(){var e=I(["\n        padding-right: ","px;\n        border-color: ",";\n      "]);return b=function(){return e},e}function v(){var e=I(["\n        padding-right: 30px;\n        border-color: ",";\n      "]);return v=function(){return e},e}function y(){var e=I(["\n        padding-right: 30px;\n        border-color: ",";\n      "]);return y=function(){return e},e}function O(){var e=I(["\n  color: ",";\n  font-size: 14px;\n  height: 20px;\n  padding-top: 4px;\n  font-weight: normal;\n"]);return O=function(){return e},e}function x(){var e=I(["\n  color: ",";\n  font-size: 12px;\n  font-style: italic;\n  font-weight: normal;\n"]);return x=function(){return e},e}function j(){var e=I(["\n  color: ",";\n"]);return j=function(){return e},e}function E(){var e=I(["\n  color: ",";\n"]);return E=function(){return e},e}function S(){var e=I(["\n  position: absolute;\n  display: flex;\n  align-items: center;\n  right: 12px;\n  z-index: 1;\n"]);return S=function(){return e},e}function C(){var e=I(["\n  ",":hover ~ & {\n    transform: scale(1);\n  }\n"]);return C=function(){return e},e}function _(){var e=I(["\n  ",":focus ~ & {\n    background-color: #9dd0e7;\n    transform: scale(1);\n    z-index: 1;\n  }\n"]);return _=function(){return e},e}function A(){var e=I(["\n  width: 100%;\n  height: 36px;\n  border-radius: 4px;\n  padding-left: 12px;\n  font-size: 14px;\n  font-weight: normal;\n  font-family: Akzidenz, âHelvetica Neueâ, Helvetica, Arial, sans-serif;\n  background-color: ",";\n  border: 1px solid;\n  z-index: 1;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  &:focus {\n    outline: none;\n    z-index: 2;\n    border-color: #9dd0e7;\n    transition: border-color 150ms ease-in-out;\n\n    & ~ "," {\n      z-index: 2;\n    }\n  }\n\n  &:disabled {\n    background-color: ",";\n  }\n"]);return A=function(){return e},e}function N(){var e=I(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  z-index: 0;\n"]);return N=function(){return e},e}function T(){var e=I(["\n  color: ",";\n  font-size: 14px;\n  line-height: 16px;\n  font-weight: normal;\n  padding-bottom: 4px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n"]);return T=function(){return e},e}function w(){var e=I(["\n  color: ",";\n  font-size: 14px;\n  font-weight: bold;\n  line-height: 16px;\n  padding-bottom: 4px;\n"]);return w=function(){return e},e}function P(){var e=I(["\n  display: flex;\n  flex-direction: column;\n"]);return P=function(){return e},e}function R(){var e=I(["\n  transition: all 150ms ease-in-out;\n  transform: scale(0.9, 0.8);\n  border-radius: 7px;\n  position: absolute;\n  top: -3px;\n  bottom: -3px;\n  left: -3px;\n  right: -3px;\n  pointer-events: none;\n  background-color: ",";\n"]);return R=function(){return e},e}function I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var D=(0,d.createDataProp)("input-selector"),k=(0,d.createDataProp)("icon-selector"),M={None:"none",Valid:"valid",Error:"error"};t.State=M;var L={Email:"email",Password:"password",Search:"search",Text:"text",Url:"url",Tel:"tel"};t.TextInputType=L;var U=(0,a.css)(R(),c.uiColors.gray.light2),F=(0,a.css)(P()),B=(0,a.css)(w(),c.uiColors.gray.dark2),z=(0,a.css)(T(),c.uiColors.gray.dark1),V=(0,a.css)(N()),q=(0,a.css)(A(),c.uiColors.white,c.uiColors.gray.base,k.selector,c.uiColors.gray.light2),G=(0,a.css)(_(),D.selector),H=(0,a.css)(C(),D.selector),W=(0,a.css)(S()),Y=(0,a.css)(E(),c.uiColors.red.base),K=(0,a.css)(j(),c.uiColors.green.base),Z=(0,a.css)(x(),c.uiColors.gray.dark1),$=(0,a.css)(O(),c.uiColors.red.base);function X(e,t){switch(e){case M.Valid:return(0,a.css)(y(),c.uiColors.green.base);case M.Error:return(0,a.css)(v(),c.uiColors.red.base);default:return(0,a.css)(b(),t?60:12,c.uiColors.gray.light1)}}var J=o.default.forwardRef((function(e,t){var n=e.label,r=e.description,i=e.onChange,c=e.placeholder,d=e.errorMessage,p=e.optional,g=void 0!==p&&p,b=e.disabled,v=void 0!==b&&b,y=e.state,O=void 0===y?M.None:y,x=e.type,j=void 0===x?L.Text:x,E=e.id,S=e["aria-labelledby"],C=e.value,_=e.className,A=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["label","description","onChange","placeholder","errorMessage","optional","disabled","state","type","id","aria-labelledby","value","className"]),N="string"==typeof C,T=m((0,o.useState)(""),2),w=T[0],P=T[1],R=N?C:w,I=(0,u.useUsingKeyboardContext)().usingKeyboard,J=m((0,o.useState)("text-input-".concat(Math.floor(1e7*Math.random()))),1)[0],Q=null!=E?E:J;return n||S||console.error("For screen-reader accessibility, label or aria-labelledby must be provided to IconButton."),o.default.createElement("div",{className:(0,a.cx)(F,_)},n&&o.default.createElement("label",{htmlFor:Q,className:B},n),r&&o.default.createElement("p",{className:z},r),o.default.createElement("div",{className:V},o.default.createElement("input",h({},D.prop,A,{"aria-labelledBy":S,type:j,className:(0,a.cx)(q,X(O,g)),value:R,required:!g,disabled:v,placeholder:c,onChange:function(e){i&&i(e),N||P(e.target.value)},ref:t,id:Q})),o.default.createElement("div",h({},k.prop,{className:W}),O===M.Valid&&o.default.createElement(s.default,{className:K}),O===M.Error&&o.default.createElement(l.default,{className:Y}),O===M.None&&g&&o.default.createElement("div",{className:Z},o.default.createElement("p",null,"Optional"))),o.default.createElement("div",{className:(0,a.cx)(U,H,f({},G,I))})),O===M.Error&&d&&o.default.createElement("div",{className:$},o.default.createElement("label",null,d)))}));J.displayName="TextInput",J.propTypes={id:i.default.string,label:i.default.string,description:i.default.string,optional:i.default.bool,disabled:i.default.bool,onChange:i.default.func,placeholder:i.default.string,errorMessage:i.default.string,state:i.default.oneOf(Object.values(M)),value:i.default.string,className:i.default.string};var Q=J;t.default=Q},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=s},function(e,t){e.exports=l},function(e,t){e.exports=c},function(e,t){e.exports=u}]))},922:
/*!*************************************************!*\
  !*** ../node_modules/d3-array/dist/d3-array.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o,i,a,s=n(/*! @babel/runtime/helpers/interopRequireDefault */200),l=s(n(/*! @babel/runtime/regenerator */6)),c=s(n(/*! @babel/runtime/helpers/slicedToArray */20)),u=s(n(/*! @babel/runtime/helpers/toConsumableArray */29)),d=s(n(/*! @babel/runtime/helpers/typeof */34));function p(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}a=function(e){var t=l.default.mark(k),n=l.default.mark(z);function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function o(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}var i=o(r),a=i.right,s=i.left;function f(e){return 0|e.length}function h(e){return!(e>0)}function m(e){return"object"!==(0,d.default)(e)||"length"in e?e:Array.from(e)}function g(e){return function(t){return e.apply(void 0,(0,u.default)(t))}}function b(e,t){var n,r=0,o=0,i=0;if(void 0===t){var a,s=p(e);try{for(s.s();!(a=s.n()).done;){var l=a.value;null!=l&&(l=+l)>=l&&(i+=(n=l-o)*(l-(o+=n/++r)))}}catch(e){s.e(e)}finally{s.f()}}else{var c,u=-1,d=p(e);try{for(d.s();!(c=d.n()).done;){var f=c.value;null!=(f=t(f,++u,e))&&(f=+f)>=f&&(i+=(n=f-o)*(f-(o+=n/++r)))}}catch(e){d.e(e)}finally{d.f()}}if(r>1)return i/(r-1)}function v(e,t){var n=b(e,t);return n?Math.sqrt(n):n}function y(e,t){var n,r;if(void 0===t){var o,i=p(e);try{for(i.s();!(o=i.n()).done;){var a=o.value;null!=a&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}}catch(e){i.e(e)}finally{i.f()}}else{var s,l=-1,c=p(e);try{for(c.s();!(s=c.n()).done;){var u=s.value;null!=(u=t(u,++l,e))&&(void 0===n?u>=u&&(n=r=u):(n>u&&(n=u),r<u&&(r=u)))}}catch(e){c.e(e)}finally{c.f()}}return[n,r]}function O(e){return e}function x(e,t,n,r){return function e(o,i){if(i>=r.length)return n(o);var a,s=new Map,l=r[i++],u=-1,d=p(o);try{for(d.s();!(a=d.n()).done;){var f=a.value,h=l(f,++u,o),m=s.get(h);m?m.push(f):s.set(h,[f])}}catch(e){d.e(e)}finally{d.f()}var g,b=p(s);try{for(b.s();!(g=b.n()).done;){var v=(0,c.default)(g.value,2),y=v[0],O=v[1];s.set(y,e(O,i))}}catch(e){b.e(e)}finally{b.f()}return t(s)}(e,0)}var j=Array.prototype,E=j.slice,S=j.map;function C(e){return function(){return e}}function _(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}var A=Math.sqrt(50),N=Math.sqrt(10),T=Math.sqrt(2);function w(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=A?10:i>=N?5:i>=T?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=A?10:i>=N?5:i>=T?2:1)}function P(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=A?o*=10:i>=N?o*=5:i>=T&&(o*=2),t<e?-o:o}function R(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function I(){var e=O,t=y,n=R;function r(r){Array.isArray(r)||(r=Array.from(r));var o,i,s=r.length,l=new Array(s);for(o=0;o<s;++o)l[o]=e(r[o],o,r);var c=t(l),u=c[0],d=c[1],p=n(l,u,d);Array.isArray(p)||(p=P(u,d,p),p=_(Math.ceil(u/p)*p,d,p));for(var f=p.length;p[0]<=u;)p.shift(),--f;for(;p[f-1]>d;)p.pop(),--f;var h,m=new Array(f+1);for(o=0;o<=f;++o)(h=m[o]=[]).x0=o>0?p[o-1]:u,h.x1=o<f?p[o]:d;for(o=0;o<s;++o)u<=(i=l[o])&&i<=d&&m[a(p,i,0,f)].push(r[o]);return m}return r.value=function(t){return arguments.length?(e="function"==typeof t?t:C(t),r):e},r.domain=function(e){return arguments.length?(t="function"==typeof e?e:C([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?C(E.call(e)):C(e),r):n},r}function D(e){return null===e?NaN:+e}function k(e,n){var r,o,i,a,s,c,u;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==n){t.next=21;break}r=p(e),t.prev=2,r.s();case 4:if((o=r.n()).done){t.next=11;break}if(!(null!=(i=o.value)&&(i=+i)>=i)){t.next=9;break}return t.next=9,i;case 9:t.next=4;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:t.next=40;break;case 21:a=-1,s=p(e),t.prev=23,s.s();case 25:if((c=s.n()).done){t.next=32;break}if(u=c.value,!(null!=(u=n(u,++a,e))&&(u=+u)>=u)){t.next=30;break}return t.next=30,u;case 30:t.next=25;break;case 32:t.next=37;break;case 34:t.prev=34,t.t1=t.catch(23),s.e(t.t1);case 37:return t.prev=37,s.f(),t.finish(37);case 40:case"end":return t.stop()}}),t,null,[[2,13,16,19],[23,34,37,40]])}function M(e,t,n){return L(Float64Array.from(k(e,n)).sort(r),t)}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:D;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,i=Math.floor(o),a=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return a+(s-a)*(o-i)}}function U(e,t){var n,r=-1,o=-1;if(void 0===t){var i,a=p(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;++o,null!=s&&(n<s||void 0===n&&s>=s)&&(n=s,r=o)}}catch(e){a.e(e)}finally{a.f()}}else{var l,c=p(e);try{for(c.s();!(l=c.n()).done;){var u=l.value;null!=(u=t(u,++o,e))&&(n<u||void 0===n&&u>=u)&&(n=u,r=o)}}catch(e){c.e(e)}finally{c.f()}}return r}function F(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r;o>n;){if(o-n>600){var a=o-n+1,s=t-n+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(s-a/2<0?-1:1),d=Math.max(n,Math.floor(t-s*c/a+u)),p=Math.min(o,Math.floor(t+(a-s)*c/a+u));F(e,t,d,p,i)}var f=e[t],h=n,m=o;for(B(e,n,t),i(e[o],f)>0&&B(e,n,o);h<m;){for(B(e,h,m),++h,--m;i(e[h],f)<0;)++h;for(;i(e[m],f)>0;)--m}0===i(e[n],f)?B(e,n,m):B(e,++m,o),m<=t&&(n=m+1),t<=m&&(o=m-1)}return e}function B(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function z(e){var t,r,o;return l.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=p(e),n.prev=1,t.s();case 3:if((r=t.n()).done){n.next=8;break}return o=r.value,n.delegateYield(o,"t0",6);case 6:n.next=3;break;case 8:n.next=13;break;case 10:n.prev=10,n.t1=n.catch(1),t.e(n.t1);case 13:return n.prev=13,t.f(),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,10,13,16]])}function V(e,t){var n;if(void 0===t){var r,o=p(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;null!=i&&(n>i||void 0===n&&i>=i)&&(n=i)}}catch(e){o.e(e)}finally{o.f()}}else{var a,s=-1,l=p(e);try{for(l.s();!(a=l.n()).done;){var c=a.value;null!=(c=t(c,++s,e))&&(n>c||void 0===n&&c>=c)&&(n=c)}}catch(e){l.e(e)}finally{l.f()}}return n}function q(e,t){var n,r=-1,o=-1;if(void 0===t){var i,a=p(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;++o,null!=s&&(n>s||void 0===n&&s>=s)&&(n=s,r=o)}}catch(e){a.e(e)}finally{a.f()}}else{var l,c=p(e);try{for(c.s();!(l=c.n()).done;){var u=l.value;null!=(u=t(u,++o,e))&&(n>u||void 0===n&&u>=u)&&(n=u,r=o)}}catch(e){c.e(e)}finally{c.f()}}return r}function G(e,t){return[e,t]}function H(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if(1===n.length)return q(e,n);var o,i=-1,a=-1,s=p(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;++a,(i<0?0===n(l,l):n(l,t)<0)&&(t=l,i=a)}}catch(e){s.e(e)}finally{s.f()}return i}function W(e){if(!(o=e.length))return[];for(var t=-1,n=V(e,Y),r=new Array(n);++t<n;)for(var o,i=-1,a=r[t]=new Array(o);++i<o;)a[i]=e[i][t];return r}function Y(e){return e.length}e.ascending=r,e.bin=I,e.bisect=a,e.bisectLeft=s,e.bisectRight=a,e.bisector=o,e.count=function(e,t){var n=0;if(void 0===t){var r,o=p(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;null!=i&&(i=+i)>=i&&++n}}catch(e){o.e(e)}finally{o.f()}}else{var a,s=-1,l=p(e);try{for(l.s();!(a=l.n()).done;){var c=a.value;null!=(c=t(c,++s,e))&&(c=+c)>=c&&++n}}catch(e){l.e(e)}finally{l.f()}}return n},e.cross=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"==typeof t[t.length-1]&&g(t.pop()),o=(t=t.map(m)).map(f),i=t.length-1,a=new Array(i+1).fill(0),s=[];if(i<0||o.some(h))return s;for(;;){s.push(a.map((function(e,n){return t[n][e]})));for(var l=i;++a[l]===o[l];){if(0===l)return r?s.map(r):s;a[l--]=0}}},e.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},e.deviation=v,e.extent=y,e.greatest=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,o=!1;if(1===n.length){var i,a,s=p(e);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=n(l);(o?r(c,i)>0:0===r(c,c))&&(t=l,i=c,o=!0)}}catch(e){s.e(e)}finally{s.f()}}else{var u,d=p(e);try{for(d.s();!(u=d.n()).done;){var f=u.value;(o?n(f,t)>0:0===n(f,f))&&(t=f,o=!0)}}catch(e){d.e(e)}finally{d.f()}}return t},e.greatestIndex=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;if(1===n.length)return U(e,n);var o,i=-1,a=-1,s=p(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;++a,(i<0?0===n(l,l):n(l,t)>0)&&(t=l,i=a)}}catch(e){s.e(e)}finally{s.f()}return i},e.group=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x(e,O,O,n)},e.groups=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x(e,Array.from,O,n)},e.histogram=I,e.least=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,o=!1;if(1===n.length){var i,a,s=p(e);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=n(l);(o?r(c,i)<0:0===r(c,c))&&(t=l,i=c,o=!0)}}catch(e){s.e(e)}finally{s.f()}}else{var u,d=p(e);try{for(d.s();!(u=d.n()).done;){var f=u.value;(o?n(f,t)<0:0===n(f,f))&&(t=f,o=!0)}}catch(e){d.e(e)}finally{d.f()}}return t},e.leastIndex=H,e.max=function(e,t){var n;if(void 0===t){var r,o=p(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;null!=i&&(n<i||void 0===n&&i>=i)&&(n=i)}}catch(e){o.e(e)}finally{o.f()}}else{var a,s=-1,l=p(e);try{for(l.s();!(a=l.n()).done;){var c=a.value;null!=(c=t(c,++s,e))&&(n<c||void 0===n&&c>=c)&&(n=c)}}catch(e){l.e(e)}finally{l.f()}}return n},e.maxIndex=U,e.mean=function(e,t){var n=0,r=0;if(void 0===t){var o,i=p(e);try{for(i.s();!(o=i.n()).done;){var a=o.value;null!=a&&(a=+a)>=a&&(++n,r+=a)}}catch(e){i.e(e)}finally{i.f()}}else{var s,l=-1,c=p(e);try{for(c.s();!(s=c.n()).done;){var u=s.value;null!=(u=t(u,++l,e))&&(u=+u)>=u&&(++n,r+=u)}}catch(e){c.e(e)}finally{c.f()}}if(n)return r/n},e.median=function(e,t){if((e=Float64Array.from(k(e,t))).length){var n=e.length,r=n>>1;return F(e,r-1,0),0==(1&n)&&F(e,r,r),M(e,.5)}},e.merge=function(e){return Array.from(z(e))},e.min=V,e.minIndex=q,e.pairs=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,o=[],i=!1,a=p(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;i&&o.push(r(t,s)),t=s,i=!0}}catch(e){a.e(e)}finally{a.f()}return o},e.permute=function(e,t){return Array.from(t,(function(t){return e[t]}))},e.quantile=M,e.quantileSorted=L,e.quickselect=F,e.range=_,e.rollup=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return x(e,O,t,r)},e.rollups=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return x(e,Array.from,t,r)},e.scan=function(e,t){var n=H(e,t);return n<0?void 0:n},e.shuffle=function(e){for(var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=o-(r=+r);i;)n=Math.random()*i--|0,t=e[i+r],e[i+r]=e[n+r],e[n+r]=t;return e},e.sum=function(e,t){var n=0;if(void 0===t){var r,o=p(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;(i=+i)&&(n+=i)}}catch(e){o.e(e)}finally{o.f()}}else{var a,s=-1,l=p(e);try{for(l.s();!(a=l.n()).done;){var c=a.value;(c=+t(c,++s,e))&&(n+=c)}}catch(e){l.e(e)}finally{l.f()}}return n},e.thresholdFreedmanDiaconis=function(e,t,n){return e=S.call(e,D).sort(r),Math.ceil((n-t)/(2*(M(e,.75)-M(e,.25))*Math.pow(e.length,-1/3)))},e.thresholdScott=function(e,t,n){return Math.ceil((n-t)/(3.5*v(e)*Math.pow(e.length,-1/3)))},e.thresholdSturges=R,e.tickIncrement=w,e.tickStep=P,e.ticks=function(e,t,n){var r,o,i,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=w(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),i=new Array(o=Math.ceil(t-e+1));++s<o;)i[s]=(e+s)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),i=new Array(o=Math.ceil(e-t+1));++s<o;)i[s]=(e-s)/a;return r&&i.reverse(),i},e.transpose=W,e.variance=b,e.zip=function(){return W(arguments)},Object.defineProperty(e,"__esModule",{value:!0})},"object"===(0,d.default)(t)&&void 0!==e?a(t):(o=[t],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))},923:
/*!*************************************************************!*\
  !*** ../node_modules/d3-interpolate/dist/d3-interpolate.js ***!
  \*************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e,t){"use strict";function n(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}function r(e){var t=e.length-1;return function(r){var o=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[o],a=e[o+1],s=o>0?e[o-1]:2*i-a,l=o<t-1?e[o+2]:2*a-i;return n((r-o/t)*t,s,i,a,l)}}function o(e){var t=e.length;return function(r){var o=Math.floor(((r%=1)<0?++r:r)*t),i=e[(o+t-1)%t],a=e[o%t],s=e[(o+1)%t],l=e[(o+2)%t];return n((r-o/t)*t,i,a,s,l)}}function i(e){return function(){return e}}function a(e,t){return function(n){return e+n*t}}function s(e,t){var n=t-e;return n?a(e,n>180||n<-180?n-360*Math.round(n/360):n):i(isNaN(e)?t:e)}function l(e){return 1==(e=+e)?c:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):i(isNaN(t)?n:t)}}function c(e,t){var n=t-e;return n?a(e,n):i(isNaN(e)?t:e)}var u=function e(n){var r=l(n);function o(e,n){var o=r((e=t.rgb(e)).r,(n=t.rgb(n)).r),i=r(e.g,n.g),a=r(e.b,n.b),s=c(e.opacity,n.opacity);return function(t){return e.r=o(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return o.gamma=e,o}(1);function d(e){return function(n){var r,o,i=n.length,a=new Array(i),s=new Array(i),l=new Array(i);for(r=0;r<i;++r)o=t.rgb(n[r]),a[r]=o.r||0,s[r]=o.g||0,l[r]=o.b||0;return a=e(a),s=e(s),l=e(l),o.opacity=1,function(e){return o.r=a(e),o.g=s(e),o.b=l(e),o+""}}}var p=d(r),f=d(o);function h(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function m(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function g(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=E(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function b(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function v(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function y(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=E(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var O=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x=new RegExp(O.source,"g");function j(e,t){var n,r,o,i=O.lastIndex=x.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=O.exec(e))&&(r=x.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:v(n,r)})),i=x.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function E(e,n){var r,o=typeof n;return null==n||"boolean"===o?i(n):("number"===o?v:"string"===o?(r=t.color(n))?(n=r,u):j:n instanceof t.color?u:n instanceof Date?b:m(n)?h:Array.isArray(n)?g:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?y:v)(e,n)}var S,C,_,A,N=180/Math.PI,T={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function w(e,t,n,r,o,i){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*N,skewX:Math.atan(l)*N,scaleX:a,scaleY:s}}function P(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],l=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var l=a.push("translate(",null,t,null,n);s.push({i:l-4,x:v(e,o)},{i:l-2,x:v(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:v(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,l),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:v(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,l),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:v(e,n)},{i:s-2,x:v(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,l),i=a=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var R=P((function(e){return"none"===e?T:(S||(S=document.createElement("DIV"),C=document.documentElement,_=document.defaultView),S.style.transform=e,e=_.getComputedStyle(C.appendChild(S),null).getPropertyValue("transform"),C.removeChild(S),w(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),I=P((function(e){return null==e?T:(A||(A=document.createElementNS("http://www.w3.org/2000/svg","g")),A.setAttribute("transform",e),(e=A.transform.baseVal.consolidate())?w((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):T)}),", ",")",")"),D=Math.SQRT2;function k(e){return((e=Math.exp(e))+1/e)/2}function M(e){return function(n,r){var o=e((n=t.hsl(n)).h,(r=t.hsl(r)).h),i=c(n.s,r.s),a=c(n.l,r.l),s=c(n.opacity,r.opacity);return function(e){return n.h=o(e),n.s=i(e),n.l=a(e),n.opacity=s(e),n+""}}}var L=M(s),U=M(c);function F(e){return function(n,r){var o=e((n=t.hcl(n)).h,(r=t.hcl(r)).h),i=c(n.c,r.c),a=c(n.l,r.l),s=c(n.opacity,r.opacity);return function(e){return n.h=o(e),n.c=i(e),n.l=a(e),n.opacity=s(e),n+""}}}var B=F(s),z=F(c);function V(e){return function n(r){function o(n,o){var i=e((n=t.cubehelix(n)).h,(o=t.cubehelix(o)).h),a=c(n.s,o.s),s=c(n.l,o.l),l=c(n.opacity,o.opacity);return function(e){return n.h=i(e),n.s=a(e),n.l=s(Math.pow(e,r)),n.opacity=l(e),n+""}}return r=+r,o.gamma=n,o}(1)}var q=V(s),G=V(c);e.interpolate=E,e.interpolateArray=function(e,t){return(m(t)?h:g)(e,t)},e.interpolateBasis=r,e.interpolateBasisClosed=o,e.interpolateCubehelix=q,e.interpolateCubehelixLong=G,e.interpolateDate=b,e.interpolateDiscrete=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},e.interpolateHcl=B,e.interpolateHclLong=z,e.interpolateHsl=L,e.interpolateHslLong=U,e.interpolateHue=function(e,t){var n=s(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},e.interpolateLab=function(e,n){var r=c((e=t.lab(e)).l,(n=t.lab(n)).l),o=c(e.a,n.a),i=c(e.b,n.b),a=c(e.opacity,n.opacity);return function(t){return e.l=r(t),e.a=o(t),e.b=i(t),e.opacity=a(t),e+""}},e.interpolateNumber=v,e.interpolateNumberArray=h,e.interpolateObject=y,e.interpolateRgb=u,e.interpolateRgbBasis=p,e.interpolateRgbBasisClosed=f,e.interpolateRound=function(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}},e.interpolateString=j,e.interpolateTransformCss=R,e.interpolateTransformSvg=I,e.interpolateZoom=function(e,t){var n,r,o=e[0],i=e[1],a=e[2],s=t[0],l=t[1],c=t[2],u=s-o,d=l-i,p=u*u+d*d;if(p<1e-12)r=Math.log(c/a)/D,n=function(e){return[o+e*u,i+e*d,a*Math.exp(D*e*r)]};else{var f=Math.sqrt(p),h=(c*c-a*a+4*p)/(2*a*2*f),m=(c*c-a*a-4*p)/(2*c*2*f),g=Math.log(Math.sqrt(h*h+1)-h),b=Math.log(Math.sqrt(m*m+1)-m);r=(b-g)/D,n=function(e){var t,n=e*r,s=k(g),l=a/(2*f)*(s*(t=D*n+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[o+l*u,i+l*d,a*s/k(D*n+g)]}}return n.duration=1e3*r,n},e.piecewise=function(e,t){for(var n=0,r=t.length-1,o=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(o,o=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}},e.quantize=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(/*! d3-color */960))},926:
/*!**************************************************************!*\
  !*** ./project/common/handlers/isAuthExpired.js + 1 modules ***!
  \**************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/core/models/MultiFactorAuth.js */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/core/views/MultiFactorAuthView.js */
/*! ModuleConcatenation bailout: Cannot concat with ./legacy/core/views/PasswordAuthView.js */
/*! ModuleConcatenation bailout: Cannot concat with ./project/common/util/jqueryErrorHandler.js */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/backbone/backbone.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/jquery/dist/jquery-exposed.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(10),o=n.n(r),i=n(7),a=n.n(i),s=n(317),l=n(318),c=n(319),u=n(46),d=a.a.View.extend({initialize:function(e){e&&e.type&&(this.type=e.type)},render:function(){var e=this;if("multifactor"===this.type){var t=new s.a;t.fetch().then((function(){e._insertAuthView(new l.a({model:t,v2spinner:!0}))}),u.a)}else"password"===this.type&&this._insertAuthView(new c.a({v2spinner:!0}));return this},_insertAuthView:function(e){var t=this;this.$el.empty().append(e.render().$el),this.$("input").focus(),this.listenTo(e,"auth:verified",(function(){t.trigger("auth:verified"),t.$el.empty()}))}});t.a=function(e){if(e.responseJSON&&"MULTI_FACTOR_AUTH_EXPIRED"===e.responseJSON.errorCode)return o.a.Deferred().reject(void 0,d.extend({type:"multifactor"}));if(e.responseJSON&&"PASSWORD_AUTH_EXPIRED"===e.responseJSON.errorCode)return o.a.Deferred().reject(void 0,d.extend({type:"password"}));for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return u.a.apply(void 0,[e].concat(n))}},927:
/*!*************************************************!*\
  !*** ./project/common/partials/breadcrumbs.hbs ***!
  \*************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r=n(/*! handlebars/runtime */11);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <a href="'+c("function"==typeof(a=null!=(a=u(n,"href")||(null!=t?u(t,"href"):t))?a:l)?a.call(s,{name:"href",hash:{},data:o,loc:{start:{line:3,column:17},end:{line:3,column:25}}}):a)+'">'+c("function"==typeof(a=null!=(a=u(n,"text")||(null!=t?u(t,"text"):t))?a:l)?a.call(s,{name:"text",hash:{},data:o,loc:{start:{line:3,column:27},end:{line:3,column:35}}}):a)+"</a>\n"+(null!=(i=u(n,"unless").call(s,o&&u(o,"last"),{name:"unless",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:8},end:{line:6,column:19}}}))?i:"")},2:function(e,t,n,r,o){return"        <span>></span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="breadcrumbs">\n'+(null!=(i=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"breadcrumbs"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:4},end:{line:7,column:13}}}))?i:"")+"</div>\n"},useData:!0})},931:
/*!*********************************************************!*\
  !*** ./project/nds/types/awsPrivateLink.ts + 1 modules ***!
  \*********************************************************/
/*! exports provided: Status, EndpointStatus, InterfaceEndpointShape, AWSPrivateLinkShape, canAcceptInterfaceEndpoint */
/*! exports used: AWSPrivateLinkShape, EndpointStatus, Status, canAcceptInterfaceEndpoint */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/prop-types/index.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d}));var r,o=n(3),i=n.n(o);!function(e){e.AP_EAST_1="AP_EAST_1",e.AP_NORTHEAST_1="AP_NORTHEAST_1",e.AP_NORTHEAST_2="AP_NORTHEAST_2",e.AP_SOUTHEAST_1="AP_SOUTHEAST_1",e.AP_SOUTHEAST_2="AP_SOUTHEAST_2",e.AP_SOUTH_1="AP_SOUTH_1",e.ASIA_EAST="ASIA_EAST",e.ASIA_EAST_2="ASIA_EAST_2",e.ASIA_NORTHEAST_2="ASIA_NORTHEAST_2",e.ASIA_NORTHEAST_3="ASIA_NORTHEAST_3",e.ASIA_SOUTH_1="ASIA_SOUTH_1",e.ASIA_SOUTH_EAST="ASIA_SOUTH_EAST",e.AUSTRALIA_EAST="AUSTRALIA_EAST",e.AUSTRALIA_SOUTHEAST_1="AUSTRALIA_SOUTHEAST_1",e.AUSTRALIA_SOUTH_EAST="AUSTRALIA_SOUTH_EAST",e.BRAZIL_SOUTH="BRAZIL_SOUTH",e.CANADA_CENTRAL="CANADA_CENTRAL",e.CANADA_EAST="CANADA_EAST",e.CA_CENTRAL_1="CA_CENTRAL_1",e.CENTRAL_US="CENTRAL_US",e.EASTERN_ASIA_PACIFIC="EASTERN_ASIA_PACIFIC",e.EASTERN_US="EASTERN_US",e.EUROPE_NORTH="EUROPE_NORTH",e.EUROPE_NORTH_1="EUROPE_NORTH_1",e.EUROPE_WEST="EUROPE_WEST",e.EUROPE_WEST_2="EUROPE_WEST_2",e.EUROPE_WEST_3="EUROPE_WEST_3",e.EUROPE_WEST_4="EUROPE_WEST_4",e.EUROPE_WEST_6="EUROPE_WEST_6",e.EU_CENTRAL_1="EU_CENTRAL_1",e.EU_NORTH_1="EU_NORTH_1",e.EU_WEST_1="EU_WEST_1",e.EU_WEST_2="EU_WEST_2",e.EU_WEST_3="EU_WEST_3",e.FRANCE_CENTRAL="FRANCE_CENTRAL",e.GERMANY_WEST_CENTRAL="GERMANY_WEST_CENTRAL",e.INDIA_CENTRAL="INDIA_CENTRAL",e.INDIA_SOUTH="INDIA_SOUTH",e.INDIA_WEST="INDIA_WEST",e.JAPAN_EAST="JAPAN_EAST",e.JAPAN_WEST="JAPAN_WEST",e.KOREA_CENTRAL="KOREA_CENTRAL",e.KOREA_SOUTH="KOREA_SOUTH",e.M0="M0",e.M10="M10",e.M100="M100",e.M140="M140",e.M2="M2",e.M20="M20",e.M200="M200",e.M200_NVME="M200_NVME",e.M30="M30",e.M300="M300",e.M40="M40",e.M400_NVME="M400_NVME",e.M40_NVME="M40_NVME",e.M5="M5",e.M50="M50",e.M50_NVME="M50_NVME",e.M60="M60",e.M60_NVME="M60_NVME",e.M80="M80",e.M80_NVME="M80_NVME",e.M90="M90",e.ME_SOUTH_1="ME_SOUTH_1",e.NORTHEASTERN_ASIA_PACIFIC="NORTHEASTERN_ASIA_PACIFIC",e.NORTH_AMERICA_NORTHEAST_1="NORTH_AMERICA_NORTHEAST_1",e.NORWAY_EAST="NORWAY_EAST",e.R200="R200",e.R300="R300",e.R40="R40",e.R400="R400",e.R50="R50",e.R60="R60",e.R600="R600",e.R700="R700",e.R80="R80",e.SA_EAST_1="SA_EAST_1",e.SOUTHEASTERN_ASIA_PACIFIC="SOUTHEASTERN_ASIA_PACIFIC",e.SOUTH_AFRICA_NORTH="SOUTH_AFRICA_NORTH",e.SOUTH_AMERICA_EAST_1="SOUTH_AMERICA_EAST_1",e.SWITZERLAND_NORTH="SWITZERLAND_NORTH",e.SWITZERLAND_WEST="SWITZERLAND_WEST",e.UAE_CENTRAL="UAE_CENTRAL",e.UAE_NORTH="UAE_NORTH",e.UK_SOUTH="UK_SOUTH",e.UK_WEST="UK_WEST",e.US_CENTRAL="US_CENTRAL",e.US_EAST="US_EAST",e.US_EAST_1="US_EAST_1",e.US_EAST_2="US_EAST_2",e.US_EAST_4="US_EAST_4",e.US_NORTH_CENTRAL="US_NORTH_CENTRAL",e.US_SOUTH_CENTRAL="US_SOUTH_CENTRAL",e.US_WEST="US_WEST",e.US_WEST_1="US_WEST_1",e.US_WEST_2="US_WEST_2",e.WESTERN_EUROPE="WESTERN_EUROPE",e.WESTERN_US="WESTERN_US"}(r||(r={}));var a,s,l=i.a.shape({continent:i.a.string,isRecommended:i.a.bool,key:i.a.string,latitude:i.a.number,location:i.a.string,longitude:i.a.number,name:i.a.string,provider:i.a.string});!function(e){e.INITIATING="INITIATING",e.WAITING_FOR_USER="WAITING_FOR_USER",e.PENDING="PENDING",e.AVAILABLE="AVAILABLE",e.FAILED="FAILED",e.DELETING="DELETING"}(a||(a={})),function(e){e.NONE="NONE",e.PENDING_ACCEPTANCE="PENDING_ACCEPTANCE",e.PENDING="PENDING",e.AVAILABLE="AVAILABLE",e.REJECTED="REJECTED",e.DELETING="DELETING"}(s||(s={}));var c=i.a.shape({interfaceId:i.a.string,privateLinkHostname:i.a.string}),u=i.a.shape({region:l.isRequired,interfaceEndpoint:c,status:i.a.oneOf([a.INITIATING,a.WAITING_FOR_USER,a.PENDING,a.AVAILABLE,a.FAILED,a.DELETING]).isRequired,errorMessage:i.a.string,endpointServiceName:i.a.string});function d(e){return!!e&&[a.WAITING_FOR_USER,a.AVAILABLE].includes(e.status)}},932:
/*!************************************************!*\
  !*** ./project/common/util/hostnameHelpers.js ***!
  \************************************************/
/*! exports provided: isIPv6, formatHostname, retrievePublicHostname, retrieveInternalHostname */
/*! exports used: formatHostname, isIPv6, retrieveInternalHostname, retrievePublicHostname */function(e,t,n){"use strict";function r(e){return e&&e.indexOf(":")<e.lastIndexOf(":")}function o(e){return r(e)?"[".concat(e,"]"):e}function i(e,t){if(null==e)return e;var n=e.filter((function(e){return"PUBLIC"===e.scheme})).map((function(e){return e.hostname}))[0],r=e.filter((function(e){return"LEGACY"===e.scheme})).map((function(e){return e.hostname}))[0];return t&&n||r}function a(e){if(null==e)return e;var t=e.filter((function(e){return"INTERNAL"===e.scheme})).map((function(e){return e.hostname}))[0],n=e.filter((function(e){return"LEGACY"===e.scheme})).map((function(e){return e.hostname}))[0];return t||n}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a}))},934:
/*!****************************************************************!*\
  !*** ./project/nds/security/models/WhitelistedIpCollection.js ***!
  \****************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! backbone */7),o=n.n(r),i=n(/*! js/project/nds/security/models/WhitelistedIp */1048),a=n(/*! js/project/common/util/groupIdFromPath */38),s=o.a.Collection.extend({model:i.a,url:function(){return"/nds/".concat(a.a(),"/ipWhitelist")},getIPs:function(){return new s(this.where({type:"IP"}).filter((function(e){return e.isEditable()})))},getSecurityGroups:function(){return new s(this.where({type:"AWS_SECURITY_GROUP"}))},hasPending:function(){return this.where({status:"PENDING"}).length>0}});t.a=s},937:
/*!******************************************************!*\
  !*** ./project/nds/security/util/tempEntityUtils.js ***!
  \******************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r,o=n(/*! @babel/runtime/helpers/defineProperty */4),i=n.n(o),a=n(/*! prop-types */3),s=n.n(a),l={SHORT:"SHORT",MEDIUM:"MEDIUM",LONG:"LONG",NONE:"NONE"};t.a={INTERVAL_TYPES:l,TEMP_EXPIRATION_INTERVAL:(r={},i()(r,l.SHORT,{text:"6 hours",hours:6}),i()(r,l.MEDIUM,{text:"1 day",hours:24}),i()(r,l.LONG,{text:"1 week",hours:168}),i()(r,l.NONE,{text:"permanent"}),r),TEMP_EXPIRATION_INTERVAL_SHAPE:{text:s.a.string.isRequired,hours:s.a.number},TEMP_ENTITY_TYPE:{IP:"whitelist",USER:"user"},EXTEND_OPTIONS:[{value:0,label:"Do not modify expiration"},{value:6,label:"Set expiration to 6 hours from now"},{value:24,label:"Set expiration to 1 day from now"},{value:168,label:"Set expiration to 1 week from now"},{value:-1,label:"Make permanent"}]}},938:
/*!*************************************************************!*\
  !*** ./project/nds/security/services/ipWhitelistService.js ***!
  \*************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! jquery */10),o=n.n(r),i=n(/*! js/project/nds/security/models/WhitelistedIpCollection */934),a=n(/*! js/project/common/services/groupStatusService */125),s=n(/*! js/project/common/util/jqueryErrorHandler */46),l=n(/*! js/project/common/util/groupIdFromPath */38);t.a={loadWhitelist:function(e){return o.a.ajax({method:"GET",url:"/nds/".concat(e||l.a(),"/ipWhitelist")}).then((function(e){return new i.a(e,{parse:!0})}),s.a).promise()},removeIp:function(e,t){return this._modifyAndPutCollection((function(e){return e.filter((function(e){return e.getIp()!==t.getIp()}))}),e)},editPermission:function(e,t,n){return this._modifyAndPutCollection((function(e){var r=e.clone();return r.remove(t),r.push(n),r}),e)},addPermission:function(e,t){return this._modifyAndPutCollection((function(e){var n=e.clone();return n.push(t),n}),e)},updateCollection:function(e){return this._putPermissionsList(e).then((function(t){return e.set(t,{parse:!0})}),s.a)},_modifyAndPutCollection:function(e,t){var n=e(t);return this._putPermissionsList(n).then((function(e){return a.a.enableFastPolling(),t.set(e,{merge:!0,parse:!0})}))},_putPermissionsList:function(e){return o.a.ajax({method:"PUT",url:"/nds/".concat(l.a(),"/ipWhitelist"),data:JSON.stringify(e),processData:!1,contentType:"application/json"})}}},939:
/*!************************************************!*\
  !*** ./project/nds/security/models/NDSUser.js ***!
  \************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! underscore */2),o=n.n(r),i=n(/*! backbone */7),a=n.n(i),s=n(/*! moment */54),l=n.n(s),c=n(/*! js/project/common/util/validation */58),u=n(/*! js/project/nds/security/util/customRolesUtils */954),d=n(/*! js/project/nds/security/util/tempEntityUtils */937),p=0,f=1,h=2,m=3,g=4,b=5,v=a.a.Model.extend({defaults:function(){return{user:null,db:null,password:void 0,roles:[],scopes:[],isEditable:!0,ldapAuthType:v.LDAP_AUTH_TYPE.NONE,x509Type:v.X509_TYPE.NONE,awsIAMType:v.AWS_IAM_TYPE.NONE,hasUserToDNMapping:!1,deleteAfterDate:void 0,expirationInterval:d.a.TEMP_EXPIRATION_INTERVAL.NONE}},onValidate:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r.patch||(e.notBlank("user",t.user,n),t.x509Type&&t.x509Type!==v.X509_TYPE.NONE||t.ldapAuthType&&t.ldapAuthType!==v.LDAP_AUTH_TYPE.NONE||t.awsIAMType&&t.awsIAMType!==v.AWS_IAM_TYPE.NONE||(e.doesNotContainWhitespace("user",t.user,n),e.notBlank("password",t.password,n),e.doesNotContainWhitespace("password",t.password,n)),r.adminUser||(e.notBlank("db",t.db,n),e.notEquals("db",t.db,"local",n),e.doesNotContainWhitespace("db",t.db,n),t.ldapAuthType&&t.ldapAuthType===v.LDAP_AUTH_TYPE.USER||t.awsIAMType&&t.awsIAMType!==v.AWS_IAM_TYPE.NONE?e.matchesRegexp("db",t.db,/^\$external$/,n):t.x509Type&&t.x509Type!==v.X509_TYPE.NONE||e.notEquals("db",t.db,"$external",n))),r.patch&&!t.roles||(this._validateRolesAreUnique(t.roles,n),this._validateRolesExist(t.roles,n,r.customRoles),this._validateRolesAreNotRestricted(t.roles,n),this._validateRolesDoNotGiveSystemCollectionControl(t.roles,n),this._validateCollectionNamesForRoles(t.roles,n))},_validateCollectionNamesForRoles:function(e,t){e.every((function(e){var n=e.collection;return!(n&&(!Object(u.h)(n)||n.length+e.db.length+1>120))||(t.roles="The collection name ".concat(n," is invalid. See ")+"https://docs.mongodb.com/manual/reference/limits/index.html#Restriction-on-Collection-Names for details.",!1)}))},_validateRolesAreNotRestricted:function(e,t){e.every((function(e){return v.RESTRICTED_ROLES.every((function(n){return e.role!==n.role||e.db!==n.db||!e.collection||(t.roles="Atlas restricts write access to collections on certain namespaces that are used "+"by MongoDB itself. Included restricted ".concat(e.collection," on role: ").concat(e.role,"@").concat(e.db),!1)}))&&v.RESTRICTED_DBS.every((function(n){return e.role!==n.role||e.db!==n.db||(t.roles="Atlas restricts write access on certain dbs that are used "+" by MongoDB itself. Included restricted role ".concat(e.role,"@").concat(e.db),!1)}))}))},_validateRolesDoNotGiveSystemCollectionControl:function(e,t){e.every((function(e){return!e.collection||"read"===e.role||!v.SYSTEM_COLLECTION_REGEX.test(e.collection)||(t.roles="".concat("Atlas restricts write access to certain collections that are used by MongoDB itself.  Included restricted collection: ").concat(e.collection),!1)}))},_validateRolesAreUnique:function(e,t){if(o.a.uniq(e,(function(e){var t=e.collection?".".concat(e.collection):"";return"".concat(e.role,"@").concat(e.db).concat(t)})).length!==e.length)return t.roles="includes duplicate roles",!0},getAuthTypeWeight:function(){return this.isX509()?f:this.isLDAPUserOrGroup()?this.getLDAPAuthType()===v.LDAP_AUTH_TYPE.USER?h:m:this.isAWSIAMType()?this.getAWSIAMType()===v.AWS_IAM_TYPE.USER?b:g:p},_validateRolesExist:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e&&e.length){var r={};v.ALLOWED_ROLES.reduce((function(e,t){return e[t.role]=t,e}),r),n.reduce((function(e,t){return e[t.roleName]={role:t.roleName,db:"admin"},e}),r),e.every((function(e){var n=r[e.role];return n?!n.db||e.db===n.db||(t.roles="includes invalid role: ".concat(e.role||"","@").concat(e.db||""),!1):(t.roles="includes role that doesn't exist: ".concat(e.role||"","@").concat(e.db||""),!1)}))}},isAdminUser:function(){return o.a.isEqual(this.get("roles"),v.ATLAS_ADMIN_ROLES)},getX509Type:function(){return this.get("x509Type")||v.X509_TYPE.NONE},isX509:function(){return this.getX509Type()!==v.X509_TYPE.NONE},getLDAPAuthType:function(){return this.get("ldapAuthType")||v.LDAP_AUTH_TYPE.NONE},getAWSIAMType:function(){return this.get("awsIAMType")||v.AWS_IAM_TYPE.NONE},isLDAPUserOrGroup:function(){return this.getLDAPAuthType()!==v.LDAP_AUTH_TYPE.NONE},getHasUserToDNMapping:function(){return this.get("hasUserToDNMapping")||!1},isAWSIAMType:function(){return this.get("awsIAMType")!==v.AWS_IAM_TYPE.NONE},isSCRAM:function(){return!this.isLDAPUserOrGroup()&&!this.isX509()&&!this.isAWSIAMType()},getUser:function(){return this.get("user")},getDB:function(){return this.get("db")},isNewTemporary:function(){return!this.get("deleteAfterDate")&&this.get("expirationInterval")!==d.a.TEMP_EXPIRATION_INTERVAL.NONE},getExpirationInterval:function(){return this.get("expirationInterval")},getDeleteAfterDate:function(){return this.get("deleteAfterDate")},isExpired:function(){var e=this.getDeleteAfterDate();return!!e&&l()(e).isBefore(l()())},getLastCertExpiration:function(){return this.get("lastCertExpiration")}},{LDAP_AUTH_TYPE:{NONE:"NONE",USER:"USER",GROUP:"GROUP"},AWS_IAM_TYPE:{NONE:"NONE",USER:"USER",ROLE:"ROLE"},X509_TYPE:{NONE:"NONE",CUSTOMER:"CUSTOMER",MANAGED:"MANAGED"},ATLAS_ADMIN_ROLES:[{role:"atlasAdmin",db:"admin",collection:null}],ALLOWED_ROLES:[{role:"read",db:null,collection:null},{role:"readWrite",db:null,collection:null},{role:"dbAdmin",db:null,collection:null},{role:"readAnyDatabase",db:"admin",collection:null},{role:"readWriteAnyDatabase",db:"admin",collection:null},{role:"backup",db:"admin",collection:null},{role:"enableSharding",db:"admin",collection:null},{role:"dbAdminAnyDatabase",db:"admin",collection:null},{role:"clusterMonitor",db:"admin",collection:null},{role:"atlasAdmin",db:"admin",collection:null}],RESTRICTED_ROLES:[{role:"readWrite",db:"admin",collection:null}],RESTRICTED_DBS:[{role:"readWrite",db:"local",collection:null},{role:"readWrite",db:"config",collection:null}],SYSTEM_COLLECTION_REGEX:/^system\.(?:.\n)*/,validate:function(e,t){var n=(new v).clear().set(e);return n.isValid(t),n.validationError},isUserX509:function(e){return!!e.x509Type&&e.x509Type!==this.X509_TYPE.NONE}});o.a.extend(v.prototype,c.a),t.a=v},940:
/*!********************************************************************!*\
  !*** ./common/components/SpreadsheetPropagationForm/InputCell.tsx ***!
  \********************************************************************/
/*! exports provided: withConfig, default */
/*! exports used: default, withConfig */function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));n(/*! react */8);var r=n(/*! classnames */22),o=n.n(r),i=n(/*! ./cellWithConfig */1081),a=n(/*! @emotion/core */1);function s(e){var t=e.autoComplete,n=e.dynamicWidth,r=void 0!==n&&n,i=e.disabled,s=e.isMixed,l=e.onActiveChange,c=e.onChange,u=e.placeholder,d=e.value,p=e.type,f=e.name,h=s?"Mixed":u,m=function(e){return"string"==typeof e?e:null==e?"":String(e)}(d),g=Object(a.jsx)("input",{className:o()("spreadsheet-propagation-form-text-input",{"spreadsheet-propagation-form-text-input-is-mixed":s,"spreadsheet-propagation-form-text-input-is-dynamic-width":r}),disabled:i,value:s?"":m,onBlur:function(){return l(!1)},onChange:function(e){return c(e.target.value)},onFocus:function(){return l(!0)},placeholder:h,title:"password"===p?void 0:m,type:p||"text",name:f,autoComplete:t});return r?Object(a.jsx)("div",{className:"spreadsheet-propagation-form-text-input-wrapper"},Object(a.jsx)("div",{className:"spreadsheet-propagation-form-text-input-spacing-placeholder"},m||h),g):g}var l=Object(i.a)(s);t.a=s},941:
/*!*************************************************************************!*\
  !*** ./project/nds/clusters/components/CloudProviderSelector/schema.js ***!
  \*************************************************************************/
/*! exports provided: CLOUD_PROVIDERS */
/*! exports used: CLOUD_PROVIDERS */function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={AWS:"AWS",AZURE:"AZURE",GCP:"GCP",FREE:"FREE"}},942:
/*!************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/dist/index.js ***!
  \************************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a,s,l,c,u;window,e.exports=(r=n(/*! @leafygreen-ui/popover */1082),o=n(/*! @leafygreen-ui/emotion */39),i=n(/*! react */8),a=n(/*! prop-types */3),s=n(/*! @leafygreen-ui/hooks */988),l=n(/*! @leafygreen-ui/palette */26),c=n(/*! @leafygreen-ui/lib */1089),u=n(/*! polished */210),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(15),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){var r=n(3).Symbol;e.exports=r},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TriggerEvent",{enumerable:!0,get:function(){return o.TriggerEvent}}),Object.defineProperty(t,"Variant",{enumerable:!0,get:function(){return o.Variant}}),Object.defineProperty(t,"Align",{enumerable:!0,get:function(){return o.Align}}),Object.defineProperty(t,"Justify",{enumerable:!0,get:function(){return o.Justify}}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(6)),i=o.default;t.default=i},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Justify",{enumerable:!0,get:function(){return l.Justify}}),t.default=t.Align=t.Variant=t.TriggerEvent=void 0;var o,i,a=v(n(7)),s=g(n(8)),l=v(n(0)),c=n(9),u=n(1),d=n(10),p=n(11),f=n(12),h=g(n(13)),m=n(23);function g(e){return e&&e.__esModule?e:{default:e}}function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function v(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function y(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){var e=I(["\n    background-color: ",";\n    border: 1px solid ",";\n    box-shadow: 0px 2px 4px ",";\n  "]);return _=function(){return e},e}function A(){var e=I(["\n    background-color: ",";\n    box-shadow: 0px 2px 4px ",";\n  "]);return A=function(){return e},e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(){var e=I(["\n    background-color: ",";\n    color: ",";\n    border: 1px solid ",";\n  "]);return T=function(){return e},e}function w(){var e=I(["\n    background-color: ",";\n    color: ",";\n  "]);return w=function(){return e},e}function P(){var e=I(["\n  position: relative;\n"]);return P=function(){return e},e}function R(){var e=I(["\n  font-size: 14px;\n  line-height: 20px;\n  padding: 14px 16px;\n  border-radius: 3px;\n  box-shadow: 0px 2px 4px ",";\n"]);return R=function(){return e},e}function I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var D={Hover:"hover",Click:"click"};t.TriggerEvent=D;var k={Light:"light",Dark:"dark"};t.Variant=k;var M={Top:l.Align.Top,Bottom:l.Align.Bottom,Left:l.Align.Left,Right:l.Align.Right};t.Align=M;var L=(0,u.css)(R(),(0,f.transparentize)(.85,d.uiColors.black)),U=(0,u.css)(P()),F=(N(o={},k.Dark,(0,u.css)(w(),d.uiColors.gray.dark3,d.uiColors.gray.light1)),N(o,k.Light,(0,u.css)(T(),d.uiColors.gray.light3,d.uiColors.gray.dark2,d.uiColors.gray.light2)),o),B=(N(i={},k.Dark,(0,u.css)(A(),d.uiColors.gray.dark3,(0,f.transparentize)(.85,d.uiColors.black))),N(i,k.Light,(0,u.css)(_(),d.uiColors.gray.light3,d.uiColors.gray.light2,(0,f.transparentize)(.85,d.uiColors.black))),i),z=p.IdAllocator.create("tooltip");function V(e){var t,n=e.open,r=e.setOpen,o=e.className,i=e.children,s=e.trigger,d=e.variant,f=void 0===d?k.Light:d,g=e.triggerEvent,b=void 0===g?D.Hover:g,v=e.enabled,O=void 0===v||v,S=e.align,C=void 0===S?"top":S,_=e.justify,A=void 0===_?"start":_,N=e.id,T=e.shouldClose,w=e.usePortal,P=void 0===w||w,R=e.portalClassName,I=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["open","setOpen","className","children","trigger","variant","triggerEvent","enabled","align","justify","id","shouldClose","usePortal","portalClassName"]),M="boolean"==typeof n,V=E((0,a.useState)(!1),2),q=V[0],G=V[1],H=M?n:q,W=M&&r?r:G,Y=(0,a.useRef)(null),K=(0,a.useMemo)((function(){var e,t;return null!==(e=null!=N?N:null===(t=Y.current)||void 0===t?void 0:t.id)&&void 0!==e?e:z.generate()}),[null!=N?N:null===(t=Y.current)||void 0===t?void 0:t.id]),Z=function(e,t){return e===D.Hover?{onMouseEnter:(0,h.default)((function(){W(!0)}),35),onMouseLeave:(0,h.default)($,35),onFocus:function(){return W(!0)},onBlur:$}:t&&t.onClick?{onClick:function(e){e.target!==Y.current&&(t.onClick(),W((function(e){return!e})))}}:{onClick:function(e){e.target!==Y.current&&W((function(e){return!e}))}}},$=function(){("function"!=typeof T||T())&&W(!1)};(0,c.useEscapeKey)($,{enabled:H}),(0,c.useEventListener)("click",(function(e){var t=Y&&Y.current;t&&!t.contains(e.target)&&$()}),{enabled:H&&"click"===b});var X,J=P?{usePortal:P,portalClassName:R}:{usePortal:P},Q=a.default.createElement(l.default,j({key:"tooltip",active:O&&H,align:C,justify:A,adjustOnMutation:!0,spacing:12},J),(function(e){var t=e.align,n=e.justify,r=e.referenceElPos,s=(0,m.trianglePosition)(t,n,r);return a.default.createElement("div",j({},I,{role:"tooltip",id:K,className:(0,u.cx)(L,F[f],o),ref:Y}),a.default.createElement("div",{className:s.containerStyle},a.default.createElement("div",{className:(0,u.cx)(s.notchStyle,B[f])})),i)}));if(s){if("function"==typeof s)return s(x({},Z(b),{className:U,"aria-describedby":K,children:Q}));var ee=s.props.children;return a.default.cloneElement(s,x({},Z(b,s.props),{className:(0,u.cx)(s.props.className,U),"aria-describedby":K,children:[].concat(y((X=ee,null==X?[]:p.typeIs.array(X)?X:[X])),[Q])}))}return Q}V.displayName="Tooltip",V.propTypes={children:s.default.node,className:s.default.string,align:s.default.oneOf(Object.values(M)),justify:s.default.oneOf(Object.values(l.Justify)),trigger:s.default.oneOfType([s.default.node,s.default.func]),triggerEvent:s.default.oneOf(Object.values(D)),variant:s.default.oneOf(Object.values(k)),enabled:s.default.bool,open:s.default.bool,setOpen:s.default.func,id:s.default.string,shouldClose:s.default.func,usePortal:s.default.bool,portalClassName:s.default.string};var q=V;t.default=q},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=s},function(e,t){e.exports=l},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t,n){var r=n(2),o=n(14),i=n(17),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,p,f,h=0,m=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,h=t,d=e.apply(r,n)}function y(e){return h=e,p=setTimeout(x,t),m?v(e):d}function O(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-h>=u}function x(){var e=o();if(O(e))return j(e);p=setTimeout(x,function(e){var n=t-(e-f);return g?s(n,u-(e-h)):n}(e))}function j(e){return p=void 0,b&&l?v(e):(l=c=void 0,d)}function E(){var e=o(),n=O(e);if(l=arguments,c=this,f=e,n){if(void 0===p)return y(f);if(g)return clearTimeout(p),p=setTimeout(x,t),v(f)}return void 0===p&&(p=setTimeout(x,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(i(n.maxWait)||0,t):u,b="trailing"in n?!!n.trailing:b),E.cancel=function(){void 0!==p&&clearTimeout(p),h=0,l=f=c=p=void 0},E.flush=function(){return void 0===p?d:j(o())},E}},function(e,t,n){var r=n(3);e.exports=function(){return r.Date.now()}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(16))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(2),o=n(18),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(19),o=n(22);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(4),o=n(20),i=n(21),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(4),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trianglePosition=function(e,t,n){if(!e||!t||!n)return"";var s={},l={};switch(e){case"top":case"bottom":switch(s.left="0px",s.right="0px","top"===e?(l.bottom="-".concat(15,"px"),s.top="".concat(-4,"px")):(l.top="-".concat(15,"px"),s.bottom="".concat(-4,"px")),t){case o.Justify.Start:l.left="".concat(15,"px");break;case o.Justify.Middle:case o.Justify.Fit:l.left="0px",l.right="0px";break;case o.Justify.End:l.left="calc(100% - ".concat(23,"px)")}break;case"left":case"right":switch(s.top="0px",s.bottom="0px","left"===e?(s.left="".concat(-4,"px"),l.right="-".concat(15,"px")):(s.right="".concat(-4,"px"),l.left="-".concat(15,"px")),t){case o.Justify.Start:l.top="".concat(8,"px");break;case o.Justify.Middle:case o.Justify.Fit:l.top="0px",l.bottom="0px";break;case o.Justify.End:l.top="calc(100% - ".concat(23,"px)")}}return{containerStyle:(0,r.css)(a(),15,15,(0,r.css)(l)),notchStyle:(0,r.css)(i(),(0,r.css)(s))}};var r=n(1),o=n(0);function i(){var e=s(["\n      ",";\n      position: absolute;\n      transform: rotate(45deg);\n      width: 8px;\n      height: 8px;\n      margin: auto;\n    "]);return i=function(){return e},e}function a(){var e=s(["\n      position: absolute;\n      width: ","px;\n      height: ","px;\n      overflow: hidden;\n      margin: auto;\n      ",";\n    "]);return a=function(){return e},e}function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}}]))},943:
/*!****************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/react-transition-group/cjs/Transition.js ***!
  \****************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;s(n(/*! prop-types */3));var r=s(n(/*! react */8)),o=s(n(/*! react-dom */99)),i=s(n(/*! ./config */985)),a=(n(/*! ./utils/PropTypes */986),s(n(/*! ./TransitionGroupContext */944)));function s(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var l=function(e){var t,n;function s(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o="exited",r.appearStatus="entering"):o="entered":o=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:o},r.nextCallback=null,r}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var l=s.prototype;return l.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},l.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},l.componentWillUnmount=function(){this.cancelNextCallback()},l.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},l.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),"entering"===t?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},l.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[o.default.findDOMNode(this),r],s=a[0],l=a[1],c=this.getTimeouts(),u=r?c.appear:c.enter;!e&&!n||i.default.disabled?this.safeSetState({status:"entered"},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,l),this.safeSetState({status:"entering"},(function(){t.props.onEntering(s,l),t.onTransitionEnd(u,(function(){t.safeSetState({status:"entered"},(function(){t.props.onEntered(s,l)}))}))})))},l.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:o.default.findDOMNode(this);t&&!i.default.disabled?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},l.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},l.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},l.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},l.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o.default.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],s=i[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},l.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.default.createElement(a.default.Provider,{value:null},"function"==typeof n?n(e,o):r.default.cloneElement(r.default.Children.only(n),o))},s}(r.default.Component);function c(){}l.contextType=a.default,l.propTypes={},l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:c,onEntering:c,onEntered:c,onExit:c,onExiting:c,onExited:c},l.UNMOUNTED="unmounted",l.EXITED="exited",l.ENTERING="entering",l.ENTERED="entered",l.EXITING="exiting";var u=l;t.default=u},944:
/*!****************************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/react-transition-group/cjs/TransitionGroupContext.js ***!
  \****************************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var o=((r=n(/*! react */8))&&r.__esModule?r:{default:r}).default.createContext(null);t.default=o,e.exports=t.default},952:
/*!***************************************************!*\
  !*** ./legacy/activity/activityStringMappings.js ***!
  \***************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";t.a={Types:{HOST:"Host",HOST_METRIC:"Host",HOST_AUDIT:"Host",AGENT:"Agent",BACKUP:"Backup",BACKUP_BUSY:"Backup",BACKUP_CLUSTERSHOT:"Backup",BACKUP_SYNC_SLICE:"Backup",BI_CONNECTOR:"BI Connector",REPLICA_SET:"Replica Set",CLUSTER:"Cluster",CPS_BACKUP_THRESHOLD_ALERT_CONFIG:"Cloud Backup",CPS_BACKUP_ALERT_CONFIG:"Cloud Backup",USER:"User",TEAM:"Team",USER_AUDIT:"User",GROUP:"Project",GROUP_AUDIT:"Project",SYSTEM_DATABASE_PROCESS:"System",SYSTEM_BACKUP:"System",SYSTEM_BACKUP_DAEMON:"System",SYSTEM_BACKUP_RESIZE:"System",SYSTEM_BACKUP_THEFT:"System",SYSTEM_BACKUP_BLOCKSTORE:"System",SYSTEM_NDS:"System",SYSTEM_CRON_JOB:"Cron Job",NDS:"Atlas",AWS_PEER_VPC:"AWS Peer VPC",GCP_PEER_VPC:"GCP Peer VPC",AZURE_PEER_NETWORK:"Azure Peer Virtual Network",BILLING:"Billing",SYSTEM_ALERT_PROCESSING:"System",SYSTEM_CRON_JOB_STATUS:"System",SYSTEM_AWS:"System",SYSTEM_GCP:"System",SYSTEM_AZURE:"System",PII_ACCESSED:"Accessed",PII_ACCESSED_AUDIT:"Accessed",DATA_EXPLORER_ACCESSED:"Data Explorer",DATA_EXPLORER_ACCESSED_AUDIT:"Data Explorer",ENCRYPTION_KEY:"Encryption Key",MLAB_MIGRATION_AUDIT:"mLab Migration",FTS_INDEX:"Atlas Search Index",NDS_X509_USER_AUTHENTICATION:"X.509 User Authentication",MONGOT:"Mongot",ONLINE_ARCHIVE:"Online Archive",NDS_MAINTENANCE_WINDOW:"Maintenance Window",CRASH_LOG:"Crash Log"},AlertTypes:{HOST:"Host",REPLICA_SET:"Replica Set",CLUSTER:"Sharded Cluster",AGENT:"Agent",BACKUP:"Backup",CPS_BACKUP:"Cloud Backup",BI_CONNECTOR:"BI Connector",USER:"User",GROUP:"Project",BILLING:"Billing",NDS:"Atlas",AWS_PEER_VPC:"AWS Peer VPC",GCP_PEER_VPC:"GCP Peer VPC",AZURE_PEER_NETWORK:"Azure Peer Virtual Network",PII_ACCESSED:"Accessed",DATA_EXPLORER_ACCESSED:"Data Explorer",ENCRYPTION_KEY:"Encryption Key",MLAB_MIGRATION_AUDIT:"mLab Migration",NDS_X509_USER_AUTHENTICATION:"X.509 User Authentication",MONGOT:"Mongot",ONLINE_ARCHIVE:"Online Archive",CRASH_LOG:"Crash Log"},MaintenanceWindowAlertTypes:{HOST:"Host",REPLICA_SET:"Replica Set",CLUSTER:"Sharded Cluster",AGENT:"Agent",BACKUP:"Backup"},Roles:{GROUP_OWNER:"Project owner",GROUP_AUTOMATION_ADMIN:"Automation admin",GROUP_BACKUP_ADMIN:"Backup admin",GROUP_MONITORING_ADMIN:"Monitoring admin",GROUP_USER_ADMIN:"User admin",GROUP_DATA_ACCESS_ADMIN:"Data Access Admin",GROUP_DATA_ACCESS_READ_WRITE:"Data Access Read/Write",GROUP_DATA_ACCESS_READ_ONLY:"Data Access Read Only",GROUP_CLUSTER_MANAGER:"Project Cluster Manager",GROUP_READ_ONLY:"Read only",ORG_OWNER:"Organization owner",ORG_GROUP_CREATOR:"Project creator",ORG_BILLING_ADMIN:"Billing admin",ORG_READ_ONLY:"Organization read only",ORG_MEMBER:"Organization member"},MetricModes:{AVERAGE:"avg/sec"},MetricOperations:{GREATER_THAN:"above",LESS_THAN:"below"},MatcherOperations:{EQUALS:"is",NOT_EQUALS:"is not",CONTAINS:"contains",NOT_CONTAINS:"does not contain",STARTS_WITH:"starts with",ENDS_WITH:"ends with",REGEX:"matches"},TimeOperations:{GREATER_THAN:"more than",LESS_THAN:"less than"},AnomalyAlgorithms:{EWMA:"EWMA",CUSUM:"CUSUM",ARIMA:"ARIMA"},AnomalyMetrics:{GLOBAL_LOCK_CURRENT_QUEUE_TOTAL:"Queues (total)",QUERY_TARGETING_SCANNED_OBJECTS_PER_RETURNED:"Query targeting",DISK_PARTITION_UTILIZATION_DATA:"Disk util %"},FieldsByType:{HOST:{hostname:"Hostname",port:"Host Port",hostnameAndPort:"Hostname And Port",replicaSetId:"Replica Set"},REPLICA_SET:{replicaSetName:"Replica Set Name",shardName:"Shard Name",clusterName:"Cluster Name"},CLUSTER:{clusterName:"Cluster Name"}},NotificationIcons:{SMS:"fa fa-mobile",EMAIL:"fa fa-envelope-o",GROUP:"fa fa-file-o",ORG:"fa fa-building-o",USER:"mms-icon-user",TEAM:"mms-icon-group",SNMP:"fa fa-globe",HIP_CHAT:"fa fa-comment",PAGER_DUTY:"fa fa-laptop",VICTOR_OPS:"fa fa-laptop",OPS_GENIE:"fa fa-laptop",WEBHOOK:"fa fa-code",LOG:"fa fa-exclamation-triangle",ADMIN:"mms-icon-office",NDS:"mms-icon-office",SLACK:"fa fa-comment",FLOWDOCK:"fa fa-comment",SUMMARY:"fa fa-envelope-o",DATADOG:"fa fa-laptop"},NDSSeverity:{CRITICAL:"Critical",ERROR:"Error",WARNING:"Warning"}}},953:
/*!*******************************************************!*\
  !*** ../node_modules/d3-dispatch/dist/d3-dispatch.js ***!
  \*******************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e){"use strict";var t={value:function(){}};function n(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o)throw new Error("illegal type: "+e);o[e]=[]}return new r(o)}function r(e){this._=e}function o(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function i(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function a(e,n,r){for(var o=0,i=e.length;o<i;++o)if(e[o].name===n){e[o]=t,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=r&&e.push({name:n,value:r}),e}r.prototype=n.prototype={constructor:r,on:function(e,t){var n,r=this._,s=o(e+"",r),l=-1,c=s.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++l<c;)if(n=(e=s[l]).type)r[n]=a(r[n],e.name,t);else if(null==t)for(n in r)r[n]=a(r[n],e.name,null);return this}for(;++l<c;)if((n=(e=s[l]).type)&&(n=i(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new r(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}},e.dispatch=n,Object.defineProperty(e,"__esModule",{value:!0})}(t)},954:
/*!*******************************************************!*\
  !*** ./project/nds/security/util/customRolesUtils.js ***!
  \*******************************************************/
/*! exports provided: isValidDbName, isValidCollectionName, populateRoleData, getActionsByClassification, filterSearchString, areAllSelected, areSomeSelected, getSelectedString, SCOPE, FIELD_NAME */
/*! exports used: FIELD_NAME, SCOPE, areAllSelected, areSomeSelected, filterSearchString, getActionsByClassification, getSelectedString, isValidCollectionName, isValidDbName, populateRoleData */function(e,t,n){"use strict";n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h}));var r=n(/*! underscore */2),o=n.n(r);function i(e){if(null==e||0==e.length)return!1;if(e.length>=64)return!1;for(var t=new Set(["/","\\",".",'"',"*"," ",">","<","|","?",":","$"]),n=0;n<e.length;n++)if(t.has(e.charAt(n)))return!1;return!0}function a(e){if(null==e||0==e.length)return!1;var t=e.match("^[a-zA-Z|_].*"),n=null!==t&&1==t.length&&e===t[0],r=new Set(e);return!r.has("$")&&!r.has("\0")&&n}function s(e,t){t.map((function(t){var n={},r=[];t.actions.map((function(e){n[e.action]=e.resources,r.push(e.action)})),e[t.roleName]={},e[t.roleName].actions=r,e[t.roleName].inherited=t.inheritedRoles,e[t.roleName].resources=n}))}function l(e){return o.a.mapObject(o.a.groupBy(e,"actionClassification"),(function(e){return e.map((function(e){return o.a.omit(e,"actionClassification")}))}))}function c(e,t,n){if(void 0===t)return!0;var r=t.toLowerCase();return!!e[n].toLowerCase().includes(r)}function u(e,t,n,r){return e.filter((function(e){return e.scope===n})).every((function(e){return t[e[r]]}))}function d(e,t,n,r){return e.filter((function(e){return e.scope===n})).some((function(e){return t[e[r]]}))}function p(e,t){var n=[];return Object.keys(e).forEach((function(t){e[t]&&n.push(t)})),Object.keys(t).forEach((function(e){t[e]&&n.push(e)})),n.join(", ")}var f={DATABASE:"DATABASE",COLLECTION:"COLLECTION",DATABASE_OR_COLLECTION:"DATABASE_OR_COLLECTION",GLOBAL:"GLOBAL",UNSET:"UNSET"},h={ACTION:"action",ROLE_NAME:"roleName"}},959:
/*!***************************************************************************!*\
  !*** ./common/components/SpreadsheetPropagationForm/index.ts + 6 modules ***!
  \***************************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/assertThisInitialized.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/classCallCheck.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/createClass.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/defineProperty.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/getPrototypeOf.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/inherits.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/objectWithoutProperties.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/toArray.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/typeof.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@emotion/core/dist/core.browser.cjs.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/@babel/runtime/helpers/toConsumableArray.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/classnames/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/immer/dist/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/react/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/unchanged/dist/unchanged.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/underscore/underscore.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(34),o=n.n(r),i=n(29),a=n.n(i),s=n(116),l=n.n(s),c=n(23),u=n.n(c),d=n(24),p=n.n(d),f=n(14),h=n.n(f),m=n(27),g=n.n(m),b=n(28),v=n.n(b),y=n(17),O=n.n(y),x=n(4),j=n.n(x),E=n(8),S=n.n(E),C=n(22),_=n.n(C),A=n(2),N=n.n(A),T=n(150),w=n.n(T);function P(e){return e.expandable}function R(e){var t=e.child,n=t.rowKey,r=void 0===n?e.rowKey:n,o=t.isRowDisabled,i=void 0===o?e.isRowDisabled:o;return P(t)?{child:t.child,childKey:t.childKey,expandable:!0,rowKey:r,isRowDisabled:i}:{expandable:!1,rowKey:r,isRowDisabled:i}}var I=n(1178),D=n.n(I),k=n(43);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e){var t=e.column,n=e.data,r=e.indexPath,i=e.structure,s=e.value,l=function e(t,n){if(!n.expandable||1===t.length)return{keyPath:[t[0]],structure:n};var r=n.childKey,o=R(n),i=D()(t),s=i[0],l=e(i.slice(1),o),c=l.keyPath,u=l.structure;return{keyPath:[s,r].concat(a()(c)),structure:u}}(r,i),c=l.keyPath,u=l.structure,d=t.field,p=t.propagates;if(void 0===p||p){var f=c.reduce((function(e,t){return e[t]||{}}),n);return Object(k.set)(c,function e(t){var n=t.column,r=t.row,i=t.value,a=t.structure,s=n.field,l=n.isApplicable;if(null!=l&&!l(r))return r;if(!a.expandable)return L(L({},r),{},j()({},s,i));var c=a.childKey,u=R(a),d=r[c];if(!Array.isArray(d))throw new Error("Inconsistent data structure. Expected key ".concat(c," of the given row to be an array"));return L(L({},r),{},j()({},c,d.map((function(t){if("object"!==o()(t))throw new Error("Inconsistent data structure. Expected key ".concat(c," of the given row to be an array of objects"));return e({column:n,row:t,value:i,structure:u})}))))}({column:t,row:f,value:s,structure:u}),n)}return Object(k.set)([].concat(a()(c),[d]),s,n)}var F=Symbol("mixed"),B=function(e){return e===F};var z=n(1);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e){var t=e.isMixed,n=e.value;return t?Object(z.jsx)("span",{className:"spreadsheet-propagation-form-mixed"},"Mixed"):"object"===o()(n)&&null!=n?n.toString():"string"==typeof n?n:String(n)}function H(e){var t=e.activeField,n=e.columns,r=e.data,o=e.disabled,i=e.expanded,a=e.extraRowProps,s=e.nestLevel,l=e.notApplicableColumns,c=e.onActiveFieldChange,u=e.onChange,d=e.onChangeExpanded,p=e.onScrollAllowedChange,f=e.structure,h=f.expandable,m=[0!==s&&N.a.times(s+(h?0:1),(function(e){return Object(z.jsx)("div",{className:"spreadsheet-propagation-form-nesting-spacer",key:e})})),h&&Object(z.jsx)("button",{key:"toggle",className:"spreadsheet-propagation-form-toggle-expanded",onClick:function(){return d(!i)}},i?Object(z.jsx)("i",{className:"fa fa-caret-down"}):Object(z.jsx)("i",{className:"fa fa-caret-right"}))],g=o||null!=f.isRowDisabled&&f.isRowDisabled(r);return Object(z.jsx)("tr",a,Object(z.jsx)("td",{className:_()("spreadsheet-propagation-form-status-cell",{"spreadsheet-propagation-form-status-cell-is-active":null!=t})}),n.map((function(e,n){var o=e.key,i=e.field,a=e.propagates,s=void 0===a||a;if(l.includes(e))return Object(z.jsx)("td",{key:o||i,className:"spreadsheet-propagation-form-cell","data-field":i},Object(z.jsx)("div",{className:"spreadsheet-propagation-form-cell-contents"},0===n&&m,Object(z.jsx)("div",{className:_()("spreadsheet-propagation-form-cell-value-wrapper","spreadsheet-propagation-form-cell-value-wrapper-is-not-applicable")})));var d,h,b,v,y=s?function e(t,n,r){var o=r.field,i=r.isApplicable;if(!P(t))return n[o];var a=null==i?n[t.childKey]:n[t.childKey].filter((function(e){return i(e)}));if(0===a.length)return console.warn("No applicable items were found.",{rowData:n,column:r}),"";var s=R(t),l=e(s,a[0],r);return!B(l)&&a.every((function(t,n){if(0===n)return!0;var o=e(s,t,r);return!B(o)&&o===l}))?l:F}(f,r,e):r[i],O=g||function e(t,n,r){var o=r.propagates,i=void 0===o||o,a=r.isDisabled,s=r.isApplicable,l=t.isRowDisabled;if(null!=s&&!s(n))return!1;if(!i||!t.expandable)return null!=a&&a(n)||null!=l&&l(n);var c=n[t.childKey],u=R(t);return c.some((function(t){return e(u,t,r)}))}(f,r,e)||!1,x=(h=(d=e).component,b=d.render,v=h,null!=b?b:null!=v?function(e){return Object(z.jsx)(v,e)}:G),j={data:r,disabled:O,field:i,isActive:i===t,onActiveChange:function(e){return c(i,e)},onScrollAllowedChange:p,onChange:function(e){return u(i,e)}};return Object(z.jsx)("td",{key:o||i,className:_()("spreadsheet-propagation-form-cell",{"spreadsheet-propagation-form-cell-is-sticky":e.isSticky}),"data-field":i},Object(z.jsx)("div",{className:"spreadsheet-propagation-form-cell-contents"},0===n&&m,Object(z.jsx)("div",{className:"spreadsheet-propagation-form-cell-value-wrapper"},function(e,t,n){return B(e)?n():t(e)}(y,(function(e){return x(q(q({},j),{},{isMixed:!1,value:e}))}),(function(){return x(q(q({},j),{},{isMixed:!0,value:""}))})))))})))}function W(e){var t=function(e,t){if("object"!==o()(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o()(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o()(t)?t:String(t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var o=O()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v()(this,n)}}H.defaultProps={expanded:!1,extraRowProps:null};var K=Symbol("expanded"),Z=function(e){var t=e.columns,n=e.rowData,r=[],o=[];return t.forEach((function(e){null==e.isApplicable||e.isApplicable(n)||(null==e.propagates||e.propagates?r.push(e):o.push(e))})),{propagating:r,nonPropagating:o}},$=function(e){g()(n,e);var t=Y(n);function n(){var e;u()(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),j()(h()(e),"state",{activeFieldInfo:null,expandedMapping:{},scrollAllowed:!0,showLeftScrollShadow:!1,showRightScrollShadow:!1}),j()(h()(e),"getRows",(function(t){var n=t.activeFieldInfo,r=void 0===n?e.state.activeFieldInfo:n,i=t.expandedMapping,s=void 0===i?e.state.expandedMapping:i,c=t.handleChange,u=t.handleActiveFieldChange,d=void 0===u?e.updateActiveField:u,p=t.keyPrefix,f=void 0===p?"":p,h=t.nestLevel,m=void 0===h?0:h,g=t.notApplicableColumns,b=void 0===g?[]:g,v=t.rowData,y=t.setExpanded,O=void 0===y?e.updateExpanded:y,x=t.structure,j=void 0===x?e.props.structure:x,E=e.props,S=E.columns,C=E.disabled,_=E.getExtraRowProps,A=j.rowKey(v),T=s[A]||{},w="".concat(f).concat(A),P=T[K],I=void 0!==P&&P,D=l()(T,[K].map(W)),k=r&&1===r.path.length&&r.path[0]===A?r.field:null,M=Z({columns:S.filter((function(e){return!b.includes(e)})),rowData:v}),L=M.propagating,U=M.nonPropagating,F=0===L.length&&0===U.length?b:[].concat(a()(b),a()(L),a()(U)),B=Object(z.jsx)(H,{activeField:k,columns:S,data:v,disabled:C,key:w,expanded:I,extraRowProps:_(v),nestLevel:m,notApplicableColumns:F,onActiveFieldChange:function(e,t){return d([A],e,t)},onChange:function(e,t){return c([],e,t)},onChangeExpanded:function(e){return O([A],e)},onScrollAllowedChange:function(t){return e.setState({scrollAllowed:t})},structure:j});if(j.expandable&&I){var V=v[j.childKey],q=R(j),G=0===L.length?b:[].concat(a()(b),a()(L));if(!Array.isArray(V))throw console.error("Improperly structured data, expected to find an array at key",j.childKey,{rowData:v,subData:V}),new Error("Improperly formatted data");return[B].concat(a()(N.a.flatten(V.map((function(t,n){if("object"!==o()(t))throw console.error("Improperly structured data, expected to find an array of objects at key",j.childKey,{rowData:v,subData:V,subRowData:t}),new Error("Improperly formatted data");return e.getRows({rowData:t,activeFieldInfo:r&&r.path[0]===A?{field:r.field,path:r.path.slice(1)}:null,handleActiveFieldChange:function(e,t,n){return d([A].concat(a()(e)),t,n)},handleChange:function(e,t,r){return c([n].concat(a()(e)),t,r)},expandedMapping:D,nestLevel:m+1,notApplicableColumns:G,structure:q,keyPrefix:"".concat(w,"."),setExpanded:function(e,t){return O([A].concat(a()(e)),t)}})})))))}return[B]})),j()(h()(e),"wrapperRef",S.a.createRef()),j()(h()(e),"updateExpanded",(function(t,n){return e.setState(w()((function(e){t.reduce((function(e,t){return null==e[t]&&(e[t]={}),e[t]}),e.expandedMapping)[K]=n})))})),j()(h()(e),"handleChange",(function(t,n,r){return e.props.onChange({field:n,indexPath:t,value:r,getUpdatedData:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,i=e.props.columns.find((function(e){return e.field===n}));if(null==i)throw console.error("A change was triggered on a field that doesn't have a corresponding ColumnConfig",{column:i,field:n}),new Error("Tried to update a value on a field without a column config!");return U({column:i,data:e.props.data,indexPath:t,structure:e.props.structure,value:o})}})})),j()(h()(e),"updateActiveField",(function(t,n,r){var o={field:n,path:t};r?e.setState({activeFieldInfo:o}):e.setState((function(e){var t=e.activeFieldInfo;return N.a.isEqual(o,t)?{activeFieldInfo:null}:null}))})),j()(h()(e),"handleScroll",(function(t){var n=t.currentTarget,r=n.scrollWidth,o=n.offsetWidth,i=n.scrollLeft,a=0!==i,s=i+o<r-1;e.setState({showLeftScrollShadow:a,showRightScrollShadow:s})})),e}return p()(n,[{key:"componentDidMount",value:function(){if(this.props.canScroll){var e=this.wrapperRef.current;null!=e&&this.setState({showRightScrollShadow:e.scrollWidth>e.offsetWidth})}}},{key:"componentDidUpdate",value:function(e){if(this.props.canScroll&&e.columns.length!==this.props.columns.length){var t=this.wrapperRef.current;null!=t&&this.setState({showRightScrollShadow:t.scrollWidth>t.offsetWidth})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.canScroll,r=t.className,o=t.columns,i=t.data,s=t.renderFooterRow,l=this.state,c=l.scrollAllowed,u=l.showLeftScrollShadow,d=l.showRightScrollShadow;if(o.some((function(e,t){var n=e.isSticky;return 0!==t&&n})))throw new Error("isSticky is only currently supported on the first column");var p=o.reduce((function(e,t){var n=e.headers,r=e.remainingColumnsCovered,o=t.title,i=t.titleColSpan,a=t.key,s=t.field,l=t.headerClassName,c=t.isSticky;if(0!==r){if(null==o)return{headers:n,remainingColumnsCovered:r-1};throw new Error("Overlapping column definitions! When a colspan is defined, the appropriate number of columns after it must not have a title")}return n.push(Object(z.jsx)("th",{key:a||s,className:_()("spreadsheet-propagation-form-header-cell",l,{"spreadsheet-propagation-form-header-cell-is-sticky":c}),colSpan:i},null==o?null:o)),{headers:n,remainingColumnsCovered:null==i?0:i-1}}),{headers:[],remainingColumnsCovered:0}).headers;return Object(z.jsx)("div",{className:_()("spreadsheet-propagation-form-wrapper",{"spreadsheet-propagation-form-wrapper-can-scroll":n,"spreadsheet-propagation-form-wrapper-can-scroll-left":u,"spreadsheet-propagation-form-wrapper-can-scroll-right":d,"spreadsheet-propagation-form-wrapper-has-scroll-disabled":!c,"spreadsheet-propagation-form-wrapper-has-sticky-column":o.some((function(e){return e.isSticky}))}),onScroll:this.handleScroll,ref:this.wrapperRef},Object(z.jsx)("table",{className:_()("spreadsheet-propagation-form",r)},Object(z.jsx)("thead",null,Object(z.jsx)("tr",null,Object(z.jsx)("th",{className:"spreadsheet-propagation-form-status-cell","aria-label":"status"}),p)),Object(z.jsx)("tbody",{className:"spreadsheet-propagation-form-table-body"},N.a.flatten(i.map((function(t,n){return e.getRows({rowData:t,handleChange:function(t,r,o){return e.handleChange([n].concat(a()(t)),r,o)}})})))),s&&Object(z.jsx)("tfoot",null,s({data:i,wrapContents:function(e){return Object(z.jsx)("tr",{className:"spreadsheet-propagation-form-table-footer"},Object(z.jsx)("td",{className:"spreadsheet-propagation-form-status-cell"}),Object(z.jsx)("td",{className:_()("spreadsheet-propagation-form-cell","spreadsheet-propagation-form-footer-content-cell")},e),N.a.times(o.length-1,(function(e){return Object(z.jsx)("td",{key:e,className:"spreadsheet-propagation-form-cell"})})))}}))))}}]),n}(E.Component);j()($,"defaultProps",{canScroll:!1,disabled:!1,getExtraRowProps:function(){return null}});var X=$;t.a=X},960:
/*!*************************************************!*\
  !*** ../node_modules/d3-color/dist/d3-color.js ***!
  \*************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e){"use strict";function t(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function n(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function r(){}var o="\\s*([+-]?\\d+)\\s*",i="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,c=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),u=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),d=new RegExp("^rgba\\("+[o,o,o,i]+"\\)$"),p=new RegExp("^rgba\\("+[a,a,a,i]+"\\)$"),f=new RegExp("^hsl\\("+[i,a,a]+"\\)$"),h=new RegExp("^hsla\\("+[i,a,a,i]+"\\)$"),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(){return this.rgb().formatHex()}function b(){return this.rgb().formatRgb()}function v(e){var t;return e=(e+"").trim().toLowerCase(),(t=s.exec(e))?new E((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=l.exec(e))?y(parseInt(t[1],16)):(t=c.exec(e))?new E(t[1],t[2],t[3],1):(t=u.exec(e))?new E(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=d.exec(e))?O(t[1],t[2],t[3],t[4]):(t=p.exec(e))?O(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=f.exec(e))?A(t[1],t[2]/100,t[3]/100,1):(t=h.exec(e))?A(t[1],t[2]/100,t[3]/100,t[4]):m.hasOwnProperty(e)?y(m[e]):"transparent"===e?new E(NaN,NaN,NaN,0):null}function y(e){return new E(e>>16&255,e>>8&255,255&e,1)}function O(e,t,n,r){return r<=0&&(e=t=n=NaN),new E(e,t,n,r)}function x(e){return e instanceof r||(e=v(e)),e?new E((e=e.rgb()).r,e.g,e.b,e.opacity):new E}function j(e,t,n,r){return 1===arguments.length?x(e):new E(e,t,n,null==r?1:r)}function E(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function S(){return"#"+_(this.r)+_(this.g)+_(this.b)}function C(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function _(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function A(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new w(e,t,n,r)}function N(e){if(e instanceof w)return new w(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=v(e)),!e)return new w;if(e instanceof w)return e;var t=(e=e.rgb()).r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),a=Math.max(t,n,o),s=NaN,l=a-i,c=(a+i)/2;return l?(s=t===a?(n-o)/l+6*(n<o):n===a?(o-t)/l+2:(t-n)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new w(s,l,c,e.opacity)}function T(e,t,n,r){return 1===arguments.length?N(e):new w(e,t,n,null==r?1:r)}function w(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function P(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}t(r,v,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:g,formatHex:g,formatHsl:function(){return N(this).formatHsl()},formatRgb:b,toString:b}),t(E,j,n(r,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S,formatHex:S,formatRgb:C,toString:C})),t(w,T,n(r,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new w(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new w(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new E(P(e>=240?e-240:e+120,o,r),P(e,o,r),P(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var R=Math.PI/180,I=180/Math.PI,D=6/29,k=3*D*D;function M(e){if(e instanceof U)return new U(e.l,e.a,e.b,e.opacity);if(e instanceof H)return W(e);e instanceof E||(e=x(e));var t,n,r=V(e.r),o=V(e.g),i=V(e.b),a=F((.2225045*r+.7168786*o+.0606169*i)/1);return r===o&&o===i?t=n=a:(t=F((.4360747*r+.3850649*o+.1430804*i)/.96422),n=F((.0139322*r+.0971045*o+.7141733*i)/.82521)),new U(116*a-16,500*(t-a),200*(a-n),e.opacity)}function L(e,t,n,r){return 1===arguments.length?M(e):new U(e,t,n,null==r?1:r)}function U(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function F(e){return e>.008856451679035631?Math.pow(e,1/3):e/k+4/29}function B(e){return e>D?e*e*e:k*(e-4/29)}function z(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function V(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function q(e){if(e instanceof H)return new H(e.h,e.c,e.l,e.opacity);if(e instanceof U||(e=M(e)),0===e.a&&0===e.b)return new H(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*I;return new H(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function G(e,t,n,r){return 1===arguments.length?q(e):new H(e,t,n,null==r?1:r)}function H(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function W(e){if(isNaN(e.h))return new U(e.l,0,0,e.opacity);var t=e.h*R;return new U(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}t(U,L,n(r,{brighter:function(e){return new U(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new U(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new E(z(3.1338561*(t=.96422*B(t))-1.6168667*(e=1*B(e))-.4906146*(n=.82521*B(n))),z(-.9787684*t+1.9161415*e+.033454*n),z(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),t(H,G,n(r,{brighter:function(e){return new H(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new H(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return W(this).rgb()}}));var Y=-.14861,K=1.78277,Z=-.29227,$=-.90649,X=1.97294,J=X*$,Q=X*K,ee=K*Z-$*Y;function te(e){if(e instanceof re)return new re(e.h,e.s,e.l,e.opacity);e instanceof E||(e=x(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(ee*r+J*t-Q*n)/(ee+J-Q),i=r-o,a=(X*(n-o)-Z*i)/$,s=Math.sqrt(a*a+i*i)/(X*o*(1-o)),l=s?Math.atan2(a,i)*I-120:NaN;return new re(l<0?l+360:l,s,o,e.opacity)}function ne(e,t,n,r){return 1===arguments.length?te(e):new re(e,t,n,null==r?1:r)}function re(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}t(re,ne,n(r,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new re(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new re(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*R,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new E(255*(t+n*(Y*r+K*o)),255*(t+n*(Z*r+$*o)),255*(t+n*(X*r)),this.opacity)}})),e.color=v,e.cubehelix=ne,e.gray=function(e,t){return new U(e,0,0,null==t?1:t)},e.hcl=G,e.hsl=T,e.lab=L,e.lch=function(e,t,n,r){return 1===arguments.length?q(e):new H(n,t,e,null==r?1:r)},e.rgb=j,Object.defineProperty(e,"__esModule",{value:!0})}(t)},961:
/*!**********************************************!*\
  !*** ./project/metrics/util/metricsUtils.js ***!
  \**********************************************/
/*! exports provided: getValsFromSeries, getMainPartitionForHostId, getValueByIndex, trimLeftNullPoints, alignMetricsData */
/*! exports used: alignMetricsData, getMainPartitionForHostId, getValsFromSeries, getValueByIndex, trimLeftNullPoints */function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n(/*! underscore */2),o=n.n(r);function i(e,t){var n=o.a.find(e,(function(e){return-1!==Object.keys(e).indexOf(t)}));return n?n[t]:void 0}function a(e,t){return o.a.find(Object.keys(e),(function(n){return-1!==Object.keys(e[n]).indexOf(t)}))}function s(e,t){return e&&"number"==typeof e[t]?e[t]:null}function l(e){for(var t=0;t<e.length;t++){if(null!==e[t].y)return e.slice(t)}return[]}function c(e){var t=e.map((function(e){return e.value||[]})),n=t.map((function(e){return e.length})).reduce((function(e,t){return Math.min(e,t)}));t.forEach((function(e){e.length>n&&e.splice(0,e.length-n)}));for(var r=t.map((function(){return[]})),o=function(e){for(var n=t.some((function(t){return null===t[e].y})),o=0;o<t.length;o++){var i=t[o][e];n?r[o].push({x:i.x,y:null}):r[o].push(i)}},i=0;i<n;i++)o(i);for(var a=function(e){if(null!==r[0][e].y)return r=r.map((function(t){return t.filter((function(t,n){return n>=e}))})),"break"},s=0;s<n;s++){if("break"===a(s))break}return e.map((function(e,t){return{key:e.key,value:r[t]}}))}},965:
/*!***********************************************!*\
  !*** ./project/common/util/whenAppendedTo.js ***!
  \***********************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! js/common/utils/Deferred */118),o={parent:function(e,t,n){var o,i=.5,a=new r.a;return e.on("destroy",(function(){clearTimeout(o),a.reject()})),n=n||3e4,o=setTimeout((function r(){var s=e.el;t.contains(s)?a.resolve():(i*=2)>n?a.reject():o=setTimeout(r,i)}),0),a.promise()},document:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return o.parent(e,document.documentElement)}))};t.a=o},966:
/*!**********************************************************!*\
  !*** ./project/nds/clusters/util/clusterTrackingUtil.js ***!
  \**********************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! underscore */2),o=n.n(r),i=n(/*! js/common/services/api */5),a=n(/*! js/project/nds/clusters/models/ClusterDescription */206),s=n(/*! js/project/nds/clusters/util/replicationSpecUtils */885),l=n(/*! js/project/nds/clusters/util/clusterDescriptionUtils */889),c=n(/*! js/project/common/util/segmentAnalytics */50),u={TIER_FIELD:"tier",CLOUD_PROVIDER_FIELD:"cloud_provider",REGION_FIELD:"region",CROSS_REGION_FIELD:"cross_region",GLOBAL_CLUSTER_FIELD:"global_cluster",INSTANCE_SIZE_FIELD:"instance_size",DISK_SIZE_GB_FIELD:"disk_size_gb",IOPS_SPEED_FIELD:"IOPS_speed",AUTO_EXPAND_STORAGE_FIELD:"auto_expand_storage",DB_VERSION_FIELD:"db_version",BACKUP_SELECTED_FIELD:"backup_selected",BACKUP_OPTION_FIELD:"backup_option",SHARDING_FIELD:"sharding",SHARD_COUNT_FIELD:"shard_count",BI_CONNECTOR_FIELD:"BI_connector",BI_NODE_TYPE_FIELD:"BI_node_type",ENCRYPTION_KEY_MANAGEMENT_FIELD:"encryption_key_management",KEY_INDEX_LIMIT_FIELD:"key_index_limit",REQUIRE_INDEXES_FIELD:"require_indexes",SERVER_SIDE_JS_FIELD:"server_side_JS",CLUSTER_NAME_FIELD:"cluster_name",HOURLY_COST_FIELD:"hourly_cost",READS_PER_SECOND_FIELD:"reads_per_second",WRITES_PER_SECOND_FIELD:"writes_per_second",CONNECTIONS_FIELD:"connections",DATA_SIZE_FIELD:"data_size",SSL_ENABLED_FIELD:"ssl_enabled",CA_FILE_PROVIDED_FIELD:"ca_file_provided",FAILURE_REASON_FIELD:"failure_reason",USER_TYPE_FIELD:"user_type",IS_TEMPORARY_FIELD:"is_temporary",AUTO_SCALING_COMPUTE_ENABLED_FIELD:"auto_scaling_compute_enabled",AUTO_SCALING_COMPUTE_SCALEDOWN_ENABLED_FIELD:"auto_scaling_compute_scaledown_enabled",AUTO_SCALING_COMPUTE_MAX_INSTANCE_FIELD:"auto_scaling_compute_max_instance",AUTO_SCALING_COMPUTE_MIN_INSTANCE_FIELD:"auto_scaling_compute_min_instance"},d="FREE",p="PAID",f="CONTINUOUS",h="SNAPSHOTS";function m(e){var t=e.clusterDescription,n=e.processArgs,r=t instanceof a.a?t.toJSON():t,i={};i[u.TIER_FIELD]="M0"===r.instanceSize?d:p,i[u.CLOUD_PROVIDER_FIELD]=r["@provider"],i[u.REGION_FIELD]=o.a.max(Object.values(r.replicationSpecs[0].regionsConfig),(function(e){return e.priority})).regionView.key,i[u.CROSS_REGION_FIELD]=r.replicationSpecs.some((function(e){return s.a.hasMultipleRegions(e)})),i[u.GLOBAL_CLUSTER_FIELD]=r.replicationSpecs.length>1,i[u.INSTANCE_SIZE_FIELD]=r.instanceSize,i[u.DISK_SIZE_GB_FIELD]=r.diskSizeGB,"AWS"===r["@provider"]&&(i[u.IOPS_SPEED_FIELD]=r.diskIOPS),i[u.AUTO_EXPAND_STORAGE_FIELD]=r.autoScaling.diskGB.enabled,i[u.DB_VERSION_FIELD]=r.mongoDBVersion;var c=r.backupEnabled||r.diskBackupEnabled;i[u.BACKUP_SELECTED_FIELD]=c,c&&(i[u.BACKUP_OPTION_FIELD]=r.diskBackupEnabled?h:f),i[u.SHARDING_FIELD]=l.B(r.clusterType),i[u.SHARD_COUNT_FIELD]=s.a.getTotalShards(r.replicationSpecs);var m=r.biConnector.enabled;if(i[u.BI_CONNECTOR_FIELD]=m,m&&(i[u.BI_NODE_TYPE_FIELD]=r.biConnector.readPreference),i[u.ENCRYPTION_KEY_MANAGEMENT_FIELD]="NONE"!==r.encryptionAtRestProvider,n&&(i[u.KEY_INDEX_LIMIT_FIELD]=n.failIndexKeyTooLong,i[u.REQUIRE_INDEXES_FIELD]=n.noTableScan,i[u.SERVER_SIDE_JS_FIELD]=n.javascriptEnabled),r.autoScaling.compute.enabled){var g=r.autoScaling.compute,b=g.scaleDownEnabled,v=g.minInstanceSize,y=g.maxInstanceSize;i[u.AUTO_SCALING_COMPUTE_ENABLED_FIELD]=!0,i[u.AUTO_SCALING_COMPUTE_SCALEDOWN_ENABLED_FIELD]=b,i[u.AUTO_SCALING_COMPUTE_MAX_INSTANCE_FIELD]=y,i[u.AUTO_SCALING_COMPUTE_MIN_INSTANCE_FIELD]=v}return i[u.CLUSTER_NAME_FIELD]=r.name,i}t.a={getBasicClusterEventProperties:m,broadcastClusterEvent:function(e){var t=e.segmentEvent,n=e.clusterDescription,r=e.processArgs,o=e.hourlyCost,i=e.options,a=void 0===i?{}:i,s=m({clusterDescription:n,processArgs:r});s[u.HOURLY_COST_FIELD]=o,c.d.track(t,s,a)},broadcastDatabaseUserEvent:function(e){var t=e.segmentEvent,n=e.userType,r=e.isTemporaryUser,o=e.options,i=void 0===o?{}:o,a={};a[u.USER_TYPE_FIELD]=n,a[u.IS_TEMPORARY_FIELD]=r,c.d.track(t,a,i)},broadcastLiveImportEvent:function(e){var t=e.segmentEvent,n=e.sslEnabled,r=e.caFileProvided,o=e.clusterDescription,s=e.options,l=void 0===s?{}:s,d=o instanceof a.a?o.toJSON():o,p=d.groupId,f=d.name;i.m.clusterDescriptions.getProcessArgs(p,f).then((function(e){var i=m({clusterDescription:o,processArgs:e});t===c.b.CREDENTIALS_PROVIDED&&(i[u.SSL_ENABLED_FIELD]=!!n,i[u.CA_FILE_PROVIDED_FIELD]=!!r),c.d.track(t,i,l)}))},Fields:u}},967:
/*!****************************************************!*\
  !*** ./project/metrics/services/metricsService.js ***!
  \****************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! jquery */10),o=n.n(r),i=n(/*! underscore */2),a=n.n(i),s=n(/*! js/project/common/util/jqueryErrorHandler */46),l=n(/*! js/project/common/util/groupIdFromPath */38);t.a={loadMetricTypesForHost:function(e){var t=e.groupId,n=e.hostId,r=e.opcountersChartType,i="/metrics/v1/groups/".concat(t,"/hosts/").concat(n),l={opcountersChartType:r};return o.a.ajax({dataType:"json",url:i,data:l}).then(a.a.identity,s.a)},loadMetricsForHost:function(e){var t=e.groupId,n=e.hostId,r=e.metricGroup,i=e.metricId,l=e.resolution,c=e.duration,u=e.bucketed,d=e.since,p=e.until,f=e.aggregator,h=e.databaseName,m={granularity:l||void 0,retention:c,bucketed:!!u,opcountersChartType:e.opcountersChartType,since:d,until:p,aggregator:f};"dbstats"===r&&(r="databases/storage",m.databaseName=h);var g="/metrics/v1/groups/".concat(t,"/hosts/").concat(n,"/").concat(r);return i&&(g+="/".concat(i)),o.a.ajax({data:m,dataType:"json",url:g}).then(a.a.identity,s.a)},loadHostEvents:function(e){var t=e.groupId,n=e.duration,r=e.hostId,i=e.since,a=e.until,l="/metrics/v1/groups/".concat(t,"/hosts/").concat(r,"/annotations");return o.a.ajax({dataType:"json",url:l,data:{duration:n,since:i,until:a}}).then((function(e){return e.timestamps.map((function(t,n){return{start:t,type:e.types[n]}}))}),s.a)},saveSelectedChartList:function(e){var t=e.metricGroup,n=e.selectedCharts;return o.a.ajax({url:"/host/hostChartsSelect/".concat(l.a(),"/").concat(t),method:"post",dataType:"json",contentType:"application/json",data:JSON.stringify({selectedCharts:n})}).then(a.a.identity,s.a)},saveHostEventsEnabled:function(e){return o.a.ajax({url:"/settings/changeDisplayChartAnnotations/".concat(e),method:"post"}).then(a.a.identity,s.a)},loadZooms:function(){return o.a.ajax({url:"/metrics/v1/groups/".concat(l.a(),"/zooms")}).then((function(e){return e.zooms}),s.a)},loadLockPercentForDB:function(e){var t=e.groupId,n=e.hostId,r=e.resolution,i=e.duration,l=e.databaseName,c=e.since,u=e.until,d=r||void 0,p=i;return o.a.ajax({url:"/metrics/v1/groups/".concat(t,"/hosts/").concat(n,"/databases/locks"),data:{granularity:d,retention:p,since:c,until:u,databaseNames:l}}).then(a.a.identity,s.a)},saveDefaultChartGranularity:function(e){return o.a.ajax({type:"POST",url:"/settings/updateDefaultChartGranularity/".concat(e),dataType:"json"}).then(a.a.identity,s.a)},saveDefaultChartZoom:function(e){return o.a.ajax({type:"POST",url:"/settings/updateDefaultChartZoom/".concat(e),dataType:"json"}).then(a.a.identity,s.a)},loadDefaultMetricIds:function(e){var t=e.metricGroup,n=e.groupId,r=e.hostId;return o.a.ajax({url:"/v2/host/detail/".concat(t,"/defaultChartIds/").concat(n,"/").concat(r),dataType:"json"}).then(a.a.identity,s.a)},emailChart:function(e){return o.a.ajax({type:"POST",url:"/metrics/v1/groups/".concat(l.a(),"/email"),data:e}).then(a.a.identity,s.a)},getHostPartitions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a();return o.a.ajax({url:"/host/detail/partitions/".concat(t,"/").concat(e),dataType:"json"}).then((function(e){return e.partitions}),s.a)},openChartExportWindow:function(e){var t=e.type,n=e.groupId,r=e.hostId,i=e.format,a=e.timeZoneId,s=e.resolution,l=e.duration,c=e.getCurrentDb,u=e.since,d=e.until,p="/export/v2/charts/".concat(t,"/").concat(n,"/").concat(r,"/").concat(i,"/").concat(encodeURIComponent(a)),f={granularity:s||void 0,retention:l,since:u,until:d},h=c();h&&(f.hostDbStatsName=h.name);var m=Object.keys(f).filter((function(e){return!!f[e]})).reduce((function(e,t){return e[t]=f[t],e}),{});window.open("".concat(p,"?").concat(o.a.param(m)),"_blank")},setDisplayOpcountersOnSeparateCharts:function(e){return o.a.ajax({type:"POST",url:"/settings/updateSeparateOpcounterCharts/".concat(e)}).then(a.a.identity,s.a)}}},968:
/*!*****************************************************************!*\
  !*** ./project/nds/security/models/PeerConnectionCollection.js ***!
  \*****************************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! backbone */7),o=n.n(r),i=n(/*! ./PeerConnection */1050),a=n(/*! js/project/common/util/groupIdFromPath */38),s=o.a.Collection.extend({model:i.a,url:function(){return"/nds/".concat(a.a(),"/peers/AWS")},comparator:"vpcId"});t.a=s},969:
/*!**********************************************!*\
  !*** ./common/components/FormatDateTime.tsx ***!
  \**********************************************/
/*! exports provided: default, FormatDateTime */
/*! exports used: default */function(e,t,n){"use strict";n(/*! react */8);var r=n(/*! prop-types */3),o=n.n(r),i=n(/*! react-redux */12),a=n(/*! js/common/data/modules/viewer */19),s=n(/*! js/project/common/util/dateFormatters */66),l=n(/*! @emotion/core */1);function c(e){if(null!=e)return"string"==typeof e?e:"number"==typeof e?new Date(e).toISOString():e instanceof Date?e.toISOString():void 0}function u(e){var t=e.className,n=e.dateFormatCode,r=void 0===n?"us1":n,o=e.timeFormatCode,i=void 0===o?"":o,a=e.timeZoneId,u=void 0===a?"Etc/UTC":a,d=e.isoString,p=e.includeSeconds,f=void 0!==p&&p?s.i:s.b;return Object(l.jsx)("time",{dateTime:c(d),className:t},f(r,i,u)(d))}u.propTypes={dateFormatCode:o.a.string,timeFormatCode:o.a.oneOf(["24-hour",""]),timeZoneId:o.a.string,isoString:o.a.string.isRequired,includeSeconds:o.a.bool,className:o.a.string},t.a=Object(i.connect)((function(e){return{dateFormatCode:a.e(e),timeFormatCode:a.l(e),timeZoneId:a.n(e)}}))(u)},970:
/*!****************************************!*\
  !*** ./common/components/Accordion.js ***!
  \****************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r,o=n(/*! @babel/runtime/helpers/extends */75),i=n.n(o),a=n(/*! @babel/runtime/helpers/objectWithoutProperties */116),s=n.n(a),l=n(/*! @babel/runtime/helpers/classCallCheck */23),c=n.n(l),u=n(/*! @babel/runtime/helpers/createClass */24),d=n.n(u),p=n(/*! @babel/runtime/helpers/assertThisInitialized */14),f=n.n(p),h=n(/*! @babel/runtime/helpers/inherits */27),m=n.n(h),g=n(/*! @babel/runtime/helpers/possibleConstructorReturn */28),b=n.n(g),v=n(/*! @babel/runtime/helpers/getPrototypeOf */17),y=n.n(v),O=n(/*! @babel/runtime/helpers/defineProperty */4),x=n.n(O),j=n(/*! react */8),E=n(/*! prop-types */3),S=n.n(E),C=n(/*! classnames */22),_=n.n(C),A=n(/*! @leafygreen-ui/button */36),N=n.n(A),T=n(/*! @emotion/core */1);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}var P=function(e){m()(n,e);var t=w(n);function n(){var e;c()(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),x()(f()(e),"state",{isActive:e.props.initialActive}),x()(f()(e),"componentDidUpdate",(function(t,n){var r=e.isControlled()?e.props.active:e.state.isActive;r!==(e.isControlled()?t.active:n.isActive)&&e.props.animate&&(r?e.expandAccordion():e.collapseAccordion())})),x()(f()(e),"onHeadlineClick",(function(t){e.isControlled()?e.props.onHeadlineClick(t):e.setState((function(e){return{isActive:!e.isActive}}))})),x()(f()(e),"collapseAccordion",(function(){var t=e.sectionEl,n=e.contentEl,o=r+n.scrollHeight;requestAnimationFrame((function(){t.style.height="".concat(o,"px"),requestAnimationFrame((function(){t.style.height="".concat(r,"px"),setTimeout((function(){t.style.height="auto"}),200)}))}))})),x()(f()(e),"expandAccordion",(function(){var t=e.props.showFooter,n=e.sectionEl,o=e.contentEl,i=e.footerEl;r=n.scrollHeight-o.scrollHeight,t&&(r-=i.scrollHeight);var a=o.scrollHeight+r;t&&(a+=i.scrollHeight),n.style.overflow="hidden";requestAnimationFrame((function(){n.style.height="".concat(r,"px"),setTimeout((function(){requestAnimationFrame((function(){n.style.height="".concat(a,"px"),setTimeout((function(){n.style.overflow="visible",n.style.height="auto"}),200)}))}),0)}))})),x()(f()(e),"isControlled",(function(){return void 0!==e.props.active})),e}return d()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.headline,o=t.headlineText,a=t.secondaryText,l=t.secondarySubText,c=t.preview,u=t.children,d=t.disabled,p=t.alignContent,f=t.highlightSecondaryText,h=t.errorSecondaryText,m=t.isOnWhite,g=t.showFooter,b=t.showNext,v=t.nextText,y=t.onClickNext,O=t.showPrevious,j=t.previousText,E=t.onClickPrevious,S=t.usePrimaryNext,C=t.colorCode,A=t.hasSummary,w=t.inheritOverflow,P=t.sectionClassName,R=s()(t,["active","headline","headlineText","secondaryText","secondarySubText","preview","children","disabled","alignContent","highlightSecondaryText","errorSecondaryText","isOnWhite","showFooter","showNext","nextText","onClickNext","showPrevious","previousText","onClickPrevious","usePrimaryNext","colorCode","hasSummary","inheritOverflow","sectionClassName"]),I=this.state.isActive,D=this.isControlled()?n:I;return Object(T.jsx)("section",{ref:function(t){e.sectionEl=t},className:_()("accordion",x()({"accordion-inherit-overflow":w,"accordion-is-open":D,"accordion-is-disabled":d,"accordion-has-border":m},P,!!P))},Object(T.jsx)("div",{className:_()("accordion-header",{"accordion-header-has-color-code":!!C}),style:{borderColor:C||"inherit"}},Object(T.jsx)("div",i()({role:"button",tabIndex:0,className:_()("accordion-headline",{"accordion-headline-is-disabled":d}),onClick:function(){return!d&&e.onHeadlineClick()}},R),Object(T.jsx)("div",{className:"accordion-headline-left"},r||Object(T.jsx)("span",{className:"accordion-headline-text"},o)),Object(T.jsx)("div",{className:"accordion-headline-right"},Object(T.jsx)("div",{className:_()("accordion-headline-secondary-text-section",{"accordion-headline-secondary-text-section-has-no-subtext":!l})},Object(T.jsx)("span",{className:_()("accordion-headline-secondary-text",{"accordion-headline-secondary-text-highlighted":f,"accordion-headline-secondary-text-error":h})},a),Object(T.jsx)("span",{className:_()("accordion-headline-secondary-subtext",{"accordion-headline-secondary-subtext-error":h})},l)),Object(T.jsx)("i",{className:_()("fa fa-angle-right fa-2x accordion-headline-arrow",{"accordion-headline-arrow-is-down":D})}))),c&&Object(T.jsx)("div",{className:_()("accordion-preview",{"accordion-content-is-aligned":p})},c)),Object(T.jsx)("div",{ref:function(t){e.contentEl=t},className:_()("accordion-content",{"accordion-content-is-aligned":p,"accordion-content-is-closed":!D,"accordion-content-has-summary":A})},u),D&&g&&Object(T.jsx)("div",{ref:function(t){e.footerEl=t},className:"accordion-footer"},O&&Object(T.jsx)(N.a,{size:"xsmall",onClick:E},j),b&&Object(T.jsx)(N.a,{size:"xsmall",variant:S?"primary":"default",className:"accordion-footer-right-button",onClick:y},v)))}}]),n}(j.Component);x()(P,"propTypes",{active:S.a.bool,initialActive:S.a.bool,onHeadlineClick:S.a.func,headline:S.a.node,headlineText:S.a.string,secondaryText:S.a.string,secondarySubText:S.a.string,preview:S.a.node,children:S.a.node.isRequired,disabled:S.a.bool,alignContent:S.a.bool,highlightSecondaryText:S.a.bool,errorSecondaryText:S.a.bool,isOnWhite:S.a.bool,animate:S.a.bool,showFooter:S.a.bool,showNext:S.a.bool,nextText:S.a.string,onClickNext:S.a.func,showPrevious:S.a.bool,previousText:S.a.string,onClickPrevious:S.a.func,usePrimaryNext:S.a.bool,colorCode:S.a.string,hasSummary:S.a.bool,inheritOverflow:S.a.bool}),x()(P,"defaultProps",{active:void 0,initialActive:!1,onHeadlineClick:function(){},disabled:!1,alignContent:!0,preview:void 0,headline:void 0,headlineText:void 0,secondaryText:void 0,secondarySubText:void 0,highlightSecondaryText:!1,errorSecondaryText:!1,isOnWhite:!1,animate:!1,showFooter:!1,showNext:!0,nextText:"Next",onClickNext:function(){},showPrevious:!0,previousText:"Previous",onClickPrevious:function(){},usePrimaryNext:!1,colorCode:void 0,hasSummary:!1,inheritOverflow:!1}),t.a=P},971:
/*!***************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/toggle/dist/index.web.js ***!
  \***************************************************************/
/*! no static exports found */
/*! exports used: Size, default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r,o,i,a,s;window,e.exports=(r=n(/*! react */8),o=n(/*! prop-types */3),i=n(/*! @leafygreen-ui/lib */535),a=n(/*! @leafygreen-ui/emotion */39),s=n(/*! @leafygreen-ui/palette */26),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Size",{enumerable:!0,get:function(){return o.Size}}),Object.defineProperty(t,"Variant",{enumerable:!0,get:function(){return o.Variant}}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(n(1)),i=o.default;t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Variant=t.Size=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=function(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return e}();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(n(2)),i=(r=n(3))&&r.__esModule?r:{default:r},a=n(4),s=n(5),l=n(6);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(){var e=W(["\n    right: 6px;\n    color: ",";\n  "]);return v=function(){return e},e}function y(){var e=W(["\n    left: 9px;\n\n    ",":hover ~ "," > &,\n    ",":focus ~ "," > & {\n      color: white;\n    }\n  "]);return y=function(){return e},e}function O(){var e=W(["\n  transition: all ","ms ease-in-out;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n  height: 11px;\n  line-height: 11px;\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 11px;\n  color: white;\n  user-select: none;\n"]);return O=function(){return e},e}function x(){var e=W(["\n      left: ","px;\n\n      &:before,\n      &:after {\n        content: '';\n        transition: opacity ","ms ease-in-out;\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n      }\n\n      &:before {\n        opacity: 1;\n      }\n\n      &:after {\n        opacity: 0;\n        background-image: linear-gradient(\n          rgba(220, 220, 220, 0),\n          rgba(220, 220, 220, 0.5)\n        );\n      }\n    "]);return x=function(){return e},e}function j(){var e=W(["\n        left: 1px;\n\n        &:before,\n        &:after {\n          display: none;\n        }\n      "]);return j=function(){return e},e}function E(){var e=W(["\n    transition: all ","ms ease-in-out;\n    border-radius: 100%;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    overflow: hidden;\n    height: ","px;\n    width: ","px;\n    transform: translate3d(","px, 0, 0);\n  "]);return E=function(){return e},e}function S(){var e=W(["\n        background-color: #6f767b;\n        box-shadow: 0 0 2px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.25),\n          inset 0 -1px 0 ",";\n      "]);return S=function(){return e},e}function C(){var e=W(["\n          background-color: white;\n          box-shadow: 0 0 2px rgba(0, 0, 0, 0.08), 0 1px 2px rgba(0, 0, 0, 0.25),\n            inset 0 -1px 0 #cdcdcd;\n\n          &:before {\n            opacity: 0;\n          }\n\n          &:after {\n            opacity: 1;\n          }\n        "]);return C=function(){return e},e}function _(){var e=W(["\n          background-color: rgba(255, 255, 255, 0.15);\n          background-image: none;\n        "]);return _=function(){return e},e}function A(){var e=W(["\n          ","\n          background-color: white;\n          box-shadow: 0 0 2px rgba(28, 192, 97, 0.08),\n            0 1px 2px rgba(0, 0, 0, 0.25), inset 0 -1px 0 #f1f1f1;\n        "]);return A=function(){return e},e}function N(){var e=W(["\n            background-color: rgba(6, 22, 33, 0.09);\n          "]);return N=function(){return e},e}function T(){var e=W(["\n        &:before {\n          background-image: linear-gradient(",", #f6f6f6);\n        }\n      "]);return T=function(){return e},e}function w(){var e=W(["\n        // We set background-color here to avoid a small issue with overflow clipping\n        // that makes this look less seamless than it should.\n        background-color: #43b1e5;\n        border-color: #2e9ed3;\n        transition-delay: ","ms;\n\n        &:before {\n          transform: scale(1);\n          opacity: 1;\n        }\n      "]);return w=function(){return e},e}function P(){var e=W(["\n        &:before {\n          opacity: 0;\n        }\n      "]);return P=function(){return e},e}function R(){var e=W(["\n    transition: ","ms all ease-in-out, 0 background-color linear;\n    display: inline-block;\n    overflow: hidden;\n    flex-shrink: 0;\n    position: relative;\n    border-radius: 50px;\n    overflow: hidden;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    border: 1px solid;\n\n    // We're animating this pseudo-element in order to give the toggle groove\n    // background an animation in and out.\n    &:before {\n      content: '';\n      transition: ","ms all ease-in-out;\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      border-radius: 50px;\n      background-color: #43b1e5;\n      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.1);\n      opacity: 0;\n      transform: scale(0.85);\n    }\n  "]);return R=function(){return e},e}function I(){var e=W(["\n          background-color: rgba(6, 22, 33, 0.4);\n          border-color: rgba(6, 22, 33, 0.1);\n        "]);return I=function(){return e},e}function D(){var e=W(["\n        box-shadow: inset 0 0 10px rgba(6, 22, 33, 0.15);\n      "]);return D=function(){return e},e}function k(){var e=W(["\n          background-color: rgba(255, 255, 255, 0.15);\n          border-color: rgba(255, 255, 255, 0.1);\n        "]);return k=function(){return e},e}function M(){var e=W(["\n          background-color: rgba(61, 79, 88, 0.1);\n          border-color: rgba(18, 22, 22, 0.03);\n        "]);return M=function(){return e},e}function L(){var e=W(["\n        box-shadow: inset 0 0 5px rgba(6, 22, 33, 0.1);\n      "]);return L=function(){return e},e}function U(){var e=W(["\n          background-color: rgba(6, 22, 33, 0.09);\n          border-color: rgba(6, 22, 33, 0.04);\n        "]);return U=function(){return e},e}function F(){var e=W(["\n      position: relative;\n      display: inline-block;\n      cursor: ",";\n    "]);return F=function(){return e},e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(){var e=W(["\n      height: 14px;\n      width: 26px;\n    "]);return z=function(){return e},e}function V(){var e=W(["\n      height: 22px;\n      width: 40px;\n    "]);return V=function(){return e},e}function q(){var e=W(["\n      height: 32px;\n      width: 62px;\n    "]);return q=function(){return e},e}function G(){var e=W(["\n  transition: all ","ms ease-in-out;\n  position: absolute;\n  top: -","px;\n  bottom: -","px;\n  left: -","px;\n  right: -","px;\n  border: ","px solid #63b0d0;\n  border-radius: 50px;\n  opacity: 0;\n  transform: scale(0.8);\n\n  ",":focus ~ & {\n    opacity: 1;\n    transform: scale(1);\n  }\n"]);return G=function(){return e},e}function H(){var e=W(["\n  margin: 0;\n  position: absolute;\n  left: 100%;\n  top: 100%;\n  pointer-events: none;\n  opacity: 0;\n"]);return H=function(){return e},e}function W(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Y={Default:"default",Small:"small",XSmall:"xsmall"};t.Size=Y;var K={Default:"default",Dark:"dark"};t.Variant=K;var Z=(0,a.createDataProp)("toggle-input"),$=(0,a.createDataProp)("toggle-groove"),X=(0,s.css)(H()),J=(0,s.css)(G(),150,3,3,3,3,3,Z.selector),Q=function(e){var t,n=e.size,r=e.disabled,o=(B(t={},Y.Default,(0,s.css)(q())),B(t,Y.Small,(0,s.css)(V())),B(t,Y.XSmall,(0,s.css)(z())),t);return(0,s.cx)((0,s.css)(F(),r?"not-allowed":"pointer"),o[n])},ee=function(e){var t,n=e.variant,r=e.checked,o=e.disabled,i=(B(t={},K.Default,function(){if(o)return(0,s.css)(U());var e=(0,s.css)(L());return r?e:(0,s.cx)(e,(0,s.css)(M()))}()),B(t,K.Dark,function(){if(o)return(0,s.css)(k());var e=(0,s.css)(D());return r?e:(0,s.cx)(e,(0,s.css)(I()))}()),t),a=(0,s.css)(R(),150,150);return o?(0,s.cx)(a,(0,s.css)(P()),i[n]):r?(0,s.cx)(a,(0,s.css)(w(),150),i[n]):(0,s.cx)(a,i[n])},te=(0,s.css)(O(),150),ne=(0,s.cx)(te,(0,s.css)(y(),Z.selector,$.selector,Z.selector,$.selector)),re=(0,s.cx)(te,(0,s.css)(v(),l.uiColors.gray.base)),oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,i=(t=a,function(){var e,n=b(t);if(g()){var r=b(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return h(this,e)});function a(){var e;d(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return B(m(e=i.call.apply(i,[this].concat(n))),"state",{checked:!1}),B(m(e),"checkboxId","toggle-".concat(Math.floor(1e7*Math.random()))),B(m(e),"onChange",(function(t){var n=e.props,r=n.onChange,o=n.checked;r&&r(t),null==o&&e.setState({checked:t.target.checked})})),e}return n=a,(r=[{key:"render",value:function(){var e=this.props.id||this.checkboxId,t=this.props,n=t.name,r=void 0===n?e:n,i=t.checked,a=void 0===i?this.state.checked:i,c=t.className,d=t.disabled,p=t.size,f=t.variant,h=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["name","checked","className","disabled","size","variant"]),m=function(e){return{slider:(t=e,o=t.size,i=t.variant,a=t.checked,c=t.disabled,B(n={},K.Default,(r=(0,s.css)(T(),l.uiColors.white),c?(0,s.cx)(r,(0,s.css)(N())):(0,s.cx)(r,(0,s.css)(A(),r)))),B(n,K.Dark,c?(0,s.css)(_()):a?(0,s.css)(C()):(0,s.css)(S(),l.uiColors.gray.dark2)),u=n,d={default:28,small:c?18:20,xsmall:c?10:12},p=(0,s.css)(E(),150,d[o],d[o],a?{default:30,small:18,xsmall:12}[o]:0),c?(0,s.cx)(p,(0,s.css)(j()),u[i]):(0,s.cx)(p,(0,s.css)(x(),"default"===o?1:0,150),u[i])),groove:ee(e),container:Q(e)};var t,n,r,o,i,a,c,u,d,p}({checked:a,disabled:d,size:p,variant:f});return o.default.createElement("label",{className:(0,s.cx)(m.container,c),htmlFor:e},o.default.createElement("input",u({},Z.prop,h,{id:e,className:X,type:"checkbox",name:r,disabled:d,checked:a,"aria-disabled":d,"aria-checked":a,onChange:this.onChange})),o.default.createElement("div",{className:J}),o.default.createElement("div",u({},$.prop,{className:m.groove}),"default"===p&&!d&&o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:ne},"On"),o.default.createElement("div",{className:re},"Off")),o.default.createElement("div",{className:m.slider})))}}])&&p(n.prototype,r),a}(o.PureComponent);t.default=oe,B(oe,"displayName","Toggle"),B(oe,"propTypes",{size:i.default.oneOf(["default","small","xsmall"]),variant:i.default.oneOf(["default","dark"]),checked:i.default.bool,disabled:i.default.bool,className:i.default.string,onChange:i.default.func,name:i.default.string,id:i.default.string}),B(oe,"defaultProps",{size:Y.Default,variant:K.Default,disabled:!1,className:"",onChange:function(){}})},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=i},function(e,t){e.exports=a},function(e,t){e.exports=s}]))},978:
/*!****************************************************************!*\
  !*** ./project/common/util/queryStringToObject.js + 1 modules ***!
  \****************************************************************/
/*! exports provided: default */
/*! exports used: default */
/*! ModuleConcatenation bailout: Cannot concat with ../node_modules/underscore/underscore.js (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";var r=n(2),o=n.n(r);t.a=function(e){return e&&function(e){var t=e.split("&");if(0===t.length)return!1;for(var n=0;n<t.length;n++){if(2!=t[n].split("=").length)return!1}return!0}(e)?o.a.object(e.split("&").map((function(e){return e.split("=")}))):{}}},980:
/*!***********************************************!*\
  !*** ../node_modules/d3-time/dist/d3-time.js ***!
  \***********************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){!function(e){"use strict";var t=new Date,n=new Date;function r(e,o,i,a){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(t){return e(t=new Date(t-1)),o(t,1),e(t),t},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,t){return o(e=new Date(+e),null==t?1:Math.floor(t)),e},s.range=function(t,n,r){var i,a=[];if(t=s.ceil(t),r=null==r?1:Math.floor(r),!(t<n&&r>0))return a;do{a.push(i=new Date(+t)),o(t,r),e(t)}while(i<t&&t<n);return a},s.filter=function(t){return r((function(n){if(n>=n)for(;e(n),!t(n);)n.setTime(n-1)}),(function(e,n){if(e>=e)if(n<0)for(;++n<=0;)for(;o(e,-1),!t(e););else for(;--n>=0;)for(;o(e,1),!t(e););}))},i&&(s.count=function(r,o){return t.setTime(+r),n.setTime(+o),e(t),e(n),Math.floor(i(t,n))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(a?function(t){return a(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var o=r((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):o:null};var i=o.range,a=r((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()})),s=a.range,l=r((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getMinutes()})),c=l.range,u=r((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()})),d=u.range,p=r((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5}),(function(e){return e.getDate()-1})),f=p.range;function h(e){return r((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5}))}var m=h(0),g=h(1),b=h(2),v=h(3),y=h(4),O=h(5),x=h(6),j=m.range,E=g.range,S=b.range,C=v.range,_=y.range,A=O.range,N=x.range,T=r((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),w=T.range,P=r((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));P.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var R=P.range,I=r((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+6e4*t)}),(function(e,t){return(t-e)/6e4}),(function(e){return e.getUTCMinutes()})),D=I.range,k=r((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()})),M=k.range,L=r((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1})),U=L.range;function F(e){return r((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/6048e5}))}var B=F(0),z=F(1),V=F(2),q=F(3),G=F(4),H=F(5),W=F(6),Y=B.range,K=z.range,Z=V.range,$=q.range,X=G.range,J=H.range,Q=W.range,ee=r((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),te=ee.range,ne=r((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));ne.every=function(e){return isFinite(e=Math.floor(e))&&e>0?r((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var re=ne.range;e.timeDay=p,e.timeDays=f,e.timeFriday=O,e.timeFridays=A,e.timeHour=u,e.timeHours=d,e.timeInterval=r,e.timeMillisecond=o,e.timeMilliseconds=i,e.timeMinute=l,e.timeMinutes=c,e.timeMonday=g,e.timeMondays=E,e.timeMonth=T,e.timeMonths=w,e.timeSaturday=x,e.timeSaturdays=N,e.timeSecond=a,e.timeSeconds=s,e.timeSunday=m,e.timeSundays=j,e.timeThursday=y,e.timeThursdays=_,e.timeTuesday=b,e.timeTuesdays=S,e.timeWednesday=v,e.timeWednesdays=C,e.timeWeek=m,e.timeWeeks=j,e.timeYear=P,e.timeYears=R,e.utcDay=L,e.utcDays=U,e.utcFriday=H,e.utcFridays=J,e.utcHour=k,e.utcHours=M,e.utcMillisecond=o,e.utcMilliseconds=i,e.utcMinute=I,e.utcMinutes=D,e.utcMonday=z,e.utcMondays=K,e.utcMonth=ee,e.utcMonths=te,e.utcSaturday=W,e.utcSaturdays=Q,e.utcSecond=a,e.utcSeconds=s,e.utcSunday=B,e.utcSundays=Y,e.utcThursday=G,e.utcThursdays=X,e.utcTuesday=V,e.utcTuesdays=Z,e.utcWednesday=q,e.utcWednesdays=$,e.utcWeek=B,e.utcWeeks=Y,e.utcYear=ne,e.utcYears=re,Object.defineProperty(e,"__esModule",{value:!0})}(t)},981:
/*!*********************************************************************!*\
  !*** ../node_modules/d3-scale-chromatic/dist/d3-scale-chromatic.js ***!
  \*********************************************************************/
/*! no static exports found */
/*! exports used: schemeCategory10 */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";var r,o,i,a,s=n(/*! @babel/runtime/helpers/interopRequireDefault */200)(n(/*! @babel/runtime/helpers/typeof */34));a=function(e,t,n){function r(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}var o=r("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),i=r("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),a=r("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),s=r("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),l=r("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),c=r("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),u=r("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),d=r("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),p=r("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),f=r("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function h(e){return t.interpolateRgbBasis(e[e.length-1])}var m=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(r),g=h(m),b=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(r),v=h(b),y=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(r),O=h(y),x=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(r),j=h(x),E=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(r),S=h(E),C=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(r),_=h(C),A=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(r),N=h(A),T=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(r),w=h(T),P=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(r),R=h(P),I=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(r),D=h(I),k=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(r),M=h(k),L=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(r),U=h(L),F=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(r),B=h(F),z=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(r),V=h(z),q=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(r),G=h(q),H=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(r),W=h(H),Y=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(r),K=h(Y),Z=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(r),$=h(Z),X=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(r),J=h(X),Q=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(r),ee=h(Q),te=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(r),ne=h(te),re=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(r),oe=h(re),ie=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(r),ae=h(ie),se=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(r),le=h(se),ce=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(r),ue=h(ce),de=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(r),pe=h(de),fe=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(r),he=h(fe),me=t.interpolateCubehelixLong(n.cubehelix(300,.5,0),n.cubehelix(-240,.5,1)),ge=t.interpolateCubehelixLong(n.cubehelix(-100,.75,.35),n.cubehelix(80,1.5,.8)),be=t.interpolateCubehelixLong(n.cubehelix(260,.75,.35),n.cubehelix(80,1.5,.8)),ve=n.cubehelix(),ye=n.rgb(),Oe=Math.PI/3,xe=2*Math.PI/3;function je(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var Ee=je(r("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Se=je(r("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ce=je(r("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),_e=je(r("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));e.interpolateBlues=oe,e.interpolateBrBG=g,e.interpolateBuGn=D,e.interpolateBuPu=M,e.interpolateCividis=function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},e.interpolateCool=be,e.interpolateCubehelixDefault=me,e.interpolateGnBu=U,e.interpolateGreens=ae,e.interpolateGreys=le,e.interpolateInferno=Ce,e.interpolateMagma=Se,e.interpolateOrRd=B,e.interpolateOranges=he,e.interpolatePRGn=v,e.interpolatePiYG=O,e.interpolatePlasma=_e,e.interpolatePuBu=G,e.interpolatePuBuGn=V,e.interpolatePuOr=j,e.interpolatePuRd=W,e.interpolatePurples=ue,e.interpolateRainbow=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return ve.h=360*e-100,ve.s=1.5-1.5*t,ve.l=.8-.9*t,ve+""},e.interpolateRdBu=S,e.interpolateRdGy=_,e.interpolateRdPu=K,e.interpolateRdYlBu=N,e.interpolateRdYlGn=w,e.interpolateReds=pe,e.interpolateSinebow=function(e){var t;return e=(.5-e)*Math.PI,ye.r=255*(t=Math.sin(e))*t,ye.g=255*(t=Math.sin(e+Oe))*t,ye.b=255*(t=Math.sin(e+xe))*t,ye+""},e.interpolateSpectral=R,e.interpolateTurbo=function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},e.interpolateViridis=Ee,e.interpolateWarm=ge,e.interpolateYlGn=J,e.interpolateYlGnBu=$,e.interpolateYlOrBr=ee,e.interpolateYlOrRd=ne,e.schemeAccent=i,e.schemeBlues=re,e.schemeBrBG=m,e.schemeBuGn=I,e.schemeBuPu=k,e.schemeCategory10=o,e.schemeDark2=a,e.schemeGnBu=L,e.schemeGreens=ie,e.schemeGreys=se,e.schemeOrRd=F,e.schemeOranges=fe,e.schemePRGn=b,e.schemePaired=s,e.schemePastel1=l,e.schemePastel2=c,e.schemePiYG=y,e.schemePuBu=q,e.schemePuBuGn=z,e.schemePuOr=x,e.schemePuRd=H,e.schemePurples=ce,e.schemeRdBu=E,e.schemeRdGy=C,e.schemeRdPu=Y,e.schemeRdYlBu=A,e.schemeRdYlGn=T,e.schemeReds=de,e.schemeSet1=u,e.schemeSet2=d,e.schemeSet3=p,e.schemeSpectral=P,e.schemeTableau10=f,e.schemeYlGn=X,e.schemeYlGnBu=Z,e.schemeYlOrBr=Q,e.schemeYlOrRd=te,Object.defineProperty(e,"__esModule",{value:!0})},"object"===(0,s.default)(t)&&void 0!==e?a(t,n(/*! d3-interpolate */923),n(/*! d3-color */960)):(o=[t,n(/*! d3-interpolate */923),n(/*! d3-color */960)],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))},982:
/*!*******************************************************!*\
  !*** ./project/nds/security/services/usersService.js ***!
  \*******************************************************/
/*! exports provided: default */
/*! exports used: default */function(e,t,n){"use strict";var r=n(/*! jquery */10),o=n.n(r),i=n(/*! js/project/common/util/groupIdFromPath */38),a=n(/*! js/project/common/util/Cache */88),s=n(/*! js/project/common/util/servicePoller */76),l=n(/*! js/project/nds/security/models/NDSUserCollection */917),c=n(/*! js/project/common/services/groupStatusService */125),u={},d={};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a(),t="".concat(e);return d[t]||(d[t]=new a.a({load:function(){var n="/nds/".concat(e,"/users");return u[t]||(u[t]=new l.a),u[t].fetch({url:n}).then((function(){return u[t]}))}})),d[t]}t.a={fetchUsers:function(){var e=new l.a;return e.fetch({url:"/nds/".concat(i.a(),"/users")}).then((function(){return e}))},createUser:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.isValid()?e.save(void 0,{url:"/nds/".concat(i.a(),"/users"),type:"POST"}).then((function(){return t.suppressFastPoll||c.a.enableFastPolling(),p().refresh(),e})):o.a.Deferred().reject(e.validationError).promise()},updateUser:function(e,t){var n=encodeURIComponent(e.get("user"));return o.a.ajax({url:"/nds/".concat(i.a(),"/users/").concat(e.get("db"),"/").concat(n),method:"PATCH",dataType:"json",contentType:"application/json",data:JSON.stringify(t)}).then((function(){return c.a.enableFastPolling(),p().refresh(),e}))},deleteUser:function(e){var t=encodeURIComponent(e.get("user"));return o.a.ajax({url:"/nds/".concat(i.a(),"/users/").concat(e.get("db"),"/").concat(t),method:"DELETE"}).then((function(){return e.destroy(),c.a.enableFastPolling(),p().refresh(),e}))},loadUsers:function(){return p().get()},createUsersPoller:function(e){var t=s.a.create((function(){return p(e).refresh()}));return{start:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4;t.start(e)},stop:function(){t.stop()},isRunning:function(){return t.isRunning()}}}}},983:
/*!***********************************************************!*\
  !*** ./project/deployment/constants/platformConstants.ts ***!
  \***********************************************************/
/*! exports provided: PLATFORMS, KMIP_PLATFORMS */
/*! exports used: KMIP_PLATFORMS, PLATFORMS */function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=[{iconClassName:"mms-icon-logo-linux",displayName:"RHEL/CentOS (7.X/8.X), SUSE12, SUSE15, Amazon Linux2 - RPM",name:"rpm_rhel7"},{iconClassName:"mms-icon-logo-linux",displayName:"RHEL/CentOS 6.X, Amazon Linux - RPM",name:"rpm"},{iconClassName:"mms-icon-logo-ubuntu",displayName:"Debian 8/9/10, Ubuntu 16.X/18.X/20.x - DEB",name:"deb_ubuntu1604"},{iconClassName:"mms-icon-logo-linux",displayName:"RHEL/CentOS (7.X/8.X), SUSE12, SUSE15, Amazon Linux 2 - TAR",name:"tar_rhel7"},{iconClassName:"mms-icon-logo-linux",displayName:"Other Linux - TAR",name:"tar"},{iconClassName:"mms-icon-logo-apple",displayName:"Mac OSX (10.8 and above) - TAR",name:"mac"},{iconClassName:"mms-icon-logo-windows",displayName:"Windows - MSI",name:"win"},{iconClassName:"mms-icon-logo-linux",displayName:"RHEL/CentOS (7.X/8.X) Power (ppc64le) - RPM",name:"rpm_ppc64le_rhel7"},{iconClassName:"mms-icon-logo-ubuntu",displayName:"Ubuntu 16.X Power (ppc64le) - DEB",name:"deb_ppc64el_ubuntu1604"},{iconClassName:"mms-icon-logo-linux",displayName:"RHEL/CentOS (7.X/8.X) Power (ppc64le) - TAR",name:"tar_ppc64le_rhel7"},{iconClassName:"mms-icon-logo-linux",displayName:"Ubuntu 16.X Power (ppc64le) - TAR",name:"tar_ppc64le_ubuntu1604"},{iconClassName:"mms-icon-logo-linux",displayName:"RHEL 6.X Z-Series (s390x) - RPM",name:"rpm_s390x_rhel6"},{iconClassName:"mms-icon-logo-linux",displayName:"RHEL 7.X Z-Series (s390x) - RPM",name:"rpm_s390x_rhel7"},{iconClassName:"mms-icon-logo-ubuntu",displayName:"Ubuntu 18.X Z-Series (s390x) - DEB",name:"deb_s390x_ubuntu1804"}],o=[{iconClassName:"mms-icon-logo-linux",displayName:"RHEL/CentOS (7.X/8.X)",name:"rhel7"},{iconClassName:"mms-icon-logo-ubuntu",displayName:"Debian 8/9/10, Ubuntu 16.X/18.X/20.x",name:"ubuntu1604"},{iconClassName:"mms-icon-logo-apple",displayName:"Mac OSX (10.8 and above)",name:"osx"}]},984:
/*!***********************************************************************!*\
  !*** ./common/components/SpreadsheetPropagationForm/DropdownCell.tsx ***!
  \***********************************************************************/
/*! exports provided: default, withConfig, booleanOptions, booleanStringOptions */
/*! exports used: booleanOptions, booleanStringOptions, default, withConfig */function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m}));var r=n(/*! @babel/runtime/helpers/typeof */34),o=n.n(r),i=n(/*! @babel/runtime/helpers/toConsumableArray */29),a=n.n(i),s=(n(/*! react */8),n(/*! classnames */22)),l=n.n(s),c=n(/*! js/common/components/Select */909),u=n(/*! ./cellWithConfig */1081),d=n(/*! @emotion/core */1);function p(e){var t=e.disabled,n=e.footer,r=e.getItemKey,i=e.isMixed,s=e.onActiveChange,u=e.onChange,p=e.onScrollAllowedChange,f=e.options,h=e.searchable,m=e.value,g=e.valueIsEqual,b=e.includeNoneOption,v=e.groupBy,y=e.itemsCanWrap,O=b?[{label:"(None)",value:void 0}].concat(a()(f)):f;return Object(d.jsx)(c.a,{className:"spreadsheet-propagation-form-dropdown",controlButtonClassName:l()("spreadsheet-propagation-form-dropdown-control-button",{"spreadsheet-propagation-form-dropdown-control-button-is-mixed":i,"spreadsheet-propagation-form-dropdown-control-button-is-disabled":t}),disabled:t,dropdownTitle:i?Object(d.jsx)("span",{className:"spreadsheet-propagation-form-dropdown-mixed-title"},"Mixed"):null,footer:n,inputAreaClassName:"spreadsheet-propagation-form-dropdown-input-area",onChange:u,onClose:function(){s(!1),p(!0)},onOpen:function(){s(!0),p(!1)},optionListClassName:"spreadsheet-propagation-form-dropdown-option-list",options:O,value:m,itemToString:function(e){return null==e?"":e.label},getItemKey:r,searchable:h,title:"object"===o()(m)?null:m,styledAsButton:!1,valueIsEqual:g,usePortal:!0,groupBy:v,itemsCanWrap:y})}t.c=p;var f=Object(u.a)(p),h=[{label:"True",value:!0},{label:"False",value:!1}],m=[{label:"True",value:"true"},{label:"False",value:"false"}]},985:
/*!************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/react-transition-group/cjs/config.js ***!
  \************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;t.default={disabled:!1},e.exports=t.default},986:
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/react-transition-group/cjs/utils/PropTypes.js ***!
  \*********************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(/*! prop-types */3))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},987:
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/react-transition-group/cjs/TransitionGroup.js ***!
  \*********************************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;a(n(/*! prop-types */3));var r=a(n(/*! react */8)),o=a(n(/*! ./TransitionGroupContext */944)),i=n(/*! ./utils/ChildMapping */1086);function a(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},c=function(e){var t,n;function a(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=a.prototype;return c.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},c.componentWillUnmount=function(){this.mounted=!1},a.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,i.getInitialChildMapping)(e,r):(0,i.getNextChildMapping)(e,n,r),firstRender:!1}},c.handleExited=function(e,t){var n=(0,i.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=s({},t.children);return delete n[e.key],{children:n}})))},c.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["component","childFactory"]),a=this.state.contextValue,s=l(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r.default.createElement(o.default.Provider,{value:a},s):r.default.createElement(o.default.Provider,{value:a},r.default.createElement(t,i,s))},a}(r.default.Component);c.propTypes={},c.defaultProps={component:"div",childFactory:function(e){return e}};var u=c;t.default=u,e.exports=t.default},988:
/*!**********************************************************************************************!*\
  !*** ../node_modules/@leafygreen-ui/tooltip/node_modules/@leafygreen-ui/hooks/dist/index.js ***!
  \**********************************************************************************************/
/*! no static exports found */
/*! all exports used */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,n){var r;window,e.exports=(r=n(/*! react */8),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.options,a=n.enabled,l=void 0===a||a,c=n.dependencies,u=void 0===c?[l,e]:c,d=n.element,p=(0,r.useRef)((function(){}));(0,r.useEffect)((function(){p.current=t}),[t]),(0,r.useEffect)((function(){if(!1!==l){if("once"===l||!0===l){var t=function(e){return p.current(e)},n=i({},o,{once:"once"===l});return(null!=d?d:document).addEventListener(e,t,n),function(){(null!=d?d:document).removeEventListener(e,t,n)}}console.error("Received value of type ".concat(s(l)," for property `enabled`. Expected a boolean."))}}),u)};var r=n(0);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(11),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){var r=n(3).Symbol;e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useEventListener",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"useElementNode",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"useMutationObserver",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"useViewportSize",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"useEscapeKey",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"usePoller",{enumerable:!0,get:function(){return l.default}});var r=c(n(1)),o=c(n(6)),i=c(n(7)),a=c(n(8)),s=c(n(19)),l=c(n(20));function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(null))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),2!==n.length);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],i=t[1];return[n,(0,r.useCallback)((function(e){e&&i(e)}),[])]};var r=n(0);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=(0,r.useState)(),s=o(a,2),l=s[0],c=s[1];return(0,r.useEffect)((function(){if(i){var r=new MutationObserver((function(){c(n.apply(void 0,arguments))}));return e&&r.observe(e,t),function(){return r.disconnect()}}}),[e,t,n,i]),l};var r=n(0);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,o.useState)(null))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),2!==n.length);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],r=t[1];return(0,o.useEffect)((function(){r(s());var e=(0,i.default)((function(){return r(s())}),100);return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n};var r,o=n(0),i=(r=n(9))&&r.__esModule?r:{default:r};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(){return{width:window.innerWidth,height:window.innerHeight}}},function(e,t,n){var r=n(2),o=n(10),i=n(13),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,p,f,h=0,m=!1,g=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,h=t,d=e.apply(r,n)}function y(e){return h=e,p=setTimeout(x,t),m?v(e):d}function O(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-h>=u}function x(){var e=o();if(O(e))return j(e);p=setTimeout(x,function(e){var n=t-(e-f);return g?s(n,u-(e-h)):n}(e))}function j(e){return p=void 0,b&&l?v(e):(l=c=void 0,d)}function E(){var e=o(),n=O(e);if(l=arguments,c=this,f=e,n){if(void 0===p)return y(f);if(g)return clearTimeout(p),p=setTimeout(x,t),v(f)}return void 0===p&&(p=setTimeout(x,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(i(n.maxWait)||0,t):u,b="trailing"in n?!!n.trailing:b),E.cancel=function(){void 0!==p&&clearTimeout(p),h=0,l=f=c=p=void 0},E.flush=function(){return void 0===p?d:j(o())},E}},function(e,t,n){var r=n(3);e.exports=function(){return r.Date.now()}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(12))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(2),o=n(14),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(15),o=n(18);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(4),o=n(16),i=n(17),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(4),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(1))&&r.__esModule?r:{default:r};t.default=function(e,t){return(0,o.default)("keydown",(function(t){return function(e,t){27===e.keyCode&&(e.stopImmediatePropagation(),t())}(t,e)}),t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.interval,r=void 0===n?3e4:n,i=t.immediate,a=void 0===i||i,l=t.enabled,c=void 0===l||l,u=(0,o.useRef)(),d=s(),p=d&&c;(0,o.useEffect)((function(){u.current=e})),(0,o.useEffect)((function(){var e;if(p)return a?o():t(),n;function t(){n(),e=setTimeout(o,r)}function n(){clearTimeout(e)}function o(){var e;Promise.resolve(null===(e=u.current)||void 0===e?void 0:e.call(u)).finally(t)}}),[r,a,p])};var r,o=n(0),i=(r=n(1))&&r.__esModule?r:{default:r};function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(){var e=function(){return"visible"===document.visibilityState},t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,o.useState)(!0),2),n=t[0],r=t[1];return(0,o.useEffect)((function(){r(e)}),[]),(0,i.default)("visibilitychange",(function(){r(e)})),n}}]))},989:
/*!****************************************************************!*\
  !*** ./project/nds/security/components/NDSUserRoles/schema.js ***!
  \****************************************************************/
/*! exports provided: CUSTOM_ROLE_SHAPE, BUILT_IN_ROLE_SHAPE, INHERITED_ROLE_SHAPE, ACTION_OPTION_SHAPE, RESOURCE_SHAPE, USER_SHAPE, MINIMUM_MONGO_VERSIONS */
/*! exports used: ACTION_OPTION_SHAPE, BUILT_IN_ROLE_SHAPE, CUSTOM_ROLE_SHAPE, MINIMUM_MONGO_VERSIONS, RESOURCE_SHAPE, USER_SHAPE */function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return u}));var r=n(/*! prop-types */3),o=n.n(r),i={role:o.a.string,db:o.a.string,scope:o.a.string},a={db:o.a.string,collection:o.a.string},s={action:o.a.string,resources:o.a.arrayOf(o.a.shape(a)),scope:o.a.string},l={roleName:o.a.string,actions:o.a.arrayOf(o.a.shape(s)),inheritedRoles:o.a.arrayOf(o.a.shape(i)),scope:o.a.string},c={roleName:o.a.string,scope:o.a.string},u={THREE_FOUR:"3.4",THREE_SIX:"3.6"},d={action:o.a.string,actionClassification:o.a.string,scope:o.a.string,minimumMongoVersion:o.a.oneOf(Object.values(u))},p={user:o.a.string,roles:o.a.arrayOf(o.a.shape(i))}}}]);
//# sourceMappingURL=clusters.62baea8673a9d93653e2.min.js.map